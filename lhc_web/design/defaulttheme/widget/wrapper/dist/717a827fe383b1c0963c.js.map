{"version":3,"file":"717a827fe383b1c0963c.js","mappings":"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","sources":["webpack://LiveHelperChat/./node_modules/ieee754/index.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/regeneratorValues.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/rng.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/regex.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/validate.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/v1.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/parse.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/v35.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/md5.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/v3.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/v4.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/sha1.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/v5.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/nil.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/version.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/regeneratorAsyncGen.js","webpack://LiveHelperChat/./node_modules/stream-demux/node_modules/consumable-stream/index.js","webpack://LiveHelperChat/./node_modules/socketcluster-client/lib/wait.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/regeneratorAsyncIterator.js","webpack://LiveHelperChat/./node_modules/linked-list/index.js","webpack://LiveHelperChat/./node_modules/socketcluster-client/lib/transport.js","webpack://LiveHelperChat/./node_modules/consumable-stream/index.js","webpack://LiveHelperChat/./node_modules/kind-of/index.js","webpack://LiveHelperChat/./node_modules/async-stream-emitter/index.js","webpack://LiveHelperChat/./node_modules/writable-consumable-stream/node_modules/consumable-stream/index.js","webpack://LiveHelperChat/./node_modules/socketcluster-client/lib/auth.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/typeof.js","webpack://LiveHelperChat/./node_modules/isobject/index.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/regeneratorKeys.js","webpack://LiveHelperChat/./node_modules/shallow-clone/index.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://LiveHelperChat/./node_modules/writable-consumable-stream/index.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/regenerator/index.js","webpack://LiveHelperChat/./node_modules/socketcluster-client/lib/clientsocket.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/OverloadYield.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/regeneratorDefine.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/regeneratorAsync.js","webpack://LiveHelperChat/./node_modules/writable-consumable-stream/consumer.js","webpack://LiveHelperChat/./node_modules/socketcluster-client/index.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/regenerator.js","webpack://LiveHelperChat/./node_modules/is-plain-object/index.js","webpack://LiveHelperChat/./node_modules/ag-request/index.js","webpack://LiveHelperChat/./node_modules/base64-js/index.js","webpack://LiveHelperChat/./node_modules/sc-errors/decycle.js","webpack://LiveHelperChat/./node_modules/stream-demux/index.js","webpack://LiveHelperChat/./node_modules/sc-errors/index.js","webpack://LiveHelperChat/./node_modules/stream-demux/demuxed-consumable-stream.js","webpack://LiveHelperChat/./node_modules/sc-formatter/index.js","webpack://LiveHelperChat/./node_modules/socketcluster-client/lib/ws-browser.js","webpack://LiveHelperChat/./node_modules/buffer/index.js","webpack://LiveHelperChat/./node_modules/socketcluster-client/lib/factory.js","webpack://LiveHelperChat/./node_modules/clone-deep/index.js","webpack://LiveHelperChat/./node_modules/ag-channel/index.js"],"sourcesContent":["/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nexport { _asyncToGenerator as default };","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorValues(e) {\n  if (null != e) {\n    var t = e[\"function\" == typeof Symbol && Symbol.iterator || \"@@iterator\"],\n      r = 0;\n    if (t) return t.call(e);\n    if (\"function\" == typeof e.next) return e;\n    if (!isNaN(e.length)) return {\n      next: function next() {\n        return e && r >= e.length && (e = void 0), {\n          value: e && e[r++],\n          done: !e\n        };\n      }\n    };\n  }\n  throw new TypeError(_typeof(e) + \" is not iterable\");\n}\nmodule.exports = _regeneratorValues, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  var v;\n  var arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;","import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    var bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;","export default '00000000-0000-0000-0000-000000000000';","import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nexport default version;","var regenerator = require(\"./regenerator.js\");\nvar regeneratorAsyncIterator = require(\"./regeneratorAsyncIterator.js\");\nfunction _regeneratorAsyncGen(r, e, t, o, n) {\n  return new regeneratorAsyncIterator(regenerator().w(r, e, t, o), n || Promise);\n}\nmodule.exports = _regeneratorAsyncGen, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","class ConsumableStream {\n  async next(timeout) {\n    let asyncIterator = this.createConsumer(timeout);\n    let result = await asyncIterator.next();\n    asyncIterator.return();\n    return result;\n  }\n\n  async once(timeout) {\n    let result = await this.next(timeout);\n    if (result.done) {\n      // If stream was ended, this function should never resolve unless\n      // there is a timeout; in that case, it should reject early.\n      if (timeout == null) {\n        await new Promise(() => {});\n      } else {\n        let error = new Error(\n          'Stream consumer operation timed out early because stream ended'\n        );\n        error.name = 'TimeoutError';\n        throw error;\n      }\n    }\n    return result.value;\n  }\n\n  createConsumer() {\n    throw new TypeError('Method must be overriden by subclass');\n  }\n\n  [Symbol.asyncIterator]() {\n    return this.createConsumer();\n  }\n}\n\nmodule.exports = ConsumableStream;\n\n","function wait(duration) {\r\n  return new Promise((resolve) => {\r\n    setTimeout(() => {\r\n      resolve();\r\n    }, duration);\r\n  });\r\n}\r\n\r\nmodule.exports = wait;\r\n","var OverloadYield = require(\"./OverloadYield.js\");\nvar regeneratorDefine = require(\"./regeneratorDefine.js\");\nfunction AsyncIterator(t, e) {\n  function n(r, o, i, f) {\n    try {\n      var c = t[r](o),\n        u = c.value;\n      return u instanceof OverloadYield ? e.resolve(u.v).then(function (t) {\n        n(\"next\", t, i, f);\n      }, function (t) {\n        n(\"throw\", t, i, f);\n      }) : e.resolve(u).then(function (t) {\n        c.value = t, i(c);\n      }, function (t) {\n        return n(\"throw\", t, i, f);\n      });\n    } catch (t) {\n      f(t);\n    }\n  }\n  var r;\n  this.next || (regeneratorDefine(AsyncIterator.prototype), regeneratorDefine(AsyncIterator.prototype, \"function\" == typeof Symbol && Symbol.asyncIterator || \"@asyncIterator\", function () {\n    return this;\n  })), regeneratorDefine(this, \"_invoke\", function (t, o, i) {\n    function f() {\n      return new e(function (e, r) {\n        n(t, i, e, r);\n      });\n    }\n    return r = r ? r.then(f, f) : f();\n  }, !0);\n}\nmodule.exports = AsyncIterator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","'use strict'\n\n// Expose.\nmodule.exports = List\n\nList.Item = ListItem\n\nvar ListPrototype = List.prototype\nvar ListItemPrototype = ListItem.prototype\nvar IterPrototype = Iter.prototype\n\n/* istanbul ignore next */\nvar $iterator = typeof Symbol === 'undefined' ? undefined : Symbol.iterator\n\nListPrototype.tail = ListPrototype.head = null\n\nList.of = of\nList.from = from\n\nListPrototype.toArray = toArray\nListPrototype.prepend = prepend\nListPrototype.append = append\n\n/* istanbul ignore else */\nif ($iterator !== undefined) {\n  ListPrototype[$iterator] = iterator\n}\n\nListItemPrototype.next = ListItemPrototype.prev = ListItemPrototype.list = null\n\nListItemPrototype.prepend = prependItem\nListItemPrototype.append = appendItem\nListItemPrototype.detach = detach\n\nIterPrototype.next = next\n\n// Constants.\nvar errorMessage =\n  'An argument without append, prepend, or detach methods was given to `List'\n\n// Creates a new List: A linked list is a bit like an Array, but knows nothing\n// about how many items are in it, and knows only about its first (`head`) and\n// last (`tail`) items.\n// Each item (e.g. `head`, `tail`, &c.) knows which item comes before or after\n// it (its more like the implementation of the DOM in JavaScript).\nfunction List(/* items... */) {\n  this.size = 0\n\n  if (arguments.length !== 0) {\n    appendAll(this, arguments)\n  }\n}\n\n// Creates a new list from the arguments (each a list item) passed in.\nfunction appendAll(list, items) {\n  var length\n  var index\n  var item\n  var iter\n\n  if (!items) {\n    return list\n  }\n\n  if ($iterator !== undefined && items[$iterator]) {\n    iter = items[$iterator]()\n    item = {}\n\n    while (!item.done) {\n      item = iter.next()\n      list.append(item && item.value)\n    }\n  } else {\n    length = items.length\n    index = -1\n\n    while (++index < length) {\n      list.append(items[index])\n    }\n  }\n\n  return list\n}\n\n// Creates a new list from the arguments (each a list item) passed in.\nfunction of(/* items... */) {\n  return appendAll(new this(), arguments)\n}\n\n// Creates a new list from the given array-like object (each a list item) passed\n// in.\nfunction from(items) {\n  return appendAll(new this(), items)\n}\n\n// Returns the lists items as an array.\n// This does *not* detach the items.\nfunction toArray() {\n  var item = this.head\n  var result = []\n\n  while (item) {\n    result.push(item)\n    item = item.next\n  }\n\n  return result\n}\n\n// Prepends the given item to the list.\n// `item` will be the new first item (`head`).\nfunction prepend(item) {\n  var self = this\n  var head = self.head\n\n  if (!item) {\n    return false\n  }\n\n  if (!item.append || !item.prepend || !item.detach) {\n    throw new Error(errorMessage + '#prepend`.')\n  }\n\n  if (head) {\n    return head.prepend(item)\n  }\n\n  item.detach()\n\n  item.list = self\n  self.head = item\n  self.size++\n\n  return item\n}\n\n// Appends the given item to the list.\n// `item` will be the new last item (`tail`) if the list had a first item, and\n// its first item (`head`) otherwise.\nfunction append(item) {\n  if (!item) {\n    return false\n  }\n\n  if (!item.append || !item.prepend || !item.detach) {\n    throw new Error(errorMessage + '#append`.')\n  }\n\n  var self = this\n  var head = self.head\n  var tail = self.tail\n\n  // If self has a last item, defer appending to the last items append method,\n  // and return the result.\n  if (tail) {\n    return tail.append(item)\n  }\n\n  // If self has a first item, defer appending to the first items append method,\n  // and return the result.\n  if (head) {\n    return head.append(item)\n  }\n\n  // otherwise, there is no `tail` or `head` item yet.\n\n  item.detach()\n\n  item.list = self\n  self.head = item\n  self.size++\n\n  return item\n}\n\n// Creates an iterator from the list.\nfunction iterator() {\n  return new Iter(this.head)\n}\n\n// Creates a new ListItem:\n// An item is a bit like DOM node: It knows only about its \"parent\" (`list`),\n// the item before it (`prev`), and the item after it (`next`).\nfunction ListItem() {}\n\n// Detaches the item operated on from its parent list.\nfunction detach() {\n  var self = this\n  var list = self.list\n  var prev = self.prev\n  var next = self.next\n\n  if (!list) {\n    return self\n  }\n\n  // If self is the last item in the parent list, link the lists last item to\n  // the previous item.\n  if (list.tail === self) {\n    list.tail = prev\n  }\n\n  // If self is the first item in the parent list, link the lists first item to\n  // the next item.\n  if (list.head === self) {\n    list.head = next\n  }\n\n  // If both the last and first items in the parent list are the same, remove\n  // the link to the last item.\n  if (list.tail === list.head) {\n    list.tail = null\n  }\n\n  // If a previous item exists, link its next item to selfs next item.\n  if (prev) {\n    prev.next = next\n  }\n\n  // If a next item exists, link its previous item to selfs previous item.\n  if (next) {\n    next.prev = prev\n  }\n\n  // Remove links from self to both the next and previous items, and to the\n  // parent list.\n  self.prev = self.next = self.list = null\n\n  list.size--\n\n  return self\n}\n\n// Prepends the given item *before* the item operated on.\nfunction prependItem(item) {\n  if (!item || !item.append || !item.prepend || !item.detach) {\n    throw new Error(errorMessage + 'Item#prepend`.')\n  }\n\n  var self = this\n  var list = self.list\n  var prev = self.prev\n\n  // If self is detached, return false.\n  if (!list) {\n    return false\n  }\n\n  // Detach the prependee.\n  item.detach()\n\n  // If self has a previous item...\n  if (prev) {\n    item.prev = prev\n    prev.next = item\n  }\n\n  // Connect the prependee.\n  item.next = self\n  item.list = list\n\n  // Set the previous item of self to the prependee.\n  self.prev = item\n\n  // If self is the first item in the parent list, link the lists first item to\n  // the prependee.\n  if (self === list.head) {\n    list.head = item\n  }\n\n  // If the the parent list has no last item, link the lists last item to self.\n  if (!list.tail) {\n    list.tail = self\n  }\n\n  list.size++\n\n  return item\n}\n\n// Appends the given item *after* the item operated on.\nfunction appendItem(item) {\n  if (!item || !item.append || !item.prepend || !item.detach) {\n    throw new Error(errorMessage + 'Item#append`.')\n  }\n\n  var self = this\n  var list = self.list\n  var next = self.next\n\n  if (!list) {\n    return false\n  }\n\n  // Detach the appendee.\n  item.detach()\n\n  // If self has a next item\n  if (next) {\n    item.next = next\n    next.prev = item\n  }\n\n  // Connect the appendee.\n  item.prev = self\n  item.list = list\n\n  // Set the next item of self to the appendee.\n  self.next = item\n\n  // If the the parent list has no last item or if self is the parent lists last\n  // item, link the lists last item to the appendee.\n  if (self === list.tail || !list.tail) {\n    list.tail = item\n  }\n\n  list.size++\n\n  return item\n}\n\n// Creates a new `Iter` for looping over the `LinkedList`.\nfunction Iter(item) {\n  this.item = item\n}\n\n// Move the `Iter` to the next item.\nfunction next() {\n  var current = this.item\n  this.value = current\n  this.done = !current\n  this.item = current ? current.next : undefined\n  return this\n}\n","const AGRequest = require('ag-request');\r\n\r\nlet createWebSocket;\r\n\r\nif (typeof WebSocket !== 'undefined') {\r\n  createWebSocket = function (uri, options) {\r\n    return new WebSocket(uri);\r\n  };\r\n} else {\r\n  let WebSocket = require('ws');\r\n  createWebSocket = function (uri, options) {\r\n    return new WebSocket(uri, [], options);\r\n  };\r\n}\r\n\r\nconst scErrors = require('sc-errors');\r\nconst TimeoutError = scErrors.TimeoutError;\r\nconst BadConnectionError = scErrors.BadConnectionError;\r\n\r\nfunction AGTransport(authEngine, codecEngine, options, wsOptions, handlers) {\r\n  this.state = this.CLOSED;\r\n  this.auth = authEngine;\r\n  this.codec = codecEngine;\r\n  this.options = options;\r\n  this.wsOptions = wsOptions;\r\n  this.protocolVersion = options.protocolVersion;\r\n  this.connectTimeout = options.connectTimeout;\r\n  this.pingTimeout = options.pingTimeout;\r\n  this.pingTimeoutDisabled = !!options.pingTimeoutDisabled;\r\n  this.callIdGenerator = options.callIdGenerator;\r\n  this.authTokenName = options.authTokenName;\r\n  this.isBufferingBatch = false;\r\n\r\n  this._pingTimeoutTicker = null;\r\n  this._callbackMap = {};\r\n  this._batchBuffer = [];\r\n\r\n  if (!handlers) {\r\n    handlers = {};\r\n  }\r\n\r\n  this._onOpenHandler = handlers.onOpen || function () {};\r\n  this._onOpenAbortHandler = handlers.onOpenAbort || function () {};\r\n  this._onCloseHandler = handlers.onClose || function () {};\r\n  this._onEventHandler = handlers.onEvent || function () {};\r\n  this._onErrorHandler = handlers.onError || function () {};\r\n  this._onInboundInvokeHandler  = handlers.onInboundInvoke || function () {};\r\n  this._onInboundTransmitHandler = handlers.onInboundTransmit || function () {};\r\n\r\n  // Open the connection.\r\n\r\n  this.state = this.CONNECTING;\r\n  let uri = this.uri();\r\n\r\n  let wsSocket = createWebSocket(uri, wsOptions);\r\n  wsSocket.binaryType = this.options.binaryType;\r\n\r\n  this.socket = wsSocket;\r\n\r\n  wsSocket.onopen = () => {\r\n    this._onOpen();\r\n  };\r\n\r\n  wsSocket.onclose = async (event) => {\r\n    let code;\r\n    if (event.code == null) {\r\n      // This is to handle an edge case in React Native whereby\r\n      // event.code is undefined when the mobile device is locked.\r\n      // Note that this condition may also apply to an abnormal close\r\n      // (no close control frame) which would normally be a 1006.\r\n      code = 1005;\r\n    } else {\r\n      code = event.code;\r\n    }\r\n    this._destroy(code, event.reason);\r\n  };\r\n\r\n  wsSocket.onmessage = (message, flags) => {\r\n    this._onMessage(message.data);\r\n  };\r\n\r\n  wsSocket.onerror = (error) => {\r\n    // The onclose event will be called automatically after the onerror event\r\n    // if the socket is connected - Otherwise, if it's in the middle of\r\n    // connecting, we want to close it manually with a 1006 - This is necessary\r\n    // to prevent inconsistent behavior when running the client in Node.js\r\n    // vs in a browser.\r\n    if (this.state === this.CONNECTING) {\r\n      this._destroy(1006);\r\n    }\r\n  };\r\n\r\n  this._connectTimeoutRef = setTimeout(() => {\r\n    this._destroy(4007);\r\n    this.socket.close(4007);\r\n  }, this.connectTimeout);\r\n\r\n  if (this.protocolVersion === 1) {\r\n    this._handlePing = (message) => {\r\n      if (message === '#1') {\r\n        this._resetPingTimeout();\r\n        if (this.socket.readyState === this.socket.OPEN) {\r\n          this.send('#2');\r\n        }\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n  } else {\r\n    this._handlePing = (message) => {\r\n      if (message === '') {\r\n        this._resetPingTimeout();\r\n        if (this.socket.readyState === this.socket.OPEN) {\r\n          this.send('');\r\n        }\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n  }\r\n}\r\n\r\nAGTransport.CONNECTING = AGTransport.prototype.CONNECTING = 'connecting';\r\nAGTransport.OPEN = AGTransport.prototype.OPEN = 'open';\r\nAGTransport.CLOSED = AGTransport.prototype.CLOSED = 'closed';\r\n\r\nAGTransport.computeURI = function (options) {\r\n  let query = options.query || {};\r\n  let scheme;\r\n  if (options.protocolScheme == null) {\r\n    scheme = options.secure ? 'wss' : 'ws';\r\n  } else {\r\n    scheme = options.protocolScheme;\r\n  }\r\n\r\n  if (options.timestampRequests) {\r\n    query[options.timestampParam] = (new Date()).getTime();\r\n  }\r\n\r\n  let searchParams = new URLSearchParams();\r\n  for (let [key, value] of Object.entries(query)) {\r\n    if (Array.isArray(value)) {\r\n      for (let item of value) {\r\n        searchParams.append(key, item);\r\n      }\r\n    } else {\r\n      searchParams.set(key, value);\r\n    }\r\n  }\r\n\r\n  query = searchParams.toString();\r\n\r\n  if (query.length) {\r\n    query = '?' + query;\r\n  }\r\n\r\n  let host;\r\n  let path;\r\n  if (options.socketPath == null) {\r\n    if (options.host) {\r\n      host = options.host;\r\n    } else {\r\n      let port = '';\r\n\r\n      if (options.port && ((scheme === 'wss' && options.port !== 443)\r\n        || (scheme === 'ws' && options.port !== 80))) {\r\n        port = ':' + options.port;\r\n      }\r\n      host = options.hostname + port;\r\n    }\r\n    path = options.path;\r\n  } else {\r\n    host = options.socketPath;\r\n    path = `:${options.path}`;\r\n  }\r\n  return scheme + '://' + host + path + query;\r\n};\r\n\r\nAGTransport.prototype.uri = function () {\r\n  return AGTransport.computeURI(this.options);\r\n};\r\n\r\nAGTransport.prototype._onOpen = async function () {\r\n  clearTimeout(this._connectTimeoutRef);\r\n  this._resetPingTimeout();\r\n\r\n  let status;\r\n\r\n  try {\r\n    status = await this._handshake();\r\n  } catch (err) {\r\n    if (err.statusCode == null) {\r\n      err.statusCode = 4003;\r\n    }\r\n    this._onError(err);\r\n    this._destroy(err.statusCode, err.toString());\r\n    this.socket.close(err.statusCode);\r\n    return;\r\n  }\r\n\r\n  this.state = this.OPEN;\r\n  if (status) {\r\n    this.pingTimeout = status.pingTimeout;\r\n  }\r\n  this._resetPingTimeout();\r\n  this._onOpenHandler(status);\r\n};\r\n\r\nAGTransport.prototype._handshake = async function () {\r\n  let token = await this.auth.loadToken(this.authTokenName);\r\n  // Don't wait for this.state to be 'open'.\r\n  // The underlying WebSocket (this.socket) is already open.\r\n  let options = {\r\n    force: true\r\n  };\r\n  let status = await this.invoke('#handshake', {authToken: token}, options);\r\n  if (status) {\r\n    // Add the token which was used as part of authentication attempt\r\n    // to the status object.\r\n    status.authToken = token;\r\n    if (status.authError) {\r\n      status.authError = scErrors.hydrateError(status.authError);\r\n    }\r\n  }\r\n  return status;\r\n};\r\n\r\nAGTransport.prototype._abortAllPendingEventsDueToBadConnection = function (failureType, code, reason) {\r\n  Object.keys(this._callbackMap || {}).forEach((i) => {\r\n    let eventObject = this._callbackMap[i];\r\n    delete this._callbackMap[i];\r\n\r\n    clearTimeout(eventObject.timeout);\r\n    delete eventObject.timeout;\r\n\r\n    let errorMessage = `Event ${eventObject.event} was aborted due to a bad connection`;\r\n    let badConnectionError = new BadConnectionError(errorMessage, failureType, code, reason);\r\n\r\n    let callback = eventObject.callback;\r\n    if (callback) {\r\n      delete eventObject.callback;\r\n\r\n      callback.call(eventObject, badConnectionError, eventObject);\r\n    }\r\n  });\r\n};\r\n\r\nAGTransport.prototype._destroy = function (code, reason) {\r\n  let protocolReason = scErrors.socketProtocolErrorStatuses[code];\r\n  if (!reason && scErrors.socketProtocolErrorStatuses[code]) {\r\n    reason = scErrors.socketProtocolErrorStatuses[code];\r\n  }\r\n  delete this.socket.onopen;\r\n  delete this.socket.onclose;\r\n  delete this.socket.onmessage;\r\n  delete this.socket.onerror;\r\n\r\n  clearTimeout(this._connectTimeoutRef);\r\n  clearTimeout(this._pingTimeoutTicker);\r\n\r\n  if (this.state === this.OPEN) {\r\n    this.state = this.CLOSED;\r\n    this._abortAllPendingEventsDueToBadConnection('disconnect', code, reason);\r\n    this._onCloseHandler({code, reason});\r\n  } else if (this.state === this.CONNECTING) {\r\n    this.state = this.CLOSED;\r\n    this._abortAllPendingEventsDueToBadConnection('connectAbort', code, reason);\r\n    this._onOpenAbortHandler({code, reason});\r\n  } else if (this.state === this.CLOSED) {\r\n    this._abortAllPendingEventsDueToBadConnection('connectAbort', code, reason);\r\n  }\r\n};\r\n\r\nAGTransport.prototype._processInboundPacket = function (packet, message) {\r\n  if (packet && typeof packet.event === 'string') {\r\n    if (typeof packet.cid === 'number') {\r\n      let request = new AGRequest(this, packet.cid, packet.event, packet.data);\r\n      this._onInboundInvokeHandler(request);\r\n    } else {\r\n      this._onInboundTransmitHandler({...packet});\r\n    }\r\n  } else if (packet && typeof packet.rid === 'number') {\r\n    let eventObject = this._callbackMap[packet.rid];\r\n    if (eventObject) {\r\n      clearTimeout(eventObject.timeout);\r\n      delete eventObject.timeout;\r\n      delete this._callbackMap[packet.rid];\r\n\r\n      if (eventObject.callback) {\r\n        let rehydratedError = scErrors.hydrateError(packet.error);\r\n        eventObject.callback(rehydratedError, packet.data);\r\n      }\r\n    }\r\n  } else {\r\n    this._onEventHandler({event: 'raw', data: {message}});\r\n  }\r\n};\r\n\r\nAGTransport.prototype._onMessage = function (message) {\r\n  this._onEventHandler({event: 'message', data: {message}});\r\n\r\n  if (this._handlePing(message)) {\r\n    return;\r\n  }\r\n\r\n  let packet = this.decode(message);\r\n\r\n  if (Array.isArray(packet)) {\r\n    let len = packet.length;\r\n    for (let i = 0; i < len; i++) {\r\n      this._processInboundPacket(packet[i], message);\r\n    }\r\n  } else {\r\n    this._processInboundPacket(packet, message);\r\n  }\r\n};\r\n\r\nAGTransport.prototype._onError = function (error) {\r\n  this._onErrorHandler({error});\r\n};\r\n\r\nAGTransport.prototype._resetPingTimeout = function () {\r\n  if (this.pingTimeoutDisabled) {\r\n    return;\r\n  }\r\n\r\n  let now = (new Date()).getTime();\r\n  clearTimeout(this._pingTimeoutTicker);\r\n  this._pingTimeoutTicker = setTimeout(() => {\r\n    this._destroy(4000);\r\n    this.socket.close(4000);\r\n  }, this.pingTimeout);\r\n};\r\n\r\nAGTransport.prototype.clearAllListeners = function () {\r\n  this._onOpenHandler = function () {};\r\n  this._onOpenAbortHandler = function () {};\r\n  this._onCloseHandler = function () {};\r\n  this._onEventHandler = function () {};\r\n  this._onErrorHandler = function () {};\r\n  this._onInboundInvokeHandler  = function () {};\r\n  this._onInboundTransmitHandler = function () {};\r\n};\r\n\r\nAGTransport.prototype.startBatch = function () {\r\n  this.isBufferingBatch = true;\r\n  this._batchBuffer = [];\r\n};\r\n\r\nAGTransport.prototype.flushBatch = function () {\r\n  this.isBufferingBatch = false;\r\n  if (!this._batchBuffer.length) {\r\n    return;\r\n  }\r\n  let serializedBatch = this.serializeObject(this._batchBuffer);\r\n  this._batchBuffer = [];\r\n  this.send(serializedBatch);\r\n};\r\n\r\nAGTransport.prototype.cancelBatch = function () {\r\n  this.isBufferingBatch = false;\r\n  this._batchBuffer = [];\r\n};\r\n\r\nAGTransport.prototype.getBytesReceived = function () {\r\n  return this.socket.bytesReceived;\r\n};\r\n\r\nAGTransport.prototype.close = function (code, reason) {\r\n  if (this.state === this.OPEN || this.state === this.CONNECTING) {\r\n    code = code || 1000;\r\n    this._destroy(code, reason);\r\n    this.socket.close(code, reason);\r\n  }\r\n};\r\n\r\nAGTransport.prototype.transmitObject = function (eventObject) {\r\n  let simpleEventObject = {\r\n    event: eventObject.event,\r\n    data: eventObject.data\r\n  };\r\n\r\n  if (eventObject.callback) {\r\n    simpleEventObject.cid = eventObject.cid = this.callIdGenerator();\r\n    this._callbackMap[eventObject.cid] = eventObject;\r\n  }\r\n\r\n  this.sendObject(simpleEventObject);\r\n\r\n  return eventObject.cid || null;\r\n};\r\n\r\nAGTransport.prototype._handleEventAckTimeout = function (eventObject) {\r\n  if (eventObject.cid) {\r\n    delete this._callbackMap[eventObject.cid];\r\n  }\r\n  delete eventObject.timeout;\r\n\r\n  let callback = eventObject.callback;\r\n  if (callback) {\r\n    delete eventObject.callback;\r\n    let error = new TimeoutError(`Event response for ${eventObject.event} event timed out`);\r\n    callback.call(eventObject, error, eventObject);\r\n  }\r\n};\r\n\r\nAGTransport.prototype.transmit = function (event, data, options) {\r\n  let eventObject = {\r\n    event,\r\n    data\r\n  };\r\n\r\n  if (this.state === this.OPEN || options.force) {\r\n    this.transmitObject(eventObject);\r\n  }\r\n  return Promise.resolve();\r\n};\r\n\r\nAGTransport.prototype.invokeRaw = function (event, data, options, callback) {\r\n  let eventObject = {\r\n    event,\r\n    data,\r\n    callback\r\n  };\r\n\r\n  if (!options.noTimeout) {\r\n    eventObject.timeout = setTimeout(() => {\r\n      this._handleEventAckTimeout(eventObject);\r\n    }, this.options.ackTimeout);\r\n  }\r\n  let cid = null;\r\n  if (this.state === this.OPEN || options.force) {\r\n    cid = this.transmitObject(eventObject);\r\n  }\r\n  return cid;\r\n};\r\n\r\nAGTransport.prototype.invoke = function (event, data, options) {\r\n  return new Promise((resolve, reject) => {\r\n    this.invokeRaw(event, data, options, (err, data) => {\r\n      if (err) {\r\n        reject(err);\r\n        return;\r\n      }\r\n      resolve(data);\r\n    });\r\n  });\r\n};\r\n\r\nAGTransport.prototype.cancelPendingResponse = function (cid) {\r\n  delete this._callbackMap[cid];\r\n};\r\n\r\nAGTransport.prototype.decode = function (message) {\r\n  return this.codec.decode(message);\r\n};\r\n\r\nAGTransport.prototype.encode = function (object) {\r\n  return this.codec.encode(object);\r\n};\r\n\r\nAGTransport.prototype.send = function (data) {\r\n  if (this.socket.readyState !== this.socket.OPEN) {\r\n    this._destroy(1005);\r\n  } else {\r\n    this.socket.send(data);\r\n  }\r\n};\r\n\r\nAGTransport.prototype.serializeObject = function (object) {\r\n  let str;\r\n  try {\r\n    str = this.encode(object);\r\n  } catch (error) {\r\n    this._onError(error);\r\n    return null;\r\n  }\r\n  return str;\r\n};\r\n\r\nAGTransport.prototype.sendObject = function (object) {\r\n  if (this.isBufferingBatch) {\r\n    this._batchBuffer.push(object);\r\n    return;\r\n  }\r\n  let str = this.serializeObject(object);\r\n  if (str != null) {\r\n    this.send(str);\r\n  }\r\n};\r\n\r\nmodule.exports = AGTransport;\r\n","class ConsumableStream {\n  async next(timeout) {\n    let asyncIterator = this.createConsumer(timeout);\n    let result = await asyncIterator.next();\n    asyncIterator.return();\n    return result;\n  }\n\n  async once(timeout) {\n    let result = await this.next(timeout);\n    if (result.done) {\n      // If stream was ended, this function should never resolve.\n      await new Promise(() => {});\n    }\n    return result.value;\n  }\n\n  createConsumer() {\n    throw new TypeError('Method must be overriden by subclass');\n  }\n\n  [Symbol.asyncIterator]() {\n    return this.createConsumer();\n  }\n}\n\nmodule.exports = ConsumableStream;\n","var toString = Object.prototype.toString;\n\nmodule.exports = function kindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n\n  var type = typeof val;\n  if (type === 'boolean') return 'boolean';\n  if (type === 'string') return 'string';\n  if (type === 'number') return 'number';\n  if (type === 'symbol') return 'symbol';\n  if (type === 'function') {\n    return isGeneratorFn(val) ? 'generatorfunction' : 'function';\n  }\n\n  if (isArray(val)) return 'array';\n  if (isBuffer(val)) return 'buffer';\n  if (isArguments(val)) return 'arguments';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  if (isRegexp(val)) return 'regexp';\n\n  switch (ctorName(val)) {\n    case 'Symbol': return 'symbol';\n    case 'Promise': return 'promise';\n\n    // Set, Map, WeakSet, WeakMap\n    case 'WeakMap': return 'weakmap';\n    case 'WeakSet': return 'weakset';\n    case 'Map': return 'map';\n    case 'Set': return 'set';\n\n    // 8-bit typed arrays\n    case 'Int8Array': return 'int8array';\n    case 'Uint8Array': return 'uint8array';\n    case 'Uint8ClampedArray': return 'uint8clampedarray';\n\n    // 16-bit typed arrays\n    case 'Int16Array': return 'int16array';\n    case 'Uint16Array': return 'uint16array';\n\n    // 32-bit typed arrays\n    case 'Int32Array': return 'int32array';\n    case 'Uint32Array': return 'uint32array';\n    case 'Float32Array': return 'float32array';\n    case 'Float64Array': return 'float64array';\n  }\n\n  if (isGeneratorObj(val)) {\n    return 'generator';\n  }\n\n  // Non-plain objects\n  type = toString.call(val);\n  switch (type) {\n    case '[object Object]': return 'object';\n    // iterators\n    case '[object Map Iterator]': return 'mapiterator';\n    case '[object Set Iterator]': return 'setiterator';\n    case '[object String Iterator]': return 'stringiterator';\n    case '[object Array Iterator]': return 'arrayiterator';\n  }\n\n  // other\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n};\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isArray(val) {\n  if (Array.isArray) return Array.isArray(val);\n  return val instanceof Array;\n}\n\nfunction isError(val) {\n  return val instanceof Error || (typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number');\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function'\n    && typeof val.getDate === 'function'\n    && typeof val.setDate === 'function';\n}\n\nfunction isRegexp(val) {\n  if (val instanceof RegExp) return true;\n  return typeof val.flags === 'string'\n    && typeof val.ignoreCase === 'boolean'\n    && typeof val.multiline === 'boolean'\n    && typeof val.global === 'boolean';\n}\n\nfunction isGeneratorFn(name, val) {\n  return ctorName(name) === 'GeneratorFunction';\n}\n\nfunction isGeneratorObj(val) {\n  return typeof val.throw === 'function'\n    && typeof val.return === 'function'\n    && typeof val.next === 'function';\n}\n\nfunction isArguments(val) {\n  try {\n    if (typeof val.length === 'number' && typeof val.callee === 'function') {\n      return true;\n    }\n  } catch (err) {\n    if (err.message.indexOf('callee') !== -1) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * If you need to support Safari 5-7 (8-10 yr-old browser),\n * take a look at https://github.com/feross/is-buffer\n */\n\nfunction isBuffer(val) {\n  if (val.constructor && typeof val.constructor.isBuffer === 'function') {\n    return val.constructor.isBuffer(val);\n  }\n  return false;\n}\n","const StreamDemux = require('stream-demux');\n\nfunction AsyncStreamEmitter(options) {\n  this._listenerDemux = new StreamDemux();\n}\n\nAsyncStreamEmitter.prototype.emit = function (eventName, data) {\n  this._listenerDemux.write(eventName, data);\n};\n\nAsyncStreamEmitter.prototype.listener = function (eventName) {\n  return this._listenerDemux.stream(eventName);\n};\n\nAsyncStreamEmitter.prototype.closeListener = function (eventName) {\n  this._listenerDemux.close(eventName);\n};\n\nAsyncStreamEmitter.prototype.closeAllListeners = function () {\n  this._listenerDemux.closeAll();\n};\n\nAsyncStreamEmitter.prototype.removeListener = function (eventName) {\n  this._listenerDemux.unstream(eventName);\n};\n\nAsyncStreamEmitter.prototype.getListenerConsumerStats = function (consumerId) {\n  return this._listenerDemux.getConsumerStats(consumerId);\n};\n\nAsyncStreamEmitter.prototype.getListenerConsumerStatsList = function (eventName) {\n  return this._listenerDemux.getConsumerStatsList(eventName);\n};\n\nAsyncStreamEmitter.prototype.getAllListenersConsumerStatsList = function () {\n  return this._listenerDemux.getConsumerStatsListAll();\n};\n\nAsyncStreamEmitter.prototype.getListenerConsumerCount = function (eventName) {\n  return this._listenerDemux.getConsumerCount(eventName);\n};\n\nAsyncStreamEmitter.prototype.getAllListenersConsumerCount = function () {\n  return this._listenerDemux.getConsumerCountAll();\n};\n\nAsyncStreamEmitter.prototype.killListener = function (eventName) {\n  this._listenerDemux.kill(eventName);\n};\n\nAsyncStreamEmitter.prototype.killAllListeners = function () {\n  this._listenerDemux.killAll();\n};\n\nAsyncStreamEmitter.prototype.killListenerConsumer = function (consumerId) {\n  this._listenerDemux.killConsumer(consumerId);\n};\n\nAsyncStreamEmitter.prototype.getListenerBackpressure = function (eventName) {\n  return this._listenerDemux.getBackpressure(eventName);\n};\n\nAsyncStreamEmitter.prototype.getAllListenersBackpressure = function () {\n  return this._listenerDemux.getBackpressureAll();\n};\n\nAsyncStreamEmitter.prototype.getListenerConsumerBackpressure = function (consumerId) {\n  return this._listenerDemux.getConsumerBackpressure(consumerId);\n};\n\nAsyncStreamEmitter.prototype.hasListenerConsumer = function (eventName, consumerId) {\n  return this._listenerDemux.hasConsumer(eventName, consumerId);\n};\n\nAsyncStreamEmitter.prototype.hasAnyListenerConsumer = function (consumerId) {\n  return this._listenerDemux.hasConsumerAll(consumerId);\n};\n\nmodule.exports = AsyncStreamEmitter;\n","class ConsumableStream {\n  async next(timeout) {\n    let asyncIterator = this.createConsumer(timeout);\n    let result = await asyncIterator.next();\n    asyncIterator.return();\n    return result;\n  }\n\n  async once(timeout) {\n    let result = await this.next(timeout);\n    if (result.done) {\n      // If stream was ended, this function should never resolve unless\n      // there is a timeout; in that case, it should reject early.\n      if (timeout == null) {\n        await new Promise(() => {});\n      } else {\n        let error = new Error(\n          'Stream consumer operation timed out early because stream ended'\n        );\n        error.name = 'TimeoutError';\n        throw error;\n      }\n    }\n    return result.value;\n  }\n\n  createConsumer() {\n    throw new TypeError('Method must be overriden by subclass');\n  }\n\n  [Symbol.asyncIterator]() {\n    return this.createConsumer();\n  }\n}\n\nmodule.exports = ConsumableStream;\n\n","function AuthEngine() {\r\n  this._internalStorage = {};\r\n  this.isLocalStorageEnabled = this._checkLocalStorageEnabled();\r\n}\r\n\r\nAuthEngine.prototype._checkLocalStorageEnabled = function () {\r\n  let err;\r\n  try {\r\n    // Safari, in Private Browsing Mode, looks like it supports localStorage but all calls to setItem\r\n    // throw QuotaExceededError. We're going to detect this and avoid hard to debug edge cases.\r\n    localStorage.setItem('__scLocalStorageTest', 1);\r\n    localStorage.removeItem('__scLocalStorageTest');\r\n  } catch (e) {\r\n    err = e;\r\n  }\r\n  return !err;\r\n};\r\n\r\nAuthEngine.prototype.saveToken = function (name, token, options) {\r\n  if (this.isLocalStorageEnabled) {\r\n    localStorage.setItem(name, token);\r\n  } else {\r\n    this._internalStorage[name] = token;\r\n  }\r\n  return Promise.resolve(token);\r\n};\r\n\r\nAuthEngine.prototype.removeToken = function (name) {\r\n  let loadPromise = this.loadToken(name);\r\n\r\n  if (this.isLocalStorageEnabled) {\r\n    localStorage.removeItem(name);\r\n  } else {\r\n    delete this._internalStorage[name];\r\n  }\r\n\r\n  return loadPromise;\r\n};\r\n\r\nAuthEngine.prototype.loadToken = function (name) {\r\n  let token;\r\n\r\n  if (this.isLocalStorageEnabled) {\r\n    token = localStorage.getItem(name);\r\n  } else {\r\n    token = this._internalStorage[name] || null;\r\n  }\r\n\r\n  return Promise.resolve(token);\r\n};\r\n\r\nmodule.exports = AuthEngine;\r\n","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n","function _regeneratorKeys(e) {\n  var n = Object(e),\n    r = [];\n  for (var t in n) r.unshift(t);\n  return function e() {\n    for (; r.length;) if ((t = r.pop()) in n) return e.value = t, e.done = !1, e;\n    return e.done = !0, e;\n  };\n}\nmodule.exports = _regeneratorKeys, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","/*!\n * shallow-clone <https://github.com/jonschlinkert/shallow-clone>\n *\n * Copyright (c) 2015-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nconst valueOf = Symbol.prototype.valueOf;\nconst typeOf = require('kind-of');\n\nfunction clone(val, deep) {\n  switch (typeOf(val)) {\n    case 'array':\n      return val.slice();\n    case 'object':\n      return Object.assign({}, val);\n    case 'date':\n      return new val.constructor(Number(val));\n    case 'map':\n      return new Map(val);\n    case 'set':\n      return new Set(val);\n    case 'buffer':\n      return cloneBuffer(val);\n    case 'symbol':\n      return cloneSymbol(val);\n    case 'arraybuffer':\n      return cloneArrayBuffer(val);\n    case 'float32array':\n    case 'float64array':\n    case 'int16array':\n    case 'int32array':\n    case 'int8array':\n    case 'uint16array':\n    case 'uint32array':\n    case 'uint8clampedarray':\n    case 'uint8array':\n      return cloneTypedArray(val);\n    case 'regexp':\n      return cloneRegExp(val);\n    case 'error':\n      return Object.create(val);\n    default: {\n      return val;\n    }\n  }\n}\n\nfunction cloneRegExp(val) {\n  const flags = val.flags !== void 0 ? val.flags : (/\\w+$/.exec(val) || void 0);\n  const re = new val.constructor(val.source, flags);\n  re.lastIndex = val.lastIndex;\n  return re;\n}\n\nfunction cloneArrayBuffer(val) {\n  const res = new val.constructor(val.byteLength);\n  new Uint8Array(res).set(new Uint8Array(val));\n  return res;\n}\n\nfunction cloneTypedArray(val, deep) {\n  return new val.constructor(val.buffer, val.byteOffset, val.length);\n}\n\nfunction cloneBuffer(val) {\n  const len = val.length;\n  const buf = Buffer.allocUnsafe ? Buffer.allocUnsafe(len) : Buffer.from(len);\n  val.copy(buf);\n  return buf;\n}\n\nfunction cloneSymbol(val) {\n  return valueOf ? Object(valueOf.call(val)) : {};\n}\n\n/**\n * Expose `clone`\n */\n\nmodule.exports = clone;\n","var OverloadYield = require(\"./OverloadYield.js\");\nvar regenerator = require(\"./regenerator.js\");\nvar regeneratorAsync = require(\"./regeneratorAsync.js\");\nvar regeneratorAsyncGen = require(\"./regeneratorAsyncGen.js\");\nvar regeneratorAsyncIterator = require(\"./regeneratorAsyncIterator.js\");\nvar regeneratorKeys = require(\"./regeneratorKeys.js\");\nvar regeneratorValues = require(\"./regeneratorValues.js\");\nfunction _regeneratorRuntime() {\n  \"use strict\";\n\n  var r = regenerator(),\n    e = r.m(_regeneratorRuntime),\n    t = (Object.getPrototypeOf ? Object.getPrototypeOf(e) : e.__proto__).constructor;\n  function n(r) {\n    var e = \"function\" == typeof r && r.constructor;\n    return !!e && (e === t || \"GeneratorFunction\" === (e.displayName || e.name));\n  }\n  var o = {\n    \"throw\": 1,\n    \"return\": 2,\n    \"break\": 3,\n    \"continue\": 3\n  };\n  function a(r) {\n    var e, t;\n    return function (n) {\n      e || (e = {\n        stop: function stop() {\n          return t(n.a, 2);\n        },\n        \"catch\": function _catch() {\n          return n.v;\n        },\n        abrupt: function abrupt(r, e) {\n          return t(n.a, o[r], e);\n        },\n        delegateYield: function delegateYield(r, o, a) {\n          return e.resultName = o, t(n.d, regeneratorValues(r), a);\n        },\n        finish: function finish(r) {\n          return t(n.f, r);\n        }\n      }, t = function t(r, _t, o) {\n        n.p = e.prev, n.n = e.next;\n        try {\n          return r(_t, o);\n        } finally {\n          e.next = n.n;\n        }\n      }), e.resultName && (e[e.resultName] = n.v, e.resultName = void 0), e.sent = n.v, e.next = n.n;\n      try {\n        return r.call(this, e);\n      } finally {\n        n.p = e.prev, n.n = e.next;\n      }\n    };\n  }\n  return (module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return {\n      wrap: function wrap(e, t, n, o) {\n        return r.w(a(e), t, n, o && o.reverse());\n      },\n      isGeneratorFunction: n,\n      mark: r.m,\n      awrap: function awrap(r, e) {\n        return new OverloadYield(r, e);\n      },\n      AsyncIterator: regeneratorAsyncIterator,\n      async: function async(r, e, t, o, u) {\n        return (n(e) ? regeneratorAsyncGen : regeneratorAsync)(a(r), e, t, o, u);\n      },\n      keys: regeneratorKeys,\n      values: regeneratorValues\n    };\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports)();\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","const ConsumableStream = require('consumable-stream');\nconst Consumer = require('./consumer');\n\nclass WritableConsumableStream extends ConsumableStream {\n  constructor(options) {\n    super();\n    options = options || {};\n    this._nextConsumerId = 1;\n    this.generateConsumerId = options.generateConsumerId;\n    if (!this.generateConsumerId) {\n      this.generateConsumerId = () => this._nextConsumerId++;\n    }\n    this.removeConsumerCallback = options.removeConsumerCallback;\n    this._consumers = new Map();\n\n    // Tail node of a singly linked list.\n    this.tailNode = {\n      next: null,\n      data: {\n        value: undefined,\n        done: false\n      }\n    };\n  }\n\n  _write(value, done, consumerId) {\n    let dataNode = {\n      data: {value, done},\n      next: null\n    };\n    if (consumerId) {\n      dataNode.consumerId = consumerId;\n    }\n    this.tailNode.next = dataNode;\n    this.tailNode = dataNode;\n\n    for (let consumer of this._consumers.values()) {\n      consumer.write(dataNode.data);\n    }\n  }\n\n  write(value) {\n    this._write(value, false);\n  }\n\n  close(value) {\n    this._write(value, true);\n  }\n\n  writeToConsumer(consumerId, value) {\n    this._write(value, false, consumerId);\n  }\n\n  closeConsumer(consumerId, value) {\n    this._write(value, true, consumerId);\n  }\n\n  kill(value) {\n    for (let consumerId of this._consumers.keys()) {\n      this.killConsumer(consumerId, value);\n    }\n  }\n\n  killConsumer(consumerId, value) {\n    let consumer = this._consumers.get(consumerId);\n    if (!consumer) {\n      return;\n    }\n    consumer.kill(value);\n  }\n\n  getBackpressure() {\n    let maxBackpressure = 0;\n    for (let consumer of this._consumers.values()) {\n      let backpressure = consumer.getBackpressure();\n      if (backpressure > maxBackpressure) {\n        maxBackpressure = backpressure;\n      }\n    }\n    return maxBackpressure;\n  }\n\n  getConsumerBackpressure(consumerId) {\n    let consumer = this._consumers.get(consumerId);\n    if (consumer) {\n      return consumer.getBackpressure();\n    }\n    return 0;\n  }\n\n  hasConsumer(consumerId) {\n    return this._consumers.has(consumerId);\n  }\n\n  setConsumer(consumerId, consumer) {\n    this._consumers.set(consumerId, consumer);\n    if (!consumer.currentNode) {\n      consumer.currentNode = this.tailNode;\n    }\n  }\n\n  removeConsumer(consumerId) {\n    let result = this._consumers.delete(consumerId);\n    if (this.removeConsumerCallback) this.removeConsumerCallback(consumerId);\n    return result;\n  }\n\n  getConsumerStats(consumerId) {\n    let consumer = this._consumers.get(consumerId);\n    if (consumer) {\n      return consumer.getStats();\n    }\n    return undefined;\n  }\n\n  getConsumerStatsList() {\n    let consumerStats = [];\n    for (let consumer of this._consumers.values()) {\n      consumerStats.push(consumer.getStats());\n    }\n    return consumerStats;\n  }\n\n  createConsumer(timeout) {\n    return new Consumer(this, this.generateConsumerId(), this.tailNode, timeout);\n  }\n\n  getConsumerList() {\n    return [...this._consumers.values()];\n  }\n\n  getConsumerCount() {\n    return this._consumers.size;\n  }\n}\n\nmodule.exports = WritableConsumableStream;\n","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","const StreamDemux = require('stream-demux');\r\nconst AsyncStreamEmitter = require('async-stream-emitter');\r\nconst AGChannel = require('ag-channel');\r\nconst AuthEngine = require('./auth');\r\nconst formatter = require('sc-formatter');\r\nconst AGTransport = require('./transport');\r\nconst LinkedList = require('linked-list');\r\nconst cloneDeep = require('clone-deep');\r\nconst Buffer = require('buffer/').Buffer;\r\nconst wait = require('./wait');\r\n\r\nconst scErrors = require('sc-errors');\r\nconst InvalidArgumentsError = scErrors.InvalidArgumentsError;\r\nconst InvalidMessageError = scErrors.InvalidMessageError;\r\nconst SocketProtocolError = scErrors.SocketProtocolError;\r\nconst TimeoutError = scErrors.TimeoutError;\r\nconst BadConnectionError = scErrors.BadConnectionError;\r\n\r\nfunction AGClientSocket(socketOptions) {\r\n  AsyncStreamEmitter.call(this);\r\n\r\n  let defaultOptions = {\r\n    path: '/socketcluster/',\r\n    secure: false,\r\n    protocolScheme: null,\r\n    socketPath: null,\r\n    autoConnect: true,\r\n    autoReconnect: true,\r\n    autoSubscribeOnConnect: true,\r\n    connectTimeout: 20000,\r\n    ackTimeout: 10000,\r\n    timestampRequests: false,\r\n    timestampParam: 't',\r\n    binaryType: 'arraybuffer',\r\n    batchOnHandshake: false,\r\n    batchOnHandshakeDuration: 100,\r\n    batchInterval: 50,\r\n    protocolVersion: 2,\r\n    wsOptions: {},\r\n    cloneData: false\r\n  };\r\n  let opts = Object.assign(defaultOptions, socketOptions);\r\n\r\n  if (opts.authTokenName == null) {\r\n    opts.authTokenName = this._generateAuthTokenNameFromURI(opts);\r\n  }\r\n\r\n  this.id = null;\r\n  this.version = opts.version || null;\r\n  this.protocolVersion = opts.protocolVersion;\r\n  this.state = this.CLOSED;\r\n  this.authState = this.UNAUTHENTICATED;\r\n  this.signedAuthToken = null;\r\n  this.authToken = null;\r\n  this.pendingReconnect = false;\r\n  this.pendingReconnectTimeout = null;\r\n  this.preparingPendingSubscriptions = false;\r\n  this.clientId = opts.clientId;\r\n  this.wsOptions = opts.wsOptions;\r\n\r\n  this.connectTimeout = opts.connectTimeout;\r\n  this.ackTimeout = opts.ackTimeout;\r\n  this.channelPrefix = opts.channelPrefix || null;\r\n  this.authTokenName = opts.authTokenName;\r\n\r\n  // pingTimeout will be connectTimeout at the start, but it will\r\n  // be updated with values provided by the 'connect' event\r\n  opts.pingTimeout = opts.connectTimeout;\r\n  this.pingTimeout = opts.pingTimeout;\r\n  this.pingTimeoutDisabled = !!opts.pingTimeoutDisabled;\r\n\r\n  let maxTimeout = Math.pow(2, 31) - 1;\r\n\r\n  let verifyDuration = (propertyName) => {\r\n    if (this[propertyName] > maxTimeout) {\r\n      throw new InvalidArgumentsError(\r\n        `The ${propertyName} value provided exceeded the maximum amount allowed`\r\n      );\r\n    }\r\n  };\r\n\r\n  verifyDuration('connectTimeout');\r\n  verifyDuration('ackTimeout');\r\n  verifyDuration('pingTimeout');\r\n\r\n  this.connectAttempts = 0;\r\n\r\n  this.isBatching = false;\r\n  this.batchOnHandshake = opts.batchOnHandshake;\r\n  this.batchOnHandshakeDuration = opts.batchOnHandshakeDuration;\r\n\r\n  this._batchingIntervalId = null;\r\n  this._outboundBuffer = new LinkedList();\r\n  this._channelMap = {};\r\n\r\n  this._channelEventDemux = new StreamDemux();\r\n  this._channelDataDemux = new StreamDemux();\r\n\r\n  this._receiverDemux = new StreamDemux();\r\n  this._procedureDemux = new StreamDemux();\r\n\r\n  this.options = opts;\r\n\r\n  this._cid = 1;\r\n\r\n  this.options.callIdGenerator = () => {\r\n    return this._cid++;\r\n  };\r\n\r\n  if (this.options.autoReconnect) {\r\n    if (this.options.autoReconnectOptions == null) {\r\n      this.options.autoReconnectOptions = {};\r\n    }\r\n\r\n    // Add properties to the this.options.autoReconnectOptions object.\r\n    // We assign the reference to a reconnectOptions variable to avoid repetition.\r\n    let reconnectOptions = this.options.autoReconnectOptions;\r\n    if (reconnectOptions.initialDelay == null) {\r\n      reconnectOptions.initialDelay = 10000;\r\n    }\r\n    if (reconnectOptions.randomness == null) {\r\n      reconnectOptions.randomness = 10000;\r\n    }\r\n    if (reconnectOptions.multiplier == null) {\r\n      reconnectOptions.multiplier = 1.5;\r\n    }\r\n    if (reconnectOptions.maxDelay == null) {\r\n      reconnectOptions.maxDelay = 60000;\r\n    }\r\n  }\r\n\r\n  if (this.options.subscriptionRetryOptions == null) {\r\n    this.options.subscriptionRetryOptions = {};\r\n  }\r\n\r\n  if (this.options.authEngine) {\r\n    this.auth = this.options.authEngine;\r\n  } else {\r\n    this.auth = new AuthEngine();\r\n  }\r\n\r\n  if (this.options.codecEngine) {\r\n    this.codec = this.options.codecEngine;\r\n  } else {\r\n    // Default codec engine\r\n    this.codec = formatter;\r\n  }\r\n\r\n  if (this.options.protocol) {\r\n    let protocolOptionError = new InvalidArgumentsError(\r\n      'The protocol option does not affect socketcluster-client - ' +\r\n      'If you want to utilize SSL/TLS, use the secure option instead'\r\n    );\r\n    this._onError(protocolOptionError);\r\n  }\r\n\r\n  this.options.query = opts.query || {};\r\n  if (typeof this.options.query === 'string') {\r\n    let searchParams = new URLSearchParams(this.options.query);\r\n    let queryObject = {};\r\n    for (let [key, value] of searchParams.entries()) {\r\n      let currentValue = queryObject[key];\r\n      if (currentValue == null) {\r\n        queryObject[key] = value;\r\n      } else {\r\n        if (!Array.isArray(currentValue)) {\r\n          queryObject[key] = [currentValue];\r\n        }\r\n        queryObject[key].push(value);\r\n      }\r\n    }\r\n    this.options.query = queryObject;\r\n  }\r\n\r\n  if (this.options.autoConnect) {\r\n    this.connect();\r\n  }\r\n}\r\n\r\nAGClientSocket.prototype = Object.create(AsyncStreamEmitter.prototype);\r\n\r\nAGClientSocket.CONNECTING = AGClientSocket.prototype.CONNECTING = AGTransport.prototype.CONNECTING;\r\nAGClientSocket.OPEN = AGClientSocket.prototype.OPEN = AGTransport.prototype.OPEN;\r\nAGClientSocket.CLOSED = AGClientSocket.prototype.CLOSED = AGTransport.prototype.CLOSED;\r\n\r\nAGClientSocket.AUTHENTICATED = AGClientSocket.prototype.AUTHENTICATED = 'authenticated';\r\nAGClientSocket.UNAUTHENTICATED = AGClientSocket.prototype.UNAUTHENTICATED = 'unauthenticated';\r\n\r\nAGClientSocket.SUBSCRIBED = AGClientSocket.prototype.SUBSCRIBED = AGChannel.SUBSCRIBED;\r\nAGClientSocket.PENDING = AGClientSocket.prototype.PENDING = AGChannel.PENDING;\r\nAGClientSocket.UNSUBSCRIBED = AGClientSocket.prototype.UNSUBSCRIBED = AGChannel.UNSUBSCRIBED;\r\n\r\nAGClientSocket.ignoreStatuses = scErrors.socketProtocolIgnoreStatuses;\r\nAGClientSocket.errorStatuses = scErrors.socketProtocolErrorStatuses;\r\n\r\nObject.defineProperty(AGClientSocket.prototype, 'isBufferingBatch', {\r\n  get: function () {\r\n    return this.transport.isBufferingBatch;\r\n  }\r\n});\r\n\r\nAGClientSocket.prototype.uri = function () {\r\n  return AGTransport.computeURI(this.options);\r\n};\r\n\r\nAGClientSocket.prototype.getBackpressure = function () {\r\n  return Math.max(\r\n    this.getAllListenersBackpressure(),\r\n    this.getAllReceiversBackpressure(),\r\n    this.getAllProceduresBackpressure(),\r\n    this.getAllChannelsBackpressure()\r\n  );\r\n};\r\n\r\nAGClientSocket.prototype._generateAuthTokenNameFromURI = function (options) {\r\n  let authHostString = options.host ? `.${options.host}` : `.${options.hostname || 'localhost'}${options.port ? `:${options.port}` : ''}`;\r\n  return `socketcluster.authToken${authHostString}`;\r\n}\r\n\r\nAGClientSocket.prototype._setAuthToken = function (data) {\r\n  this._changeToAuthenticatedState(data.token);\r\n\r\n  (async () => {\r\n    try {\r\n      await this.auth.saveToken(this.authTokenName, data.token, {});\r\n    } catch (err) {\r\n      this._onError(err);\r\n    }\r\n  })();\r\n};\r\n\r\nAGClientSocket.prototype._removeAuthToken = function (data) {\r\n  (async () => {\r\n    let oldAuthToken;\r\n    try {\r\n      oldAuthToken = await this.auth.removeToken(this.authTokenName);\r\n    } catch (err) {\r\n      // Non-fatal error - Do not close the connection\r\n      this._onError(err);\r\n      return;\r\n    }\r\n    this.emit('removeAuthToken', {oldAuthToken});\r\n  })();\r\n\r\n  this._changeToUnauthenticatedStateAndClearTokens();\r\n};\r\n\r\nAGClientSocket.prototype._privateDataHandlerMap = {\r\n  '#publish': function (data) {\r\n    if (typeof data.channel !== 'string') return;\r\n    let undecoratedChannelName = this._undecorateChannelName(data.channel);\r\n    let isSubscribed = this.isSubscribed(undecoratedChannelName, true);\r\n\r\n    if (isSubscribed) {\r\n      this._channelDataDemux.write(undecoratedChannelName, data.data);\r\n    }\r\n  },\r\n  '#kickOut': function (data) {\r\n    if (typeof data.channel !== 'string') return;\r\n    let undecoratedChannelName = this._undecorateChannelName(data.channel);\r\n    let channel = this._channelMap[undecoratedChannelName];\r\n    if (channel) {\r\n      this.emit('kickOut', {\r\n        channel: undecoratedChannelName,\r\n        message: data.message\r\n      });\r\n      this._channelEventDemux.write(`${undecoratedChannelName}/kickOut`, {message: data.message});\r\n      this._triggerChannelUnsubscribe(channel);\r\n    }\r\n  },\r\n  '#setAuthToken': function (data) {\r\n    if (data) {\r\n      this._setAuthToken(data);\r\n    }\r\n  },\r\n  '#removeAuthToken': function (data) {\r\n    this._removeAuthToken(data);\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._privateRPCHandlerMap = {\r\n  '#setAuthToken': function (data, request) {\r\n    if (data) {\r\n      this._setAuthToken(data);\r\n\r\n      request.end();\r\n    } else {\r\n      let error = new InvalidMessageError('No token data provided by #setAuthToken event');\r\n      delete error.stack;\r\n      request.error(error);\r\n    }\r\n  },\r\n  '#removeAuthToken': function (data, request) {\r\n    this._removeAuthToken(data);\r\n    request.end();\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype.getState = function () {\r\n  return this.state;\r\n};\r\n\r\nAGClientSocket.prototype.getBytesReceived = function () {\r\n  return this.transport.getBytesReceived();\r\n};\r\n\r\nAGClientSocket.prototype.deauthenticate = async function () {\r\n  (async () => {\r\n    let oldAuthToken;\r\n    try {\r\n      oldAuthToken = await this.auth.removeToken(this.authTokenName);\r\n    } catch (err) {\r\n      this._onError(err);\r\n      return;\r\n    }\r\n    this.emit('removeAuthToken', {oldAuthToken});\r\n  })();\r\n\r\n  if (this.state !== this.CLOSED) {\r\n    this.transmit('#removeAuthToken');\r\n  }\r\n  this._changeToUnauthenticatedStateAndClearTokens();\r\n  await wait(0);\r\n};\r\n\r\nAGClientSocket.prototype.connect = function (socketOptions) {\r\n  if (socketOptions) {\r\n    if (this.state !== this.CLOSED) {\r\n      this.disconnect(\r\n        1000,\r\n        'Socket was disconnected by the client to initiate a new connection'\r\n      );\r\n    }\r\n    this.options = {\r\n      ...this.options,\r\n      ...socketOptions\r\n    };\r\n    if (this.options.authTokenName == null) {\r\n      this.options.authTokenName = this._generateAuthTokenNameFromURI(this.options);\r\n    }\r\n  }\r\n  if (this.state === this.CLOSED) {\r\n    this.pendingReconnect = false;\r\n    this.pendingReconnectTimeout = null;\r\n    clearTimeout(this._reconnectTimeoutRef);\r\n\r\n    this.state = this.CONNECTING;\r\n    this.emit('connecting', {});\r\n\r\n    if (this.transport) {\r\n      this.transport.clearAllListeners();\r\n    }\r\n\r\n    let transportHandlers = {\r\n      onOpen: (value) => {\r\n        this.state = this.OPEN;\r\n        this._onOpen(value);\r\n      },\r\n      onOpenAbort: (value) => {\r\n        if (this.state !== this.CLOSED) {\r\n          this.state = this.CLOSED;\r\n          this._destroy(value.code, value.reason, true);\r\n        }\r\n      },\r\n      onClose: (value) => {\r\n        if (this.state !== this.CLOSED) {\r\n          this.state = this.CLOSED;\r\n          this._destroy(value.code, value.reason);\r\n        }\r\n      },\r\n      onEvent: (value) => {\r\n        this.emit(value.event, value.data);\r\n      },\r\n      onError: (value) => {\r\n        this._onError(value.error);\r\n      },\r\n      onInboundInvoke: (value) => {\r\n        this._onInboundInvoke(value);\r\n      },\r\n      onInboundTransmit: (value) => {\r\n        this._onInboundTransmit(value.event, value.data);\r\n      }\r\n    };\r\n\r\n    this.transport = new AGTransport(this.auth, this.codec, this.options, this.wsOptions, transportHandlers);\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype.reconnect = function (code, reason) {\r\n  this.disconnect(code, reason);\r\n  this.connect();\r\n};\r\n\r\nAGClientSocket.prototype.disconnect = function (code, reason) {\r\n  code = code || 1000;\r\n\r\n  if (typeof code !== 'number') {\r\n    throw new InvalidArgumentsError('If specified, the code argument must be a number');\r\n  }\r\n\r\n  let isConnecting = this.state === this.CONNECTING;\r\n  if (isConnecting || this.state === this.OPEN) {\r\n    this.state = this.CLOSED;\r\n    this._destroy(code, reason, isConnecting);\r\n    this.transport.close(code, reason);\r\n  } else {\r\n    this.pendingReconnect = false;\r\n    this.pendingReconnectTimeout = null;\r\n    clearTimeout(this._reconnectTimeoutRef);\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._changeToUnauthenticatedStateAndClearTokens = function () {\r\n  if (this.authState !== this.UNAUTHENTICATED) {\r\n    let oldAuthState = this.authState;\r\n    let oldAuthToken = this.authToken;\r\n    let oldSignedAuthToken = this.signedAuthToken;\r\n    this.authState = this.UNAUTHENTICATED;\r\n    this.signedAuthToken = null;\r\n    this.authToken = null;\r\n\r\n    let stateChangeData = {\r\n      oldAuthState,\r\n      newAuthState: this.authState\r\n    };\r\n    this.emit('authStateChange', stateChangeData);\r\n    this.emit('deauthenticate', {oldSignedAuthToken, oldAuthToken});\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._changeToAuthenticatedState = function (signedAuthToken) {\r\n  this.signedAuthToken = signedAuthToken;\r\n  this.authToken = this._extractAuthTokenData(signedAuthToken);\r\n\r\n  if (this.authState !== this.AUTHENTICATED) {\r\n    let oldAuthState = this.authState;\r\n    this.authState = this.AUTHENTICATED;\r\n    let stateChangeData = {\r\n      oldAuthState,\r\n      newAuthState: this.authState,\r\n      signedAuthToken: signedAuthToken,\r\n      authToken: this.authToken\r\n    };\r\n    if (!this.preparingPendingSubscriptions) {\r\n      this.processPendingSubscriptions();\r\n    }\r\n\r\n    this.emit('authStateChange', stateChangeData);\r\n  }\r\n  this.emit('authenticate', {signedAuthToken, authToken: this.authToken});\r\n};\r\n\r\nAGClientSocket.prototype.decodeBase64 = function (encodedString) {\r\n  return Buffer.from(encodedString, 'base64').toString('utf8');\r\n};\r\n\r\nAGClientSocket.prototype.encodeBase64 = function (decodedString) {\r\n  return Buffer.from(decodedString, 'utf8').toString('base64');\r\n};\r\n\r\nAGClientSocket.prototype._extractAuthTokenData = function (signedAuthToken) {\r\n  if (typeof signedAuthToken !== 'string') return null;\r\n  let tokenParts = signedAuthToken.split('.');\r\n  let encodedTokenData = tokenParts[1];\r\n  if (encodedTokenData != null) {\r\n    let tokenData = encodedTokenData;\r\n    try {\r\n      tokenData = this.decodeBase64(tokenData);\r\n      return JSON.parse(tokenData);\r\n    } catch (e) {\r\n      return tokenData;\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nAGClientSocket.prototype.getAuthToken = function () {\r\n  return this.authToken;\r\n};\r\n\r\nAGClientSocket.prototype.getSignedAuthToken = function () {\r\n  return this.signedAuthToken;\r\n};\r\n\r\n// Perform client-initiated authentication by providing an encrypted token string.\r\nAGClientSocket.prototype.authenticate = async function (signedAuthToken) {\r\n  let authStatus;\r\n\r\n  try {\r\n    authStatus = await this.invoke('#authenticate', signedAuthToken);\r\n  } catch (err) {\r\n    if (err.name !== 'BadConnectionError' && err.name !== 'TimeoutError') {\r\n      // In case of a bad/closed connection or a timeout, we maintain the last\r\n      // known auth state since those errors don't mean that the token is invalid.\r\n      this._changeToUnauthenticatedStateAndClearTokens();\r\n    }\r\n    await wait(0);\r\n    throw err;\r\n  }\r\n\r\n  if (authStatus && authStatus.isAuthenticated != null) {\r\n    // If authStatus is correctly formatted (has an isAuthenticated property),\r\n    // then we will rehydrate the authError.\r\n    if (authStatus.authError) {\r\n      authStatus.authError = scErrors.hydrateError(authStatus.authError);\r\n    }\r\n  } else {\r\n    // Some errors like BadConnectionError and TimeoutError will not pass a valid\r\n    // authStatus object to the current function, so we need to create it ourselves.\r\n    authStatus = {\r\n      isAuthenticated: this.authState,\r\n      authError: null\r\n    };\r\n  }\r\n\r\n  if (authStatus.isAuthenticated) {\r\n    this._changeToAuthenticatedState(signedAuthToken);\r\n  } else {\r\n    this._changeToUnauthenticatedStateAndClearTokens();\r\n  }\r\n\r\n  (async () => {\r\n    try {\r\n      await this.auth.saveToken(this.authTokenName, signedAuthToken, {});\r\n    } catch (err) {\r\n      this._onError(err);\r\n    }\r\n  })();\r\n\r\n  await wait(0);\r\n  return authStatus;\r\n};\r\n\r\nAGClientSocket.prototype._tryReconnect = function (initialDelay) {\r\n  let exponent = this.connectAttempts++;\r\n  let reconnectOptions = this.options.autoReconnectOptions;\r\n  let timeout;\r\n\r\n  if (initialDelay == null || exponent > 0) {\r\n    let initialTimeout = Math.round(reconnectOptions.initialDelay + (reconnectOptions.randomness || 0) * Math.random());\r\n\r\n    timeout = Math.round(initialTimeout * Math.pow(reconnectOptions.multiplier, exponent));\r\n  } else {\r\n    timeout = initialDelay;\r\n  }\r\n\r\n  if (timeout > reconnectOptions.maxDelay) {\r\n    timeout = reconnectOptions.maxDelay;\r\n  }\r\n\r\n  clearTimeout(this._reconnectTimeoutRef);\r\n\r\n  this.pendingReconnect = true;\r\n  this.pendingReconnectTimeout = timeout;\r\n  this._reconnectTimeoutRef = setTimeout(() => {\r\n    this.connect();\r\n  }, timeout);\r\n};\r\n\r\nAGClientSocket.prototype._onOpen = function (status) {\r\n  if (this.isBatching) {\r\n    this._startBatching();\r\n  } else if (this.batchOnHandshake) {\r\n    this._startBatching();\r\n    setTimeout(() => {\r\n      if (!this.isBatching) {\r\n        this._stopBatching();\r\n      }\r\n    }, this.batchOnHandshakeDuration);\r\n  }\r\n  this.preparingPendingSubscriptions = true;\r\n\r\n  if (status) {\r\n    this.id = status.id;\r\n    this.pingTimeout = status.pingTimeout;\r\n    if (status.isAuthenticated) {\r\n      this._changeToAuthenticatedState(status.authToken);\r\n    } else {\r\n      this._changeToUnauthenticatedStateAndClearTokens();\r\n    }\r\n  } else {\r\n    // This can happen if auth.loadToken (in transport.js) fails with\r\n    // an error - This means that the signedAuthToken cannot be loaded by\r\n    // the auth engine and therefore, we need to unauthenticate the client.\r\n    this._changeToUnauthenticatedStateAndClearTokens();\r\n  }\r\n\r\n  this.connectAttempts = 0;\r\n\r\n  if (this.options.autoSubscribeOnConnect) {\r\n    this.processPendingSubscriptions();\r\n  }\r\n\r\n  // If the user invokes the callback while in autoSubscribeOnConnect mode, it\r\n  // won't break anything.\r\n  this.emit('connect', {\r\n    ...status,\r\n    processPendingSubscriptions: () => {\r\n      this.processPendingSubscriptions();\r\n    }\r\n  });\r\n\r\n  if (this.state === this.OPEN) {\r\n    this._flushOutboundBuffer();\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._onError = function (error) {\r\n  this.emit('error', {error});\r\n};\r\n\r\nAGClientSocket.prototype._suspendSubscriptions = function () {\r\n  Object.keys(this._channelMap).forEach((channelName) => {\r\n    let channel = this._channelMap[channelName];\r\n    this._triggerChannelUnsubscribe(channel, true);\r\n  });\r\n};\r\n\r\nAGClientSocket.prototype._abortAllPendingEventsDueToBadConnection = function (failureType, code, reason) {\r\n  let currentNode = this._outboundBuffer.head;\r\n  let nextNode;\r\n\r\n  while (currentNode) {\r\n    nextNode = currentNode.next;\r\n    let eventObject = currentNode.data;\r\n    clearTimeout(eventObject.timeout);\r\n    delete eventObject.timeout;\r\n    currentNode.detach();\r\n    currentNode = nextNode;\r\n\r\n    let callback = eventObject.callback;\r\n\r\n    if (callback) {\r\n      delete eventObject.callback;\r\n      let errorMessage = `Event ${eventObject.event} was aborted due to a bad connection`;\r\n      let error = new BadConnectionError(errorMessage, failureType, code, reason);\r\n\r\n      callback.call(eventObject, error, eventObject);\r\n    }\r\n    // Cleanup any pending response callback in the transport layer too.\r\n    if (eventObject.cid) {\r\n      this.transport.cancelPendingResponse(eventObject.cid);\r\n    }\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._destroy = function (code, reason, openAbort) {\r\n  this.id = null;\r\n  this._cancelBatching();\r\n\r\n  if (this.transport) {\r\n    this.transport.clearAllListeners();\r\n  }\r\n\r\n  this.pendingReconnect = false;\r\n  this.pendingReconnectTimeout = null;\r\n  clearTimeout(this._reconnectTimeoutRef);\r\n\r\n  this._suspendSubscriptions();\r\n\r\n  if (openAbort) {\r\n    this.emit('connectAbort', {code, reason});\r\n  } else {\r\n    this.emit('disconnect', {code, reason});\r\n  }\r\n  this.emit('close', {code, reason});\r\n\r\n  if (!AGClientSocket.ignoreStatuses[code]) {\r\n    let closeMessage;\r\n    if (typeof reason === 'string') {\r\n      closeMessage = 'Socket connection closed with status code ' + code + ' and reason: ' + reason;\r\n    } else {\r\n      closeMessage = 'Socket connection closed with status code ' + code;\r\n    }\r\n    let err = new SocketProtocolError(AGClientSocket.errorStatuses[code] || closeMessage, code);\r\n    this._onError(err);\r\n  }\r\n\r\n  this._abortAllPendingEventsDueToBadConnection(openAbort ? 'connectAbort' : 'disconnect', code, reason);\r\n\r\n  // Try to reconnect\r\n  // on server ping timeout (4000)\r\n  // or on client pong timeout (4001)\r\n  // or on close without status (1005)\r\n  // or on handshake failure (4003)\r\n  // or on handshake rejection (4008)\r\n  // or on socket hung up (1006)\r\n  if (this.options.autoReconnect) {\r\n    if (code === 4000 || code === 4001 || code === 1005) {\r\n      // If there is a ping or pong timeout or socket closes without\r\n      // status, don't wait before trying to reconnect - These could happen\r\n      // if the client wakes up after a period of inactivity and in this case we\r\n      // want to re-establish the connection as soon as possible.\r\n      this._tryReconnect(0);\r\n\r\n      // Codes 4500 and above will be treated as permanent disconnects.\r\n      // Socket will not try to auto-reconnect.\r\n    } else if (code !== 1000 && code < 4500) {\r\n      this._tryReconnect();\r\n    }\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._onInboundTransmit = function (event, data) {\r\n  let handler = this._privateDataHandlerMap[event];\r\n  if (handler) {\r\n    handler.call(this, data || {});\r\n  } else {\r\n    this._receiverDemux.write(event, data);\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._onInboundInvoke = function (request) {\r\n  let {procedure, data} = request;\r\n  let handler = this._privateRPCHandlerMap[procedure];\r\n  if (handler) {\r\n    handler.call(this, data, request);\r\n  } else {\r\n    this._procedureDemux.write(procedure, request);\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype.decode = function (message) {\r\n  return this.transport.decode(message);\r\n};\r\n\r\nAGClientSocket.prototype.encode = function (object) {\r\n  return this.transport.encode(object);\r\n};\r\n\r\nAGClientSocket.prototype._flushOutboundBuffer = function () {\r\n  let currentNode = this._outboundBuffer.head;\r\n  let nextNode;\r\n\r\n  while (currentNode) {\r\n    nextNode = currentNode.next;\r\n    let eventObject = currentNode.data;\r\n    currentNode.detach();\r\n    this.transport.transmitObject(eventObject);\r\n    currentNode = nextNode;\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._handleEventAckTimeout = function (eventObject, eventNode) {\r\n  if (eventNode) {\r\n    eventNode.detach();\r\n  }\r\n  delete eventObject.timeout;\r\n\r\n  let callback = eventObject.callback;\r\n  if (callback) {\r\n    delete eventObject.callback;\r\n    let error = new TimeoutError(`Event response for ${eventObject.event} event timed out`);\r\n    callback.call(eventObject, error, eventObject);\r\n  }\r\n  // Cleanup any pending response callback in the transport layer too.\r\n  if (eventObject.cid) {\r\n    this.transport.cancelPendingResponse(eventObject.cid);\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._processOutboundEvent = function (event, data, options, expectResponse) {\r\n  options = options || {};\r\n\r\n  if (this.state === this.CLOSED) {\r\n    this.connect();\r\n  }\r\n  let eventObject = {\r\n    event\r\n  };\r\n\r\n  let promise;\r\n\r\n  if (expectResponse) {\r\n    promise = new Promise((resolve, reject) => {\r\n      eventObject.callback = (err, data) => {\r\n        if (err) {\r\n          reject(err);\r\n          return;\r\n        }\r\n        resolve(data);\r\n      };\r\n    });\r\n  } else {\r\n    promise = Promise.resolve();\r\n  }\r\n\r\n  let eventNode = new LinkedList.Item();\r\n\r\n  if (this.options.cloneData) {\r\n    eventObject.data = cloneDeep(data);\r\n  } else {\r\n    eventObject.data = data;\r\n  }\r\n  eventNode.data = eventObject;\r\n\r\n  let ackTimeout = options.ackTimeout == null ? this.ackTimeout : options.ackTimeout;\r\n\r\n  eventObject.timeout = setTimeout(() => {\r\n    this._handleEventAckTimeout(eventObject, eventNode);\r\n  }, ackTimeout);\r\n\r\n  this._outboundBuffer.append(eventNode);\r\n  if (this.state === this.OPEN) {\r\n    this._flushOutboundBuffer();\r\n  }\r\n  return promise;\r\n};\r\n\r\nAGClientSocket.prototype.send = function (data) {\r\n  this.transport.send(data);\r\n};\r\n\r\nAGClientSocket.prototype.transmit = function (event, data, options) {\r\n  return this._processOutboundEvent(event, data, options);\r\n};\r\n\r\nAGClientSocket.prototype.invoke = function (event, data, options) {\r\n  return this._processOutboundEvent(event, data, options, true);\r\n};\r\n\r\nAGClientSocket.prototype.transmitPublish = function (channelName, data) {\r\n  let pubData = {\r\n    channel: this._decorateChannelName(channelName),\r\n    data\r\n  };\r\n  return this.transmit('#publish', pubData);\r\n};\r\n\r\nAGClientSocket.prototype.invokePublish = function (channelName, data) {\r\n  let pubData = {\r\n    channel: this._decorateChannelName(channelName),\r\n    data\r\n  };\r\n  return this.invoke('#publish', pubData);\r\n};\r\n\r\nAGClientSocket.prototype._triggerChannelSubscribe = function (channel, subscriptionOptions) {\r\n  let channelName = channel.name;\r\n\r\n  if (channel.state !== AGChannel.SUBSCRIBED) {\r\n    let oldChannelState = channel.state;\r\n    channel.state = AGChannel.SUBSCRIBED;\r\n\r\n    let stateChangeData = {\r\n      oldChannelState,\r\n      newChannelState: channel.state,\r\n      subscriptionOptions\r\n    };\r\n    this._channelEventDemux.write(`${channelName}/subscribeStateChange`, stateChangeData);\r\n    this._channelEventDemux.write(`${channelName}/subscribe`, {\r\n      subscriptionOptions\r\n    });\r\n    this.emit('subscribeStateChange', {\r\n      channel: channelName,\r\n      ...stateChangeData\r\n    });\r\n    this.emit('subscribe', {\r\n      channel: channelName,\r\n      subscriptionOptions\r\n    });\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._triggerChannelSubscribeFail = function (err, channel, subscriptionOptions) {\r\n  let channelName = channel.name;\r\n  let meetsAuthRequirements = !channel.options.waitForAuth || this.authState === this.AUTHENTICATED;\r\n  let hasChannel = !!this._channelMap[channelName];\r\n\r\n  if (hasChannel && meetsAuthRequirements) {\r\n    delete this._channelMap[channelName];\r\n\r\n    this._channelEventDemux.write(`${channelName}/subscribeFail`, {\r\n      error: err,\r\n      subscriptionOptions\r\n    });\r\n    this.emit('subscribeFail', {\r\n      error: err,\r\n      channel: channelName,\r\n      subscriptionOptions: subscriptionOptions\r\n    });\r\n  }\r\n};\r\n\r\n// Cancel any pending subscribe callback\r\nAGClientSocket.prototype._cancelPendingSubscribeCallback = function (channel) {\r\n  if (channel._pendingSubscriptionCid != null) {\r\n    this.transport.cancelPendingResponse(channel._pendingSubscriptionCid);\r\n    delete channel._pendingSubscriptionCid;\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._decorateChannelName = function (channelName) {\r\n  if (this.channelPrefix) {\r\n    channelName = this.channelPrefix + channelName;\r\n  }\r\n  return channelName;\r\n};\r\n\r\nAGClientSocket.prototype._undecorateChannelName = function (decoratedChannelName) {\r\n  if (this.channelPrefix && decoratedChannelName.indexOf(this.channelPrefix) === 0) {\r\n    return decoratedChannelName.replace(this.channelPrefix, '');\r\n  }\r\n  return decoratedChannelName;\r\n};\r\n\r\nAGClientSocket.prototype.startBatch = function () {\r\n  this.transport.startBatch();\r\n};\r\n\r\nAGClientSocket.prototype.flushBatch = function () {\r\n  this.transport.flushBatch();\r\n};\r\n\r\nAGClientSocket.prototype.cancelBatch = function () {\r\n  this.transport.cancelBatch();\r\n};\r\n\r\nAGClientSocket.prototype._startBatching = function () {\r\n  if (this._batchingIntervalId != null) {\r\n    return;\r\n  }\r\n  this.startBatch();\r\n  this._batchingIntervalId = setInterval(() => {\r\n    this.flushBatch();\r\n    this.startBatch();\r\n  }, this.options.batchInterval);\r\n};\r\n\r\nAGClientSocket.prototype.startBatching = function () {\r\n  this.isBatching = true;\r\n  this._startBatching();\r\n};\r\n\r\nAGClientSocket.prototype._stopBatching = function () {\r\n  if (this._batchingIntervalId != null) {\r\n    clearInterval(this._batchingIntervalId);\r\n  }\r\n  this._batchingIntervalId = null;\r\n  this.flushBatch();\r\n};\r\n\r\nAGClientSocket.prototype.stopBatching = function () {\r\n  this.isBatching = false;\r\n  this._stopBatching();\r\n};\r\n\r\nAGClientSocket.prototype._cancelBatching = function () {\r\n  if (this._batchingIntervalId != null) {\r\n    clearInterval(this._batchingIntervalId);\r\n  }\r\n  this._batchingIntervalId = null;\r\n  this.cancelBatch();\r\n};\r\n\r\nAGClientSocket.prototype.cancelBatching = function () {\r\n  this.isBatching = false;\r\n  this._cancelBatching();\r\n};\r\n\r\nAGClientSocket.prototype._trySubscribe = function (channel) {\r\n  let meetsAuthRequirements = !channel.options.waitForAuth || this.authState === this.AUTHENTICATED;\r\n\r\n  // We can only ever have one pending subscribe action at any given time on a channel\r\n  if (\r\n    this.state === this.OPEN &&\r\n    !this.preparingPendingSubscriptions &&\r\n    channel._pendingSubscriptionCid == null &&\r\n    meetsAuthRequirements\r\n  ) {\r\n\r\n    let options = {\r\n      noTimeout: true\r\n    };\r\n\r\n    let subscriptionOptions = {};\r\n    if (channel.options.waitForAuth) {\r\n      options.waitForAuth = true;\r\n      subscriptionOptions.waitForAuth = options.waitForAuth;\r\n    }\r\n    if (channel.options.data) {\r\n      subscriptionOptions.data = channel.options.data;\r\n    }\r\n\r\n    channel._pendingSubscriptionCid = this.transport.invokeRaw(\r\n      '#subscribe',\r\n      {\r\n        channel: this._decorateChannelName(channel.name),\r\n        ...subscriptionOptions\r\n      },\r\n      options,\r\n      (err) => {\r\n        if (err) {\r\n          if (err.name === 'BadConnectionError') {\r\n            // In case of a failed connection, keep the subscription\r\n            // as pending; it will try again on reconnect.\r\n            return;\r\n          }\r\n          delete channel._pendingSubscriptionCid;\r\n          this._triggerChannelSubscribeFail(err, channel, subscriptionOptions);\r\n        } else {\r\n          delete channel._pendingSubscriptionCid;\r\n          this._triggerChannelSubscribe(channel, subscriptionOptions);\r\n        }\r\n      }\r\n    );\r\n    this.emit('subscribeRequest', {\r\n      channel: channel.name,\r\n      subscriptionOptions\r\n    });\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype.subscribe = function (channelName, options) {\r\n  options = options || {};\r\n  let channel = this._channelMap[channelName];\r\n\r\n  let sanitizedOptions = {\r\n    waitForAuth: !!options.waitForAuth\r\n  };\r\n\r\n  if (options.priority != null) {\r\n    sanitizedOptions.priority = options.priority;\r\n  }\r\n  if (options.data !== undefined) {\r\n    sanitizedOptions.data = options.data;\r\n  }\r\n\r\n  if (!channel) {\r\n    channel = {\r\n      name: channelName,\r\n      state: AGChannel.PENDING,\r\n      options: sanitizedOptions\r\n    };\r\n    this._channelMap[channelName] = channel;\r\n    this._trySubscribe(channel);\r\n  } else if (options) {\r\n    channel.options = sanitizedOptions;\r\n  }\r\n\r\n  let channelIterable = new AGChannel(\r\n    channelName,\r\n    this,\r\n    this._channelEventDemux,\r\n    this._channelDataDemux\r\n  );\r\n\r\n  return channelIterable;\r\n};\r\n\r\nAGClientSocket.prototype._triggerChannelUnsubscribe = function (channel, setAsPending) {\r\n  let channelName = channel.name;\r\n\r\n  this._cancelPendingSubscribeCallback(channel);\r\n\r\n  if (channel.state === AGChannel.SUBSCRIBED) {\r\n    let stateChangeData = {\r\n      oldChannelState: channel.state,\r\n      newChannelState: setAsPending ? AGChannel.PENDING : AGChannel.UNSUBSCRIBED\r\n    };\r\n    this._channelEventDemux.write(`${channelName}/subscribeStateChange`, stateChangeData);\r\n    this._channelEventDemux.write(`${channelName}/unsubscribe`, {});\r\n    this.emit('subscribeStateChange', {\r\n      channel: channelName,\r\n      ...stateChangeData\r\n    });\r\n    this.emit('unsubscribe', {channel: channelName});\r\n  }\r\n\r\n  if (setAsPending) {\r\n    channel.state = AGChannel.PENDING;\r\n  } else {\r\n    delete this._channelMap[channelName];\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._tryUnsubscribe = function (channel) {\r\n  if (this.state === this.OPEN) {\r\n    let options = {\r\n      noTimeout: true\r\n    };\r\n    // If there is a pending subscribe action, cancel the callback\r\n    this._cancelPendingSubscribeCallback(channel);\r\n\r\n    // This operation cannot fail because the TCP protocol guarantees delivery\r\n    // so long as the connection remains open. If the connection closes,\r\n    // the server will automatically unsubscribe the client and thus complete\r\n    // the operation on the server side.\r\n    let decoratedChannelName = this._decorateChannelName(channel.name);\r\n    this.transport.transmit('#unsubscribe', decoratedChannelName, options);\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype.unsubscribe = function (channelName) {\r\n  let channel = this._channelMap[channelName];\r\n\r\n  if (channel) {\r\n    this._triggerChannelUnsubscribe(channel);\r\n    this._tryUnsubscribe(channel);\r\n  }\r\n};\r\n\r\n// ---- Receiver logic ----\r\n\r\nAGClientSocket.prototype.receiver = function (receiverName) {\r\n  return this._receiverDemux.stream(receiverName);\r\n};\r\n\r\nAGClientSocket.prototype.closeReceiver = function (receiverName) {\r\n  this._receiverDemux.close(receiverName);\r\n};\r\n\r\nAGClientSocket.prototype.closeAllReceivers = function () {\r\n  this._receiverDemux.closeAll();\r\n};\r\n\r\nAGClientSocket.prototype.killReceiver = function (receiverName) {\r\n  this._receiverDemux.kill(receiverName);\r\n};\r\n\r\nAGClientSocket.prototype.killAllReceivers = function () {\r\n  this._receiverDemux.killAll();\r\n};\r\n\r\nAGClientSocket.prototype.killReceiverConsumer = function (consumerId) {\r\n  this._receiverDemux.killConsumer(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getReceiverConsumerStats = function (consumerId) {\r\n  return this._receiverDemux.getConsumerStats(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getReceiverConsumerStatsList = function (receiverName) {\r\n  return this._receiverDemux.getConsumerStatsList(receiverName);\r\n};\r\n\r\nAGClientSocket.prototype.getAllReceiversConsumerStatsList = function () {\r\n  return this._receiverDemux.getConsumerStatsListAll();\r\n};\r\n\r\nAGClientSocket.prototype.getReceiverBackpressure = function (receiverName) {\r\n  return this._receiverDemux.getBackpressure(receiverName);\r\n};\r\n\r\nAGClientSocket.prototype.getAllReceiversBackpressure = function () {\r\n  return this._receiverDemux.getBackpressureAll();\r\n};\r\n\r\nAGClientSocket.prototype.getReceiverConsumerBackpressure = function (consumerId) {\r\n  return this._receiverDemux.getConsumerBackpressure(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.hasReceiverConsumer = function (receiverName, consumerId) {\r\n  return this._receiverDemux.hasConsumer(receiverName, consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.hasAnyReceiverConsumer = function (consumerId) {\r\n  return this._receiverDemux.hasConsumerAll(consumerId);\r\n};\r\n\r\n// ---- Procedure logic ----\r\n\r\nAGClientSocket.prototype.procedure = function (procedureName) {\r\n  return this._procedureDemux.stream(procedureName);\r\n};\r\n\r\nAGClientSocket.prototype.closeProcedure = function (procedureName) {\r\n  this._procedureDemux.close(procedureName);\r\n};\r\n\r\nAGClientSocket.prototype.closeAllProcedures = function () {\r\n  this._procedureDemux.closeAll();\r\n};\r\n\r\nAGClientSocket.prototype.killProcedure = function (procedureName) {\r\n  this._procedureDemux.kill(procedureName);\r\n};\r\n\r\nAGClientSocket.prototype.killAllProcedures = function () {\r\n  this._procedureDemux.killAll();\r\n};\r\n\r\nAGClientSocket.prototype.killProcedureConsumer = function (consumerId) {\r\n  this._procedureDemux.killConsumer(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getProcedureConsumerStats = function (consumerId) {\r\n  return this._procedureDemux.getConsumerStats(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getProcedureConsumerStatsList = function (procedureName) {\r\n  return this._procedureDemux.getConsumerStatsList(procedureName);\r\n};\r\n\r\nAGClientSocket.prototype.getAllProceduresConsumerStatsList = function () {\r\n  return this._procedureDemux.getConsumerStatsListAll();\r\n};\r\n\r\nAGClientSocket.prototype.getProcedureBackpressure = function (procedureName) {\r\n  return this._procedureDemux.getBackpressure(procedureName);\r\n};\r\n\r\nAGClientSocket.prototype.getAllProceduresBackpressure = function () {\r\n  return this._procedureDemux.getBackpressureAll();\r\n};\r\n\r\nAGClientSocket.prototype.getProcedureConsumerBackpressure = function (consumerId) {\r\n  return this._procedureDemux.getConsumerBackpressure(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.hasProcedureConsumer = function (procedureName, consumerId) {\r\n  return this._procedureDemux.hasConsumer(procedureName, consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.hasAnyProcedureConsumer = function (consumerId) {\r\n  return this._procedureDemux.hasConsumerAll(consumerId);\r\n};\r\n\r\n// ---- Channel logic ----\r\n\r\nAGClientSocket.prototype.channel = function (channelName) {\r\n  let currentChannel = this._channelMap[channelName];\r\n\r\n  let channelIterable = new AGChannel(\r\n    channelName,\r\n    this,\r\n    this._channelEventDemux,\r\n    this._channelDataDemux\r\n  );\r\n\r\n  return channelIterable;\r\n};\r\n\r\nAGClientSocket.prototype.closeChannel = function (channelName) {\r\n  this.channelCloseOutput(channelName);\r\n  this.channelCloseAllListeners(channelName);\r\n};\r\n\r\nAGClientSocket.prototype.closeAllChannelOutputs = function () {\r\n  this._channelDataDemux.closeAll();\r\n};\r\n\r\nAGClientSocket.prototype.closeAllChannelListeners = function () {\r\n  this._channelEventDemux.closeAll();\r\n};\r\n\r\nAGClientSocket.prototype.closeAllChannels = function () {\r\n  this.closeAllChannelOutputs();\r\n  this.closeAllChannelListeners();\r\n};\r\n\r\nAGClientSocket.prototype.killChannel = function (channelName) {\r\n  this.channelKillOutput(channelName);\r\n  this.channelKillAllListeners(channelName);\r\n};\r\n\r\nAGClientSocket.prototype.killAllChannelOutputs = function () {\r\n  this._channelDataDemux.killAll();\r\n};\r\n\r\nAGClientSocket.prototype.killAllChannelListeners = function () {\r\n  this._channelEventDemux.killAll();\r\n};\r\n\r\nAGClientSocket.prototype.killAllChannels = function () {\r\n  this.killAllChannelOutputs();\r\n  this.killAllChannelListeners();\r\n};\r\n\r\nAGClientSocket.prototype.killChannelOutputConsumer = function (consumerId) {\r\n  this._channelDataDemux.killConsumer(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.killChannelListenerConsumer = function (consumerId) {\r\n  this._channelEventDemux.killConsumer(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getChannelOutputConsumerStats = function (consumerId) {\r\n  return this._channelDataDemux.getConsumerStats(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getChannelListenerConsumerStats = function (consumerId) {\r\n  return this._channelEventDemux.getConsumerStats(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getAllChannelOutputsConsumerStatsList = function () {\r\n  return this._channelDataDemux.getConsumerStatsListAll();\r\n};\r\n\r\nAGClientSocket.prototype.getAllChannelListenersConsumerStatsList = function () {\r\n  return this._channelEventDemux.getConsumerStatsListAll();\r\n};\r\n\r\nAGClientSocket.prototype.getChannelBackpressure = function (channelName) {\r\n  return Math.max(\r\n    this.channelGetOutputBackpressure(channelName),\r\n    this.channelGetAllListenersBackpressure(channelName)\r\n  );\r\n};\r\n\r\nAGClientSocket.prototype.getAllChannelOutputsBackpressure = function () {\r\n  return this._channelDataDemux.getBackpressureAll();\r\n};\r\n\r\nAGClientSocket.prototype.getAllChannelListenersBackpressure = function () {\r\n  return this._channelEventDemux.getBackpressureAll();\r\n};\r\n\r\nAGClientSocket.prototype.getAllChannelsBackpressure = function () {\r\n  return Math.max(\r\n    this.getAllChannelOutputsBackpressure(),\r\n    this.getAllChannelListenersBackpressure()\r\n  );\r\n};\r\n\r\nAGClientSocket.prototype.getChannelListenerConsumerBackpressure = function (consumerId) {\r\n  return this._channelEventDemux.getConsumerBackpressure(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getChannelOutputConsumerBackpressure = function (consumerId) {\r\n  return this._channelDataDemux.getConsumerBackpressure(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.hasAnyChannelOutputConsumer = function (consumerId) {\r\n  return this._channelDataDemux.hasConsumerAll(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.hasAnyChannelListenerConsumer = function (consumerId) {\r\n  return this._channelEventDemux.hasConsumerAll(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getChannelState = function (channelName) {\r\n  let channel = this._channelMap[channelName];\r\n  if (channel) {\r\n    return channel.state;\r\n  }\r\n  return AGChannel.UNSUBSCRIBED;\r\n};\r\n\r\nAGClientSocket.prototype.getChannelOptions = function (channelName) {\r\n  let channel = this._channelMap[channelName];\r\n  if (channel) {\r\n    return {...channel.options};\r\n  }\r\n  return {};\r\n};\r\n\r\nAGClientSocket.prototype._getAllChannelStreamNames = function (channelName) {\r\n  let streamNamesLookup = this._channelEventDemux.getConsumerStatsListAll()\r\n  .filter((stats) => {\r\n    return stats.stream.indexOf(`${channelName}/`) === 0;\r\n  })\r\n  .reduce((accumulator, stats) => {\r\n    accumulator[stats.stream] = true;\r\n    return accumulator;\r\n  }, {});\r\n  return Object.keys(streamNamesLookup);\r\n};\r\n\r\nAGClientSocket.prototype.channelCloseOutput = function (channelName) {\r\n  this._channelDataDemux.close(channelName);\r\n};\r\n\r\nAGClientSocket.prototype.channelCloseListener = function (channelName, eventName) {\r\n  this._channelEventDemux.close(`${channelName}/${eventName}`);\r\n};\r\n\r\nAGClientSocket.prototype.channelCloseAllListeners = function (channelName) {\r\n  let listenerStreams = this._getAllChannelStreamNames(channelName)\r\n  .forEach((streamName) => {\r\n    this._channelEventDemux.close(streamName);\r\n  });\r\n};\r\n\r\nAGClientSocket.prototype.channelKillOutput = function (channelName) {\r\n  this._channelDataDemux.kill(channelName);\r\n};\r\n\r\nAGClientSocket.prototype.channelKillListener = function (channelName, eventName) {\r\n  this._channelEventDemux.kill(`${channelName}/${eventName}`);\r\n};\r\n\r\nAGClientSocket.prototype.channelKillAllListeners = function (channelName) {\r\n  let listenerStreams = this._getAllChannelStreamNames(channelName)\r\n  .forEach((streamName) => {\r\n    this._channelEventDemux.kill(streamName);\r\n  });\r\n};\r\n\r\nAGClientSocket.prototype.channelGetOutputConsumerStatsList = function (channelName) {\r\n  return this._channelDataDemux.getConsumerStatsList(channelName);\r\n};\r\n\r\nAGClientSocket.prototype.channelGetListenerConsumerStatsList = function (channelName, eventName) {\r\n  return this._channelEventDemux.getConsumerStatsList(`${channelName}/${eventName}`);\r\n};\r\n\r\nAGClientSocket.prototype.channelGetAllListenersConsumerStatsList = function (channelName) {\r\n  return this._getAllChannelStreamNames(channelName)\r\n  .map((streamName) => {\r\n    return this._channelEventDemux.getConsumerStatsList(streamName);\r\n  })\r\n  .reduce((accumulator, statsList) => {\r\n    statsList.forEach((stats) => {\r\n      accumulator.push(stats);\r\n    });\r\n    return accumulator;\r\n  }, []);\r\n};\r\n\r\nAGClientSocket.prototype.channelGetOutputBackpressure = function (channelName) {\r\n  return this._channelDataDemux.getBackpressure(channelName);\r\n};\r\n\r\nAGClientSocket.prototype.channelGetListenerBackpressure = function (channelName, eventName) {\r\n  return this._channelEventDemux.getBackpressure(`${channelName}/${eventName}`);\r\n};\r\n\r\nAGClientSocket.prototype.channelGetAllListenersBackpressure = function (channelName) {\r\n  let listenerStreamBackpressures = this._getAllChannelStreamNames(channelName)\r\n  .map((streamName) => {\r\n    return this._channelEventDemux.getBackpressure(streamName);\r\n  });\r\n  return Math.max(...listenerStreamBackpressures.concat(0));\r\n};\r\n\r\nAGClientSocket.prototype.channelHasOutputConsumer = function (channelName, consumerId) {\r\n  return this._channelDataDemux.hasConsumer(channelName, consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.channelHasListenerConsumer = function (channelName, eventName, consumerId) {\r\n  return this._channelEventDemux.hasConsumer(`${channelName}/${eventName}`, consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.channelHasAnyListenerConsumer = function (channelName, consumerId) {\r\n  return this._getAllChannelStreamNames(channelName)\r\n  .some((streamName) => {\r\n    return this._channelEventDemux.hasConsumer(streamName, consumerId);\r\n  });\r\n};\r\n\r\nAGClientSocket.prototype.subscriptions = function (includePending) {\r\n  let subs = [];\r\n  Object.keys(this._channelMap).forEach((channelName) => {\r\n    if (includePending || this._channelMap[channelName].state === AGChannel.SUBSCRIBED) {\r\n      subs.push(channelName);\r\n    }\r\n  });\r\n  return subs;\r\n};\r\n\r\nAGClientSocket.prototype.isSubscribed = function (channelName, includePending) {\r\n  let channel = this._channelMap[channelName];\r\n  if (includePending) {\r\n    return !!channel;\r\n  }\r\n  return !!channel && channel.state === AGChannel.SUBSCRIBED;\r\n};\r\n\r\nAGClientSocket.prototype.processPendingSubscriptions = function () {\r\n  this.preparingPendingSubscriptions = false;\r\n  let pendingChannels = [];\r\n\r\n  Object.keys(this._channelMap).forEach((channelName) => {\r\n    let channel = this._channelMap[channelName];\r\n    if (channel.state === AGChannel.PENDING) {\r\n      pendingChannels.push(channel);\r\n    }\r\n  });\r\n\r\n  pendingChannels.sort((a, b) => {\r\n    let ap = a.options.priority || 0;\r\n    let bp = b.options.priority || 0;\r\n    if (ap > bp) {\r\n      return -1;\r\n    }\r\n    if (ap < bp) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  });\r\n\r\n  pendingChannels.forEach((channel) => {\r\n    this._trySubscribe(channel);\r\n  });\r\n};\r\n\r\nmodule.exports = AGClientSocket;\r\n","function _OverloadYield(e, d) {\n  this.v = e, this.k = d;\n}\nmodule.exports = _OverloadYield, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _regeneratorDefine(e, r, n, t) {\n  var i = Object.defineProperty;\n  try {\n    i({}, \"\", {});\n  } catch (e) {\n    i = 0;\n  }\n  module.exports = _regeneratorDefine = function regeneratorDefine(e, r, n, t) {\n    if (r) i ? i(e, r, {\n      value: n,\n      enumerable: !t,\n      configurable: !t,\n      writable: !t\n    }) : e[r] = n;else {\n      var o = function o(r, n) {\n        _regeneratorDefine(e, r, function (e) {\n          return this._invoke(r, n, e);\n        });\n      };\n      o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2);\n    }\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _regeneratorDefine(e, r, n, t);\n}\nmodule.exports = _regeneratorDefine, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var regeneratorAsyncGen = require(\"./regeneratorAsyncGen.js\");\nfunction _regeneratorAsync(n, e, r, t, o) {\n  var a = regeneratorAsyncGen(n, e, r, t, o);\n  return a.next().then(function (n) {\n    return n.done ? n.value : a.next();\n  });\n}\nmodule.exports = _regeneratorAsync, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","class Consumer {\n  constructor(stream, id, startNode, timeout) {\n    this.id = id;\n    this._backpressure = 0;\n    this.currentNode = startNode;\n    this.timeout = timeout;\n    this.isAlive = true;\n    this.stream = stream;\n    this.stream.setConsumer(this.id, this);\n  }\n\n  getStats() {\n    let stats = {\n      id: this.id,\n      backpressure: this._backpressure\n    };\n    if (this.timeout != null) {\n      stats.timeout = this.timeout;\n    }\n    return stats;\n  }\n\n  _resetBackpressure() {\n    this._backpressure = 0;\n  }\n\n  applyBackpressure(packet) {\n    this._backpressure++;\n  }\n\n  releaseBackpressure(packet) {\n    this._backpressure--;\n  }\n\n  getBackpressure() {\n    return this._backpressure;\n  }\n\n  clearActiveTimeout() {\n    clearTimeout(this._timeoutId);\n    delete this._timeoutId;\n  }\n\n  write(packet) {\n    if (this._timeoutId !== undefined) {\n      this.clearActiveTimeout(packet);\n    }\n    this.applyBackpressure(packet);\n    if (this._resolve) {\n      this._resolve();\n      delete this._resolve;\n    }\n  }\n\n  kill(value) {\n    this._killPacket = {value, done: true};\n    if (this._timeoutId !== undefined) {\n      this.clearActiveTimeout(this._killPacket);\n    }\n    this._destroy();\n\n    if (this._resolve) {\n      this._resolve();\n      delete this._resolve;\n    }\n  }\n\n  _destroy() {\n    this.isAlive = false;\n    this._resetBackpressure();\n    this.stream.removeConsumer(this.id);\n  }\n\n  async _waitForNextItem(timeout) {\n    return new Promise((resolve, reject) => {\n      this._resolve = resolve;\n      let timeoutId;\n      if (timeout !== undefined) {\n        // Create the error object in the outer scope in order\n        // to get the full stack trace.\n        let error = new Error('Stream consumer iteration timed out');\n        (async () => {\n          let delay = wait(timeout);\n          timeoutId = delay.timeoutId;\n          await delay.promise;\n          error.name = 'TimeoutError';\n          delete this._resolve;\n          reject(error);\n        })();\n      }\n      this._timeoutId = timeoutId;\n    });\n  }\n\n  async next() {\n    this.stream.setConsumer(this.id, this);\n\n    while (true) {\n      if (!this.currentNode.next) {\n        try {\n          await this._waitForNextItem(this.timeout);\n        } catch (error) {\n          this._destroy();\n          throw error;\n        }\n      }\n      if (this._killPacket) {\n        this._destroy();\n        let killPacket = this._killPacket;\n        delete this._killPacket;\n\n        return killPacket;\n      }\n\n      this.currentNode = this.currentNode.next;\n      this.releaseBackpressure(this.currentNode.data);\n\n      if (this.currentNode.consumerId && this.currentNode.consumerId !== this.id) {\n        continue;\n      }\n\n      if (this.currentNode.data.done) {\n        this._destroy();\n      }\n\n      return this.currentNode.data;\n    }\n  }\n\n  return() {\n    delete this.currentNode;\n    this._destroy();\n    return {};\n  }\n\n  [Symbol.asyncIterator]() {\n    return this;\n  }\n}\n\nfunction wait(timeout) {\n  let timeoutId;\n  let promise = new Promise((resolve) => {\n    timeoutId = setTimeout(resolve, timeout);\n  });\n  return {timeoutId, promise};\n}\n\nmodule.exports = Consumer;\n","const AGClientSocket = require('./lib/clientsocket');\nconst factory = require('./lib/factory');\nconst version = '19.1.2';\n\nmodule.exports.factory = factory;\nmodule.exports.AGClientSocket = AGClientSocket;\n\nmodule.exports.create = function (options) {\n  return factory.create({...options, version});\n};\n\nmodule.exports.version = version;\n","var regeneratorDefine = require(\"./regeneratorDefine.js\");\nfunction _regenerator() {\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */\n  var e,\n    t,\n    r = \"function\" == typeof Symbol ? Symbol : {},\n    n = r.iterator || \"@@iterator\",\n    o = r.toStringTag || \"@@toStringTag\";\n  function i(r, n, o, i) {\n    var c = n && n.prototype instanceof Generator ? n : Generator,\n      u = Object.create(c.prototype);\n    return regeneratorDefine(u, \"_invoke\", function (r, n, o) {\n      var i,\n        c,\n        u,\n        f = 0,\n        p = o || [],\n        y = !1,\n        G = {\n          p: 0,\n          n: 0,\n          v: e,\n          a: d,\n          f: d.bind(e, 4),\n          d: function d(t, r) {\n            return i = t, c = 0, u = e, G.n = r, a;\n          }\n        };\n      function d(r, n) {\n        for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) {\n          var o,\n            i = p[t],\n            d = G.p,\n            l = i[2];\n          r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0));\n        }\n        if (o || r > 1) return a;\n        throw y = !0, n;\n      }\n      return function (o, p, l) {\n        if (f > 1) throw TypeError(\"Generator is already running\");\n        for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) {\n          i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u);\n          try {\n            if (f = 2, i) {\n              if (c || (o = \"next\"), t = i[o]) {\n                if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\");\n                if (!t.done) return t;\n                u = t.value, c < 2 && (c = 0);\n              } else 1 === c && (t = i[\"return\"]) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1);\n              i = e;\n            } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break;\n          } catch (t) {\n            i = e, c = 1, u = t;\n          } finally {\n            f = 1;\n          }\n        }\n        return {\n          value: t,\n          done: y\n        };\n      };\n    }(r, o, i), !0), u;\n  }\n  var a = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  t = Object.getPrototypeOf;\n  var c = [][n] ? t(t([][n]())) : (regeneratorDefine(t = {}, n, function () {\n      return this;\n    }), t),\n    u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c);\n  function f(e) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, regeneratorDefine(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e;\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, regeneratorDefine(u, \"constructor\", GeneratorFunctionPrototype), regeneratorDefine(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", regeneratorDefine(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), regeneratorDefine(u), regeneratorDefine(u, o, \"Generator\"), regeneratorDefine(u, n, function () {\n    return this;\n  }), regeneratorDefine(u, \"toString\", function () {\n    return \"[object Generator]\";\n  }), (module.exports = _regenerator = function _regenerator() {\n    return {\n      w: i,\n      m: f\n    };\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports)();\n}\nmodule.exports = _regenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n","const scErrors = require('sc-errors');\nconst InvalidActionError = scErrors.InvalidActionError;\n\nfunction AGRequest(socket, id, procedureName, data) {\n  this.socket = socket;\n  this.id = id;\n  this.procedure = procedureName;\n  this.data = data;\n  this.sent = false;\n\n  this._respond = (responseData, options) => {\n    if (this.sent) {\n      throw new InvalidActionError(`Response to request ${this.id} has already been sent`);\n    }\n    this.sent = true;\n    this.socket.sendObject(responseData, options);\n  };\n\n  this.end = (data, options) => {\n    let responseData = {\n      rid: this.id\n    };\n    if (data !== undefined) {\n      responseData.data = data;\n    }\n    this._respond(responseData, options);\n  };\n\n  this.error = (error, options) => {\n    let responseData = {\n      rid: this.id,\n      error: scErrors.dehydrateError(error)\n    };\n    this._respond(responseData, options);\n  };\n}\n\nmodule.exports = AGRequest;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","// Based on https://github.com/dscape/cycle/blob/master/cycle.js\n\nmodule.exports = function decycle(object) {\n// Make a deep copy of an object or array, assuring that there is at most\n// one instance of each object or array in the resulting structure. The\n// duplicate references (which might be forming cycles) are replaced with\n// an object of the form\n//      {$ref: PATH}\n// where the PATH is a JSONPath string that locates the first occurance.\n// So,\n//      var a = [];\n//      a[0] = a;\n//      return JSON.stringify(JSON.decycle(a));\n// produces the string '[{\"$ref\":\"$\"}]'.\n\n// JSONPath is used to locate the unique object. $ indicates the top level of\n// the object or array. [NUMBER] or [STRING] indicates a child member or\n// property.\n\n    var objects = [],   // Keep a reference to each unique object or array\n        paths = [];     // Keep the path to each unique object or array\n\n    return (function derez(value, path) {\n\n// The derez recurses through the object, producing the deep copy.\n\n        var i,          // The loop counter\n            name,       // Property name\n            nu;         // The new object or array\n\n// typeof null === 'object', so go on if this value is really an object but not\n// one of the weird builtin objects.\n\n        if (typeof value === 'object' && value !== null &&\n                !(value instanceof Boolean) &&\n                !(value instanceof Date)    &&\n                !(value instanceof Number)  &&\n                !(value instanceof RegExp)  &&\n                !(value instanceof String)) {\n\n// If the value is an object or array, look to see if we have already\n// encountered it. If so, return a $ref/path object. This is a hard way,\n// linear search that will get slower as the number of unique objects grows.\n\n            for (i = 0; i < objects.length; i += 1) {\n                if (objects[i] === value) {\n                    return {$ref: paths[i]};\n                }\n            }\n\n// Otherwise, accumulate the unique value and its path.\n\n            objects.push(value);\n            paths.push(path);\n\n// If it is an array, replicate the array.\n\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n                nu = [];\n                for (i = 0; i < value.length; i += 1) {\n                    nu[i] = derez(value[i], path + '[' + i + ']');\n                }\n            } else {\n\n// If it is an object, replicate the object.\n\n                nu = {};\n                for (name in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, name)) {\n                        nu[name] = derez(value[name],\n                            path + '[' + JSON.stringify(name) + ']');\n                    }\n                }\n            }\n            return nu;\n        }\n        return value;\n    }(object, '$'));\n};\n","const WritableConsumableStream = require('writable-consumable-stream');\nconst DemuxedConsumableStream = require('./demuxed-consumable-stream');\n\nclass StreamDemux {\n  constructor() {\n    this.streams = {};\n    this._nextConsumerId = 1;\n    this.generateConsumerId = () => {\n      return this._nextConsumerId++;\n    };\n  }\n\n  write(streamName, value) {\n    if (this.streams[streamName]) {\n      this.streams[streamName].write(value);\n    }\n  }\n\n  close(streamName, value) {\n    if (this.streams[streamName]) {\n      this.streams[streamName].close(value);\n    }\n  }\n\n  closeAll(value) {\n    for (let stream of Object.values(this.streams)) {\n      stream.close(value);\n    }\n  }\n\n  writeToConsumer(consumerId, value) {\n    for (let stream of Object.values(this.streams)) {\n      if (stream.hasConsumer(consumerId)) {\n        return stream.writeToConsumer(consumerId, value);\n      }\n    }\n  }\n\n  closeConsumer(consumerId, value) {\n    for (let stream of Object.values(this.streams)) {\n      if (stream.hasConsumer(consumerId)) {\n        return stream.closeConsumer(consumerId, value);\n      }\n    }\n  }\n\n  getConsumerStats(consumerId) {\n    for (let [streamName, stream] of Object.entries(this.streams)) {\n      if (stream.hasConsumer(consumerId)) {\n        return {\n          ...stream.getConsumerStats(consumerId),\n          stream: streamName\n        };\n      }\n    }\n    return undefined;\n  }\n\n  getConsumerStatsList(streamName) {\n    if (this.streams[streamName]) {\n      return this.streams[streamName]\n        .getConsumerStatsList()\n        .map(\n          (stats) => {\n            return {\n              ...stats,\n              stream: streamName\n            };\n          }\n        );\n    }\n    return [];\n  }\n\n  getConsumerStatsListAll() {\n    let allStatsList = [];\n    for (let streamName of Object.keys(this.streams)) {\n      let statsList = this.getConsumerStatsList(streamName);\n      for (let stats of statsList) {\n        allStatsList.push(stats);\n      }\n    }\n    return allStatsList;\n  }\n\n  kill(streamName, value) {\n    if (this.streams[streamName]) {\n      this.streams[streamName].kill(value);\n    }\n  }\n\n  killAll(value) {\n    for (let stream of Object.values(this.streams)) {\n      stream.kill(value);\n    }\n  }\n\n  killConsumer(consumerId, value) {\n    for (let stream of Object.values(this.streams)) {\n      if (stream.hasConsumer(consumerId)) {\n        return stream.killConsumer(consumerId, value);\n      }\n    }\n  }\n\n  getBackpressure(streamName) {\n    if (this.streams[streamName]) {\n      return this.streams[streamName].getBackpressure();\n    }\n    return 0;\n  }\n\n  getBackpressureAll() {\n    return Object.values(this.streams).reduce(\n      (max, stream) => Math.max(max, stream.getBackpressure()),\n      0\n    );\n  }\n\n  getConsumerBackpressure(consumerId) {\n    for (let stream of Object.values(this.streams)) {\n      if (stream.hasConsumer(consumerId)) {\n        return stream.getConsumerBackpressure(consumerId);\n      }\n    }\n    return 0;\n  }\n\n  hasConsumer(streamName, consumerId) {\n    if (this.streams[streamName]) {\n      return this.streams[streamName].hasConsumer(consumerId);\n    }\n    return false;\n  }\n\n  hasConsumerAll(consumerId) {\n    return Object.values(this.streams).some(stream => stream.hasConsumer(consumerId));\n  }\n\n  getConsumerCount(streamName) {\n    if (this.streams[streamName]) {\n      return this.streams[streamName].getConsumerCount();\n    }\n    return 0;\n  }\n\n  getConsumerCountAll() {\n    return Object.values(this.streams).reduce(\n      (sum, stream) => sum + stream.getConsumerCount(),\n      0\n    );\n  }\n\n  createConsumer(streamName, timeout) {\n    if (!this.streams[streamName]) {\n      this.streams[streamName] = new WritableConsumableStream({\n        generateConsumerId: this.generateConsumerId,\n        removeConsumerCallback: () => {\n          if (!this.getConsumerCount(streamName)) {\n            delete this.streams[streamName];\n          }\n        }\n      });\n    }\n    return this.streams[streamName].createConsumer(timeout);\n  }\n\n  // Unlike individual consumers, consumable streams support being iterated\n  // over by multiple for-await-of loops in parallel.\n  stream(streamName) {\n    return new DemuxedConsumableStream(this, streamName);\n  }\n\n  unstream(streamName) {\n    delete this.streams[streamName];\n  }\n}\n\nmodule.exports = StreamDemux;\n","const decycle = require('./decycle');\n\nconst isStrict = (function () { return !this; })();\n\nfunction AuthTokenExpiredError(message, expiry) {\n  this.name = 'AuthTokenExpiredError';\n  this.message = message;\n  this.expiry = expiry;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenExpiredError.prototype = Object.create(Error.prototype);\n\n\nfunction AuthTokenInvalidError(message) {\n  this.name = 'AuthTokenInvalidError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenInvalidError.prototype = Object.create(Error.prototype);\n\n\nfunction AuthTokenNotBeforeError(message, date) {\n  this.name = 'AuthTokenNotBeforeError';\n  this.message = message;\n  this.date = date;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenNotBeforeError.prototype = Object.create(Error.prototype);\n\n\n// For any other auth token error.\nfunction AuthTokenError(message) {\n  this.name = 'AuthTokenError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenError.prototype = Object.create(Error.prototype);\n\n// For any other auth error; not specifically related to the auth token itself.\nfunction AuthError(message) {\n  this.name = 'AuthError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthError.prototype = Object.create(Error.prototype);\n\n\nfunction SilentMiddlewareBlockedError(message, type) {\n  this.name = 'SilentMiddlewareBlockedError';\n  this.message = message;\n  this.type = type;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nSilentMiddlewareBlockedError.prototype = Object.create(Error.prototype);\n\n\nfunction InvalidActionError(message) {\n  this.name = 'InvalidActionError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidActionError.prototype = Object.create(Error.prototype);\n\nfunction InvalidArgumentsError(message) {\n  this.name = 'InvalidArgumentsError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidArgumentsError.prototype = Object.create(Error.prototype);\n\nfunction InvalidOptionsError(message) {\n  this.name = 'InvalidOptionsError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidOptionsError.prototype = Object.create(Error.prototype);\n\n\nfunction InvalidMessageError(message) {\n  this.name = 'InvalidMessageError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidMessageError.prototype = Object.create(Error.prototype);\n\n\nfunction SocketProtocolError(message, code) {\n  this.name = 'SocketProtocolError';\n  this.message = message;\n  this.code = code;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nSocketProtocolError.prototype = Object.create(Error.prototype);\n\n\nfunction ServerProtocolError(message) {\n  this.name = 'ServerProtocolError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nServerProtocolError.prototype = Object.create(Error.prototype);\n\nfunction HTTPServerError(message) {\n  this.name = 'HTTPServerError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nHTTPServerError.prototype = Object.create(Error.prototype);\n\n\nfunction ResourceLimitError(message) {\n  this.name = 'ResourceLimitError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nResourceLimitError.prototype = Object.create(Error.prototype);\n\n\nfunction TimeoutError(message) {\n  this.name = 'TimeoutError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nTimeoutError.prototype = Object.create(Error.prototype);\n\n\nfunction BadConnectionError(message, type, code, reason) {\n  this.name = 'BadConnectionError';\n  this.message = message;\n  this.type = type;\n  this.code = code || 1001;\n  this.reason = reason || socketProtocolIgnoreStatuses[this.code] || '';\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nBadConnectionError.prototype = Object.create(Error.prototype);\n\n\nfunction BrokerError(message) {\n  this.name = 'BrokerError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nBrokerError.prototype = Object.create(Error.prototype);\n\n\nfunction ProcessExitError(message, code) {\n  this.name = 'ProcessExitError';\n  this.message = message;\n  this.code = code;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nProcessExitError.prototype = Object.create(Error.prototype);\n\n\nfunction UnknownError(message) {\n  this.name = 'UnknownError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nUnknownError.prototype = Object.create(Error.prototype);\n\n\n// Expose all error types.\n\nmodule.exports = {\n  AuthTokenExpiredError: AuthTokenExpiredError,\n  AuthTokenInvalidError: AuthTokenInvalidError,\n  AuthTokenNotBeforeError: AuthTokenNotBeforeError,\n  AuthTokenError: AuthTokenError,\n  AuthError: AuthError,\n  SilentMiddlewareBlockedError: SilentMiddlewareBlockedError,\n  InvalidActionError: InvalidActionError,\n  InvalidArgumentsError: InvalidArgumentsError,\n  InvalidOptionsError: InvalidOptionsError,\n  InvalidMessageError: InvalidMessageError,\n  SocketProtocolError: SocketProtocolError,\n  ServerProtocolError: ServerProtocolError,\n  HTTPServerError: HTTPServerError,\n  ResourceLimitError: ResourceLimitError,\n  TimeoutError: TimeoutError,\n  BadConnectionError: BadConnectionError,\n  BrokerError: BrokerError,\n  ProcessExitError: ProcessExitError,\n  UnknownError: UnknownError\n};\n\nconst socketProtocolErrorStatuses = {\n  1001: 'Socket was disconnected',\n  1002: 'A WebSocket protocol error was encountered',\n  1003: 'Server terminated socket because it received invalid data',\n  1005: 'Socket closed without status code',\n  1006: 'Socket hung up',\n  1007: 'Message format was incorrect',\n  1008: 'Encountered a policy violation',\n  1009: 'Message was too big to process',\n  1010: 'Client ended the connection because the server did not comply with extension requirements',\n  1011: 'Server encountered an unexpected fatal condition',\n  4000: 'Server ping timed out',\n  4001: 'Client pong timed out',\n  4002: 'Server failed to sign auth token',\n  4003: 'Failed to complete handshake',\n  4004: 'Client failed to save auth token',\n  4005: 'Did not receive #handshake from client before timeout',\n  4006: 'Failed to bind socket to message broker',\n  4007: 'Client connection establishment timed out',\n  4008: 'Server rejected handshake from client',\n  4009: 'Server received a message before the client handshake'\n};\n\nconst socketProtocolIgnoreStatuses = {\n  1000: 'Socket closed normally',\n  1001: socketProtocolErrorStatuses[1001]\n};\n\nmodule.exports.socketProtocolErrorStatuses = socketProtocolErrorStatuses;\nmodule.exports.socketProtocolIgnoreStatuses = socketProtocolIgnoreStatuses;\n\n// Convert an error into a JSON-compatible type which can later be hydrated\n// back to its *original* form.\nmodule.exports.dehydrateError = function dehydrateError(error) {\n  let dehydratedError;\n\n  if (error && typeof error === 'object') {\n    dehydratedError = {\n      message: error.message\n    };\n    for (let i of Object.keys(error)) {\n      dehydratedError[i] = error[i];\n    }\n  } else if (typeof error === 'function') {\n    dehydratedError = '[function ' + (typeof error.name === 'string' ? error.name : 'anonymous') + ']';\n  } else {\n    dehydratedError = error;\n  }\n\n  return decycle(dehydratedError);\n};\n\n// Convert a dehydrated error back to its *original* form.\nmodule.exports.hydrateError = function hydrateError(error) {\n  let hydratedError = null;\n  if (error != null) {\n    if (typeof error === 'object') {\n      hydratedError = new Error(\n        typeof error.message === 'string' ? error.message : 'Invalid error message format'\n      );\n      if (typeof error.name === 'string') {\n        hydratedError.name = error.name;\n      }\n      for (let i of Object.keys(error)) {\n        if (hydratedError[i] === undefined) {\n          hydratedError[i] = error[i];\n        }\n      }\n    } else {\n      hydratedError = error;\n    }\n  }\n  return hydratedError;\n};\n\nmodule.exports.decycle = decycle;\n","const ConsumableStream = require('consumable-stream');\n\nclass DemuxedConsumableStream extends ConsumableStream {\n  constructor(streamDemux, name) {\n    super();\n    this._streamDemux = streamDemux;\n    this.name = name;\n  }\n\n  createConsumer(timeout) {\n    return this._streamDemux.createConsumer(this.name, timeout);\n  }\n}\n\nmodule.exports = DemuxedConsumableStream;\n","const base64Chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nconst validJSONStartRegex = /^[ \\n\\r\\t]*[{\\[]/;\n\nlet arrayBufferToBase64 = function (arraybuffer) {\n  let bytes = new Uint8Array(arraybuffer);\n  let len = bytes.length;\n  let base64 = '';\n\n  for (let i = 0; i < len; i += 3) {\n    base64 += base64Chars[bytes[i] >> 2];\n    base64 += base64Chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n    base64 += base64Chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n    base64 += base64Chars[bytes[i + 2] & 63];\n  }\n\n  if ((len % 3) === 2) {\n    base64 = base64.substring(0, base64.length - 1) + '=';\n  } else if (len % 3 === 1) {\n    base64 = base64.substring(0, base64.length - 2) + '==';\n  }\n\n  return base64;\n};\n\nlet binaryToBase64Replacer = function (key, value) {\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return {\n      base64: true,\n      data: arrayBufferToBase64(value)\n    };\n  } else if (typeof Buffer !== 'undefined') {\n    if (value instanceof Buffer){\n      return {\n        base64: true,\n        data: value.toString('base64')\n      };\n    }\n    // Some versions of Node.js convert Buffers to Objects before they are passed to\n    // the replacer function - Because of this, we need to rehydrate Buffers\n    // before we can convert them to base64 strings.\n    if (value && value.type === 'Buffer' && Array.isArray(value.data)) {\n      let rehydratedBuffer;\n      if (Buffer.from) {\n        rehydratedBuffer = Buffer.from(value.data);\n      } else {\n        rehydratedBuffer = new Buffer(value.data);\n      }\n      return {\n        base64: true,\n        data: rehydratedBuffer.toString('base64')\n      };\n    }\n  }\n  return value;\n};\n\n// Decode the data which was transmitted over the wire to a JavaScript Object in a format which SC understands.\n// See encode function below for more details.\nmodule.exports.decode = function (encodedMessage) {\n  if (encodedMessage == null) {\n   return null;\n  }\n  // Leave ping or pong message as is\n  if (encodedMessage === '#1' || encodedMessage === '#2') {\n    return encodedMessage;\n  }\n  let message = encodedMessage.toString();\n\n  // Performance optimization to detect invalid JSON packet sooner.\n  if (!validJSONStartRegex.test(message)) {\n    return message;\n  }\n\n  try {\n    return JSON.parse(message);\n  } catch (err) {}\n  return message;\n};\n\n// Encode raw data (which is in the SC protocol format) into a format for\n// transfering it over the wire. In this case, we just convert it into a simple JSON string.\n// If you want to create your own custom codec, you can encode the object into any format\n// (e.g. binary ArrayBuffer or string with any kind of compression) so long as your decode\n// function is able to rehydrate that object back into its original JavaScript Object format\n// (which adheres to the SC protocol).\n// See https://github.com/SocketCluster/socketcluster/blob/master/socketcluster-protocol.md\n// for details about the SC protocol.\nmodule.exports.encode = function (rawData) {\n  // Leave ping or pong message as is\n  if (rawData === '#1' || rawData === '#2') {\n    return rawData;\n  }\n  return JSON.stringify(rawData, binaryToBase64Replacer);\n};\n","let globalScope;\r\nif (typeof WorkerGlobalScope !== 'undefined') {\r\n  globalScope = self;\r\n} else {\r\n  globalScope = typeof window !== 'undefined' && window || (function() { return this; })();\r\n}\r\n\r\nconst WebSocket = globalScope.WebSocket || globalScope.MozWebSocket;\r\n\r\n/**\r\n * WebSocket constructor.\r\n *\r\n * The third `opts` options object gets ignored in web browsers, since it's\r\n * non-standard, and throws a TypeError if passed to the constructor.\r\n * See: https://github.com/einaros/ws/issues/227\r\n *\r\n * @param {String} uri\r\n * @param {Array} protocols (optional)\r\n * @param {Object} opts (optional)\r\n * @api public\r\n */\r\n\r\nfunction ws(uri, protocols, opts) {\r\n  let instance;\r\n  if (protocols) {\r\n    instance = new WebSocket(uri, protocols);\r\n  } else {\r\n    instance = new WebSocket(uri);\r\n  }\r\n  return instance;\r\n}\r\n\r\nif (WebSocket) ws.prototype = WebSocket.prototype;\r\n\r\nmodule.exports = WebSocket ? ws : null;\r\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nvar K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1)\n    var proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  var buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  var valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  var b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(\n      value[Symbol.toPrimitive]('string'), encodingOrOffset, length\n    )\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  var length = byteLength(string, encoding) | 0\n  var buf = createBuffer(length)\n\n  var actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  var buf = createBuffer(length)\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    var copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  var buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    var buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        Buffer.from(buf).copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  var len = string.length\n  var mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  var strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (var i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    var len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nvar hexSliceLookupTable = (function () {\n  var alphabet = '0123456789abcdef'\n  var table = new Array(256)\n  for (var i = 0; i < 16; ++i) {\n    var i16 = i * 16\n    for (var j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n","const AGClientSocket = require('./clientsocket');\r\nconst uuid = require('uuid');\r\nconst scErrors = require('sc-errors');\r\nconst InvalidArgumentsError = scErrors.InvalidArgumentsError;\r\n\r\nfunction isUrlSecure() {\r\n  return typeof location !== 'undefined' && location.protocol === 'https:';\r\n}\r\n\r\nfunction getPort(options, isSecureDefault) {\r\n  let isSecure = options.secure == null ? isSecureDefault : options.secure;\r\n  return options.port || (typeof location !== 'undefined' && location.port ? location.port : isSecure ? 443 : 80);\r\n}\r\n\r\nfunction create(options) {\r\n  options = options || {};\r\n\r\n  if (options.host && !options.host.match(/[^:]+:\\d{2,5}/)) {\r\n    throw new InvalidArgumentsError(\r\n      'The host option should include both' +\r\n      ' the hostname and the port number in the hostname:port format'\r\n    );\r\n  }\r\n\r\n  if (options.host && options.hostname) {\r\n    throw new InvalidArgumentsError(\r\n      'The host option should already include' +\r\n      ' the hostname and the port number in the hostname:port format' +\r\n      ' - Because of this, you should never use host and hostname options together'\r\n    );\r\n  }\r\n\r\n  if (options.host && options.port) {\r\n    throw new InvalidArgumentsError(\r\n      'The host option should already include' +\r\n      ' the hostname and the port number in the hostname:port format' +\r\n      ' - Because of this, you should never use host and port options together'\r\n    );\r\n  }\r\n\r\n  let isSecureDefault = isUrlSecure();\r\n\r\n  let opts = {\r\n    clientId: uuid.v4(),\r\n    port: getPort(options, isSecureDefault),\r\n    hostname: typeof location !== 'undefined' && location.hostname || 'localhost',\r\n    secure: isSecureDefault\r\n  };\r\n\r\n  Object.assign(opts, options);\r\n\r\n  return new AGClientSocket(opts);\r\n}\r\n\r\nmodule.exports = {\r\n  create\r\n};\r\n","'use strict';\n\n/**\n * Module dependenices\n */\n\nconst clone = require('shallow-clone');\nconst typeOf = require('kind-of');\nconst isPlainObject = require('is-plain-object');\n\nfunction cloneDeep(val, instanceClone) {\n  switch (typeOf(val)) {\n    case 'object':\n      return cloneObjectDeep(val, instanceClone);\n    case 'array':\n      return cloneArrayDeep(val, instanceClone);\n    default: {\n      return clone(val);\n    }\n  }\n}\n\nfunction cloneObjectDeep(val, instanceClone) {\n  if (typeof instanceClone === 'function') {\n    return instanceClone(val);\n  }\n  if (instanceClone || isPlainObject(val)) {\n    const res = new val.constructor();\n    for (let key in val) {\n      res[key] = cloneDeep(val[key], instanceClone);\n    }\n    return res;\n  }\n  return val;\n}\n\nfunction cloneArrayDeep(val, instanceClone) {\n  const res = new val.constructor(val.length);\n  for (let i = 0; i < val.length; i++) {\n    res[i] = cloneDeep(val[i], instanceClone);\n  }\n  return res;\n}\n\n/**\n * Expose `cloneDeep`\n */\n\nmodule.exports = cloneDeep;\n","const ConsumableStream = require('consumable-stream');\n\nclass AGChannel extends ConsumableStream {\n  constructor(name, client, eventDemux, dataDemux) {\n    super();\n    this.PENDING = AGChannel.PENDING;\n    this.SUBSCRIBED = AGChannel.SUBSCRIBED;\n    this.UNSUBSCRIBED = AGChannel.UNSUBSCRIBED;\n\n    this.name = name;\n    this.client = client;\n\n    this._eventDemux = eventDemux;\n    this._dataStream = dataDemux.stream(this.name);\n  }\n\n  createConsumer(timeout) {\n    return this._dataStream.createConsumer(timeout);\n  }\n\n  listener(eventName) {\n    return this._eventDemux.stream(`${this.name}/${eventName}`);\n  }\n\n  close() {\n    this.client.closeChannel(this.name);\n  }\n\n  kill() {\n    this.client.killChannel(this.name);\n  }\n\n  killOutputConsumer(consumerId) {\n    if (this.hasOutputConsumer(consumerId)) {\n      this.client.killChannelOutputConsumer(consumerId);\n    }\n  }\n\n  killListenerConsumer(consumerId) {\n    if (this.hasAnyListenerConsumer(consumerId)) {\n      this.client.killChannelListenerConsumer(consumerId);\n    }\n  }\n\n  getOutputConsumerStats(consumerId) {\n    if (this.hasOutputConsumer(consumerId)) {\n      return this.client.getChannelOutputConsumerStats(consumerId);\n    }\n    return undefined;\n  }\n\n  getListenerConsumerStats(consumerId) {\n    if (this.hasAnyListenerConsumer(consumerId)) {\n      return this.client.getChannelListenerConsumerStats(consumerId);\n    }\n    return undefined;\n  }\n\n  getBackpressure() {\n    return this.client.getChannelBackpressure(this.name);\n  }\n\n  getListenerConsumerBackpressure(consumerId) {\n    if (this.hasAnyListenerConsumer(consumerId)) {\n      return this.client.getChannelListenerConsumerBackpressure(consumerId);\n    }\n    return 0;\n  }\n\n  getOutputConsumerBackpressure(consumerId) {\n    if (this.hasOutputConsumer(consumerId)) {\n      return this.client.getChannelOutputConsumerBackpressure(consumerId);\n    }\n    return 0;\n  }\n\n  closeOutput() {\n    this.client.channelCloseOutput(this.name);\n  }\n\n  closeListener(eventName) {\n    this.client.channelCloseListener(this.name, eventName);\n  }\n\n  closeAllListeners() {\n    this.client.channelCloseAllListeners(this.name);\n  }\n\n  killOutput() {\n    this.client.channelKillOutput(this.name);\n  }\n\n  killListener(eventName) {\n    this.client.channelKillListener(this.name, eventName);\n  }\n\n  killAllListeners() {\n    this.client.channelKillAllListeners(this.name);\n  }\n\n  getOutputConsumerStatsList() {\n    return this.client.channelGetOutputConsumerStatsList(this.name);\n  }\n\n  getListenerConsumerStatsList(eventName) {\n    return this.client.channelGetListenerConsumerStatsList(this.name, eventName);\n  }\n\n  getAllListenersConsumerStatsList() {\n    return this.client.channelGetAllListenersConsumerStatsList(this.name);\n  }\n\n  getOutputBackpressure() {\n    return this.client.channelGetOutputBackpressure(this.name);\n  }\n\n  getListenerBackpressure(eventName) {\n    return this.client.channelGetListenerBackpressure(this.name, eventName);\n  }\n\n  getAllListenersBackpressure() {\n    return this.client.channelGetAllListenersBackpressure(this.name);\n  }\n\n  hasOutputConsumer(consumerId) {\n    return this.client.channelHasOutputConsumer(this.name, consumerId);\n  }\n\n  hasListenerConsumer(eventName, consumerId) {\n    return this.client.channelHasListenerConsumer(this.name, eventName, consumerId);\n  }\n\n  hasAnyListenerConsumer(consumerId) {\n    return this.client.channelHasAnyListenerConsumer(this.name, consumerId);\n  }\n\n  get state() {\n    return this.client.getChannelState(this.name);\n  }\n\n  set state(value) {\n    throw new Error('Cannot directly set channel state');\n  }\n\n  get options() {\n    return this.client.getChannelOptions(this.name);\n  }\n\n  set options(value) {\n    throw new Error('Cannot directly set channel options');\n  }\n\n  subscribe(options) {\n    this.client.subscribe(this.name, options);\n  }\n\n  unsubscribe() {\n    this.client.unsubscribe(this.name);\n  }\n\n  isSubscribed(includePending) {\n    return this.client.isSubscribed(this.name, includePending);\n  }\n\n  transmitPublish(data) {\n    return this.client.transmitPublish(this.name, data);\n  }\n\n  invokePublish(data) {\n    return this.client.invokePublish(this.name, data);\n  }\n}\n\nAGChannel.PENDING = 'pending';\nAGChannel.SUBSCRIBED = 'subscribed';\nAGChannel.UNSUBSCRIBED = 'unsubscribed';\n\nmodule.exports = AGChannel;\n"],"names":["exports","read","buffer","offset","isLE","mLen","nBytes","e","m","eLen","eMax","eBias","nBits","i","d","s","NaN","Infinity","Math","pow","write","value","c","rt","abs","isNaN","floor","log","LN2","asyncGeneratorStep","n","t","r","o","a","u","done","Promise","resolve","then","_asyncToGenerator","this","arguments","apply","_next","_throw","_typeof","module","Symbol","iterator","call","next","length","TypeError","__esModule","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","uuid","test","byteToHex","push","toString","substr","_nodeId","_clockseq","arr","undefined","toLowerCase","_lastMSecs","_lastNSecs","options","buf","b","Array","node","clockseq","seedBytes","random","msecs","Date","now","nsecs","dt","tl","tmh","v","parseInt","slice","name","version","hashfunc","generateUUID","namespace","str","unescape","encodeURIComponent","bytes","charCodeAt","stringToBytes","set","err","DNS","URL","getOutputLength","inputLength8","safeAdd","x","y","lsw","md5cmn","q","num","cnt","md5ff","md5gg","md5hh","md5ii","v35","msg","input","output","length32","hexTab","hex","charAt","md5ToHexEncodedArray","len","olda","oldb","oldc","oldd","wordsToMd5","length8","Uint32Array","bytesToWords","rnds","f","z","ROTL","K","H","isArray","prototype","l","N","ceil","M","_i","j","_i2","W","_t","_t2","T","regenerator","regeneratorAsyncIterator","w","ConsumableStream","timeout","asyncIterator","createConsumer","result","return","once","error","duration","setTimeout","OverloadYield","regeneratorDefine","AsyncIterator","List","Item","ListItem","ListPrototype","ListItemPrototype","IterPrototype","Iter","$iterator","tail","head","of","appendAll","from","items","toArray","item","prepend","self","append","detach","errorMessage","list","size","prev","current","index","iter","AGRequest","require","createWebSocket","WebSocket","uri","scErrors","TimeoutError","BadConnectionError","AGTransport","authEngine","codecEngine","wsOptions","handlers","state","CLOSED","auth","codec","protocolVersion","connectTimeout","pingTimeout","pingTimeoutDisabled","callIdGenerator","authTokenName","isBufferingBatch","_pingTimeoutTicker","_callbackMap","_batchBuffer","_onOpenHandler","onOpen","_onOpenAbortHandler","onOpenAbort","_onCloseHandler","onClose","_onEventHandler","onEvent","_onErrorHandler","onError","_onInboundInvokeHandler","onInboundInvoke","_onInboundTransmitHandler","onInboundTransmit","CONNECTING","wsSocket","binaryType","socket","onopen","_onOpen","onclose","async","code","event","_destroy","reason","onmessage","message","flags","_onMessage","data","onerror","_connectTimeoutRef","close","_handlePing","_resetPingTimeout","readyState","OPEN","send","computeURI","scheme","query","protocolScheme","secure","timestampRequests","timestampParam","getTime","host","path","searchParams","URLSearchParams","key","Object","entries","socketPath","port","hostname","concat","status","clearTimeout","_handshake","statusCode","_onError","token","loadToken","invoke","authToken","force","authError","hydrateError","_abortAllPendingEventsDueToBadConnection","failureType","keys","forEach","eventObject","badConnectionError","callback","socketProtocolErrorStatuses","_processInboundPacket","packet","cid","request","_objectSpread","rid","rehydratedError","decode","clearAllListeners","startBatch","flushBatch","serializedBatch","serializeObject","cancelBatch","getBytesReceived","bytesReceived","transmitObject","simpleEventObject","sendObject","_handleEventAckTimeout","transmit","invokeRaw","noTimeout","ackTimeout","reject","cancelPendingResponse","encode","object","ctorName","val","constructor","type","isBuffer","callee","indexOf","isArguments","toDateString","getDate","setDate","isDate","stackTraceLimit","isError","RegExp","ignoreCase","multiline","global","isRegexp","throw","isGeneratorObj","replace","StreamDemux","AsyncStreamEmitter","_listenerDemux","emit","eventName","listener","stream","closeListener","closeAllListeners","closeAll","removeListener","unstream","getListenerConsumerStats","consumerId","getConsumerStats","getListenerConsumerStatsList","getConsumerStatsList","getAllListenersConsumerStatsList","getConsumerStatsListAll","getListenerConsumerCount","getConsumerCount","getAllListenersConsumerCount","getConsumerCountAll","killListener","kill","killAllListeners","killAll","killListenerConsumer","killConsumer","getListenerBackpressure","getBackpressure","getAllListenersBackpressure","getBackpressureAll","getListenerConsumerBackpressure","getConsumerBackpressure","hasListenerConsumer","hasConsumer","hasAnyListenerConsumer","hasConsumerAll","AuthEngine","_internalStorage","isLocalStorageEnabled","_checkLocalStorageEnabled","localStorage","setItem","removeItem","saveToken","removeToken","loadPromise","getItem","unshift","pop","valueOf","typeOf","deep","assign","Number","Map","Set","Buffer","allocUnsafe","copy","cloneBuffer","cloneSymbol","res","byteLength","cloneArrayBuffer","byteOffset","cloneTypedArray","exec","re","source","lastIndex","cloneRegExp","create","regeneratorAsync","regeneratorAsyncGen","regeneratorKeys","regeneratorValues","_regeneratorRuntime","getPrototypeOf","__proto__","displayName","stop","abrupt","delegateYield","resultName","finish","p","sent","wrap","reverse","isGeneratorFunction","mark","awrap","values","Consumer","super","_nextConsumerId","generateConsumerId","removeConsumerCallback","_consumers","tailNode","_write","dataNode","consumer","writeToConsumer","closeConsumer","get","maxBackpressure","backpressure","has","setConsumer","currentNode","removeConsumer","delete","getStats","consumerStats","getConsumerList","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","Function","AGChannel","formatter","LinkedList","cloneDeep","wait","InvalidArgumentsError","InvalidMessageError","SocketProtocolError","AGClientSocket","socketOptions","opts","autoConnect","autoReconnect","autoSubscribeOnConnect","batchOnHandshake","batchOnHandshakeDuration","batchInterval","cloneData","_generateAuthTokenNameFromURI","id","authState","UNAUTHENTICATED","signedAuthToken","pendingReconnect","pendingReconnectTimeout","preparingPendingSubscriptions","clientId","channelPrefix","maxTimeout","verifyDuration","propertyName","connectAttempts","isBatching","_batchingIntervalId","_outboundBuffer","_channelMap","_channelEventDemux","_channelDataDemux","_receiverDemux","_procedureDemux","_cid","autoReconnectOptions","reconnectOptions","initialDelay","randomness","multiplier","maxDelay","subscriptionRetryOptions","protocol","protocolOptionError","queryObject","currentValue","connect","AUTHENTICATED","SUBSCRIBED","PENDING","UNSUBSCRIBED","ignoreStatuses","socketProtocolIgnoreStatuses","errorStatuses","defineProperty","transport","max","getAllReceiversBackpressure","getAllProceduresBackpressure","getAllChannelsBackpressure","authHostString","_setAuthToken","_changeToAuthenticatedState","_removeAuthToken","oldAuthToken","_changeToUnauthenticatedStateAndClearTokens","_privateDataHandlerMap","channel","undecoratedChannelName","_undecorateChannelName","isSubscribed","_triggerChannelUnsubscribe","_privateRPCHandlerMap","end","stack","getState","deauthenticate","disconnect","_reconnectTimeoutRef","transportHandlers","_onInboundInvoke","_onInboundTransmit","reconnect","isConnecting","oldAuthState","oldSignedAuthToken","stateChangeData","newAuthState","_extractAuthTokenData","processPendingSubscriptions","decodeBase64","encodedString","encodeBase64","decodedString","encodedTokenData","split","tokenData","JSON","parse","getAuthToken","getSignedAuthToken","authenticate","authStatus","isAuthenticated","_tryReconnect","exponent","initialTimeout","round","_startBatching","_stopBatching","_flushOutboundBuffer","_suspendSubscriptions","channelName","nextNode","openAbort","_cancelBatching","closeMessage","handler","procedure","eventNode","_processOutboundEvent","expectResponse","promise","transmitPublish","pubData","_decorateChannelName","invokePublish","_triggerChannelSubscribe","subscriptionOptions","oldChannelState","newChannelState","_triggerChannelSubscribeFail","meetsAuthRequirements","waitForAuth","_cancelPendingSubscribeCallback","_pendingSubscriptionCid","decoratedChannelName","setInterval","startBatching","clearInterval","stopBatching","cancelBatching","_trySubscribe","subscribe","sanitizedOptions","priority","setAsPending","_tryUnsubscribe","unsubscribe","receiver","receiverName","closeReceiver","closeAllReceivers","killReceiver","killAllReceivers","killReceiverConsumer","getReceiverConsumerStats","getReceiverConsumerStatsList","getAllReceiversConsumerStatsList","getReceiverBackpressure","getReceiverConsumerBackpressure","hasReceiverConsumer","hasAnyReceiverConsumer","procedureName","closeProcedure","closeAllProcedures","killProcedure","killAllProcedures","killProcedureConsumer","getProcedureConsumerStats","getProcedureConsumerStatsList","getAllProceduresConsumerStatsList","getProcedureBackpressure","getProcedureConsumerBackpressure","hasProcedureConsumer","hasAnyProcedureConsumer","closeChannel","channelCloseOutput","channelCloseAllListeners","closeAllChannelOutputs","closeAllChannelListeners","closeAllChannels","killChannel","channelKillOutput","channelKillAllListeners","killAllChannelOutputs","killAllChannelListeners","killAllChannels","killChannelOutputConsumer","killChannelListenerConsumer","getChannelOutputConsumerStats","getChannelListenerConsumerStats","getAllChannelOutputsConsumerStatsList","getAllChannelListenersConsumerStatsList","getChannelBackpressure","channelGetOutputBackpressure","channelGetAllListenersBackpressure","getAllChannelOutputsBackpressure","getAllChannelListenersBackpressure","getChannelListenerConsumerBackpressure","getChannelOutputConsumerBackpressure","hasAnyChannelOutputConsumer","hasAnyChannelListenerConsumer","getChannelState","getChannelOptions","_getAllChannelStreamNames","streamNamesLookup","filter","stats","reduce","accumulator","channelCloseListener","streamName","channelKillListener","channelGetOutputConsumerStatsList","channelGetListenerConsumerStatsList","channelGetAllListenersConsumerStatsList","map","statsList","channelGetListenerBackpressure","listenerStreamBackpressures","channelHasOutputConsumer","channelHasListenerConsumer","channelHasAnyListenerConsumer","some","subscriptions","includePending","subs","pendingChannels","sort","ap","bp","k","_regeneratorDefine","enumerable","configurable","writable","_invoke","startNode","_backpressure","isAlive","_resetBackpressure","applyBackpressure","releaseBackpressure","clearActiveTimeout","_timeoutId","_resolve","_killPacket","_waitForNextItem","timeoutId","delay","killPacket","factory","_regenerator","toStringTag","Generator","G","GeneratorFunction","GeneratorFunctionPrototype","setPrototypeOf","isObject","isObjectObject","ctor","prot","hasOwnProperty","InvalidActionError","_respond","responseData","dehydrateError","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","Arr","_byteLength","curByte","revLookup","fromByteArray","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","lookup","join","start","objects","paths","derez","nu","Boolean","String","$ref","stringify","WritableConsumableStream","DemuxedConsumableStream","streams","allStatsList","sum","decycle","isStrict","AuthTokenExpiredError","expiry","captureStackTrace","AuthTokenInvalidError","AuthTokenNotBeforeError","date","AuthTokenError","AuthError","SilentMiddlewareBlockedError","InvalidOptionsError","ServerProtocolError","HTTPServerError","ResourceLimitError","BrokerError","ProcessExitError","UnknownError","dehydratedError","hydratedError","streamDemux","_streamDemux","base64Chars","validJSONStartRegex","arrayBufferToBase64","arraybuffer","base64","substring","binaryToBase64Replacer","ArrayBuffer","rehydratedBuffer","encodedMessage","rawData","globalScope","WorkerGlobalScope","window","MozWebSocket","ws","protocols","instance","ieee754","customInspectSymbol","K_MAX_LENGTH","createBuffer","RangeError","arg","encodingOrOffset","string","encoding","isEncoding","actual","fromString","isView","arrayView","isInstance","fromArrayBuffer","fromArrayLike","fromArrayView","SharedArrayBuffer","obj","checked","numberIsNaN","fromObject","toPrimitive","assertSize","array","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","found","hexWrite","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","min","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","foo","typedArraySupport","console","poolSize","alloc","fill","allocUnsafeSlow","_isBuffer","compare","pos","swap16","swap32","swap64","toLocaleString","equals","inspect","trim","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","hexSliceLookupTable","checkOffset","ext","checkInt","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","INVALID_BASE64_RE","leadSurrogate","base64clean","src","dst","alphabet","table","i16","getPort","isSecureDefault","isSecure","location","match","v4","clone","isPlainObject","instanceClone","cloneObjectDeep","cloneArrayDeep","client","eventDemux","dataDemux","_eventDemux","_dataStream","killOutputConsumer","hasOutputConsumer","getOutputConsumerStats","getOutputConsumerBackpressure","closeOutput","killOutput","getOutputConsumerStatsList","getOutputBackpressure"],"sourceRoot":""}