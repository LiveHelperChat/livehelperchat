{"version":3,"file":"87ba4186ae122eba5ab7.js","mappings":"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","sources":["webpack://LiveHelperChat/./node_modules/ag-channel/index.js","webpack://LiveHelperChat/./node_modules/ag-request/index.js","webpack://LiveHelperChat/./node_modules/ag-request/node_modules/sc-errors/decycle.js","webpack://LiveHelperChat/./node_modules/ag-request/node_modules/sc-errors/index.js","webpack://LiveHelperChat/./node_modules/async-stream-emitter/index.js","webpack://LiveHelperChat/./node_modules/socketcluster-client/index.js","webpack://LiveHelperChat/./node_modules/socketcluster-client/lib/auth.js","webpack://LiveHelperChat/./node_modules/socketcluster-client/lib/clientsocket.js","webpack://LiveHelperChat/./node_modules/socketcluster-client/lib/factory.js","webpack://LiveHelperChat/./node_modules/socketcluster-client/lib/transport.js","webpack://LiveHelperChat/./node_modules/socketcluster-client/lib/wait.js","webpack://LiveHelperChat/./node_modules/socketcluster-client/lib/ws-browser.js","webpack://LiveHelperChat/./node_modules/base64-js/index.js","webpack://LiveHelperChat/./node_modules/buffer/index.js","webpack://LiveHelperChat/./node_modules/clone-deep/index.js","webpack://LiveHelperChat/./node_modules/consumable-stream/index.js","webpack://LiveHelperChat/./node_modules/ieee754/index.js","webpack://LiveHelperChat/./node_modules/is-plain-object/index.js","webpack://LiveHelperChat/./node_modules/isobject/index.js","webpack://LiveHelperChat/./node_modules/kind-of/index.js","webpack://LiveHelperChat/./node_modules/linked-list/_source/linked-list.js","webpack://LiveHelperChat/./node_modules/linked-list/index.js","webpack://LiveHelperChat/./node_modules/sc-errors/decycle.js","webpack://LiveHelperChat/./node_modules/sc-errors/index.js","webpack://LiveHelperChat/./node_modules/sc-formatter/index.js","webpack://LiveHelperChat/./node_modules/shallow-clone/index.js","webpack://LiveHelperChat/./node_modules/stream-demux/demuxed-consumable-stream.js","webpack://LiveHelperChat/./node_modules/stream-demux/index.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/rng.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/regex.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/validate.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/v1.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/parse.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/v35.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/md5.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/v3.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/v4.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/sha1.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/v5.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/nil.js","webpack://LiveHelperChat/./node_modules/uuid/dist/esm-browser/version.js","webpack://LiveHelperChat/./node_modules/writable-consumable-stream/consumer.js","webpack://LiveHelperChat/./node_modules/writable-consumable-stream/index.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/typeof.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/regenerator/index.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["const ConsumableStream = require('consumable-stream');\n\nclass AGChannel extends ConsumableStream {\n  constructor(name, client, eventDemux, dataDemux) {\n    super();\n    this.PENDING = AGChannel.PENDING;\n    this.SUBSCRIBED = AGChannel.SUBSCRIBED;\n    this.UNSUBSCRIBED = AGChannel.UNSUBSCRIBED;\n\n    this.name = name;\n    this.client = client;\n\n    this._eventDemux = eventDemux;\n    this._dataStream = dataDemux.stream(this.name);\n  }\n\n  createConsumer(timeout) {\n    return this._dataStream.createConsumer(timeout);\n  }\n\n  listener(eventName) {\n    return this._eventDemux.stream(`${this.name}/${eventName}`);\n  }\n\n  close() {\n    this.client.closeChannel(this.name);\n  }\n\n  kill() {\n    this.client.killChannel(this.name);\n  }\n\n  killOutputConsumer(consumerId) {\n    if (this.hasOutputConsumer(consumerId)) {\n      this.client.killChannelOutputConsumer(consumerId);\n    }\n  }\n\n  killListenerConsumer(consumerId) {\n    if (this.hasAnyListenerConsumer(consumerId)) {\n      this.client.killChannelListenerConsumer(consumerId);\n    }\n  }\n\n  getOutputConsumerStats(consumerId) {\n    if (this.hasOutputConsumer(consumerId)) {\n      return this.client.getChannelOutputConsumerStats(consumerId);\n    }\n    return undefined;\n  }\n\n  getListenerConsumerStats(consumerId) {\n    if (this.hasAnyListenerConsumer(consumerId)) {\n      return this.client.getChannelListenerConsumerStats(consumerId);\n    }\n    return undefined;\n  }\n\n  getBackpressure() {\n    return this.client.getChannelBackpressure(this.name);\n  }\n\n  getListenerConsumerBackpressure(consumerId) {\n    if (this.hasAnyListenerConsumer(consumerId)) {\n      return this.client.getChannelListenerConsumerBackpressure(consumerId);\n    }\n    return 0;\n  }\n\n  getOutputConsumerBackpressure(consumerId) {\n    if (this.hasOutputConsumer(consumerId)) {\n      return this.client.getChannelOutputConsumerBackpressure(consumerId);\n    }\n    return 0;\n  }\n\n  closeOutput() {\n    this.client.channelCloseOutput(this.name);\n  }\n\n  closeListener(eventName) {\n    this.client.channelCloseListener(this.name, eventName);\n  }\n\n  closeAllListeners() {\n    this.client.channelCloseAllListeners(this.name);\n  }\n\n  killOutput() {\n    this.client.channelKillOutput(this.name);\n  }\n\n  killListener(eventName) {\n    this.client.channelKillListener(this.name, eventName);\n  }\n\n  killAllListeners() {\n    this.client.channelKillAllListeners(this.name);\n  }\n\n  getOutputConsumerStatsList() {\n    return this.client.channelGetOutputConsumerStatsList(this.name);\n  }\n\n  getListenerConsumerStatsList(eventName) {\n    return this.client.channelGetListenerConsumerStatsList(this.name, eventName);\n  }\n\n  getAllListenersConsumerStatsList() {\n    return this.client.channelGetAllListenersConsumerStatsList(this.name);\n  }\n\n  getOutputBackpressure() {\n    return this.client.channelGetOutputBackpressure(this.name);\n  }\n\n  getListenerBackpressure(eventName) {\n    return this.client.channelGetListenerBackpressure(this.name, eventName);\n  }\n\n  getAllListenersBackpressure() {\n    return this.client.channelGetAllListenersBackpressure(this.name);\n  }\n\n  hasOutputConsumer(consumerId) {\n    return this.client.channelHasOutputConsumer(this.name, consumerId);\n  }\n\n  hasListenerConsumer(eventName, consumerId) {\n    return this.client.channelHasListenerConsumer(this.name, eventName, consumerId);\n  }\n\n  hasAnyListenerConsumer(consumerId) {\n    return this.client.channelHasAnyListenerConsumer(this.name, consumerId);\n  }\n\n  get state() {\n    return this.client.getChannelState(this.name);\n  }\n\n  set state(value) {\n    throw new Error('Cannot directly set channel state');\n  }\n\n  get options() {\n    return this.client.getChannelOptions(this.name);\n  }\n\n  set options(value) {\n    throw new Error('Cannot directly set channel options');\n  }\n\n  subscribe(options) {\n    this.client.subscribe(this.name, options);\n  }\n\n  unsubscribe() {\n    this.client.unsubscribe(this.name);\n  }\n\n  isSubscribed(includePending) {\n    return this.client.isSubscribed(this.name, includePending);\n  }\n\n  transmitPublish(data) {\n    return this.client.transmitPublish(this.name, data);\n  }\n\n  invokePublish(data) {\n    return this.client.invokePublish(this.name, data);\n  }\n}\n\nAGChannel.PENDING = 'pending';\nAGChannel.SUBSCRIBED = 'subscribed';\nAGChannel.UNSUBSCRIBED = 'unsubscribed';\n\nmodule.exports = AGChannel;\n","const scErrors = require('sc-errors');\nconst InvalidActionError = scErrors.InvalidActionError;\n\nfunction AGRequest(socket, id, procedureName, data) {\n  this.socket = socket;\n  this.id = id;\n  this.procedure = procedureName;\n  this.data = data;\n  this.sent = false;\n\n  this._respond = (responseData, options) => {\n    if (this.sent) {\n      throw new InvalidActionError(`Response to request ${this.id} has already been sent`);\n    }\n    this.sent = true;\n    this.socket.sendObject(responseData, options);\n  };\n\n  this.end = (data, options) => {\n    let responseData = {\n      rid: this.id\n    };\n    if (data !== undefined) {\n      responseData.data = data;\n    }\n    this._respond(responseData, options);\n  };\n\n  this.error = (error, options) => {\n    let responseData = {\n      rid: this.id,\n      error: scErrors.dehydrateError(error)\n    };\n    this._respond(responseData, options);\n  };\n}\n\nmodule.exports = AGRequest;\n","// Based on https://github.com/dscape/cycle/blob/master/cycle.js\n\nmodule.exports = function decycle(object) {\n// Make a deep copy of an object or array, assuring that there is at most\n// one instance of each object or array in the resulting structure. The\n// duplicate references (which might be forming cycles) are replaced with\n// an object of the form\n//      {$ref: PATH}\n// where the PATH is a JSONPath string that locates the first occurance.\n// So,\n//      var a = [];\n//      a[0] = a;\n//      return JSON.stringify(JSON.decycle(a));\n// produces the string '[{\"$ref\":\"$\"}]'.\n\n// JSONPath is used to locate the unique object. $ indicates the top level of\n// the object or array. [NUMBER] or [STRING] indicates a child member or\n// property.\n\n    var objects = [],   // Keep a reference to each unique object or array\n        paths = [];     // Keep the path to each unique object or array\n\n    return (function derez(value, path) {\n\n// The derez recurses through the object, producing the deep copy.\n\n        var i,          // The loop counter\n            name,       // Property name\n            nu;         // The new object or array\n\n// typeof null === 'object', so go on if this value is really an object but not\n// one of the weird builtin objects.\n\n        if (typeof value === 'object' && value !== null &&\n                !(value instanceof Boolean) &&\n                !(value instanceof Date)    &&\n                !(value instanceof Number)  &&\n                !(value instanceof RegExp)  &&\n                !(value instanceof String)) {\n\n// If the value is an object or array, look to see if we have already\n// encountered it. If so, return a $ref/path object. This is a hard way,\n// linear search that will get slower as the number of unique objects grows.\n\n            for (i = 0; i < objects.length; i += 1) {\n                if (objects[i] === value) {\n                    return {$ref: paths[i]};\n                }\n            }\n\n// Otherwise, accumulate the unique value and its path.\n\n            objects.push(value);\n            paths.push(path);\n\n// If it is an array, replicate the array.\n\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n                nu = [];\n                for (i = 0; i < value.length; i += 1) {\n                    nu[i] = derez(value[i], path + '[' + i + ']');\n                }\n            } else {\n\n// If it is an object, replicate the object.\n\n                nu = {};\n                for (name in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, name)) {\n                        nu[name] = derez(value[name],\n                            path + '[' + JSON.stringify(name) + ']');\n                    }\n                }\n            }\n            return nu;\n        }\n        return value;\n    }(object, '$'));\n};\n","const decycle = require('./decycle');\n\nconst isStrict = (function () { return !this; })();\n\nfunction AuthTokenExpiredError(message, expiry) {\n  this.name = 'AuthTokenExpiredError';\n  this.message = message;\n  this.expiry = expiry;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenExpiredError.prototype = Object.create(Error.prototype);\n\n\nfunction AuthTokenInvalidError(message) {\n  this.name = 'AuthTokenInvalidError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenInvalidError.prototype = Object.create(Error.prototype);\n\n\nfunction AuthTokenNotBeforeError(message, date) {\n  this.name = 'AuthTokenNotBeforeError';\n  this.message = message;\n  this.date = date;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenNotBeforeError.prototype = Object.create(Error.prototype);\n\n\n// For any other auth token error.\nfunction AuthTokenError(message) {\n  this.name = 'AuthTokenError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenError.prototype = Object.create(Error.prototype);\n\n// For any other auth error; not specifically related to the auth token itself.\nfunction AuthError(message) {\n  this.name = 'AuthError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthError.prototype = Object.create(Error.prototype);\n\n\nfunction SilentMiddlewareBlockedError(message, type) {\n  this.name = 'SilentMiddlewareBlockedError';\n  this.message = message;\n  this.type = type;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nSilentMiddlewareBlockedError.prototype = Object.create(Error.prototype);\n\n\nfunction InvalidActionError(message) {\n  this.name = 'InvalidActionError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidActionError.prototype = Object.create(Error.prototype);\n\nfunction InvalidArgumentsError(message) {\n  this.name = 'InvalidArgumentsError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidArgumentsError.prototype = Object.create(Error.prototype);\n\nfunction InvalidOptionsError(message) {\n  this.name = 'InvalidOptionsError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidOptionsError.prototype = Object.create(Error.prototype);\n\n\nfunction InvalidMessageError(message) {\n  this.name = 'InvalidMessageError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidMessageError.prototype = Object.create(Error.prototype);\n\n\nfunction SocketProtocolError(message, code) {\n  this.name = 'SocketProtocolError';\n  this.message = message;\n  this.code = code;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nSocketProtocolError.prototype = Object.create(Error.prototype);\n\n\nfunction ServerProtocolError(message) {\n  this.name = 'ServerProtocolError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nServerProtocolError.prototype = Object.create(Error.prototype);\n\nfunction HTTPServerError(message) {\n  this.name = 'HTTPServerError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nHTTPServerError.prototype = Object.create(Error.prototype);\n\n\nfunction ResourceLimitError(message) {\n  this.name = 'ResourceLimitError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nResourceLimitError.prototype = Object.create(Error.prototype);\n\n\nfunction TimeoutError(message) {\n  this.name = 'TimeoutError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nTimeoutError.prototype = Object.create(Error.prototype);\n\n\nfunction BadConnectionError(message, type, code, reason) {\n  this.name = 'BadConnectionError';\n  this.message = message;\n  this.type = type;\n  this.code = code || 1001;\n  this.reason = reason || socketProtocolIgnoreStatuses[this.code] || '';\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nBadConnectionError.prototype = Object.create(Error.prototype);\n\n\nfunction BrokerError(message) {\n  this.name = 'BrokerError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nBrokerError.prototype = Object.create(Error.prototype);\n\n\nfunction ProcessExitError(message, code) {\n  this.name = 'ProcessExitError';\n  this.message = message;\n  this.code = code;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nProcessExitError.prototype = Object.create(Error.prototype);\n\n\nfunction UnknownError(message) {\n  this.name = 'UnknownError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nUnknownError.prototype = Object.create(Error.prototype);\n\n\n// Expose all error types.\n\nmodule.exports = {\n  AuthTokenExpiredError: AuthTokenExpiredError,\n  AuthTokenInvalidError: AuthTokenInvalidError,\n  AuthTokenNotBeforeError: AuthTokenNotBeforeError,\n  AuthTokenError: AuthTokenError,\n  AuthError: AuthError,\n  SilentMiddlewareBlockedError: SilentMiddlewareBlockedError,\n  InvalidActionError: InvalidActionError,\n  InvalidArgumentsError: InvalidArgumentsError,\n  InvalidOptionsError: InvalidOptionsError,\n  InvalidMessageError: InvalidMessageError,\n  SocketProtocolError: SocketProtocolError,\n  ServerProtocolError: ServerProtocolError,\n  HTTPServerError: HTTPServerError,\n  ResourceLimitError: ResourceLimitError,\n  TimeoutError: TimeoutError,\n  BadConnectionError: BadConnectionError,\n  BrokerError: BrokerError,\n  ProcessExitError: ProcessExitError,\n  UnknownError: UnknownError\n};\n\nconst socketProtocolErrorStatuses = {\n  1001: 'Socket was disconnected',\n  1002: 'A WebSocket protocol error was encountered',\n  1003: 'Server terminated socket because it received invalid data',\n  1005: 'Socket closed without status code',\n  1006: 'Socket hung up',\n  1007: 'Message format was incorrect',\n  1008: 'Encountered a policy violation',\n  1009: 'Message was too big to process',\n  1010: 'Client ended the connection because the server did not comply with extension requirements',\n  1011: 'Server encountered an unexpected fatal condition',\n  4000: 'Server ping timed out',\n  4001: 'Client pong timed out',\n  4002: 'Server failed to sign auth token',\n  4003: 'Failed to complete handshake',\n  4004: 'Client failed to save auth token',\n  4005: 'Did not receive #handshake from client before timeout',\n  4006: 'Failed to bind socket to message broker',\n  4007: 'Client connection establishment timed out',\n  4008: 'Server rejected handshake from client',\n  4009: 'Server received a message before the client handshake'\n};\n\nconst socketProtocolIgnoreStatuses = {\n  1000: 'Socket closed normally',\n  1001: socketProtocolErrorStatuses[1001]\n};\n\nmodule.exports.socketProtocolErrorStatuses = socketProtocolErrorStatuses;\nmodule.exports.socketProtocolIgnoreStatuses = socketProtocolIgnoreStatuses;\n\n// Convert an error into a JSON-compatible type which can later be hydrated\n// back to its *original* form.\nmodule.exports.dehydrateError = function dehydrateError(error) {\n  let dehydratedError;\n\n  if (error && typeof error === 'object') {\n    dehydratedError = {\n      message: error.message\n    };\n    for (let i of Object.keys(error)) {\n      dehydratedError[i] = error[i];\n    }\n  } else if (typeof error === 'function') {\n    dehydratedError = '[function ' + (typeof error.name === 'string' ? error.name : 'anonymous') + ']';\n  } else {\n    dehydratedError = error;\n  }\n\n  return decycle(dehydratedError);\n};\n\n// Convert a dehydrated error back to its *original* form.\nmodule.exports.hydrateError = function hydrateError(error) {\n  let hydratedError = null;\n  if (error != null) {\n    if (typeof error === 'object') {\n      hydratedError = new Error(\n        typeof error.message === 'string' ? error.message : 'Invalid error message format'\n      );\n      if (typeof error.name === 'string') {\n        hydratedError.name = error.name;\n      }\n      for (let i of Object.keys(error)) {\n        if (hydratedError[i] === undefined) {\n          hydratedError[i] = error[i];\n        }\n      }\n    } else {\n      hydratedError = error;\n    }\n  }\n  return hydratedError;\n};\n\nmodule.exports.decycle = decycle;\n","const StreamDemux = require('stream-demux');\n\nfunction AsyncStreamEmitter() {\n  this._listenerDemux = new StreamDemux();\n}\n\nAsyncStreamEmitter.prototype.emit = function (eventName, data) {\n  this._listenerDemux.write(eventName, data);\n};\n\nAsyncStreamEmitter.prototype.listener = function (eventName) {\n  return this._listenerDemux.stream(eventName);\n};\n\nAsyncStreamEmitter.prototype.closeListener = function (eventName) {\n  this._listenerDemux.close(eventName);\n};\n\nAsyncStreamEmitter.prototype.closeAllListeners = function () {\n  this._listenerDemux.closeAll();\n};\n\nAsyncStreamEmitter.prototype.getListenerConsumerStats = function (consumerId) {\n  return this._listenerDemux.getConsumerStats(consumerId);\n};\n\nAsyncStreamEmitter.prototype.getListenerConsumerStatsList = function (eventName) {\n  return this._listenerDemux.getConsumerStatsList(eventName);\n};\n\nAsyncStreamEmitter.prototype.getAllListenersConsumerStatsList = function () {\n  return this._listenerDemux.getConsumerStatsListAll();\n};\n\nAsyncStreamEmitter.prototype.getListenerConsumerCount = function (eventName) {\n  return this._listenerDemux.getConsumerCount(eventName);\n};\n\nAsyncStreamEmitter.prototype.getAllListenersConsumerCount = function () {\n  return this._listenerDemux.getConsumerCountAll();\n};\n\nAsyncStreamEmitter.prototype.killListener = function (eventName) {\n  this._listenerDemux.kill(eventName);\n};\n\nAsyncStreamEmitter.prototype.killAllListeners = function () {\n  this._listenerDemux.killAll();\n};\n\nAsyncStreamEmitter.prototype.killListenerConsumer = function (consumerId) {\n  this._listenerDemux.killConsumer(consumerId);\n};\n\nAsyncStreamEmitter.prototype.getListenerBackpressure = function (eventName) {\n  return this._listenerDemux.getBackpressure(eventName);\n};\n\nAsyncStreamEmitter.prototype.getAllListenersBackpressure = function () {\n  return this._listenerDemux.getBackpressureAll();\n};\n\nAsyncStreamEmitter.prototype.getListenerConsumerBackpressure = function (consumerId) {\n  return this._listenerDemux.getConsumerBackpressure(consumerId);\n};\n\nAsyncStreamEmitter.prototype.hasListenerConsumer = function (eventName, consumerId) {\n  return this._listenerDemux.hasConsumer(eventName, consumerId);\n};\n\nAsyncStreamEmitter.prototype.hasAnyListenerConsumer = function (consumerId) {\n  return this._listenerDemux.hasConsumerAll(consumerId);\n};\n\nmodule.exports = AsyncStreamEmitter;\n","const AGClientSocket = require('./lib/clientsocket');\nconst factory = require('./lib/factory');\nconst version = '16.0.4';\n\nmodule.exports.factory = factory;\nmodule.exports.AGClientSocket = AGClientSocket;\n\nmodule.exports.create = function (options) {\n  return factory.create({...options, version});\n};\n\nmodule.exports.version = version;\n","function AuthEngine() {\n  this._internalStorage = {};\n  this.isLocalStorageEnabled = this._checkLocalStorageEnabled();\n}\n\nAuthEngine.prototype._checkLocalStorageEnabled = function () {\n  let err;\n  try {\n    // Some browsers will throw an error here if localStorage is disabled.\n    global.localStorage;\n\n    // Safari, in Private Browsing Mode, looks like it supports localStorage but all calls to setItem\n    // throw QuotaExceededError. We're going to detect this and avoid hard to debug edge cases.\n    global.localStorage.setItem('__scLocalStorageTest', 1);\n    global.localStorage.removeItem('__scLocalStorageTest');\n  } catch (e) {\n    err = e;\n  }\n  return !err;\n};\n\nAuthEngine.prototype.saveToken = function (name, token, options) {\n  if (this.isLocalStorageEnabled && global.localStorage) {\n    global.localStorage.setItem(name, token);\n  } else {\n    this._internalStorage[name] = token;\n  }\n  return Promise.resolve(token);\n};\n\nAuthEngine.prototype.removeToken = function (name) {\n  let loadPromise = this.loadToken(name);\n\n  if (this.isLocalStorageEnabled && global.localStorage) {\n    global.localStorage.removeItem(name);\n  } else {\n    delete this._internalStorage[name];\n  }\n\n  return loadPromise;\n};\n\nAuthEngine.prototype.loadToken = function (name) {\n  let token;\n\n  if (this.isLocalStorageEnabled && global.localStorage) {\n    token = global.localStorage.getItem(name);\n  } else {\n    token = this._internalStorage[name] || null;\n  }\n\n  return Promise.resolve(token);\n};\n\nmodule.exports = AuthEngine;\n","const StreamDemux = require('stream-demux');\nconst AsyncStreamEmitter = require('async-stream-emitter');\nconst AGChannel = require('ag-channel');\nconst AuthEngine = require('./auth');\nconst formatter = require('sc-formatter');\nconst AGTransport = require('./transport');\nconst LinkedList = require('linked-list');\nconst cloneDeep = require('clone-deep');\nconst Buffer = require('buffer/').Buffer;\nconst wait = require('./wait');\n\nconst scErrors = require('sc-errors');\nconst InvalidArgumentsError = scErrors.InvalidArgumentsError;\nconst InvalidMessageError = scErrors.InvalidMessageError;\nconst InvalidActionError = scErrors.InvalidActionError;\nconst SocketProtocolError = scErrors.SocketProtocolError;\nconst TimeoutError = scErrors.TimeoutError;\nconst BadConnectionError = scErrors.BadConnectionError;\n\nconst isBrowser = typeof window !== 'undefined';\n\nfunction AGClientSocket(socketOptions) {\n  AsyncStreamEmitter.call(this);\n\n  let defaultOptions = {\n    path: '/socketcluster/',\n    secure: false,\n    protocolScheme: null,\n    socketPath: null,\n    autoConnect: true,\n    autoReconnect: true,\n    autoSubscribeOnConnect: true,\n    connectTimeout: 20000,\n    ackTimeout: 10000,\n    timestampRequests: false,\n    timestampParam: 't',\n    authTokenName: 'socketcluster.authToken',\n    binaryType: 'arraybuffer',\n    batchOnHandshake: false,\n    batchOnHandshakeDuration: 100,\n    batchInterval: 50,\n    protocolVersion: 2,\n    wsOptions: {},\n    cloneData: false\n  };\n  let opts = Object.assign(defaultOptions, socketOptions);\n\n  this.id = null;\n  this.version = opts.version || null;\n  this.protocolVersion = opts.protocolVersion;\n  this.state = this.CLOSED;\n  this.authState = this.UNAUTHENTICATED;\n  this.signedAuthToken = null;\n  this.authToken = null;\n  this.pendingReconnect = false;\n  this.pendingReconnectTimeout = null;\n  this.preparingPendingSubscriptions = false;\n  this.clientId = opts.clientId;\n  this.wsOptions = opts.wsOptions;\n\n  this.connectTimeout = opts.connectTimeout;\n  this.ackTimeout = opts.ackTimeout;\n  this.channelPrefix = opts.channelPrefix || null;\n  this.disconnectOnUnload = opts.disconnectOnUnload == null ? true : opts.disconnectOnUnload;\n  this.authTokenName = opts.authTokenName;\n\n  // pingTimeout will be connectTimeout at the start, but it will\n  // be updated with values provided by the 'connect' event\n  opts.pingTimeout = opts.connectTimeout;\n  this.pingTimeout = opts.pingTimeout;\n  this.pingTimeoutDisabled = !!opts.pingTimeoutDisabled;\n\n  let maxTimeout = Math.pow(2, 31) - 1;\n\n  let verifyDuration = (propertyName) => {\n    if (this[propertyName] > maxTimeout) {\n      throw new InvalidArgumentsError(\n        `The ${propertyName} value provided exceeded the maximum amount allowed`\n      );\n    }\n  };\n\n  verifyDuration('connectTimeout');\n  verifyDuration('ackTimeout');\n  verifyDuration('pingTimeout');\n\n  this.connectAttempts = 0;\n\n  this.isBatching = false;\n  this.batchOnHandshake = opts.batchOnHandshake;\n  this.batchOnHandshakeDuration = opts.batchOnHandshakeDuration;\n\n  this._batchingIntervalId = null;\n  this._outboundBuffer = new LinkedList();\n  this._channelMap = {};\n\n  this._channelEventDemux = new StreamDemux();\n  this._channelDataDemux = new StreamDemux();\n\n  this._receiverDemux = new StreamDemux();\n  this._procedureDemux = new StreamDemux();\n\n  this.options = opts;\n\n  this._cid = 1;\n\n  this.options.callIdGenerator = () => {\n    return this._cid++;\n  };\n\n  if (this.options.autoReconnect) {\n    if (this.options.autoReconnectOptions == null) {\n      this.options.autoReconnectOptions = {};\n    }\n\n    // Add properties to the this.options.autoReconnectOptions object.\n    // We assign the reference to a reconnectOptions variable to avoid repetition.\n    let reconnectOptions = this.options.autoReconnectOptions;\n    if (reconnectOptions.initialDelay == null) {\n      reconnectOptions.initialDelay = 10000;\n    }\n    if (reconnectOptions.randomness == null) {\n      reconnectOptions.randomness = 10000;\n    }\n    if (reconnectOptions.multiplier == null) {\n      reconnectOptions.multiplier = 1.5;\n    }\n    if (reconnectOptions.maxDelay == null) {\n      reconnectOptions.maxDelay = 60000;\n    }\n  }\n\n  if (this.options.subscriptionRetryOptions == null) {\n    this.options.subscriptionRetryOptions = {};\n  }\n\n  if (this.options.authEngine) {\n    this.auth = this.options.authEngine;\n  } else {\n    this.auth = new AuthEngine();\n  }\n\n  if (this.options.codecEngine) {\n    this.codec = this.options.codecEngine;\n  } else {\n    // Default codec engine\n    this.codec = formatter;\n  }\n\n  if (this.options.protocol) {\n    let protocolOptionError = new InvalidArgumentsError(\n      'The \"protocol\" option does not affect socketcluster-client - ' +\n      'If you want to utilize SSL/TLS, use \"secure\" option instead'\n    );\n    this._onError(protocolOptionError);\n  }\n\n  this.options.query = opts.query || {};\n  if (typeof this.options.query === 'string') {\n    let searchParams = new URLSearchParams(this.options.query);\n    let queryObject = {};\n    for (let [key, value] of searchParams.entries()) {\n      let currentValue = queryObject[key];\n      if (currentValue == null) {\n        queryObject[key] = value;\n      } else {\n        if (!Array.isArray(currentValue)) {\n          queryObject[key] = [currentValue];\n        }\n        queryObject[key].push(value);\n      }\n    }\n    this.options.query = queryObject;\n  }\n\n  if (isBrowser && this.disconnectOnUnload && global.addEventListener && global.removeEventListener) {\n    this._handleBrowserUnload();\n  }\n\n  if (this.options.autoConnect) {\n    this.connect();\n  }\n}\n\nAGClientSocket.prototype = Object.create(AsyncStreamEmitter.prototype);\n\nAGClientSocket.CONNECTING = AGClientSocket.prototype.CONNECTING = AGTransport.prototype.CONNECTING;\nAGClientSocket.OPEN = AGClientSocket.prototype.OPEN = AGTransport.prototype.OPEN;\nAGClientSocket.CLOSED = AGClientSocket.prototype.CLOSED = AGTransport.prototype.CLOSED;\n\nAGClientSocket.AUTHENTICATED = AGClientSocket.prototype.AUTHENTICATED = 'authenticated';\nAGClientSocket.UNAUTHENTICATED = AGClientSocket.prototype.UNAUTHENTICATED = 'unauthenticated';\n\nAGClientSocket.SUBSCRIBED = AGClientSocket.prototype.SUBSCRIBED = AGChannel.SUBSCRIBED;\nAGClientSocket.PENDING = AGClientSocket.prototype.PENDING = AGChannel.PENDING;\nAGClientSocket.UNSUBSCRIBED = AGClientSocket.prototype.UNSUBSCRIBED = AGChannel.UNSUBSCRIBED;\n\nAGClientSocket.ignoreStatuses = scErrors.socketProtocolIgnoreStatuses;\nAGClientSocket.errorStatuses = scErrors.socketProtocolErrorStatuses;\n\nObject.defineProperty(AGClientSocket.prototype, 'isBufferingBatch', {\n  get: function () {\n    return this.transport.isBufferingBatch;\n  }\n});\n\nAGClientSocket.prototype.getBackpressure = function () {\n  return Math.max(\n    this.getAllListenersBackpressure(),\n    this.getAllReceiversBackpressure(),\n    this.getAllProceduresBackpressure(),\n    this.getAllChannelsBackpressure()\n  );\n};\n\nAGClientSocket.prototype._handleBrowserUnload = async function () {\n  let unloadHandler = () => {\n    this.disconnect();\n  };\n  let isUnloadHandlerAttached = false;\n\n  let attachUnloadHandler = () => {\n    if (!isUnloadHandlerAttached) {\n      isUnloadHandlerAttached = true;\n      global.addEventListener('beforeunload', unloadHandler, false);\n    }\n  };\n\n  let detachUnloadHandler = () => {\n    if (isUnloadHandlerAttached) {\n      isUnloadHandlerAttached = false;\n      global.removeEventListener('beforeunload', unloadHandler, false);\n    }\n  };\n\n  (async () => {\n    let consumer = this.listener('connecting').createConsumer();\n    while (true) {\n      let packet = await consumer.next();\n      if (packet.done) break;\n      attachUnloadHandler();\n    }\n  })();\n\n  (async () => {\n    let consumer = this.listener('close').createConsumer();\n    while (true) {\n      let packet = await consumer.next();\n      if (packet.done) break;\n      detachUnloadHandler();\n    }\n  })();\n};\n\nAGClientSocket.prototype._setAuthToken = function (data) {\n  this._changeToAuthenticatedState(data.token);\n\n  (async () => {\n    try {\n      await this.auth.saveToken(this.authTokenName, data.token, {});\n    } catch (err) {\n      this._onError(err);\n    }\n  })();\n};\n\nAGClientSocket.prototype._removeAuthToken = function (data) {\n  (async () => {\n    let oldAuthToken;\n    try {\n      oldAuthToken = await this.auth.removeToken(this.authTokenName);\n    } catch (err) {\n      // Non-fatal error - Do not close the connection\n      this._onError(err);\n      return;\n    }\n    this.emit('removeAuthToken', {oldAuthToken});\n  })();\n\n  this._changeToUnauthenticatedStateAndClearTokens();\n};\n\nAGClientSocket.prototype._privateDataHandlerMap = {\n  '#publish': function (data) {\n    let undecoratedChannelName = this._undecorateChannelName(data.channel);\n    let isSubscribed = this.isSubscribed(undecoratedChannelName, true);\n\n    if (isSubscribed) {\n      this._channelDataDemux.write(undecoratedChannelName, data.data);\n    }\n  },\n  '#kickOut': function (data) {\n    let undecoratedChannelName = this._undecorateChannelName(data.channel);\n    let channel = this._channelMap[undecoratedChannelName];\n    if (channel) {\n      this.emit('kickOut', {\n        channel: undecoratedChannelName,\n        message: data.message\n      });\n      this._channelEventDemux.write(`${undecoratedChannelName}/kickOut`, {message: data.message});\n      this._triggerChannelUnsubscribe(channel);\n    }\n  },\n  '#setAuthToken': function (data) {\n    if (data) {\n      this._setAuthToken(data);\n    }\n  },\n  '#removeAuthToken': function (data) {\n    this._removeAuthToken(data);\n  }\n};\n\nAGClientSocket.prototype._privateRPCHandlerMap = {\n  '#setAuthToken': function (data, request) {\n    if (data) {\n      this._setAuthToken(data);\n\n      request.end();\n    } else {\n      request.error(new InvalidMessageError('No token data provided by #setAuthToken event'));\n    }\n  },\n  '#removeAuthToken': function (data, request) {\n    this._removeAuthToken(data);\n    request.end();\n  }\n};\n\nAGClientSocket.prototype.getState = function () {\n  return this.state;\n};\n\nAGClientSocket.prototype.getBytesReceived = function () {\n  return this.transport.getBytesReceived();\n};\n\nAGClientSocket.prototype.deauthenticate = async function () {\n  (async () => {\n    let oldAuthToken;\n    try {\n      oldAuthToken = await this.auth.removeToken(this.authTokenName);\n    } catch (err) {\n      this._onError(err);\n      return;\n    }\n    this.emit('removeAuthToken', {oldAuthToken});\n  })();\n\n  if (this.state !== this.CLOSED) {\n    this.transmit('#removeAuthToken');\n  }\n  this._changeToUnauthenticatedStateAndClearTokens();\n  await wait(0);\n};\n\nAGClientSocket.prototype.connect = function () {\n  if (this.state === this.CLOSED) {\n    this.pendingReconnect = false;\n    this.pendingReconnectTimeout = null;\n    clearTimeout(this._reconnectTimeoutRef);\n\n    this.state = this.CONNECTING;\n    this.emit('connecting', {});\n\n    if (this.transport) {\n      this.transport.clearAllListeners();\n    }\n\n    let transportHandlers = {\n      onOpen: (value) => {\n        this.state = this.OPEN;\n        this._onOpen(value);\n      },\n      onOpenAbort: (value) => {\n        if (this.state !== this.CLOSED) {\n          this.state = this.CLOSED;\n          this._destroy(value.code, value.reason, true);\n        }\n      },\n      onClose: (value) => {\n        if (this.state !== this.CLOSED) {\n          this.state = this.CLOSED;\n          this._destroy(value.code, value.reason);\n        }\n      },\n      onEvent: (value) => {\n        this.emit(value.event, value.data);\n      },\n      onError: (value) => {\n        this._onError(value.error);\n      },\n      onInboundInvoke: (value) => {\n        this._onInboundInvoke(value);\n      },\n      onInboundTransmit: (value) => {\n        this._onInboundTransmit(value.event, value.data);\n      }\n    };\n\n    this.transport = new AGTransport(this.auth, this.codec, this.options, this.wsOptions, transportHandlers);\n  }\n};\n\nAGClientSocket.prototype.reconnect = function (code, reason) {\n  this.disconnect(code, reason);\n  this.connect();\n};\n\nAGClientSocket.prototype.disconnect = function (code, reason) {\n  code = code || 1000;\n\n  if (typeof code !== 'number') {\n    throw new InvalidArgumentsError('If specified, the code argument must be a number');\n  }\n\n  let isConnecting = this.state === this.CONNECTING;\n  if (isConnecting || this.state === this.OPEN) {\n    this.state = this.CLOSED;\n    this._destroy(code, reason, isConnecting);\n    this.transport.close(code, reason);\n  } else {\n    this.pendingReconnect = false;\n    this.pendingReconnectTimeout = null;\n    clearTimeout(this._reconnectTimeoutRef);\n  }\n};\n\nAGClientSocket.prototype._changeToUnauthenticatedStateAndClearTokens = function () {\n  if (this.authState !== this.UNAUTHENTICATED) {\n    let oldAuthState = this.authState;\n    let oldAuthToken = this.authToken;\n    let oldSignedAuthToken = this.signedAuthToken;\n    this.authState = this.UNAUTHENTICATED;\n    this.signedAuthToken = null;\n    this.authToken = null;\n\n    let stateChangeData = {\n      oldAuthState,\n      newAuthState: this.authState\n    };\n    this.emit('authStateChange', stateChangeData);\n    this.emit('deauthenticate', {oldSignedAuthToken, oldAuthToken});\n  }\n};\n\nAGClientSocket.prototype._changeToAuthenticatedState = function (signedAuthToken) {\n  this.signedAuthToken = signedAuthToken;\n  this.authToken = this._extractAuthTokenData(signedAuthToken);\n\n  if (this.authState !== this.AUTHENTICATED) {\n    let oldAuthState = this.authState;\n    this.authState = this.AUTHENTICATED;\n    let stateChangeData = {\n      oldAuthState,\n      newAuthState: this.authState,\n      signedAuthToken: signedAuthToken,\n      authToken: this.authToken\n    };\n    if (!this.preparingPendingSubscriptions) {\n      this.processPendingSubscriptions();\n    }\n\n    this.emit('authStateChange', stateChangeData);\n  }\n  this.emit('authenticate', {signedAuthToken, authToken: this.authToken});\n};\n\nAGClientSocket.prototype.decodeBase64 = function (encodedString) {\n  return Buffer.from(encodedString, 'base64').toString('utf8');\n};\n\nAGClientSocket.prototype.encodeBase64 = function (decodedString) {\n  return Buffer.from(decodedString, 'utf8').toString('base64');\n};\n\nAGClientSocket.prototype._extractAuthTokenData = function (signedAuthToken) {\n  let tokenParts = (signedAuthToken || '').split('.');\n  let encodedTokenData = tokenParts[1];\n  if (encodedTokenData != null) {\n    let tokenData = encodedTokenData;\n    try {\n      tokenData = this.decodeBase64(tokenData);\n      return JSON.parse(tokenData);\n    } catch (e) {\n      return tokenData;\n    }\n  }\n  return null;\n};\n\nAGClientSocket.prototype.getAuthToken = function () {\n  return this.authToken;\n};\n\nAGClientSocket.prototype.getSignedAuthToken = function () {\n  return this.signedAuthToken;\n};\n\n// Perform client-initiated authentication by providing an encrypted token string.\nAGClientSocket.prototype.authenticate = async function (signedAuthToken) {\n  let authStatus;\n\n  try {\n    authStatus = await this.invoke('#authenticate', signedAuthToken);\n  } catch (err) {\n    if (err.name !== 'BadConnectionError' && err.name !== 'TimeoutError') {\n      // In case of a bad/closed connection or a timeout, we maintain the last\n      // known auth state since those errors don't mean that the token is invalid.\n      this._changeToUnauthenticatedStateAndClearTokens();\n    }\n    await wait(0);\n    throw err;\n  }\n\n  if (authStatus && authStatus.isAuthenticated != null) {\n    // If authStatus is correctly formatted (has an isAuthenticated property),\n    // then we will rehydrate the authError.\n    if (authStatus.authError) {\n      authStatus.authError = scErrors.hydrateError(authStatus.authError);\n    }\n  } else {\n    // Some errors like BadConnectionError and TimeoutError will not pass a valid\n    // authStatus object to the current function, so we need to create it ourselves.\n    authStatus = {\n      isAuthenticated: this.authState,\n      authError: null\n    };\n  }\n\n  if (authStatus.isAuthenticated) {\n    this._changeToAuthenticatedState(signedAuthToken);\n  } else {\n    this._changeToUnauthenticatedStateAndClearTokens();\n  }\n\n  (async () => {\n    try {\n      await this.auth.saveToken(this.authTokenName, signedAuthToken, {});\n    } catch (err) {\n      this._onError(err);\n    }\n  })();\n\n  await wait(0);\n  return authStatus;\n};\n\nAGClientSocket.prototype._tryReconnect = function (initialDelay) {\n  let exponent = this.connectAttempts++;\n  let reconnectOptions = this.options.autoReconnectOptions;\n  let timeout;\n\n  if (initialDelay == null || exponent > 0) {\n    let initialTimeout = Math.round(reconnectOptions.initialDelay + (reconnectOptions.randomness || 0) * Math.random());\n\n    timeout = Math.round(initialTimeout * Math.pow(reconnectOptions.multiplier, exponent));\n  } else {\n    timeout = initialDelay;\n  }\n\n  if (timeout > reconnectOptions.maxDelay) {\n    timeout = reconnectOptions.maxDelay;\n  }\n\n  clearTimeout(this._reconnectTimeoutRef);\n\n  this.pendingReconnect = true;\n  this.pendingReconnectTimeout = timeout;\n  this._reconnectTimeoutRef = setTimeout(() => {\n    this.connect();\n  }, timeout);\n};\n\nAGClientSocket.prototype._onOpen = function (status) {\n  if (this.isBatching) {\n    this._startBatching();\n  } else if (this.batchOnHandshake) {\n    this._startBatching();\n    setTimeout(() => {\n      if (!this.isBatching) {\n        this._stopBatching();\n      }\n    }, this.batchOnHandshakeDuration);\n  }\n  this.preparingPendingSubscriptions = true;\n\n  if (status) {\n    this.id = status.id;\n    this.pingTimeout = status.pingTimeout;\n    if (status.isAuthenticated) {\n      this._changeToAuthenticatedState(status.authToken);\n    } else {\n      this._changeToUnauthenticatedStateAndClearTokens();\n    }\n  } else {\n    // This can happen if auth.loadToken (in transport.js) fails with\n    // an error - This means that the signedAuthToken cannot be loaded by\n    // the auth engine and therefore, we need to unauthenticate the client.\n    this._changeToUnauthenticatedStateAndClearTokens();\n  }\n\n  this.connectAttempts = 0;\n\n  if (this.options.autoSubscribeOnConnect) {\n    this.processPendingSubscriptions();\n  }\n\n  // If the user invokes the callback while in autoSubscribeOnConnect mode, it\n  // won't break anything.\n  this.emit('connect', {\n    ...status,\n    processPendingSubscriptions: () => {\n      this.processPendingSubscriptions();\n    }\n  });\n\n  if (this.state === this.OPEN) {\n    this._flushOutboundBuffer();\n  }\n};\n\nAGClientSocket.prototype._onError = function (error) {\n  this.emit('error', {error});\n};\n\nAGClientSocket.prototype._suspendSubscriptions = function () {\n  Object.keys(this._channelMap).forEach((channelName) => {\n    let channel = this._channelMap[channelName];\n    this._triggerChannelUnsubscribe(channel, true);\n  });\n};\n\nAGClientSocket.prototype._abortAllPendingEventsDueToBadConnection = function (failureType) {\n  let currentNode = this._outboundBuffer.head;\n  let nextNode;\n\n  while (currentNode) {\n    nextNode = currentNode.next;\n    let eventObject = currentNode.data;\n    clearTimeout(eventObject.timeout);\n    delete eventObject.timeout;\n    currentNode.detach();\n    currentNode = nextNode;\n\n    let callback = eventObject.callback;\n\n    if (callback) {\n      delete eventObject.callback;\n      let errorMessage = `Event \"${eventObject.event}\" was aborted due to a bad connection`;\n      let error = new BadConnectionError(errorMessage, failureType);\n\n      callback.call(eventObject, error, eventObject);\n    }\n    // Cleanup any pending response callback in the transport layer too.\n    if (eventObject.cid) {\n      this.transport.cancelPendingResponse(eventObject.cid);\n    }\n  }\n};\n\nAGClientSocket.prototype._destroy = function (code, reason, openAbort) {\n  this.id = null;\n  this._cancelBatching();\n\n  if (this.transport) {\n    this.transport.clearAllListeners();\n  }\n\n  this.pendingReconnect = false;\n  this.pendingReconnectTimeout = null;\n  clearTimeout(this._reconnectTimeoutRef);\n\n  this._suspendSubscriptions();\n\n  if (openAbort) {\n    this.emit('connectAbort', {code, reason});\n  } else {\n    this.emit('disconnect', {code, reason});\n  }\n  this.emit('close', {code, reason});\n\n  if (!AGClientSocket.ignoreStatuses[code]) {\n    let closeMessage;\n    if (reason) {\n      closeMessage = 'Socket connection closed with status code ' + code + ' and reason: ' + reason;\n    } else {\n      closeMessage = 'Socket connection closed with status code ' + code;\n    }\n    let err = new SocketProtocolError(AGClientSocket.errorStatuses[code] || closeMessage, code);\n    this._onError(err);\n  }\n\n  this._abortAllPendingEventsDueToBadConnection(openAbort ? 'connectAbort' : 'disconnect');\n\n  // Try to reconnect\n  // on server ping timeout (4000)\n  // or on client pong timeout (4001)\n  // or on close without status (1005)\n  // or on handshake failure (4003)\n  // or on handshake rejection (4008)\n  // or on socket hung up (1006)\n  if (this.options.autoReconnect) {\n    if (code === 4000 || code === 4001 || code === 1005) {\n      // If there is a ping or pong timeout or socket closes without\n      // status, don't wait before trying to reconnect - These could happen\n      // if the client wakes up after a period of inactivity and in this case we\n      // want to re-establish the connection as soon as possible.\n      this._tryReconnect(0);\n\n      // Codes 4500 and above will be treated as permanent disconnects.\n      // Socket will not try to auto-reconnect.\n    } else if (code !== 1000 && code < 4500) {\n      this._tryReconnect();\n    }\n  }\n};\n\nAGClientSocket.prototype._onInboundTransmit = function (event, data) {\n  let handler = this._privateDataHandlerMap[event];\n  if (handler) {\n    handler.call(this, data);\n  } else {\n    this._receiverDemux.write(event, data);\n  }\n};\n\nAGClientSocket.prototype._onInboundInvoke = function (request) {\n  let {procedure, data} = request;\n  let handler = this._privateRPCHandlerMap[procedure];\n  if (handler) {\n    handler.call(this, data, request);\n  } else {\n    this._procedureDemux.write(procedure, request);\n  }\n};\n\nAGClientSocket.prototype.decode = function (message) {\n  return this.transport.decode(message);\n};\n\nAGClientSocket.prototype.encode = function (object) {\n  return this.transport.encode(object);\n};\n\nAGClientSocket.prototype._flushOutboundBuffer = function () {\n  let currentNode = this._outboundBuffer.head;\n  let nextNode;\n\n  while (currentNode) {\n    nextNode = currentNode.next;\n    let eventObject = currentNode.data;\n    currentNode.detach();\n    this.transport.transmitObject(eventObject);\n    currentNode = nextNode;\n  }\n};\n\nAGClientSocket.prototype._handleEventAckTimeout = function (eventObject, eventNode) {\n  if (eventNode) {\n    eventNode.detach();\n  }\n  delete eventObject.timeout;\n\n  let callback = eventObject.callback;\n  if (callback) {\n    delete eventObject.callback;\n    let error = new TimeoutError(`Event response for \"${eventObject.event}\" timed out`);\n    callback.call(eventObject, error, eventObject);\n  }\n  // Cleanup any pending response callback in the transport layer too.\n  if (eventObject.cid) {\n    this.transport.cancelPendingResponse(eventObject.cid);\n  }\n};\n\nAGClientSocket.prototype._processOutboundEvent = function (event, data, options, expectResponse) {\n  options = options || {};\n\n  if (this.state === this.CLOSED) {\n    this.connect();\n  }\n  let eventObject = {\n    event\n  };\n\n  let promise;\n\n  if (expectResponse) {\n    promise = new Promise((resolve, reject) => {\n      eventObject.callback = (err, data) => {\n        if (err) {\n          reject(err);\n          return;\n        }\n        resolve(data);\n      };\n    });\n  } else {\n    promise = Promise.resolve();\n  }\n\n  let eventNode = new LinkedList.Item();\n\n  if (this.options.cloneData) {\n    eventObject.data = cloneDeep(data);\n  } else {\n    eventObject.data = data;\n  }\n  eventNode.data = eventObject;\n\n  let ackTimeout = options.ackTimeout == null ? this.ackTimeout : options.ackTimeout;\n\n  eventObject.timeout = setTimeout(() => {\n    this._handleEventAckTimeout(eventObject, eventNode);\n  }, ackTimeout);\n\n  this._outboundBuffer.append(eventNode);\n  if (this.state === this.OPEN) {\n    this._flushOutboundBuffer();\n  }\n  return promise;\n};\n\nAGClientSocket.prototype.send = function (data) {\n  this.transport.send(data);\n};\n\nAGClientSocket.prototype.transmit = function (event, data, options) {\n  return this._processOutboundEvent(event, data, options);\n};\n\nAGClientSocket.prototype.invoke = function (event, data, options) {\n  return this._processOutboundEvent(event, data, options, true);\n};\n\nAGClientSocket.prototype.transmitPublish = function (channelName, data) {\n  let pubData = {\n    channel: this._decorateChannelName(channelName),\n    data\n  };\n  return this.transmit('#publish', pubData);\n};\n\nAGClientSocket.prototype.invokePublish = function (channelName, data) {\n  let pubData = {\n    channel: this._decorateChannelName(channelName),\n    data\n  };\n  return this.invoke('#publish', pubData);\n};\n\nAGClientSocket.prototype._triggerChannelSubscribe = function (channel, subscriptionOptions) {\n  let channelName = channel.name;\n\n  if (channel.state !== AGChannel.SUBSCRIBED) {\n    let oldChannelState = channel.state;\n    channel.state = AGChannel.SUBSCRIBED;\n\n    let stateChangeData = {\n      oldChannelState,\n      newChannelState: channel.state,\n      subscriptionOptions\n    };\n    this._channelEventDemux.write(`${channelName}/subscribeStateChange`, stateChangeData);\n    this._channelEventDemux.write(`${channelName}/subscribe`, {\n      subscriptionOptions\n    });\n    this.emit('subscribeStateChange', {\n      channel: channelName,\n      ...stateChangeData\n    });\n    this.emit('subscribe', {\n      channel: channelName,\n      subscriptionOptions\n    });\n  }\n};\n\nAGClientSocket.prototype._triggerChannelSubscribeFail = function (err, channel, subscriptionOptions) {\n  let channelName = channel.name;\n  let meetsAuthRequirements = !channel.options.waitForAuth || this.authState === this.AUTHENTICATED;\n  let hasChannel = !!this._channelMap[channelName];\n\n  if (hasChannel && meetsAuthRequirements) {\n    delete this._channelMap[channelName];\n\n    this._channelEventDemux.write(`${channelName}/subscribeFail`, {\n      error: err,\n      subscriptionOptions\n    });\n    this.emit('subscribeFail', {\n      error: err,\n      channel: channelName,\n      subscriptionOptions: subscriptionOptions\n    });\n  }\n};\n\n// Cancel any pending subscribe callback\nAGClientSocket.prototype._cancelPendingSubscribeCallback = function (channel) {\n  if (channel._pendingSubscriptionCid != null) {\n    this.transport.cancelPendingResponse(channel._pendingSubscriptionCid);\n    delete channel._pendingSubscriptionCid;\n  }\n};\n\nAGClientSocket.prototype._decorateChannelName = function (channelName) {\n  if (this.channelPrefix) {\n    channelName = this.channelPrefix + channelName;\n  }\n  return channelName;\n};\n\nAGClientSocket.prototype._undecorateChannelName = function (decoratedChannelName) {\n  if (this.channelPrefix && decoratedChannelName.indexOf(this.channelPrefix) === 0) {\n    return decoratedChannelName.replace(this.channelPrefix, '');\n  }\n  return decoratedChannelName;\n};\n\nAGClientSocket.prototype.startBatch = function () {\n  this.transport.startBatch();\n};\n\nAGClientSocket.prototype.flushBatch = function () {\n  this.transport.flushBatch();\n};\n\nAGClientSocket.prototype.cancelBatch = function () {\n  this.transport.cancelBatch();\n};\n\nAGClientSocket.prototype._startBatching = function () {\n  if (this._batchingIntervalId != null) {\n    return;\n  }\n  this.startBatch();\n  this._batchingIntervalId = setInterval(() => {\n    this.flushBatch();\n    this.startBatch();\n  }, this.options.batchInterval);\n};\n\nAGClientSocket.prototype.startBatching = function () {\n  this.isBatching = true;\n  this._startBatching();\n};\n\nAGClientSocket.prototype._stopBatching = function () {\n  if (this._batchingIntervalId != null) {\n    clearInterval(this._batchingIntervalId);\n  }\n  this._batchingIntervalId = null;\n  this.flushBatch();\n};\n\nAGClientSocket.prototype.stopBatching = function () {\n  this.isBatching = false;\n  this._stopBatching();\n};\n\nAGClientSocket.prototype._cancelBatching = function () {\n  if (this._batchingIntervalId != null) {\n    clearInterval(this._batchingIntervalId);\n  }\n  this._batchingIntervalId = null;\n  this.cancelBatch();\n};\n\nAGClientSocket.prototype.cancelBatching = function () {\n  this.isBatching = false;\n  this._cancelBatching();\n};\n\nAGClientSocket.prototype._trySubscribe = function (channel) {\n  let meetsAuthRequirements = !channel.options.waitForAuth || this.authState === this.AUTHENTICATED;\n\n  // We can only ever have one pending subscribe action at any given time on a channel\n  if (\n    this.state === this.OPEN &&\n    !this.preparingPendingSubscriptions &&\n    channel._pendingSubscriptionCid == null &&\n    meetsAuthRequirements\n  ) {\n\n    let options = {\n      noTimeout: true\n    };\n\n    let subscriptionOptions = {};\n    if (channel.options.waitForAuth) {\n      options.waitForAuth = true;\n      subscriptionOptions.waitForAuth = options.waitForAuth;\n    }\n    if (channel.options.data) {\n      subscriptionOptions.data = channel.options.data;\n    }\n\n    channel._pendingSubscriptionCid = this.transport.invokeRaw(\n      '#subscribe',\n      {\n        channel: this._decorateChannelName(channel.name),\n        ...subscriptionOptions\n      },\n      options,\n      (err) => {\n        if (err) {\n          if (err.name === 'BadConnectionError') {\n            // In case of a failed connection, keep the subscription\n            // as pending; it will try again on reconnect.\n            return;\n          }\n          delete channel._pendingSubscriptionCid;\n          this._triggerChannelSubscribeFail(err, channel, subscriptionOptions);\n        } else {\n          delete channel._pendingSubscriptionCid;\n          this._triggerChannelSubscribe(channel, subscriptionOptions);\n        }\n      }\n    );\n    this.emit('subscribeRequest', {\n      channel: channel.name,\n      subscriptionOptions\n    });\n  }\n};\n\nAGClientSocket.prototype.subscribe = function (channelName, options) {\n  options = options || {};\n  let channel = this._channelMap[channelName];\n\n  let sanitizedOptions = {\n    waitForAuth: !!options.waitForAuth\n  };\n\n  if (options.priority != null) {\n    sanitizedOptions.priority = options.priority;\n  }\n  if (options.data !== undefined) {\n    sanitizedOptions.data = options.data;\n  }\n\n  if (!channel) {\n    channel = {\n      name: channelName,\n      state: AGChannel.PENDING,\n      options: sanitizedOptions\n    };\n    this._channelMap[channelName] = channel;\n    this._trySubscribe(channel);\n  } else if (options) {\n    channel.options = sanitizedOptions;\n  }\n\n  let channelIterable = new AGChannel(\n    channelName,\n    this,\n    this._channelEventDemux,\n    this._channelDataDemux\n  );\n\n  return channelIterable;\n};\n\nAGClientSocket.prototype._triggerChannelUnsubscribe = function (channel, setAsPending) {\n  let channelName = channel.name;\n\n  this._cancelPendingSubscribeCallback(channel);\n\n  if (channel.state === AGChannel.SUBSCRIBED) {\n    let stateChangeData = {\n      oldChannelState: channel.state,\n      newChannelState: setAsPending ? AGChannel.PENDING : AGChannel.UNSUBSCRIBED\n    };\n    this._channelEventDemux.write(`${channelName}/subscribeStateChange`, stateChangeData);\n    this._channelEventDemux.write(`${channelName}/unsubscribe`, {});\n    this.emit('subscribeStateChange', {\n      channel: channelName,\n      ...stateChangeData\n    });\n    this.emit('unsubscribe', {channel: channelName});\n  }\n\n  if (setAsPending) {\n    channel.state = AGChannel.PENDING;\n  } else {\n    delete this._channelMap[channelName];\n  }\n};\n\nAGClientSocket.prototype._tryUnsubscribe = function (channel) {\n  if (this.state === this.OPEN) {\n    let options = {\n      noTimeout: true\n    };\n    // If there is a pending subscribe action, cancel the callback\n    this._cancelPendingSubscribeCallback(channel);\n\n    // This operation cannot fail because the TCP protocol guarantees delivery\n    // so long as the connection remains open. If the connection closes,\n    // the server will automatically unsubscribe the client and thus complete\n    // the operation on the server side.\n    let decoratedChannelName = this._decorateChannelName(channel.name);\n    this.transport.transmit('#unsubscribe', decoratedChannelName, options);\n  }\n};\n\nAGClientSocket.prototype.unsubscribe = function (channelName) {\n  let channel = this._channelMap[channelName];\n\n  if (channel) {\n    this._triggerChannelUnsubscribe(channel);\n    this._tryUnsubscribe(channel);\n  }\n};\n\n// ---- Receiver logic ----\n\nAGClientSocket.prototype.receiver = function (receiverName) {\n  return this._receiverDemux.stream(receiverName);\n};\n\nAGClientSocket.prototype.closeReceiver = function (receiverName) {\n  this._receiverDemux.close(receiverName);\n};\n\nAGClientSocket.prototype.closeAllReceivers = function () {\n  this._receiverDemux.closeAll();\n};\n\nAGClientSocket.prototype.killReceiver = function (receiverName) {\n  this._receiverDemux.kill(receiverName);\n};\n\nAGClientSocket.prototype.killAllReceivers = function () {\n  this._receiverDemux.killAll();\n};\n\nAGClientSocket.prototype.killReceiverConsumer = function (consumerId) {\n  this._receiverDemux.killConsumer(consumerId);\n};\n\nAGClientSocket.prototype.getReceiverConsumerStats = function (consumerId) {\n  return this._receiverDemux.getConsumerStats(consumerId);\n};\n\nAGClientSocket.prototype.getReceiverConsumerStatsList = function (receiverName) {\n  return this._receiverDemux.getConsumerStatsList(receiverName);\n};\n\nAGClientSocket.prototype.getAllReceiversConsumerStatsList = function () {\n  return this._receiverDemux.getConsumerStatsListAll();\n};\n\nAGClientSocket.prototype.getReceiverBackpressure = function (receiverName) {\n  return this._receiverDemux.getBackpressure(receiverName);\n};\n\nAGClientSocket.prototype.getAllReceiversBackpressure = function () {\n  return this._receiverDemux.getBackpressureAll();\n};\n\nAGClientSocket.prototype.getReceiverConsumerBackpressure = function (consumerId) {\n  return this._receiverDemux.getConsumerBackpressure(consumerId);\n};\n\nAGClientSocket.prototype.hasReceiverConsumer = function (receiverName, consumerId) {\n  return this._receiverDemux.hasConsumer(receiverName, consumerId);\n};\n\nAGClientSocket.prototype.hasAnyReceiverConsumer = function (consumerId) {\n  return this._receiverDemux.hasConsumerAll(consumerId);\n};\n\n// ---- Procedure logic ----\n\nAGClientSocket.prototype.procedure = function (procedureName) {\n  return this._procedureDemux.stream(procedureName);\n};\n\nAGClientSocket.prototype.closeProcedure = function (procedureName) {\n  this._procedureDemux.close(procedureName);\n};\n\nAGClientSocket.prototype.closeAllProcedures = function () {\n  this._procedureDemux.closeAll();\n};\n\nAGClientSocket.prototype.killProcedure = function (procedureName) {\n  this._procedureDemux.kill(procedureName);\n};\n\nAGClientSocket.prototype.killAllProcedures = function () {\n  this._procedureDemux.killAll();\n};\n\nAGClientSocket.prototype.killProcedureConsumer = function (consumerId) {\n  this._procedureDemux.killConsumer(consumerId);\n};\n\nAGClientSocket.prototype.getProcedureConsumerStats = function (consumerId) {\n  return this._procedureDemux.getConsumerStats(consumerId);\n};\n\nAGClientSocket.prototype.getProcedureConsumerStatsList = function (procedureName) {\n  return this._procedureDemux.getConsumerStatsList(procedureName);\n};\n\nAGClientSocket.prototype.getAllProceduresConsumerStatsList = function () {\n  return this._procedureDemux.getConsumerStatsListAll();\n};\n\nAGClientSocket.prototype.getProcedureBackpressure = function (procedureName) {\n  return this._procedureDemux.getBackpressure(procedureName);\n};\n\nAGClientSocket.prototype.getAllProceduresBackpressure = function () {\n  return this._procedureDemux.getBackpressureAll();\n};\n\nAGClientSocket.prototype.getProcedureConsumerBackpressure = function (consumerId) {\n  return this._procedureDemux.getConsumerBackpressure(consumerId);\n};\n\nAGClientSocket.prototype.hasProcedureConsumer = function (procedureName, consumerId) {\n  return this._procedureDemux.hasConsumer(procedureName, consumerId);\n};\n\nAGClientSocket.prototype.hasAnyProcedureConsumer = function (consumerId) {\n  return this._procedureDemux.hasConsumerAll(consumerId);\n};\n\n// ---- Channel logic ----\n\nAGClientSocket.prototype.channel = function (channelName) {\n  let currentChannel = this._channelMap[channelName];\n\n  let channelIterable = new AGChannel(\n    channelName,\n    this,\n    this._channelEventDemux,\n    this._channelDataDemux\n  );\n\n  return channelIterable;\n};\n\nAGClientSocket.prototype.closeChannel = function (channelName) {\n  this.channelCloseOutput(channelName);\n  this.channelCloseAllListeners(channelName);\n};\n\nAGClientSocket.prototype.closeAllChannelOutputs = function () {\n  this._channelDataDemux.closeAll();\n};\n\nAGClientSocket.prototype.closeAllChannelListeners = function () {\n  this._channelEventDemux.closeAll();\n};\n\nAGClientSocket.prototype.closeAllChannels = function () {\n  this.closeAllChannelOutputs();\n  this.closeAllChannelListeners();\n};\n\nAGClientSocket.prototype.killChannel = function (channelName) {\n  this.channelKillOutput(channelName);\n  this.channelKillAllListeners(channelName);\n};\n\nAGClientSocket.prototype.killAllChannelOutputs = function () {\n  this._channelDataDemux.killAll();\n};\n\nAGClientSocket.prototype.killAllChannelListeners = function () {\n  this._channelEventDemux.killAll();\n};\n\nAGClientSocket.prototype.killAllChannels = function () {\n  this.killAllChannelOutputs();\n  this.killAllChannelListeners();\n};\n\nAGClientSocket.prototype.killChannelOutputConsumer = function (consumerId) {\n  this._channelDataDemux.killConsumer(consumerId);\n};\n\nAGClientSocket.prototype.killChannelListenerConsumer = function (consumerId) {\n  this._channelEventDemux.killConsumer(consumerId);\n};\n\nAGClientSocket.prototype.getChannelOutputConsumerStats = function (consumerId) {\n  return this._channelDataDemux.getConsumerStats(consumerId);\n};\n\nAGClientSocket.prototype.getChannelListenerConsumerStats = function (consumerId) {\n  return this._channelEventDemux.getConsumerStats(consumerId);\n};\n\nAGClientSocket.prototype.getAllChannelOutputsConsumerStatsList = function () {\n  return this._channelDataDemux.getConsumerStatsListAll();\n};\n\nAGClientSocket.prototype.getAllChannelListenersConsumerStatsList = function () {\n  return this._channelEventDemux.getConsumerStatsListAll();\n};\n\nAGClientSocket.prototype.getChannelBackpressure = function (channelName) {\n  return Math.max(\n    this.channelGetOutputBackpressure(channelName),\n    this.channelGetAllListenersBackpressure(channelName)\n  );\n};\n\nAGClientSocket.prototype.getAllChannelOutputsBackpressure = function () {\n  return this._channelDataDemux.getBackpressureAll();\n};\n\nAGClientSocket.prototype.getAllChannelListenersBackpressure = function () {\n  return this._channelEventDemux.getBackpressureAll();\n};\n\nAGClientSocket.prototype.getAllChannelsBackpressure = function () {\n  return Math.max(\n    this.getAllChannelOutputsBackpressure(),\n    this.getAllChannelListenersBackpressure()\n  );\n};\n\nAGClientSocket.prototype.getChannelListenerConsumerBackpressure = function (consumerId) {\n  return this._channelEventDemux.getConsumerBackpressure(consumerId);\n};\n\nAGClientSocket.prototype.getChannelOutputConsumerBackpressure = function (consumerId) {\n  return this._channelDataDemux.getConsumerBackpressure(consumerId);\n};\n\nAGClientSocket.prototype.hasAnyChannelOutputConsumer = function (consumerId) {\n  return this._channelDataDemux.hasConsumerAll(consumerId);\n};\n\nAGClientSocket.prototype.hasAnyChannelListenerConsumer = function (consumerId) {\n  return this._channelEventDemux.hasConsumerAll(consumerId);\n};\n\nAGClientSocket.prototype.getChannelState = function (channelName) {\n  let channel = this._channelMap[channelName];\n  if (channel) {\n    return channel.state;\n  }\n  return AGChannel.UNSUBSCRIBED;\n};\n\nAGClientSocket.prototype.getChannelOptions = function (channelName) {\n  let channel = this._channelMap[channelName];\n  if (channel) {\n    return {...channel.options};\n  }\n  return {};\n};\n\nAGClientSocket.prototype._getAllChannelStreamNames = function (channelName) {\n  let streamNamesLookup = this._channelEventDemux.getConsumerStatsListAll()\n  .filter((stats) => {\n    return stats.stream.indexOf(`${channelName}/`) === 0;\n  })\n  .reduce((accumulator, stats) => {\n    accumulator[stats.stream] = true;\n    return accumulator;\n  }, {});\n  return Object.keys(streamNamesLookup);\n};\n\nAGClientSocket.prototype.channelCloseOutput = function (channelName) {\n  this._channelDataDemux.close(channelName);\n};\n\nAGClientSocket.prototype.channelCloseListener = function (channelName, eventName) {\n  this._channelEventDemux.close(`${channelName}/${eventName}`);\n};\n\nAGClientSocket.prototype.channelCloseAllListeners = function (channelName) {\n  let listenerStreams = this._getAllChannelStreamNames(channelName)\n  .forEach((streamName) => {\n    this._channelEventDemux.close(streamName);\n  });\n};\n\nAGClientSocket.prototype.channelKillOutput = function (channelName) {\n  this._channelDataDemux.kill(channelName);\n};\n\nAGClientSocket.prototype.channelKillListener = function (channelName, eventName) {\n  this._channelEventDemux.kill(`${channelName}/${eventName}`);\n};\n\nAGClientSocket.prototype.channelKillAllListeners = function (channelName) {\n  let listenerStreams = this._getAllChannelStreamNames(channelName)\n  .forEach((streamName) => {\n    this._channelEventDemux.kill(streamName);\n  });\n};\n\nAGClientSocket.prototype.channelGetOutputConsumerStatsList = function (channelName) {\n  return this._channelDataDemux.getConsumerStatsList(channelName);\n};\n\nAGClientSocket.prototype.channelGetListenerConsumerStatsList = function (channelName, eventName) {\n  return this._channelEventDemux.getConsumerStatsList(`${channelName}/${eventName}`);\n};\n\nAGClientSocket.prototype.channelGetAllListenersConsumerStatsList = function (channelName) {\n  return this._getAllChannelStreamNames(channelName)\n  .map((streamName) => {\n    return this._channelEventDemux.getConsumerStatsList(streamName);\n  })\n  .reduce((accumulator, statsList) => {\n    statsList.forEach((stats) => {\n      accumulator.push(stats);\n    });\n    return accumulator;\n  }, []);\n};\n\nAGClientSocket.prototype.channelGetOutputBackpressure = function (channelName) {\n  return this._channelDataDemux.getBackpressure(channelName);\n};\n\nAGClientSocket.prototype.channelGetListenerBackpressure = function (channelName, eventName) {\n  return this._channelEventDemux.getBackpressure(`${channelName}/${eventName}`);\n};\n\nAGClientSocket.prototype.channelGetAllListenersBackpressure = function (channelName) {\n  let listenerStreamBackpressures = this._getAllChannelStreamNames(channelName)\n  .map((streamName) => {\n    return this._channelEventDemux.getBackpressure(streamName);\n  });\n  return Math.max(...listenerStreamBackpressures.concat(0));\n};\n\nAGClientSocket.prototype.channelHasOutputConsumer = function (channelName, consumerId) {\n  return this._channelDataDemux.hasConsumer(channelName, consumerId);\n};\n\nAGClientSocket.prototype.channelHasListenerConsumer = function (channelName, eventName, consumerId) {\n  return this._channelEventDemux.hasConsumer(`${channelName}/${eventName}`, consumerId);\n};\n\nAGClientSocket.prototype.channelHasAnyListenerConsumer = function (channelName, consumerId) {\n  return this._getAllChannelStreamNames(channelName)\n  .some((streamName) => {\n    return this._channelEventDemux.hasConsumer(streamName, consumerId);\n  });\n};\n\nAGClientSocket.prototype.subscriptions = function (includePending) {\n  let subs = [];\n  Object.keys(this._channelMap).forEach((channelName) => {\n    if (includePending || this._channelMap[channelName].state === AGChannel.SUBSCRIBED) {\n      subs.push(channelName);\n    }\n  });\n  return subs;\n};\n\nAGClientSocket.prototype.isSubscribed = function (channelName, includePending) {\n  let channel = this._channelMap[channelName];\n  if (includePending) {\n    return !!channel;\n  }\n  return !!channel && channel.state === AGChannel.SUBSCRIBED;\n};\n\nAGClientSocket.prototype.processPendingSubscriptions = function () {\n  this.preparingPendingSubscriptions = false;\n  let pendingChannels = [];\n\n  Object.keys(this._channelMap).forEach((channelName) => {\n    let channel = this._channelMap[channelName];\n    if (channel.state === AGChannel.PENDING) {\n      pendingChannels.push(channel);\n    }\n  });\n\n  pendingChannels.sort((a, b) => {\n    let ap = a.options.priority || 0;\n    let bp = b.options.priority || 0;\n    if (ap > bp) {\n      return -1;\n    }\n    if (ap < bp) {\n      return 1;\n    }\n    return 0;\n  });\n\n  pendingChannels.forEach((channel) => {\n    this._trySubscribe(channel);\n  });\n};\n\nmodule.exports = AGClientSocket;\n","const AGClientSocket = require('./clientsocket');\nconst uuid = require('uuid');\nconst scErrors = require('sc-errors');\nconst InvalidArgumentsError = scErrors.InvalidArgumentsError;\n\nfunction isUrlSecure() {\n  return global.location && location.protocol === 'https:';\n}\n\nfunction getPort(options, isSecureDefault) {\n  let isSecure = options.secure == null ? isSecureDefault : options.secure;\n  return options.port || (global.location && location.port ? location.port : isSecure ? 443 : 80);\n}\n\nfunction create(options) {\n  options = options || {};\n\n  if (options.host && !options.host.match(/[^:]+:\\d{2,5}/)) {\n    throw new InvalidArgumentsError(\n      'The host option should include both' +\n      ' the hostname and the port number in the format \"hostname:port\"'\n    );\n  }\n\n  if (options.host && options.hostname) {\n    throw new InvalidArgumentsError(\n      'The host option should already include' +\n      ' the hostname and the port number in the format \"hostname:port\"' +\n      ' - Because of this, you should never use host and hostname options together'\n    );\n  }\n\n  if (options.host && options.port) {\n    throw new InvalidArgumentsError(\n      'The host option should already include' +\n      ' the hostname and the port number in the format \"hostname:port\"' +\n      ' - Because of this, you should never use host and port options together'\n    );\n  }\n\n  let isSecureDefault = isUrlSecure();\n\n  let opts = {\n    clientId: uuid.v4(),\n    port: getPort(options, isSecureDefault),\n    hostname: global.location && location.hostname || 'localhost',\n    secure: isSecureDefault\n  };\n\n  Object.assign(opts, options);\n\n  return new AGClientSocket(opts);\n}\n\nmodule.exports = {\n  create\n};\n","const AGRequest = require('ag-request');\n\nlet WebSocket;\nlet createWebSocket;\n\nif (global.WebSocket) {\n  WebSocket = global.WebSocket;\n  createWebSocket = function (uri, options) {\n    return new WebSocket(uri);\n  };\n} else {\n  WebSocket = require('ws');\n  createWebSocket = function (uri, options) {\n    return new WebSocket(uri, null, options);\n  };\n}\n\nconst scErrors = require('sc-errors');\nconst TimeoutError = scErrors.TimeoutError;\nconst BadConnectionError = scErrors.BadConnectionError;\n\nfunction AGTransport(authEngine, codecEngine, options, wsOptions, handlers) {\n  this.state = this.CLOSED;\n  this.auth = authEngine;\n  this.codec = codecEngine;\n  this.options = options;\n  this.wsOptions = wsOptions;\n  this.protocolVersion = options.protocolVersion;\n  this.connectTimeout = options.connectTimeout;\n  this.pingTimeout = options.pingTimeout;\n  this.pingTimeoutDisabled = !!options.pingTimeoutDisabled;\n  this.callIdGenerator = options.callIdGenerator;\n  this.authTokenName = options.authTokenName;\n  this.isBufferingBatch = false;\n\n  this._pingTimeoutTicker = null;\n  this._callbackMap = {};\n  this._batchBuffer = [];\n\n  if (!handlers) {\n    handlers = {};\n  }\n\n  this._onOpenHandler = handlers.onOpen || function () {};\n  this._onOpenAbortHandler = handlers.onOpenAbort || function () {};\n  this._onCloseHandler = handlers.onClose || function () {};\n  this._onEventHandler = handlers.onEvent || function () {};\n  this._onErrorHandler = handlers.onError || function () {};\n  this._onInboundInvokeHandler  = handlers.onInboundInvoke || function () {};\n  this._onInboundTransmitHandler = handlers.onInboundTransmit || function () {};\n\n  // Open the connection.\n\n  this.state = this.CONNECTING;\n  let uri = this.uri();\n\n  let wsSocket = createWebSocket(uri, wsOptions);\n  wsSocket.binaryType = this.options.binaryType;\n\n  this.socket = wsSocket;\n\n  wsSocket.onopen = () => {\n    this._onOpen();\n  };\n\n  wsSocket.onclose = async (event) => {\n    let code;\n    if (event.code == null) {\n      // This is to handle an edge case in React Native whereby\n      // event.code is undefined when the mobile device is locked.\n      // TODO: This is not ideal since this condition could also apply to\n      // an abnormal close (no close control frame) which would be a 1006.\n      code = 1005;\n    } else {\n      code = event.code;\n    }\n    this._destroy(code, event.reason);\n  };\n\n  wsSocket.onmessage = (message, flags) => {\n    this._onMessage(message.data);\n  };\n\n  wsSocket.onerror = (error) => {\n    // The onclose event will be called automatically after the onerror event\n    // if the socket is connected - Otherwise, if it's in the middle of\n    // connecting, we want to close it manually with a 1006 - This is necessary\n    // to prevent inconsistent behavior when running the client in Node.js\n    // vs in a browser.\n    if (this.state === this.CONNECTING) {\n      this._destroy(1006);\n    }\n  };\n\n  this._connectTimeoutRef = setTimeout(() => {\n    this._destroy(4007);\n    this.socket.close(4007);\n  }, this.connectTimeout);\n\n  if (this.protocolVersion === 1) {\n    this._handlePing = (message) => {\n      if (message === '#1') {\n        this._resetPingTimeout();\n        if (this.socket.readyState === this.socket.OPEN) {\n          this.send('#2');\n        }\n        return true;\n      }\n      return false;\n    };\n  } else {\n    this._handlePing = (message) => {\n      if (message === '') {\n        this._resetPingTimeout();\n        if (this.socket.readyState === this.socket.OPEN) {\n          this.send('');\n        }\n        return true;\n      }\n      return false;\n    };\n  }\n}\n\nAGTransport.CONNECTING = AGTransport.prototype.CONNECTING = 'connecting';\nAGTransport.OPEN = AGTransport.prototype.OPEN = 'open';\nAGTransport.CLOSED = AGTransport.prototype.CLOSED = 'closed';\n\nAGTransport.prototype.uri = function () {\n  let query = this.options.query || {};\n  let scheme;\n  if (this.options.protocolScheme == null) {\n    scheme = this.options.secure ? 'wss' : 'ws';\n  } else {\n    scheme = this.options.protocolScheme;\n  }\n\n  if (this.options.timestampRequests) {\n    query[this.options.timestampParam] = (new Date()).getTime();\n  }\n\n  let searchParams = new URLSearchParams();\n  for (let [key, value] of Object.entries(query)) {\n    if (Array.isArray(value)) {\n      for (let item of value) {\n        searchParams.append(key, item);\n      }\n    } else {\n      searchParams.set(key, value);\n    }\n  }\n\n  query = searchParams.toString();\n\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  let host;\n  let path;\n  if (this.options.socketPath == null) {\n    if (this.options.host) {\n      host = this.options.host;\n    } else {\n      let port = '';\n\n      if (this.options.port && ((scheme === 'wss' && this.options.port !== 443)\n        || (scheme === 'ws' && this.options.port !== 80))) {\n        port = ':' + this.options.port;\n      }\n      host = this.options.hostname + port;\n    }\n    path = this.options.path;\n  } else {\n    host = this.options.socketPath;\n    path = `:${this.options.path}`;\n  }\n  return scheme + '://' + host + path + query;\n};\n\nAGTransport.prototype._onOpen = async function () {\n  clearTimeout(this._connectTimeoutRef);\n  this._resetPingTimeout();\n\n  let status;\n\n  try {\n    status = await this._handshake();\n  } catch (err) {\n    if (err.statusCode == null) {\n      err.statusCode = 4003;\n    }\n    this._onError(err);\n    this._destroy(err.statusCode, err.toString());\n    this.socket.close(err.statusCode);\n    return;\n  }\n\n  this.state = this.OPEN;\n  if (status) {\n    this.pingTimeout = status.pingTimeout;\n  }\n  this._resetPingTimeout();\n  this._onOpenHandler(status);\n};\n\nAGTransport.prototype._handshake = async function () {\n  let token = await this.auth.loadToken(this.authTokenName);\n  // Don't wait for this.state to be 'open'.\n  // The underlying WebSocket (this.socket) is already open.\n  let options = {\n    force: true\n  };\n  let status = await this.invoke('#handshake', {authToken: token}, options);\n  if (status) {\n    // Add the token which was used as part of authentication attempt\n    // to the status object.\n    status.authToken = token;\n    if (status.authError) {\n      status.authError = scErrors.hydrateError(status.authError);\n    }\n  }\n  return status;\n};\n\nAGTransport.prototype._abortAllPendingEventsDueToBadConnection = function (failureType) {\n  Object.keys(this._callbackMap || {}).forEach((i) => {\n    let eventObject = this._callbackMap[i];\n    delete this._callbackMap[i];\n\n    clearTimeout(eventObject.timeout);\n    delete eventObject.timeout;\n\n    let errorMessage = `Event \"${eventObject.event}\" was aborted due to a bad connection`;\n    let badConnectionError = new BadConnectionError(errorMessage, failureType);\n\n    let callback = eventObject.callback;\n    if (callback) {\n      delete eventObject.callback;\n\n      callback.call(eventObject, badConnectionError, eventObject);\n    }\n  });\n};\n\nAGTransport.prototype._destroy = function (code, reason) {\n  let protocolReason = scErrors.socketProtocolErrorStatuses[code];\n  if (!reason && scErrors.socketProtocolErrorStatuses[code]) {\n    reason = scErrors.socketProtocolErrorStatuses[code];\n  }\n  delete this.socket.onopen;\n  delete this.socket.onclose;\n  delete this.socket.onmessage;\n  delete this.socket.onerror;\n\n  clearTimeout(this._connectTimeoutRef);\n  clearTimeout(this._pingTimeoutTicker);\n\n  if (this.state === this.OPEN) {\n    this.state = this.CLOSED;\n    this._abortAllPendingEventsDueToBadConnection('disconnect');\n    this._onCloseHandler({code, reason});\n  } else if (this.state === this.CONNECTING) {\n    this.state = this.CLOSED;\n    this._abortAllPendingEventsDueToBadConnection('connectAbort');\n    this._onOpenAbortHandler({code, reason});\n  } else if (this.state === this.CLOSED) {\n    this._abortAllPendingEventsDueToBadConnection('connectAbort');\n  }\n};\n\nAGTransport.prototype._processInboundPacket = function (packet, message) {\n  if (packet && packet.event != null) {\n    if (packet.cid == null) {\n      this._onInboundTransmitHandler({...packet});\n    } else {\n      let request = new AGRequest(this, packet.cid, packet.event, packet.data);\n      this._onInboundInvokeHandler(request);\n    }\n  } else if (packet && packet.rid != null) {\n    let eventObject = this._callbackMap[packet.rid];\n    if (eventObject) {\n      clearTimeout(eventObject.timeout);\n      delete eventObject.timeout;\n      delete this._callbackMap[packet.rid];\n\n      if (eventObject.callback) {\n        let rehydratedError = scErrors.hydrateError(packet.error);\n        eventObject.callback(rehydratedError, packet.data);\n      }\n    }\n  } else {\n    this._onEventHandler({event: 'raw', data: {message}});\n  }\n};\n\nAGTransport.prototype._onMessage = function (message) {\n  this._onEventHandler({event: 'message', data: {message}});\n\n  if (this._handlePing(message)) {\n    return;\n  }\n\n  let packet = this.decode(message);\n\n  if (Array.isArray(packet)) {\n    let len = packet.length;\n    for (let i = 0; i < len; i++) {\n      this._processInboundPacket(packet[i], message);\n    }\n  } else {\n    this._processInboundPacket(packet, message);\n  }\n};\n\nAGTransport.prototype._onError = function (error) {\n  this._onErrorHandler({error});\n};\n\nAGTransport.prototype._resetPingTimeout = function () {\n  if (this.pingTimeoutDisabled) {\n    return;\n  }\n\n  let now = (new Date()).getTime();\n  clearTimeout(this._pingTimeoutTicker);\n  this._pingTimeoutTicker = setTimeout(() => {\n    this._destroy(4000);\n    this.socket.close(4000);\n  }, this.pingTimeout);\n};\n\nAGTransport.prototype.clearAllListeners = function () {\n  this._onOpenHandler = function () {};\n  this._onOpenAbortHandler = function () {};\n  this._onCloseHandler = function () {};\n  this._onEventHandler = function () {};\n  this._onErrorHandler = function () {};\n  this._onInboundInvokeHandler  = function () {};\n  this._onInboundTransmitHandler = function () {};\n};\n\nAGTransport.prototype.startBatch = function () {\n  this.isBufferingBatch = true;\n  this._batchBuffer = [];\n};\n\nAGTransport.prototype.flushBatch = function () {\n  this.isBufferingBatch = false;\n  if (!this._batchBuffer.length) {\n    return;\n  }\n  let serializedBatch = this.serializeObject(this._batchBuffer);\n  this._batchBuffer = [];\n  this.send(serializedBatch);\n};\n\nAGTransport.prototype.cancelBatch = function () {\n  this.isBufferingBatch = false;\n  this._batchBuffer = [];\n};\n\nAGTransport.prototype.getBytesReceived = function () {\n  return this.socket.bytesReceived;\n};\n\nAGTransport.prototype.close = function (code, reason) {\n  if (this.state === this.OPEN || this.state === this.CONNECTING) {\n    code = code || 1000;\n    this._destroy(code, reason);\n    this.socket.close(code, reason);\n  }\n};\n\nAGTransport.prototype.transmitObject = function (eventObject) {\n  let simpleEventObject = {\n    event: eventObject.event,\n    data: eventObject.data\n  };\n\n  if (eventObject.callback) {\n    simpleEventObject.cid = eventObject.cid = this.callIdGenerator();\n    this._callbackMap[eventObject.cid] = eventObject;\n  }\n\n  this.sendObject(simpleEventObject);\n\n  return eventObject.cid || null;\n};\n\nAGTransport.prototype._handleEventAckTimeout = function (eventObject) {\n  if (eventObject.cid) {\n    delete this._callbackMap[eventObject.cid];\n  }\n  delete eventObject.timeout;\n\n  let callback = eventObject.callback;\n  if (callback) {\n    delete eventObject.callback;\n    let error = new TimeoutError(`Event response for \"${eventObject.event}\" timed out`);\n    callback.call(eventObject, error, eventObject);\n  }\n};\n\nAGTransport.prototype.transmit = function (event, data, options) {\n  let eventObject = {\n    event,\n    data\n  };\n\n  if (this.state === this.OPEN || options.force) {\n    this.transmitObject(eventObject);\n  }\n  return Promise.resolve();\n};\n\nAGTransport.prototype.invokeRaw = function (event, data, options, callback) {\n  let eventObject = {\n    event,\n    data,\n    callback\n  };\n\n  if (!options.noTimeout) {\n    eventObject.timeout = setTimeout(() => {\n      this._handleEventAckTimeout(eventObject);\n    }, this.options.ackTimeout);\n  }\n  let cid = null;\n  if (this.state === this.OPEN || options.force) {\n    cid = this.transmitObject(eventObject);\n  }\n  return cid;\n};\n\nAGTransport.prototype.invoke = function (event, data, options) {\n  return new Promise((resolve, reject) => {\n    this.invokeRaw(event, data, options, (err, data) => {\n      if (err) {\n        reject(err);\n        return;\n      }\n      resolve(data);\n    });\n  });\n};\n\nAGTransport.prototype.cancelPendingResponse = function (cid) {\n  delete this._callbackMap[cid];\n};\n\nAGTransport.prototype.decode = function (message) {\n  return this.codec.decode(message);\n};\n\nAGTransport.prototype.encode = function (object) {\n  return this.codec.encode(object);\n};\n\nAGTransport.prototype.send = function (data) {\n  if (this.socket.readyState !== this.socket.OPEN) {\n    this._destroy(1005);\n  } else {\n    this.socket.send(data);\n  }\n};\n\nAGTransport.prototype.serializeObject = function (object) {\n  let str;\n  try {\n    str = this.encode(object);\n  } catch (error) {\n    this._onError(error);\n    return null;\n  }\n  return str;\n};\n\nAGTransport.prototype.sendObject = function (object) {\n  if (this.isBufferingBatch) {\n    this._batchBuffer.push(object);\n    return;\n  }\n  let str = this.serializeObject(object);\n  if (str != null) {\n    this.send(str);\n  }\n};\n\nmodule.exports = AGTransport;\n","function wait(duration) {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve();\n    }, duration);\n  });\n}\n\nmodule.exports = wait;\n","let global;\nif (typeof WorkerGlobalScope !== 'undefined') {\n  global = self;\n} else {\n  global = typeof window !== 'undefined' && window || (function() { return this; })();\n}\n\nconst WebSocket = global.WebSocket || global.MozWebSocket;\n\n/**\n * WebSocket constructor.\n *\n * The third `opts` options object gets ignored in web browsers, since it's\n * non-standard, and throws a TypeError if passed to the constructor.\n * See: https://github.com/einaros/ws/issues/227\n *\n * @param {String} uri\n * @param {Array} protocols (optional)\n * @param {Object} opts (optional)\n * @api public\n */\n\nfunction ws(uri, protocols, opts) {\n  let instance;\n  if (protocols) {\n    instance = new WebSocket(uri, protocols);\n  } else {\n    instance = new WebSocket(uri);\n  }\n  return instance;\n}\n\nif (WebSocket) ws.prototype = WebSocket.prototype;\n\nmodule.exports = WebSocket ? ws : null;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nvar K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1)\n    var proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  var buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  var valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  var b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(\n      value[Symbol.toPrimitive]('string'), encodingOrOffset, length\n    )\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  var length = byteLength(string, encoding) | 0\n  var buf = createBuffer(length)\n\n  var actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  var buf = createBuffer(length)\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    var copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  var buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    var buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        Buffer.from(buf).copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  var len = string.length\n  var mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  var strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (var i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    var len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nvar hexSliceLookupTable = (function () {\n  var alphabet = '0123456789abcdef'\n  var table = new Array(256)\n  for (var i = 0; i < 16; ++i) {\n    var i16 = i * 16\n    for (var j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n","'use strict';\n\n/**\n * Module dependenices\n */\n\nconst clone = require('shallow-clone');\nconst typeOf = require('kind-of');\nconst isPlainObject = require('is-plain-object');\n\nfunction cloneDeep(val, instanceClone) {\n  switch (typeOf(val)) {\n    case 'object':\n      return cloneObjectDeep(val, instanceClone);\n    case 'array':\n      return cloneArrayDeep(val, instanceClone);\n    default: {\n      return clone(val);\n    }\n  }\n}\n\nfunction cloneObjectDeep(val, instanceClone) {\n  if (typeof instanceClone === 'function') {\n    return instanceClone(val);\n  }\n  if (instanceClone || isPlainObject(val)) {\n    const res = new val.constructor();\n    for (let key in val) {\n      res[key] = cloneDeep(val[key], instanceClone);\n    }\n    return res;\n  }\n  return val;\n}\n\nfunction cloneArrayDeep(val, instanceClone) {\n  const res = new val.constructor(val.length);\n  for (let i = 0; i < val.length; i++) {\n    res[i] = cloneDeep(val[i], instanceClone);\n  }\n  return res;\n}\n\n/**\n * Expose `cloneDeep`\n */\n\nmodule.exports = cloneDeep;\n","class ConsumableStream {\n  async next(timeout) {\n    let asyncIterator = this.createConsumer(timeout);\n    let result = await asyncIterator.next();\n    asyncIterator.return();\n    return result;\n  }\n\n  async once(timeout) {\n    let result = await this.next(timeout);\n    if (result.done) {\n      // If stream was ended, this function should never resolve.\n      await new Promise(() => {});\n    }\n    return result.value;\n  }\n\n  createConsumer() {\n    throw new TypeError('Method must be overriden by subclass');\n  }\n\n  [Symbol.asyncIterator]() {\n    return this.createConsumer();\n  }\n}\n\nmodule.exports = ConsumableStream;\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n","var toString = Object.prototype.toString;\n\nmodule.exports = function kindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n\n  var type = typeof val;\n  if (type === 'boolean') return 'boolean';\n  if (type === 'string') return 'string';\n  if (type === 'number') return 'number';\n  if (type === 'symbol') return 'symbol';\n  if (type === 'function') {\n    return isGeneratorFn(val) ? 'generatorfunction' : 'function';\n  }\n\n  if (isArray(val)) return 'array';\n  if (isBuffer(val)) return 'buffer';\n  if (isArguments(val)) return 'arguments';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  if (isRegexp(val)) return 'regexp';\n\n  switch (ctorName(val)) {\n    case 'Symbol': return 'symbol';\n    case 'Promise': return 'promise';\n\n    // Set, Map, WeakSet, WeakMap\n    case 'WeakMap': return 'weakmap';\n    case 'WeakSet': return 'weakset';\n    case 'Map': return 'map';\n    case 'Set': return 'set';\n\n    // 8-bit typed arrays\n    case 'Int8Array': return 'int8array';\n    case 'Uint8Array': return 'uint8array';\n    case 'Uint8ClampedArray': return 'uint8clampedarray';\n\n    // 16-bit typed arrays\n    case 'Int16Array': return 'int16array';\n    case 'Uint16Array': return 'uint16array';\n\n    // 32-bit typed arrays\n    case 'Int32Array': return 'int32array';\n    case 'Uint32Array': return 'uint32array';\n    case 'Float32Array': return 'float32array';\n    case 'Float64Array': return 'float64array';\n  }\n\n  if (isGeneratorObj(val)) {\n    return 'generator';\n  }\n\n  // Non-plain objects\n  type = toString.call(val);\n  switch (type) {\n    case '[object Object]': return 'object';\n    // iterators\n    case '[object Map Iterator]': return 'mapiterator';\n    case '[object Set Iterator]': return 'setiterator';\n    case '[object String Iterator]': return 'stringiterator';\n    case '[object Array Iterator]': return 'arrayiterator';\n  }\n\n  // other\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n};\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isArray(val) {\n  if (Array.isArray) return Array.isArray(val);\n  return val instanceof Array;\n}\n\nfunction isError(val) {\n  return val instanceof Error || (typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number');\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function'\n    && typeof val.getDate === 'function'\n    && typeof val.setDate === 'function';\n}\n\nfunction isRegexp(val) {\n  if (val instanceof RegExp) return true;\n  return typeof val.flags === 'string'\n    && typeof val.ignoreCase === 'boolean'\n    && typeof val.multiline === 'boolean'\n    && typeof val.global === 'boolean';\n}\n\nfunction isGeneratorFn(name, val) {\n  return ctorName(name) === 'GeneratorFunction';\n}\n\nfunction isGeneratorObj(val) {\n  return typeof val.throw === 'function'\n    && typeof val.return === 'function'\n    && typeof val.next === 'function';\n}\n\nfunction isArguments(val) {\n  try {\n    if (typeof val.length === 'number' && typeof val.callee === 'function') {\n      return true;\n    }\n  } catch (err) {\n    if (err.message.indexOf('callee') !== -1) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * If you need to support Safari 5-7 (8-10 yr-old browser),\n * take a look at https://github.com/feross/is-buffer\n */\n\nfunction isBuffer(val) {\n  if (val.constructor && typeof val.constructor.isBuffer === 'function') {\n    return val.constructor.isBuffer(val);\n  }\n  return false;\n}\n","'use strict';\n\n/**\n * Constants.\n */\n\nvar errorMessage;\n\nerrorMessage = 'An argument without append, prepend, ' +\n    'or detach methods was given to `List';\n\n/**\n * Creates a new List: A linked list is a bit like an Array, but\n * knows nothing about how many items are in it, and knows only about its\n * first (`head`) and last (`tail`) items. Each item (e.g. `head`, `tail`,\n * &c.) knows which item comes before or after it (its more like the\n * implementation of the DOM in JavaScript).\n * @global\n * @private\n * @constructor\n * @class Represents an instance of List.\n */\n\nfunction List(/*items...*/) {\n    if (arguments.length) {\n        return List.from(arguments);\n    }\n}\n\nvar ListPrototype;\n\nListPrototype = List.prototype;\n\n/**\n * Creates a new list from the arguments (each a list item) passed in.\n * @name List.of\n * @param {...ListItem} [items] - Zero or more items to attach.\n * @returns {list} - A new instance of List.\n */\n\nList.of = function (/*items...*/) {\n    return List.from.call(this, arguments);\n};\n\n/**\n * Creates a new list from the given array-like object (each a list item)\n * passed in.\n * @name List.from\n * @param {ListItem[]} [items] - The items to append.\n * @returns {list} - A new instance of List.\n */\nList.from = function (items) {\n    var list = new this(), length, iterator, item;\n\n    if (items && (length = items.length)) {\n        iterator = -1;\n\n        while (++iterator < length) {\n            item = items[iterator];\n\n            if (item !== null && item !== undefined) {\n                list.append(item);\n            }\n        }\n    }\n\n    return list;\n};\n\n/**\n * List#head\n * Default to `null`.\n */\nListPrototype.head = null;\n\n/**\n * List#tail\n * Default to `null`.\n */\nListPrototype.tail = null;\n\n/**\n * Returns the list's items as an array. This does *not* detach the items.\n * @name List#toArray\n * @returns {ListItem[]} - An array of (still attached) ListItems.\n */\nListPrototype.toArray = function () {\n    var item = this.head,\n        result = [];\n\n    while (item) {\n        result.push(item);\n        item = item.next;\n    }\n\n    return result;\n};\n\n/**\n * Prepends the given item to the list: Item will be the new first item\n * (`head`).\n * @name List#prepend\n * @param {ListItem} item - The item to prepend.\n * @returns {ListItem} - An instance of ListItem (the given item).\n */\nListPrototype.prepend = function (item) {\n    if (!item) {\n        return false;\n    }\n\n    if (!item.append || !item.prepend || !item.detach) {\n        throw new Error(errorMessage + '#prepend`.');\n    }\n\n    var self, head;\n\n    // Cache self.\n    self = this;\n\n    // If self has a first item, defer prepend to the first items prepend\n    // method, and return the result.\n    head = self.head;\n\n    if (head) {\n        return head.prepend(item);\n    }\n\n    // ...otherwise, there is no `head` (or `tail`) item yet.\n\n    // Detach the prependee.\n    item.detach();\n\n    // Set the prependees parent list to reference self.\n    item.list = self;\n\n    // Set self's first item to the prependee, and return the item.\n    self.head = item;\n\n    return item;\n};\n\n/**\n * Appends the given item to the list: Item will be the new last item (`tail`)\n * if the list had a first item, and its first item (`head`) otherwise.\n * @name List#append\n * @param {ListItem} item - The item to append.\n * @returns {ListItem} - An instance of ListItem (the given item).\n */\n\nListPrototype.append = function (item) {\n    if (!item) {\n        return false;\n    }\n\n    if (!item.append || !item.prepend || !item.detach) {\n        throw new Error(errorMessage + '#append`.');\n    }\n\n    var self, head, tail;\n\n    // Cache self.\n    self = this;\n\n    // If self has a last item, defer appending to the last items append\n    // method, and return the result.\n    tail = self.tail;\n\n    if (tail) {\n        return tail.append(item);\n    }\n\n    // If self has a first item, defer appending to the first items append\n    // method, and return the result.\n    head = self.head;\n\n    if (head) {\n        return head.append(item);\n    }\n\n    // ...otherwise, there is no `tail` or `head` item yet.\n\n    // Detach the appendee.\n    item.detach();\n\n    // Set the appendees parent list to reference self.\n    item.list = self;\n\n    // Set self's first item to the appendee, and return the item.\n    self.head = item;\n\n    return item;\n};\n\n/**\n * Creates a new ListItem: A linked list item is a bit like DOM node:\n * It knows only about its \"parent\" (`list`), the item before it (`prev`),\n * and the item after it (`next`).\n * @global\n * @private\n * @constructor\n * @class Represents an instance of ListItem.\n */\n\nfunction ListItem() {}\n\nList.Item = ListItem;\n\nvar ListItemPrototype = ListItem.prototype;\n\nListItemPrototype.next = null;\n\nListItemPrototype.prev = null;\n\nListItemPrototype.list = null;\n\n/**\n * Detaches the item operated on from its parent list.\n * @name ListItem#detach\n * @returns {ListItem} - The item operated on.\n */\nListItemPrototype.detach = function () {\n    // Cache self, the parent list, and the previous and next items.\n    var self = this,\n        list = self.list,\n        prev = self.prev,\n        next = self.next;\n\n    // If the item is already detached, return self.\n    if (!list) {\n        return self;\n    }\n\n    // If self is the last item in the parent list, link the lists last item\n    // to the previous item.\n    if (list.tail === self) {\n        list.tail = prev;\n    }\n\n    // If self is the first item in the parent list, link the lists first item\n    // to the next item.\n    if (list.head === self) {\n        list.head = next;\n    }\n\n    // If both the last and first items in the parent list are the same,\n    // remove the link to the last item.\n    if (list.tail === list.head) {\n        list.tail = null;\n    }\n\n    // If a previous item exists, link its next item to selfs next item.\n    if (prev) {\n        prev.next = next;\n    }\n\n    // If a next item exists, link its previous item to selfs previous item.\n    if (next) {\n        next.prev = prev;\n    }\n\n    // Remove links from self to both the next and previous items, and to the\n    // parent list.\n    self.prev = self.next = self.list = null;\n\n    // Return self.\n    return self;\n};\n\n/**\n * Prepends the given item *before* the item operated on.\n * @name ListItem#prepend\n * @param {ListItem} item - The item to prepend.\n * @returns {ListItem} - The item operated on, or false when that item is not\n * attached.\n */\nListItemPrototype.prepend = function (item) {\n    if (!item || !item.append || !item.prepend || !item.detach) {\n        throw new Error(errorMessage + 'Item#prepend`.');\n    }\n\n    // Cache self, the parent list, and the previous item.\n    var self = this,\n        list = self.list,\n        prev = self.prev;\n\n    // If self is detached, return false.\n    if (!list) {\n        return false;\n    }\n\n    // Detach the prependee.\n    item.detach();\n\n    // If self has a previous item...\n    if (prev) {\n        // ...link the prependees previous item, to selfs previous item.\n        item.prev = prev;\n\n        // ...link the previous items next item, to self.\n        prev.next = item;\n    }\n\n    // Set the prependees next item to self.\n    item.next = self;\n\n    // Set the prependees parent list to selfs parent list.\n    item.list = list;\n\n    // Set the previous item of self to the prependee.\n    self.prev = item;\n\n    // If self is the first item in the parent list, link the lists first item\n    // to the prependee.\n    if (self === list.head) {\n        list.head = item;\n    }\n\n    // If the the parent list has no last item, link the lists last item to\n    // self.\n    if (!list.tail) {\n        list.tail = self;\n    }\n\n    // Return the prependee.\n    return item;\n};\n\n/**\n * Appends the given item *after* the item operated on.\n * @name ListItem#append\n * @param {ListItem} item - The item to append.\n * @returns {ListItem} - The item operated on, or false when that item is not\n * attached.\n */\nListItemPrototype.append = function (item) {\n    // If item is falsey, return false.\n    if (!item || !item.append || !item.prepend || !item.detach) {\n        throw new Error(errorMessage + 'Item#append`.');\n    }\n\n    // Cache self, the parent list, and the next item.\n    var self = this,\n        list = self.list,\n        next = self.next;\n\n    // If self is detached, return false.\n    if (!list) {\n        return false;\n    }\n\n    // Detach the appendee.\n    item.detach();\n\n    // If self has a next item...\n    if (next) {\n        // ...link the appendees next item, to selfs next item.\n        item.next = next;\n\n        // ...link the next items previous item, to the appendee.\n        next.prev = item;\n    }\n\n    // Set the appendees previous item to self.\n    item.prev = self;\n\n    // Set the appendees parent list to selfs parent list.\n    item.list = list;\n\n    // Set the next item of self to the appendee.\n    self.next = item;\n\n    // If the the parent list has no last item or if self is the parent lists\n    // last item, link the lists last item to the appendee.\n    if (self === list.tail || !list.tail) {\n        list.tail = item;\n    }\n\n    // Return the appendee.\n    return item;\n};\n\n/**\n * Expose `List`.\n */\n\nmodule.exports = List;\n","'use strict';\n\nmodule.exports = require('./_source/linked-list.js');\n","// Based on https://github.com/dscape/cycle/blob/master/cycle.js\n\nmodule.exports = function decycle(object) {\n// Make a deep copy of an object or array, assuring that there is at most\n// one instance of each object or array in the resulting structure. The\n// duplicate references (which might be forming cycles) are replaced with\n// an object of the form\n//      {$ref: PATH}\n// where the PATH is a JSONPath string that locates the first occurance.\n// So,\n//      var a = [];\n//      a[0] = a;\n//      return JSON.stringify(JSON.decycle(a));\n// produces the string '[{\"$ref\":\"$\"}]'.\n\n// JSONPath is used to locate the unique object. $ indicates the top level of\n// the object or array. [NUMBER] or [STRING] indicates a child member or\n// property.\n\n    var objects = [],   // Keep a reference to each unique object or array\n        paths = [];     // Keep the path to each unique object or array\n\n    return (function derez(value, path) {\n\n// The derez recurses through the object, producing the deep copy.\n\n        var i,          // The loop counter\n            name,       // Property name\n            nu;         // The new object or array\n\n// typeof null === 'object', so go on if this value is really an object but not\n// one of the weird builtin objects.\n\n        if (typeof value === 'object' && value !== null &&\n                !(value instanceof Boolean) &&\n                !(value instanceof Date)    &&\n                !(value instanceof Number)  &&\n                !(value instanceof RegExp)  &&\n                !(value instanceof String)) {\n\n// If the value is an object or array, look to see if we have already\n// encountered it. If so, return a $ref/path object. This is a hard way,\n// linear search that will get slower as the number of unique objects grows.\n\n            for (i = 0; i < objects.length; i += 1) {\n                if (objects[i] === value) {\n                    return {$ref: paths[i]};\n                }\n            }\n\n// Otherwise, accumulate the unique value and its path.\n\n            objects.push(value);\n            paths.push(path);\n\n// If it is an array, replicate the array.\n\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n                nu = [];\n                for (i = 0; i < value.length; i += 1) {\n                    nu[i] = derez(value[i], path + '[' + i + ']');\n                }\n            } else {\n\n// If it is an object, replicate the object.\n\n                nu = {};\n                for (name in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, name)) {\n                        nu[name] = derez(value[name],\n                            path + '[' + JSON.stringify(name) + ']');\n                    }\n                }\n            }\n            return nu;\n        }\n        return value;\n    }(object, '$'));\n};\n","const decycle = require('./decycle');\n\nconst isStrict = (function () { return !this; })();\n\nfunction AuthTokenExpiredError(message, expiry) {\n  this.name = 'AuthTokenExpiredError';\n  this.message = message;\n  this.expiry = expiry;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenExpiredError.prototype = Object.create(Error.prototype);\n\n\nfunction AuthTokenInvalidError(message) {\n  this.name = 'AuthTokenInvalidError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenInvalidError.prototype = Object.create(Error.prototype);\n\n\nfunction AuthTokenNotBeforeError(message, date) {\n  this.name = 'AuthTokenNotBeforeError';\n  this.message = message;\n  this.date = date;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenNotBeforeError.prototype = Object.create(Error.prototype);\n\n\n// For any other auth token error.\nfunction AuthTokenError(message) {\n  this.name = 'AuthTokenError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenError.prototype = Object.create(Error.prototype);\n\n// For any other auth error; not specifically related to the auth token itself.\nfunction AuthError(message) {\n  this.name = 'AuthError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthError.prototype = Object.create(Error.prototype);\n\n\nfunction SilentMiddlewareBlockedError(message, type) {\n  this.name = 'SilentMiddlewareBlockedError';\n  this.message = message;\n  this.type = type;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nSilentMiddlewareBlockedError.prototype = Object.create(Error.prototype);\n\n\nfunction InvalidActionError(message) {\n  this.name = 'InvalidActionError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidActionError.prototype = Object.create(Error.prototype);\n\nfunction InvalidArgumentsError(message) {\n  this.name = 'InvalidArgumentsError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidArgumentsError.prototype = Object.create(Error.prototype);\n\nfunction InvalidOptionsError(message) {\n  this.name = 'InvalidOptionsError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidOptionsError.prototype = Object.create(Error.prototype);\n\n\nfunction InvalidMessageError(message) {\n  this.name = 'InvalidMessageError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidMessageError.prototype = Object.create(Error.prototype);\n\n\nfunction SocketProtocolError(message, code) {\n  this.name = 'SocketProtocolError';\n  this.message = message;\n  this.code = code;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nSocketProtocolError.prototype = Object.create(Error.prototype);\n\n\nfunction ServerProtocolError(message) {\n  this.name = 'ServerProtocolError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nServerProtocolError.prototype = Object.create(Error.prototype);\n\nfunction HTTPServerError(message) {\n  this.name = 'HTTPServerError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nHTTPServerError.prototype = Object.create(Error.prototype);\n\n\nfunction ResourceLimitError(message) {\n  this.name = 'ResourceLimitError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nResourceLimitError.prototype = Object.create(Error.prototype);\n\n\nfunction TimeoutError(message) {\n  this.name = 'TimeoutError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nTimeoutError.prototype = Object.create(Error.prototype);\n\n\nfunction BadConnectionError(message, type) {\n  this.name = 'BadConnectionError';\n  this.message = message;\n  this.type = type;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nBadConnectionError.prototype = Object.create(Error.prototype);\n\n\nfunction BrokerError(message) {\n  this.name = 'BrokerError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nBrokerError.prototype = Object.create(Error.prototype);\n\n\nfunction ProcessExitError(message, code) {\n  this.name = 'ProcessExitError';\n  this.message = message;\n  this.code = code;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nProcessExitError.prototype = Object.create(Error.prototype);\n\n\nfunction UnknownError(message) {\n  this.name = 'UnknownError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nUnknownError.prototype = Object.create(Error.prototype);\n\n\n// Expose all error types.\n\nmodule.exports = {\n  AuthTokenExpiredError: AuthTokenExpiredError,\n  AuthTokenInvalidError: AuthTokenInvalidError,\n  AuthTokenNotBeforeError: AuthTokenNotBeforeError,\n  AuthTokenError: AuthTokenError,\n  AuthError: AuthError,\n  SilentMiddlewareBlockedError: SilentMiddlewareBlockedError,\n  InvalidActionError: InvalidActionError,\n  InvalidArgumentsError: InvalidArgumentsError,\n  InvalidOptionsError: InvalidOptionsError,\n  InvalidMessageError: InvalidMessageError,\n  SocketProtocolError: SocketProtocolError,\n  ServerProtocolError: ServerProtocolError,\n  HTTPServerError: HTTPServerError,\n  ResourceLimitError: ResourceLimitError,\n  TimeoutError: TimeoutError,\n  BadConnectionError: BadConnectionError,\n  BrokerError: BrokerError,\n  ProcessExitError: ProcessExitError,\n  UnknownError: UnknownError\n};\n\nmodule.exports.socketProtocolErrorStatuses = {\n  1001: 'Socket was disconnected',\n  1002: 'A WebSocket protocol error was encountered',\n  1003: 'Server terminated socket because it received invalid data',\n  1005: 'Socket closed without status code',\n  1006: 'Socket hung up',\n  1007: 'Message format was incorrect',\n  1008: 'Encountered a policy violation',\n  1009: 'Message was too big to process',\n  1010: 'Client ended the connection because the server did not comply with extension requirements',\n  1011: 'Server encountered an unexpected fatal condition',\n  4000: 'Server ping timed out',\n  4001: 'Client pong timed out',\n  4002: 'Server failed to sign auth token',\n  4003: 'Failed to complete handshake',\n  4004: 'Client failed to save auth token',\n  4005: 'Did not receive #handshake from client before timeout',\n  4006: 'Failed to bind socket to message broker',\n  4007: 'Client connection establishment timed out',\n  4008: 'Server rejected handshake from client',\n  4009: 'Server received a message before the client handshake'\n};\n\nmodule.exports.socketProtocolIgnoreStatuses = {\n  1000: 'Socket closed normally',\n  1001: 'Socket hung up'\n};\n\n// Convert an error into a JSON-compatible type which can later be hydrated\n// back to its *original* form.\nmodule.exports.dehydrateError = function dehydrateError(error) {\n  let dehydratedError;\n\n  if (error && typeof error === 'object') {\n    dehydratedError = {\n      message: error.message\n    };\n    for (let i of Object.keys(error)) {\n      dehydratedError[i] = error[i];\n    }\n  } else if (typeof error === 'function') {\n    dehydratedError = '[function ' + (typeof error.name === 'string' ? error.name : 'anonymous') + ']';\n  } else {\n    dehydratedError = error;\n  }\n\n  return decycle(dehydratedError);\n};\n\n// Convert a dehydrated error back to its *original* form.\nmodule.exports.hydrateError = function hydrateError(error) {\n  let hydratedError = null;\n  if (error != null) {\n    if (typeof error === 'object') {\n      hydratedError = new Error(\n        typeof error.message === 'string' ? error.message : 'Invalid error message format'\n      );\n      if (typeof error.name === 'string') {\n        hydratedError.name = error.name;\n      }\n      for (let i of Object.keys(error)) {\n        if (hydratedError[i] === undefined) {\n          hydratedError[i] = error[i];\n        }\n      }\n    } else {\n      hydratedError = error;\n    }\n  }\n  return hydratedError;\n};\n\nmodule.exports.decycle = decycle;\n","const base64Chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nconst validJSONStartRegex = /^[ \\n\\r\\t]*[{\\[]/;\n\nlet arrayBufferToBase64 = function (arraybuffer) {\n  let bytes = new Uint8Array(arraybuffer);\n  let len = bytes.length;\n  let base64 = '';\n\n  for (let i = 0; i < len; i += 3) {\n    base64 += base64Chars[bytes[i] >> 2];\n    base64 += base64Chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n    base64 += base64Chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n    base64 += base64Chars[bytes[i + 2] & 63];\n  }\n\n  if ((len % 3) === 2) {\n    base64 = base64.substring(0, base64.length - 1) + '=';\n  } else if (len % 3 === 1) {\n    base64 = base64.substring(0, base64.length - 2) + '==';\n  }\n\n  return base64;\n};\n\nlet binaryToBase64Replacer = function (key, value) {\n  if (global.ArrayBuffer && value instanceof global.ArrayBuffer) {\n    return {\n      base64: true,\n      data: arrayBufferToBase64(value)\n    };\n  } else if (global.Buffer) {\n    if (value instanceof global.Buffer){\n      return {\n        base64: true,\n        data: value.toString('base64')\n      };\n    }\n    // Some versions of Node.js convert Buffers to Objects before they are passed to\n    // the replacer function - Because of this, we need to rehydrate Buffers\n    // before we can convert them to base64 strings.\n    if (value && value.type === 'Buffer' && Array.isArray(value.data)) {\n      let rehydratedBuffer;\n      if (global.Buffer.from) {\n        rehydratedBuffer = global.Buffer.from(value.data);\n      } else {\n        rehydratedBuffer = new global.Buffer(value.data);\n      }\n      return {\n        base64: true,\n        data: rehydratedBuffer.toString('base64')\n      };\n    }\n  }\n  return value;\n};\n\n// Decode the data which was transmitted over the wire to a JavaScript Object in a format which SC understands.\n// See encode function below for more details.\nmodule.exports.decode = function (encodedMessage) {\n  if (encodedMessage == null) {\n   return null;\n  }\n  // Leave ping or pong message as is\n  if (encodedMessage === '#1' || encodedMessage === '#2') {\n    return encodedMessage;\n  }\n  let message = encodedMessage.toString();\n\n  // Performance optimization to detect invalid JSON packet sooner.\n  if (!validJSONStartRegex.test(message)) {\n    return message;\n  }\n\n  try {\n    return JSON.parse(message);\n  } catch (err) {}\n  return message;\n};\n\n// Encode raw data (which is in the SC protocol format) into a format for\n// transfering it over the wire. In this case, we just convert it into a simple JSON string.\n// If you want to create your own custom codec, you can encode the object into any format\n// (e.g. binary ArrayBuffer or string with any kind of compression) so long as your decode\n// function is able to rehydrate that object back into its original JavaScript Object format\n// (which adheres to the SC protocol).\n// See https://github.com/SocketCluster/socketcluster/blob/master/socketcluster-protocol.md\n// for details about the SC protocol.\nmodule.exports.encode = function (rawData) {\n  // Leave ping or pong message as is\n  if (rawData === '#1' || rawData === '#2') {\n    return rawData;\n  }\n  return JSON.stringify(rawData, binaryToBase64Replacer);\n};\n","/*!\n * shallow-clone <https://github.com/jonschlinkert/shallow-clone>\n *\n * Copyright (c) 2015-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nconst valueOf = Symbol.prototype.valueOf;\nconst typeOf = require('kind-of');\n\nfunction clone(val, deep) {\n  switch (typeOf(val)) {\n    case 'array':\n      return val.slice();\n    case 'object':\n      return Object.assign({}, val);\n    case 'date':\n      return new val.constructor(Number(val));\n    case 'map':\n      return new Map(val);\n    case 'set':\n      return new Set(val);\n    case 'buffer':\n      return cloneBuffer(val);\n    case 'symbol':\n      return cloneSymbol(val);\n    case 'arraybuffer':\n      return cloneArrayBuffer(val);\n    case 'float32array':\n    case 'float64array':\n    case 'int16array':\n    case 'int32array':\n    case 'int8array':\n    case 'uint16array':\n    case 'uint32array':\n    case 'uint8clampedarray':\n    case 'uint8array':\n      return cloneTypedArray(val);\n    case 'regexp':\n      return cloneRegExp(val);\n    case 'error':\n      return Object.create(val);\n    default: {\n      return val;\n    }\n  }\n}\n\nfunction cloneRegExp(val) {\n  const flags = val.flags !== void 0 ? val.flags : (/\\w+$/.exec(val) || void 0);\n  const re = new val.constructor(val.source, flags);\n  re.lastIndex = val.lastIndex;\n  return re;\n}\n\nfunction cloneArrayBuffer(val) {\n  const res = new val.constructor(val.byteLength);\n  new Uint8Array(res).set(new Uint8Array(val));\n  return res;\n}\n\nfunction cloneTypedArray(val, deep) {\n  return new val.constructor(val.buffer, val.byteOffset, val.length);\n}\n\nfunction cloneBuffer(val) {\n  const len = val.length;\n  const buf = Buffer.allocUnsafe ? Buffer.allocUnsafe(len) : Buffer.from(len);\n  val.copy(buf);\n  return buf;\n}\n\nfunction cloneSymbol(val) {\n  return valueOf ? Object(valueOf.call(val)) : {};\n}\n\n/**\n * Expose `clone`\n */\n\nmodule.exports = clone;\n","const ConsumableStream = require('consumable-stream');\n\nclass DemuxedConsumableStream extends ConsumableStream {\n  constructor(streamDemux, name) {\n    super();\n    this.name = name;\n    this._streamDemux = streamDemux;\n  }\n\n  createConsumer(timeout) {\n    return this._streamDemux.createConsumer(this.name, timeout);\n  }\n}\n\nmodule.exports = DemuxedConsumableStream;\n","const WritableConsumableStream = require('writable-consumable-stream');\nconst DemuxedConsumableStream = require('./demuxed-consumable-stream');\n\nclass StreamDemux {\n  constructor() {\n    this._mainStream = new WritableConsumableStream();\n  }\n\n  write(streamName, value) {\n    this._mainStream.write({\n      stream: streamName,\n      data: {\n        value,\n        done: false\n      }\n    });\n  }\n\n  close(streamName, value) {\n    this._mainStream.write({\n      stream: streamName,\n      data: {\n        value,\n        done: true\n      }\n    });\n  }\n\n  closeAll(value) {\n    this._mainStream.close(value);\n  }\n\n  writeToConsumer(consumerId, value) {\n    this._mainStream.writeToConsumer(consumerId, {\n      consumerId,\n      data: {\n        value,\n        done: false\n      }\n    });\n  }\n\n  closeConsumer(consumerId, value) {\n    this._mainStream.closeConsumer(consumerId, {\n      consumerId,\n      data: {\n        value,\n        done: true\n      }\n    });\n  }\n\n  getConsumerStats(consumerId) {\n    return this._mainStream.getConsumerStats(consumerId);\n  }\n\n  getConsumerStatsList(streamName) {\n    let consumerList = this._mainStream.getConsumerStatsList();\n    return consumerList.filter((consumerStats) => {\n      return consumerStats.stream === streamName;\n    });\n  }\n\n  getConsumerStatsListAll() {\n    return this._mainStream.getConsumerStatsList();\n  }\n\n  kill(streamName, value) {\n    let consumerList = this.getConsumerStatsList(streamName);\n    let len = consumerList.length;\n    for (let i = 0; i < len; i++) {\n      this.killConsumer(consumerList[i].id, value);\n    }\n  }\n\n  killAll(value) {\n    this._mainStream.kill(value);\n  }\n\n  killConsumer(consumerId, value) {\n    this._mainStream.killConsumer(consumerId, value);\n  }\n\n  getBackpressure(streamName) {\n    let consumerList = this.getConsumerStatsList(streamName);\n    let len = consumerList.length;\n\n    let maxBackpressure = 0;\n    for (let i = 0; i < len; i++) {\n      let consumer = consumerList[i];\n      if (consumer.backpressure > maxBackpressure) {\n        maxBackpressure = consumer.backpressure;\n      }\n    }\n    return maxBackpressure;\n  }\n\n  getBackpressureAll() {\n    return this._mainStream.getBackpressure();\n  }\n\n  getConsumerBackpressure(consumerId) {\n    return this._mainStream.getConsumerBackpressure(consumerId);\n  }\n\n  hasConsumer(streamName, consumerId) {\n    let consumerStats = this._mainStream.getConsumerStats(consumerId);\n    return !!consumerStats && consumerStats.stream === streamName;\n  }\n\n  hasConsumerAll(consumerId) {\n    return this._mainStream.hasConsumer(consumerId);\n  }\n\n  getConsumerCount(streamName) {\n    return this.getConsumerStatsList(streamName).length;\n  }\n\n  getConsumerCountAll() {\n    return this.getConsumerStatsListAll().length;\n  }\n\n  createConsumer(streamName, timeout) {\n    let mainStreamConsumer = this._mainStream.createConsumer(timeout);\n\n    let consumerNext = mainStreamConsumer.next;\n    mainStreamConsumer.next = async function () {\n      while (true) {\n        let packet = await consumerNext.apply(this, arguments);\n        if (packet.value) {\n          if (\n            packet.value.stream === streamName ||\n            packet.value.consumerId === this.id\n          ) {\n            if (packet.value.data.done) {\n              this.return();\n            }\n            return packet.value.data;\n          }\n        }\n        if (packet.done) {\n          return packet;\n        }\n      }\n    };\n\n    let consumerGetStats = mainStreamConsumer.getStats;\n    mainStreamConsumer.getStats = function () {\n      let stats = consumerGetStats.apply(this, arguments);\n      stats.stream = streamName;\n      return stats;\n    };\n\n    let consumerApplyBackpressure = mainStreamConsumer.applyBackpressure;\n    mainStreamConsumer.applyBackpressure = function (packet) {\n      if (packet.value) {\n        if (\n          packet.value.stream === streamName ||\n          packet.value.consumerId === this.id\n        ) {\n          consumerApplyBackpressure.apply(this, arguments);\n\n          return;\n        }\n      }\n      if (packet.done) {\n        consumerApplyBackpressure.apply(this, arguments);\n      }\n    };\n\n    let consumerReleaseBackpressure = mainStreamConsumer.releaseBackpressure;\n    mainStreamConsumer.releaseBackpressure = function (packet) {\n      if (packet.value) {\n        if (\n          packet.value.stream === streamName ||\n          packet.value.consumerId === this.id\n        ) {\n          consumerReleaseBackpressure.apply(this, arguments);\n\n          return;\n        }\n      }\n      if (packet.done) {\n        consumerReleaseBackpressure.apply(this, arguments);\n      }\n    };\n\n    return mainStreamConsumer;\n  }\n\n  stream(streamName) {\n    return new DemuxedConsumableStream(this, streamName);\n  }\n}\n\nmodule.exports = StreamDemux;\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  var v;\n  var arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;","import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    var bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;","export default '00000000-0000-0000-0000-000000000000';","import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nexport default version;","class Consumer {\n  constructor(stream, id, startNode, timeout) {\n    this.id = id;\n    this._backpressure = 0;\n    this.stream = stream;\n    this.currentNode = startNode;\n    this.timeout = timeout;\n    this.isAlive = true;\n    this.stream.setConsumer(this.id, this);\n  }\n\n  getStats() {\n    let stats = {\n      id: this.id,\n      backpressure: this._backpressure\n    };\n    if (this.timeout != null) {\n      stats.timeout = this.timeout;\n    }\n    return stats;\n  }\n\n  _resetBackpressure() {\n    this._backpressure = 0;\n  }\n\n  applyBackpressure(packet) {\n    this._backpressure++;\n  }\n\n  releaseBackpressure(packet) {\n    this._backpressure--;\n  }\n\n  getBackpressure() {\n    return this._backpressure;\n  }\n\n  write(packet) {\n    if (this._timeoutId !== undefined) {\n      clearTimeout(this._timeoutId);\n      delete this._timeoutId;\n    }\n    this.applyBackpressure(packet);\n    if (this._resolve) {\n      this._resolve();\n      delete this._resolve;\n    }\n  }\n\n  kill(value) {\n    if (this._timeoutId !== undefined) {\n      clearTimeout(this._timeoutId);\n      delete this._timeoutId;\n    }\n    this._killPacket = {value, done: true};\n    this._destroy();\n\n    if (this._resolve) {\n      this._resolve();\n      delete this._resolve;\n    }\n  }\n\n  _destroy() {\n    this.isAlive = false;\n    this._resetBackpressure();\n    this.stream.removeConsumer(this.id);\n  }\n\n  async _waitForNextItem(timeout) {\n    return new Promise((resolve, reject) => {\n      this._resolve = resolve;\n      let timeoutId;\n      if (timeout !== undefined) {\n        // Create the error object in the outer scope in order\n        // to get the full stack trace.\n        let error = new Error('Stream consumer iteration timed out');\n        (async () => {\n          let delay = wait(timeout);\n          timeoutId = delay.timeoutId;\n          await delay.promise;\n          error.name = 'TimeoutError';\n          delete this._resolve;\n          reject(error);\n        })();\n      }\n      this._timeoutId = timeoutId;\n    });\n  }\n\n  async next() {\n    this.stream.setConsumer(this.id, this);\n\n    while (true) {\n      if (!this.currentNode.next) {\n        try {\n          await this._waitForNextItem(this.timeout);\n        } catch (error) {\n          this._destroy();\n          throw error;\n        }\n      }\n      if (this._killPacket) {\n        this._destroy();\n        let killPacket = this._killPacket;\n        delete this._killPacket;\n\n        return killPacket;\n      }\n\n      this.currentNode = this.currentNode.next;\n      this.releaseBackpressure(this.currentNode.data);\n\n      if (this.currentNode.consumerId && this.currentNode.consumerId !== this.id) {\n        continue;\n      }\n\n      if (this.currentNode.data.done) {\n        this._destroy();\n      }\n\n      return this.currentNode.data;\n    }\n  }\n\n  return() {\n    delete this.currentNode;\n    this._destroy();\n    return {};\n  }\n\n  [Symbol.asyncIterator]() {\n    return this;\n  }\n}\n\nfunction wait(timeout) {\n  let timeoutId;\n  let promise = new Promise((resolve) => {\n    timeoutId = setTimeout(resolve, timeout);\n  });\n  return {timeoutId, promise};\n}\n\nmodule.exports = Consumer;\n","const ConsumableStream = require('consumable-stream');\nconst Consumer = require('./consumer');\n\nclass WritableConsumableStream extends ConsumableStream {\n  constructor() {\n    super();\n    this.nextConsumerId = 1;\n    this._consumers = new Map();\n\n    // Tail node of a singly linked list.\n    this._tailNode = {\n      next: null,\n      data: {\n        value: undefined,\n        done: false\n      }\n    };\n  }\n\n  _write(value, done, consumerId) {\n    let dataNode = {\n      data: {value, done},\n      next: null\n    };\n    if (consumerId) {\n      dataNode.consumerId = consumerId;\n    }\n    this._tailNode.next = dataNode;\n    this._tailNode = dataNode;\n\n    for (let consumer of this._consumers.values()) {\n      consumer.write(dataNode.data);\n    }\n  }\n\n  write(value) {\n    this._write(value, false);\n  }\n\n  close(value) {\n    this._write(value, true);\n  }\n\n  writeToConsumer(consumerId, value) {\n    this._write(value, false, consumerId);\n  }\n\n  closeConsumer(consumerId, value) {\n    this._write(value, true, consumerId);\n  }\n\n  kill(value) {\n    for (let consumerId of this._consumers.keys()) {\n      this.killConsumer(consumerId, value);\n    }\n  }\n\n  killConsumer(consumerId, value) {\n    let consumer = this._consumers.get(consumerId);\n    if (!consumer) {\n      return;\n    }\n    consumer.kill(value);\n  }\n\n  getBackpressure() {\n    let maxBackpressure = 0;\n    for (let consumer of this._consumers.values()) {\n      let backpressure = consumer.getBackpressure();\n      if (backpressure > maxBackpressure) {\n        maxBackpressure = backpressure;\n      }\n    }\n    return maxBackpressure;\n  }\n\n  getConsumerBackpressure(consumerId) {\n    let consumer = this._consumers.get(consumerId);\n    if (consumer) {\n      return consumer.getBackpressure();\n    }\n    return 0;\n  }\n\n  hasConsumer(consumerId) {\n    return this._consumers.has(consumerId);\n  }\n\n  setConsumer(consumerId, consumer) {\n    this._consumers.set(consumerId, consumer);\n    if (!consumer.currentNode) {\n      consumer.currentNode = this._tailNode;\n    }\n  }\n\n  removeConsumer(consumerId) {\n    return this._consumers.delete(consumerId);\n  }\n\n  getConsumerStats(consumerId) {\n    let consumer = this._consumers.get(consumerId);\n    if (consumer) {\n      return consumer.getStats();\n    }\n    return undefined;\n  }\n\n  getConsumerStatsList() {\n    let consumerStats = [];\n    for (let consumer of this._consumers.values()) {\n      consumerStats.push(consumer.getStats());\n    }\n    return consumerStats;\n  }\n\n  createConsumer(timeout) {\n    return new Consumer(this, this.nextConsumerId++, this._tailNode, timeout);\n  }\n\n  getConsumerList() {\n    return [...this._consumers.values()];\n  }\n\n  getConsumerCount() {\n    return this._consumers.size;\n  }\n}\n\nmodule.exports = WritableConsumableStream;\n","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nexport { _asyncToGenerator as default };"],"names":["ConsumableStream","AGChannel","constructor","name","client","eventDemux","dataDemux","super","this","PENDING","SUBSCRIBED","UNSUBSCRIBED","_eventDemux","_dataStream","stream","createConsumer","timeout","listener","eventName","close","closeChannel","kill","killChannel","killOutputConsumer","consumerId","hasOutputConsumer","killChannelOutputConsumer","killListenerConsumer","hasAnyListenerConsumer","killChannelListenerConsumer","getOutputConsumerStats","getChannelOutputConsumerStats","getListenerConsumerStats","getChannelListenerConsumerStats","getBackpressure","getChannelBackpressure","getListenerConsumerBackpressure","getChannelListenerConsumerBackpressure","getOutputConsumerBackpressure","getChannelOutputConsumerBackpressure","closeOutput","channelCloseOutput","closeListener","channelCloseListener","closeAllListeners","channelCloseAllListeners","killOutput","channelKillOutput","killListener","channelKillListener","killAllListeners","channelKillAllListeners","getOutputConsumerStatsList","channelGetOutputConsumerStatsList","getListenerConsumerStatsList","channelGetListenerConsumerStatsList","getAllListenersConsumerStatsList","channelGetAllListenersConsumerStatsList","getOutputBackpressure","channelGetOutputBackpressure","getListenerBackpressure","channelGetListenerBackpressure","getAllListenersBackpressure","channelGetAllListenersBackpressure","channelHasOutputConsumer","hasListenerConsumer","channelHasListenerConsumer","channelHasAnyListenerConsumer","state","getChannelState","value","Error","options","getChannelOptions","subscribe","unsubscribe","isSubscribed","includePending","transmitPublish","data","invokePublish","module","exports","scErrors","InvalidActionError","socket","id","procedureName","procedure","sent","_respond","responseData","sendObject","end","rid","undefined","error","dehydrateError","object","objects","paths","derez","path","i","nu","Boolean","Date","Number","RegExp","String","length","$ref","push","Object","prototype","toString","apply","hasOwnProperty","call","JSON","stringify","decycle","isStrict","AuthTokenExpiredError","message","expiry","captureStackTrace","arguments","callee","stack","AuthTokenInvalidError","AuthTokenNotBeforeError","date","AuthTokenError","AuthError","SilentMiddlewareBlockedError","type","InvalidArgumentsError","InvalidOptionsError","InvalidMessageError","SocketProtocolError","code","ServerProtocolError","HTTPServerError","ResourceLimitError","TimeoutError","BadConnectionError","reason","socketProtocolIgnoreStatuses","BrokerError","ProcessExitError","UnknownError","create","socketProtocolErrorStatuses","dehydratedError","keys","hydrateError","hydratedError","StreamDemux","AsyncStreamEmitter","_listenerDemux","emit","write","closeAll","getConsumerStats","getConsumerStatsList","getConsumerStatsListAll","getListenerConsumerCount","getConsumerCount","getAllListenersConsumerCount","getConsumerCountAll","killAll","killConsumer","getBackpressureAll","getConsumerBackpressure","hasConsumer","hasConsumerAll","AGClientSocket","require","factory","version","_objectSpread","AuthEngine","_internalStorage","isLocalStorageEnabled","_checkLocalStorageEnabled","err","global","localStorage","setItem","removeItem","e","saveToken","token","Promise","resolve","removeToken","loadPromise","loadToken","getItem","formatter","AGTransport","LinkedList","cloneDeep","Buffer","wait","isBrowser","window","socketOptions","opts","assign","secure","protocolScheme","socketPath","autoConnect","autoReconnect","autoSubscribeOnConnect","connectTimeout","ackTimeout","timestampRequests","timestampParam","authTokenName","binaryType","batchOnHandshake","batchOnHandshakeDuration","batchInterval","protocolVersion","wsOptions","cloneData","CLOSED","authState","UNAUTHENTICATED","signedAuthToken","authToken","pendingReconnect","pendingReconnectTimeout","preparingPendingSubscriptions","clientId","channelPrefix","disconnectOnUnload","pingTimeout","pingTimeoutDisabled","maxTimeout","Math","pow","verifyDuration","propertyName","concat","connectAttempts","isBatching","_batchingIntervalId","_outboundBuffer","_channelMap","_channelEventDemux","_channelDataDemux","_receiverDemux","_procedureDemux","_cid","callIdGenerator","autoReconnectOptions","reconnectOptions","initialDelay","randomness","multiplier","maxDelay","subscriptionRetryOptions","authEngine","auth","codecEngine","codec","protocol","protocolOptionError","_onError","query","searchParams","URLSearchParams","queryObject","key","entries","currentValue","Array","isArray","addEventListener","removeEventListener","_handleBrowserUnload","connect","CONNECTING","OPEN","AUTHENTICATED","ignoreStatuses","errorStatuses","defineProperty","get","transport","isBufferingBatch","max","getAllReceiversBackpressure","getAllProceduresBackpressure","getAllChannelsBackpressure","async","unloadHandler","disconnect","isUnloadHandlerAttached","consumer","next","done","_setAuthToken","_changeToAuthenticatedState","_removeAuthToken","oldAuthToken","_changeToUnauthenticatedStateAndClearTokens","_privateDataHandlerMap","undecoratedChannelName","_undecorateChannelName","channel","_triggerChannelUnsubscribe","_privateRPCHandlerMap","request","getState","getBytesReceived","deauthenticate","transmit","clearTimeout","_reconnectTimeoutRef","clearAllListeners","transportHandlers","onOpen","_onOpen","onOpenAbort","_destroy","onClose","onEvent","event","onError","onInboundInvoke","_onInboundInvoke","onInboundTransmit","_onInboundTransmit","reconnect","isConnecting","oldAuthState","oldSignedAuthToken","stateChangeData","newAuthState","_extractAuthTokenData","processPendingSubscriptions","decodeBase64","encodedString","from","encodeBase64","decodedString","encodedTokenData","split","tokenData","parse","getAuthToken","getSignedAuthToken","authenticate","authStatus","invoke","isAuthenticated","authError","_tryReconnect","exponent","initialTimeout","round","random","setTimeout","status","_startBatching","_stopBatching","_flushOutboundBuffer","_suspendSubscriptions","forEach","channelName","_abortAllPendingEventsDueToBadConnection","failureType","nextNode","currentNode","head","eventObject","detach","callback","errorMessage","cid","cancelPendingResponse","openAbort","_cancelBatching","closeMessage","handler","decode","encode","transmitObject","_handleEventAckTimeout","eventNode","_processOutboundEvent","expectResponse","promise","reject","Item","append","send","pubData","_decorateChannelName","_triggerChannelSubscribe","subscriptionOptions","oldChannelState","newChannelState","_triggerChannelSubscribeFail","meetsAuthRequirements","waitForAuth","_cancelPendingSubscribeCallback","_pendingSubscriptionCid","decoratedChannelName","indexOf","replace","startBatch","flushBatch","cancelBatch","setInterval","startBatching","clearInterval","stopBatching","cancelBatching","_trySubscribe","noTimeout","invokeRaw","sanitizedOptions","priority","setAsPending","_tryUnsubscribe","receiver","receiverName","closeReceiver","closeAllReceivers","killReceiver","killAllReceivers","killReceiverConsumer","getReceiverConsumerStats","getReceiverConsumerStatsList","getAllReceiversConsumerStatsList","getReceiverBackpressure","getReceiverConsumerBackpressure","hasReceiverConsumer","hasAnyReceiverConsumer","closeProcedure","closeAllProcedures","killProcedure","killAllProcedures","killProcedureConsumer","getProcedureConsumerStats","getProcedureConsumerStatsList","getAllProceduresConsumerStatsList","getProcedureBackpressure","getProcedureConsumerBackpressure","hasProcedureConsumer","hasAnyProcedureConsumer","closeAllChannelOutputs","closeAllChannelListeners","closeAllChannels","killAllChannelOutputs","killAllChannelListeners","killAllChannels","getAllChannelOutputsConsumerStatsList","getAllChannelListenersConsumerStatsList","getAllChannelOutputsBackpressure","getAllChannelListenersBackpressure","hasAnyChannelOutputConsumer","hasAnyChannelListenerConsumer","_getAllChannelStreamNames","streamNamesLookup","filter","stats","reduce","accumulator","streamName","map","statsList","listenerStreamBackpressures","some","subscriptions","subs","pendingChannels","sort","a","b","ap","bp","uuid","getPort","isSecureDefault","isSecure","port","location","host","match","hostname","v4","AGRequest","WebSocket","createWebSocket","uri","handlers","_pingTimeoutTicker","_callbackMap","_batchBuffer","_onOpenHandler","_onOpenAbortHandler","_onCloseHandler","_onEventHandler","_onErrorHandler","_onInboundInvokeHandler","_onInboundTransmitHandler","wsSocket","onopen","onclose","onmessage","flags","_onMessage","onerror","_connectTimeoutRef","_handlePing","_resetPingTimeout","readyState","scheme","getTime","item","set","_handshake","statusCode","force","badConnectionError","_processInboundPacket","packet","rehydratedError","len","serializedBatch","serializeObject","bytesReceived","simpleEventObject","str","duration","WorkerGlobalScope","self","MozWebSocket","ws","protocols","instance","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","arr","Arr","_byteLength","curByte","revLookup","charCodeAt","fromByteArray","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","lookup","join","Uint8Array","start","num","output","base64","ieee754","customInspectSymbol","Symbol","K_MAX_LENGTH","createBuffer","RangeError","buf","setPrototypeOf","arg","encodingOrOffset","TypeError","allocUnsafe","string","encoding","isEncoding","actual","slice","fromString","ArrayBuffer","isView","arrayView","isInstance","copy","fromArrayBuffer","buffer","byteOffset","fromArrayLike","fromArrayView","SharedArrayBuffer","valueOf","obj","isBuffer","checked","numberIsNaN","fromObject","toPrimitive","assertSize","size","array","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","n","m","bidirectionalIndexOf","val","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","j","hexWrite","offset","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","base64Write","ucs2Write","units","c","hi","lo","utf16leToBytes","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","foo","typedArraySupport","console","enumerable","poolSize","alloc","fill","allocUnsafeSlow","_isBuffer","compare","x","y","list","pos","swap16","swap32","swap64","toLocaleString","equals","inspect","trim","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","hexSliceLookupTable","bytes","checkOffset","ext","checkInt","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","INVALID_BASE64_RE","Infinity","leadSurrogate","base64clean","src","dst","alphabet","table","i16","clone","typeOf","isPlainObject","instanceClone","cloneObjectDeep","cloneArrayDeep","asyncIterator","result","return","once","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","d","s","NaN","rt","abs","isNaN","floor","log","LN2","isObject","isObjectObject","o","ctor","prot","ctorName","isArguments","toDateString","getDate","setDate","isDate","stackTraceLimit","isError","ignoreCase","multiline","isRegexp","throw","isGeneratorObj","ListPrototype","List","ListItem","of","items","iterator","tail","toArray","prepend","ListItemPrototype","prev","base64Chars","validJSONStartRegex","arrayBufferToBase64","arraybuffer","substring","binaryToBase64Replacer","g","rehydratedBuffer","encodedMessage","test","rawData","deep","Map","Set","cloneBuffer","cloneSymbol","cloneArrayBuffer","cloneTypedArray","exec","re","source","lastIndex","cloneRegExp","streamDemux","_streamDemux","WritableConsumableStream","DemuxedConsumableStream","_mainStream","writeToConsumer","closeConsumer","consumerStats","consumerList","maxBackpressure","backpressure","mainStreamConsumer","consumerNext","consumerGetStats","getStats","consumerApplyBackpressure","applyBackpressure","consumerReleaseBackpressure","releaseBackpressure","getRandomValues","rnds8","rng","crypto","bind","msCrypto","byteToHex","_nodeId","_clockseq","_lastMSecs","_lastNSecs","node","clockseq","seedBytes","msecs","now","nsecs","dt","tl","tmh","v","hashfunc","generateUUID","namespace","unescape","encodeURIComponent","stringToBytes","DNS","URL","getOutputLength","inputLength8","safeAdd","lsw","md5cmn","q","t","cnt","md5ff","md5gg","md5hh","md5ii","v35","msg","input","length32","hexTab","hex","charAt","md5ToHexEncodedArray","olda","oldb","oldc","oldd","wordsToMd5","length8","Uint32Array","bytesToWords","rnds","f","z","ROTL","K","H","l","N","ceil","M","_i","_i2","W","_t","_t2","T","Consumer","startNode","_backpressure","isAlive","setConsumer","_resetBackpressure","_timeoutId","_resolve","_killPacket","removeConsumer","_waitForNextItem","timeoutId","delay","killPacket","nextConsumerId","_consumers","_tailNode","_write","dataNode","values","has","delete","getConsumerList","_typeof","_regeneratorRuntime","__esModule","r","u","toStringTag","define","configurable","writable","wrap","Generator","Context","makeInvokeMethod","tryCatch","h","GeneratorFunction","GeneratorFunctionPrototype","p","getPrototypeOf","defineIteratorMethods","_invoke","AsyncIterator","__await","then","callInvokeWithMethodAndArg","method","delegate","maybeInvokeDelegate","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","displayName","isGeneratorFunction","mark","__proto__","awrap","reverse","pop","stop","rval","handle","complete","finish","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","Function","asyncGeneratorStep","_asyncToGenerator","_next","_throw"],"sourceRoot":""}