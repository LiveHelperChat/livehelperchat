{"version":3,"file":"index.js","mappings":"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","sources":["webpack://LiveHelperChat/./node_modules/asap/browser-asap.js","webpack://LiveHelperChat/./node_modules/asap/browser-raw.js","webpack://LiveHelperChat/./src/lib/UIConstructorIframe.js","webpack://LiveHelperChat/./src/lib/UIConsturctor.js","webpack://LiveHelperChat/./src/lib/chatNotifications.js","webpack://LiveHelperChat/./src/lib/helperFunctions.js","webpack://LiveHelperChat/./src/lib/settings.js","webpack://LiveHelperChat/./src/lib/widgets/containerChat.js","webpack://LiveHelperChat/./src/lib/widgets/mainWidget.js","webpack://LiveHelperChat/./src/lib/widgets/mainWidgetPopup.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/construct.js","webpack://LiveHelperChat/./src/lib/widgets/statusWidget.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://LiveHelperChat/./src/util/chatEventsHandler.js","webpack://LiveHelperChat/./src/util/domEventsHandler.js","webpack://LiveHelperChat/./src/util/monitoredVariable.js","webpack://LiveHelperChat/./src/util/storageHandler.js","webpack://LiveHelperChat/./src/util/userSession.js","webpack://LiveHelperChat/./node_modules/ismobilejs/esm/isMobile.js","webpack://LiveHelperChat/./node_modules/promise/index.js","webpack://LiveHelperChat/./node_modules/promise/lib/core.js","webpack://LiveHelperChat/./node_modules/promise/lib/done.js","webpack://LiveHelperChat/./node_modules/promise/lib/es6-extensions.js","webpack://LiveHelperChat/./node_modules/promise/lib/finally.js","webpack://LiveHelperChat/./node_modules/promise/lib/index.js","webpack://LiveHelperChat/./node_modules/promise/lib/node-extensions.js","webpack://LiveHelperChat/./node_modules/promise/lib/synchronous.js","webpack://LiveHelperChat/./node_modules/wolfy87-eventemitter/EventEmitter.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://LiveHelperChat/webpack/bootstrap","webpack://LiveHelperChat/webpack/runtime/load script","webpack://LiveHelperChat/webpack/runtime/compat get default export","webpack://LiveHelperChat/webpack/runtime/define property getters","webpack://LiveHelperChat/webpack/runtime/ensure chunk","webpack://LiveHelperChat/webpack/runtime/get javascript chunk filename","webpack://LiveHelperChat/webpack/runtime/global","webpack://LiveHelperChat/webpack/runtime/hasOwnProperty shorthand","webpack://LiveHelperChat/webpack/runtime/make namespace object","webpack://LiveHelperChat/webpack/runtime/publicPath","webpack://LiveHelperChat/webpack/runtime/jsonp chunk loading","webpack://LiveHelperChat/./src/index.js"],"sourcesContent":["\"use strict\";\n\n// rawAsap provides everything we need except exception management.\nvar rawAsap = require(\"./raw\");\n// RawTasks are recycled to reduce GC churn.\nvar freeTasks = [];\n// We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n    if (pendingErrors.length) {\n        throw pendingErrors.shift();\n    }\n}\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nmodule.exports = asap;\nfunction asap(task) {\n    var rawTask;\n    if (freeTasks.length) {\n        rawTask = freeTasks.pop();\n    } else {\n        rawTask = new RawTask();\n    }\n    rawTask.task = task;\n    rawAsap(rawTask);\n}\n\n// We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\nfunction RawTask() {\n    this.task = null;\n}\n\n// The sole purpose of wrapping the task is to catch the exception and recycle\n// the task object after its single use.\nRawTask.prototype.call = function () {\n    try {\n        this.task.call();\n    } catch (error) {\n        if (asap.onerror) {\n            // This hook exists purely for testing purposes.\n            // Its name will be periodically randomized to break any code that\n            // depends on its existence.\n            asap.onerror(error);\n        } else {\n            // In a web browser, exceptions are not fatal. However, to avoid\n            // slowing down the queue of pending tasks, we rethrow the error in a\n            // lower priority turn.\n            pendingErrors.push(error);\n            requestErrorThrow();\n        }\n    } finally {\n        this.task = null;\n        freeTasks[freeTasks.length] = this;\n    }\n};\n","\"use strict\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nvar scope = typeof global !== \"undefined\" ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.jss\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n","import {UIConsturctor} from './UIConsturctor';\nimport {helperFunctions} from './helperFunctions';\n\nexport class UIConstructorIframe extends UIConsturctor {\n\n    constructor(elementId, style, attributes, tagname, documentRef) {\n        super(elementId, style, attributes, tagname, documentRef);\n        this.bodyId = '';\n    }\n\n    constructUIIframe(style, dir, cl, header, disableViewPort) {\n\n        if (typeof dir === 'undefined'){\n            dir = 'ltr';\n        }\n\n        if (typeof cl === 'undefined'){\n            cl = 'en';\n        }\n\n        if (typeof header === 'undefined'){\n            header = '';\n        }\n\n        this.elmDomDoc = helperFunctions.getDocument(this.elmDom);\n        if (this.elmDomDoc === null) return null;\n\n        try {\n            this.elmDomDoc.getElementsByTagName(\"head\")[0].innerHTML = '<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /><meta name=\"googlebot\" content=\"notranslate\" />'+(disableViewPort !== true ? '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\" />' : '')+header;\n\n            if (this.bodyId != '') {\n                this.elmDomDoc.body.id = this.bodyId;\n            }\n\n            var html = this.elmDomDoc.getElementsByTagName(\"html\")[0];\n            html.setAttribute(\"lang\", cl);\n            html.setAttribute(\"dir\", dir);\n\n            var nodeDoctype = document.implementation.createDocumentType(\n                'html',\n                '',\n                ''\n            );\n\n            if (this.elmDomDoc.doctype) {\n                this.elmDomDoc.replaceChild(nodeDoctype, this.elmDomDoc.doctype);\n            } else {\n                this.elmDomDoc.insertBefore(nodeDoctype, this.elmDomDoc.childNodes[0]);\n            }\n\n        } catch (e) {\n            console.log(e);\n        }\n\n        this.insertCssFile(style);\n        this.insertContent();\n    };\n\n    insertContent () {\n        this.elmDomDoc.body.innerHTML = this.tmpl\n    };\n};\n\n","import {helperFunctions} from './helperFunctions';\nimport {settings} from './settings.js';\nimport {domEventsHandler} from '../util/domEventsHandler';\n\nexport class UIConsturctor {\n    constructor(elementId, style, attributes, tagname, documentRef) {\n        var f = this;\n        this.elementId = elementId || \"\";\n        this.style = style || \"\";\n        this.tagName = tagname || \"div\";\n        this.tmpl = \"\";\n        this.elmDom = null;\n        this.elmDomDoc = documentRef || document;\n        this.attributes = {};\n        this.classNames = [];\n\n        this.elementId && (this.attributes.id = this.elementId);\n\n        attributes && Object.keys(attributes).forEach(function (attr) {\n            f.attributes[attr] = attributes[attr]\n        })\n    }\n\n    constructUI(a) {\n        this.elmDomDoc =\n            a || this.elmDomDoc;\n        this.elmDom = helperFunctions.initElement(this.elmDomDoc, this.tagName, this.attributes, this.style, this.tmpl);\n        this.elmDom.className += this.classNames.join(\" \");\n        return this.elmDom\n    };\n\n    restyle(attr, style) {\n        style && (this.elmDom ? this.elmDom.style.cssText += \";\" + attr + \":\" + style : this.style += \";\" + attr + \":\" + style)\n    };\n\n    attachUserEventListener(a, c, d, k) {\n        var e;\n        if (e = d ? this.getElementById(d) : this.elmDom) d = a.split(\" \"), 1 < d.length ? d.forEach(function (a) {\n            domEventsHandler.listen(e, a, c, a + k)\n        }) : domEventsHandler.listen(e, a, c, k)\n    };\n\n    getElementById(a) {\n        return this.elmDom && this.elmDomDoc ? this.elmDomDoc.getElementById(a) : null\n    };\n\n    hide() {\n        this.restyle(\"display\", \"none !important\");\n    }\n\n    show() {\n        this.restyle(\"display\", \"block !important\");\n    }\n\n    insertCssFile(style, reset) {\n        var d = this.elmDomDoc.getElementsByTagName(\"head\")[0],\n            k = this.elmDomDoc.createDocumentFragment(),\n            e = helperFunctions.initElement(this.elmDomDoc, \"style\", {type: \"text/css\"}),\n            f = this.elmDomDoc.createTextNode(reset ? style : settings.ResetStyle + \"\" + style);\n        k.appendChild(e);\n        d.appendChild(k);\n        e.styleSheet ? e.styleSheet.cssText = f.nodeValue : e.appendChild(f)\n    }\n\n    insertCssRemoteFile(attr) {\n\n        var elm = null;\n\n        if (attr.id && attr.href && (elm = this.elmDomDoc.getElementById(attr.id)) !== null) {\n            elm.href = attr.href\n            return;\n        }\n\n        var d = this.elmDomDoc.getElementsByTagName(\"head\")[0],\n            k = this.elmDomDoc.createDocumentFragment(),\n            e = this.elmDomDoc.createElement('link');\n\n        e.rel = \"stylesheet\";\n        e.crossOrigin = \"*\";\n\n        for (var b in attr) e[b] = attr[b];\n\n        k.appendChild(e);\n        d.appendChild(k);\n    }\n\n    insertJSFile(src, async, loadcb, attr) {\n        var d = this.elmDomDoc.getElementsByTagName(\"head\")[0],\n            k = this.elmDomDoc.createDocumentFragment(),\n            e = this.elmDomDoc.createElement('script');\n\n            e.type = 'text/javascript';\n            if (typeof async === 'undefined' || async === true) {\n                e.async = true;\n            }\n\n            e.crossOrigin = \"*\";\n            e.src = src;\n\n            if (loadcb) {\n                e.onload = loadcb;\n            }\n\n            if (attr) {\n                Object.keys(attr).forEach(key => {\n                    e.setAttribute(key,attr[key]);\n                })\n            }\n\n            k.appendChild(e);\n            d.appendChild(k);\n    }\n\n    massRestyle(a) {\n        for (var b in a) a.hasOwnProperty(b) && this.restyle(b, a[b])\n    }\n};\n\n","\nclass _chatNotifications {\n    constructor() {\n        this.isNotificationsSubscribed = false;\n        this.applicationServerPublicKey = null;\n        this.eventEmitter = null;\n    }\n\n    setPublicKey(publicKey, eventEmitter) {\n        this.applicationServerPublicKey = publicKey\n        this.eventEmitter = eventEmitter\n    }\n\n   sendNotification() {\n\n    var that = this;\n    var applicationServerPublicKey = this.applicationServerPublicKey;\n\n    var swRegistration = null;\n\n    if (!('serviceWorker' in navigator) || !('PushManager' in window)) {\n        alert(\"This browser does not support desktop notification\");\n        return;\n    }\n\n    // Let's check if the browser supports notifications\n    if (!(\"Notification\" in window)) {\n        alert(\"This browser does not support desktop notification\");\n        return;\n    }\n    // Let's check whether notification permissions have already been granted\n    else if (Notification.permission === \"granted\") {\n        // If it's okay let's create a notification\n        //\n    }\n    // Otherwise, we need to ask the user for permission\n    else if (Notification.permission !== \"denied\") {\n        Notification.requestPermission(function (permission) {\n            // If the user accepts, let's create a notification\n            if (permission !== \"granted\") {\n                alert('Sorry but you have denied notification!');\n                return;\n            }\n        });\n    } else if (Notification.permission === \"denied\") {\n        alert('Sorry but you have denied notification!');\n        return;\n    }\n\n    function urlB64ToUint8Array(base64String) {\n        var padding = '='.repeat((4 - base64String.length % 4) % 4);\n        var base64 = (base64String + padding)\n        .replace(/\\-/g, '+')\n        .replace(/_/g, '/');\n\n        var rawData = window.atob(base64);\n        var outputArray = new Uint8Array(rawData.length);\n\n        for (var i = 0; i < rawData.length; ++i) {\n            outputArray[i] = rawData.charCodeAt(i);\n        }\n        return outputArray;\n    }\n\n    function updateSubscriptionOnServer(subscription, subscribe) {\n        if (subscription === null) {\n            return;\n        }\n\n        var key = subscription.getKey('p256dh');\n        var token = subscription.getKey('auth');\n        var contentEncoding = (PushManager.supportedContentEncodings || ['aesgcm'])[0];\n\n        var payload = JSON.stringify({\n            endpoint: subscription.endpoint,\n            publicKey: key ? btoa(String.fromCharCode.apply(null, new Uint8Array(key))) : null,\n            authToken: token ? btoa(String.fromCharCode.apply(null, new Uint8Array(token))) : null,\n            contentEncoding : contentEncoding\n        });\n\n        that.eventEmitter.emitEvent('subcribedEvent', [{'payload' : payload}]);\n    }\n\n    var that = this;\n\n    function subscribeUser() {\n        var applicationServerKey = urlB64ToUint8Array(applicationServerPublicKey);\n        swRegistration.pushManager.subscribe({\n            'userVisibleOnly': true,\n            'applicationServerKey': applicationServerKey\n        }).then(function(subscription) {\n            updateSubscriptionOnServer(subscription, true);\n            that.isNotificationsSubscribed = true;\n        });\n    }\n\n    function unsubscribeUser() {\n        swRegistration.pushManager.getSubscription().then(function(subscription) {\n            if (subscription) {\n                updateSubscriptionOnServer(subscription,false);\n                return subscription.unsubscribe();\n            }\n        }).then(function() {\n            alert('You have unsubscribed!');\n            that.isNotificationsSubscribed = false;\n        });\n    }\n\n    function initializeUI() {\n        // Set the initial subscription value\n        swRegistration.pushManager.getSubscription().then(function(subscription) {\n            that.isNotificationsSubscribed = !(subscription === null);\n            if (that.isNotificationsSubscribed) {\n                subscribeUser();\n            } else {\n                subscribeUser();\n            }\n        });\n    }\n\n    // At last, if the user has denied notifications, and you\n    // want to be respectful there is no need to bother them any more.\n    navigator.serviceWorker.register('/sw.lhc.js?v=2').then(function(swReg) {\n        swRegistration = swReg;\n        initializeUI();\n    });\n\n    }\n\n};\n\nconst chatNotifications = new _chatNotifications();\nexport { chatNotifications };","\nclass _helperFunctions {\n    constructor() {\n    }\n\n    initElement(a, c, b, k, s) {\n        var e;\n        a = a.createElement(c);\n        b = b || {};\n        for (e in b) a[e] = b[e];\n        s && \"iframe\" !== c && (a.innerHTML = s);\n        k && (a.style.cssText = k);\n        return a\n    };\n    \n    getDocument(a) {\n        return a.contentWindow ? a.contentWindow.document : a.contentDocument ? a.contentDocument : a.document ? a.document : null\n    };\n\n    removeById(EId)\n    {\n        var EObj = null;\n        return(EObj = document.getElementById(EId)) ? EObj.parentNode.removeChild(EObj) : false;\n    }\n\n    // Returns time zone offset\n    getTzOffset() {\n        try {\n            return Intl.DateTimeFormat().resolvedOptions().timeZone;\n        } catch (e) {\n            Date.prototype.stdTimezoneOffset = function() {\n                var jan = new Date(this.getFullYear(), 0, 1);\n                var jul = new Date(this.getFullYear(), 6, 1);\n                return Math.max(jan.getTimezoneOffset(), jul.getTimezoneOffset());\n            };\n\n            Date.prototype.dst = function() {\n                return this.getTimezoneOffset() < this.stdTimezoneOffset();\n            };\n\n            var today = new Date();\n            var timeZoneOffset = 0;\n\n            if (today.dst()) {\n                timeZoneOffset = today.getTimezoneOffset();\n            } else {\n                timeZoneOffset = today.getTimezoneOffset()-60;\n            };\n\n            return (timeZoneOffset/60)*-1;\n        }\n    };\n\n    getAbstractStyle(params) {\n        return [\n            \"outline:                    \" + (params.outline ? params.outline : \"none\") + \" !important; \",\n            \"visibility:                 \" + (params.visibility ? params.visibility : \"visible\") + \" !important; \",\n            \"resize:                     \" + (params.resize ? params.resize : \"none\") + \" !important; \",\n            \"box-shadow:                 \" + (params.boxshadow ? params.boxshadow : \"none\") + \" ; \",\n            \"overflow:                   \" + (params.overflow ? params.overflow : \"visible\") + \" ; \",\n            \"background                  : \" + (params.background ? params.background : \"none\") + \" !important; \",\n            \"opacity                     : \" + (params.opacity ? params.opacity : \"1\") + \" !important; \",\n            \"filter                      : alpha(opacity=\" + (params.opacity ? 100 * params.opacity : \"100\") + \") !important; \",\n            \"-ms-filter                  : progid:DXImageTransform.Microsoft.Alpha(Opacity\" + (params.opacity ? params.opacity : \"1\") + \") !important; \",\n            \"-moz-opacity                : \" + (params.opacity ? params.opacity : \"1\") + \" !important; \",\n            \"-khtml-opacity              : \" + (params.opacity ? params.opacity : \"1\") + \" !important; \",\n            \"top                         : \" + (params.top ? params.top : \"auto\") + \"; \",\n            \"color-scheme                : light; \",\n            \"right                       : \" + (params.right ? params.right : \"auto\") + \"; \",\n            \"bottom                      : \" + (params.bottom ? params.bottom : \"auto\") + \"; \",\n            \"left                        : \" + (params.left ? params.left : \"auto\") + \"; \",\n            \"position                    : \" + (params.position ? params.position : \"absolute\") + \" !important; \",\n            \"border                      : \" + (params.border ? params.border : \"0\") + \" !important; \",\n            \"min-height                  : \" + (params.minheight ? params.minheight : \"auto\") + \"; \",\n            \"min-width                   : \" + (params.minwidth ? params.minwidth : \"auto\") + \"; \",\n            \"max-height                  : \" + (params.maxheight ? params.maxheight : \"none\") + \"; \",\n            \"max-width                   : \" + (params.maxwidth ? params.maxwidth : \"none\") + \"; \",\n            \"padding                     : \" + (params.padding ? params.padding : \"0\") + \" !important; \",\n            \"margin                      : \" + (params.margin ? params.margin : \"0\") + \" !important; \",\n            \"-moz-transition-property    : \" + (params.transition ? params.transition : \"none\") + \" !important; \",\n            \"-webkit-transition-property : \" + (params.transition ? params.transition : \"none\") + \" !important; \",\n            \"-o-transition-property      : \" + (params.transition ? params.transition : \"none\") + \" !important; \",\n            \"transition-property         : \" + (params.transition ? params.transition : \"none\") + \" !important; \",\n            \"transform                   : \" + (params.transform ? params.transform : \"none\") + \" !important; \",\n            \"-webkit-transform           : \" + (params.transform ? params.transform : \"none\") + \" !important; \",\n            \"-ms-transform               : \" + (params.transform ? params.transform : \"none\") + \" !important; \",\n            \"width                       : \" + (params.width ? params.width : \"auto\") + \" ; \",\n            \"height                      : \" + (params.height ? params.height : \"auto\") + \" ; \",\n            \"display                     : \" + (params.display ? params.display : \"block\") + \" !important; \",\n            \"z-index                     : \" + (params.zindex ? params.zindex : \"none\") + \" ; \",\n            \"background-color            : \" + (params.backgroundcolor ? params.backgroundcolor : \"transparent\") + \" !important; \",\n            \"cursor                      : \" + (params.cursor ? params.cursor : \"auto\") + \" !important; \",\n            \"float                       : \" + (params[\"float\"] ? params[\"float\"] : \"none\") + \" !important; \",\n            \"border-radius               : \" + (params.borderRadius ? params.borderRadius : \"unset\") + \"; \"].join(\"\").replace(/\\s/gm, \"\")\n    };\n\n    hasClass(element, className) {\n        if (element === null) return;\n        return element.classList ? element.classList.contains(className) : !!element.className.match(RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"))\n    }\n\n    addClass(element, className) {\n        if (element === null) return;\n        element.classList ? element.classList.add(className) : this.hasClass(element, className) || (element.className += \" \" + className)\n    }\n\n    removeClass(element, className) {\n        if (element === null) return;\n        element.classList ? element.classList.remove(className) : this.hasClass(element, className) && (element.className = element.className.replace(RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"), \" \"))\n    }\n\n    makeScreenshot(screenshot,url) {\n        var inst = this;\n        if (typeof html2canvas == \"undefined\") {\n            var th = document.getElementsByTagName('head')[0];\n            var s = document.createElement('script');\n            s.setAttribute('type','text/javascript');\n            s.setAttribute('src',screenshot);\n            th.appendChild(s);\n\n            s.onreadystatechange = s.onload = () => {\n                this.makeScreenshot(screenshot, url);\n            };\n        } else {\n            try {\n                html2canvas(document.body).then(function(canvas) {\n                    var xhr = new XMLHttpRequest();\n                    xhr.open( \"POST\", url, true);\n                    xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n                    xhr.send( \"data=\" + encodeURIComponent( canvas.toDataURL() ) );\n                });\n            } catch(err) {\n                console.log(err);\n            }\n        }\n    }\n\n    makeQuery(params)\n    {\n        var item, pairs = [];\n        for (item in params) {\n            if (params[item] != '' && params[item] != null) {\n                params.hasOwnProperty(item) && pairs.push(encodeURIComponent(item) + \"=\" + encodeURIComponent(params[item]));\n            }\n        }\n        return pairs.join(\"&\")\n    }\n    \n    makeRequest(url, params, callback) {\n        var request = new XMLHttpRequest;\n        var urlRequest =  url + '?' + this.makeQuery(params.params);\n        request.open(\"GET\",urlRequest, true);\n        request.onreadystatechange = function () {\n           if (4 == request.readyState && request.status != 0) {\n               try {\n                   callback(JSON.parse(request.responseText));\n               } catch (e) {\n                   e.message += \"\\n\" + urlRequest + \"\\n\" + \"[\"+request.status+\"]\\n\" + request.responseText;\n                   throw e;\n               }\n           }\n        };\n        request.send();\n        return {type: \"xhr\", req: request}\n    }\n\n    insertCssRemoteFile(attr) {\n\n        var elm = null;\n\n        if (attr.id && attr.href && (elm = document.getElementById(attr.id)) !== null) {\n            elm.href = attr.href\n            return;\n        }\n\n        var d = document.getElementsByTagName(\"head\")[0],\n            k = document.createDocumentFragment(),\n            e = document.createElement('link');\n\n        e.rel = \"stylesheet\";\n        e.crossOrigin = \"*\";\n\n        for (var b in attr) e[b] = attr[b];\n\n        k.appendChild(e);\n        d.appendChild(k);\n    }\n};\n\nconst helperFunctions = new _helperFunctions();\nexport { helperFunctions };","var settings = {};\n\nsettings.ResetStyle = \"html,body,div,span,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,abbr,address,cite,code,del,dfn,em,img,ins,kbd,q,samp,small,strong,sub,sup,var,b,i,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,figcaption,figure,footer,header,hgroup,menu,nav,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}nav ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}a{margin:0;padding:0;font-size:100%;vertical-align:baseline;background:transparent}ins{background-color:#ff9;color:#000;text-decoration:none}mark{background-color:#ff9;color:#000;font-style:italic;font-weight:bold}del{text-decoration:line-through}abbr[title],dfn[title]{border-bottom:1px dotted;cursor:help}table{border-collapse:collapse;border-spacing:0}hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}input,select{vertical-align:middle}html,body{height: 100% !important;\\n\" +\n    \"        min-height: 100% !important;\\n\" +\n    \"        max-height: 100% !important;\\n\" +\n    \"        width: 100% !important;\\n\" +\n    \"        min-width: 100% !important;\\n\" +\n    \"        max-width: 100% !important;}body{display: flex;flex-direction: column;background:transparent;font:13px Helvetica,Arial,sans-serif;position:relative}.clear{clear:both}.clearfix:after{content:'';display:block;height:0;clear:both;visibility:hidden}\";\n\nexport {settings};","import {UIConsturctor} from '../UIConsturctor';\n\nexport class containerChat{\n    constructor(prefix, pnode) {\n        this.cont = new UIConsturctor((prefix || 'lhc')+'_container_v2', \"border: 0 none !important; padding: 0 !important; margin: 0 !important; z-index: 999999999 !important; overflow : visible !important; min-width: 0 !important; min-height: 0 !important; max-width: none !important; max-height: none !important; width : auto !important; height : auto !important;\");\n        this.cont.constructUI();\n        (!!pnode && document.getElementById(pnode).appendChild(this.cont.elmDom)) || document.body.appendChild(this.cont.elmDom);\n    }\n}","import {UIConstructorIframe} from '../UIConstructorIframe';\nimport {helperFunctions} from '../helperFunctions';\n\nexport class mainWidget{\n    constructor(prefix) {\n\n        this.attributes = {};\n\n        this.width = '350';\n        this.height = '520';\n        this.bottom = '30';\n        this.right = '30';\n        this.units = 'px';\n        this.originalCSS = '';\n        this.bottom_override = false;\n        this.is_invitation = false;\n        this.is_loaded = false;\n        this.widget_rendered = false;\n\n        this.cont = new UIConstructorIframe((prefix || 'lhc')+'_widget_v2', helperFunctions.getAbstractStyle({\n            zindex: \"2147483640\",\n            width: \"95px\",\n            height: \"95px\",\n            position: \"fixed\",\n            display: \"none\",\n            maxheight: \"95px\",\n            maxwidth: \"95px\",\n            minheight: \"95px\",\n            minwidth: \"95px\"\n        }),  {\"role\":\"presentation\",\"translate\":\"no\"}, \"iframe\");\n\n        this.isLoaded = false;\n\n        this.loadStatus = {main: false, css: false, theme: false, font_status: false, font_preload: true, css_preload: true};\n    }\n\n    resize() {\n\n        let restyleStyle = {\n            height: this.height + this.units,\n            \"min-height\": this.height + this.units,\n            \"max-height\": this.height + this.units,\n            width: this.width + this.units,\n            \"min-width\": this.width + this.units,\n            \"max-width\": this.width + this.units,\n            bottom: (this.units == 'px' ? this.bottom + \"px\" : '0px')\n        };\n\n        if ((this.attributes.position_placement == 'middle_right' || this.attributes.position_placement == 'middle_left') && this.bottom_override == true) {\n            restyleStyle['bottom'] =  \"calc(50% + 20px)\";\n        }\n\n        if (this.attributes.position_placement == 'middle_left' || this.attributes.position_placement == 'bottom_left' || this.attributes.position_placement == 'full_height_left') {\n            restyleStyle['left'] = (this.units == 'px' ? this.right + \"px\" : '0px');\n        } else {\n            restyleStyle['right'] = (this.units == 'px' ? this.right + \"px\" : '0px');\n        }\n\n        if ((this.attributes.position_placement == 'full_height_right' || this.attributes.position_placement == 'full_height_left') && !this.bottom_override) {\n            restyleStyle['min-height'] = '100%';\n            restyleStyle['max-height'] = '100%';\n            restyleStyle['height'] = '100%';\n            restyleStyle['bottom'] = '0px';\n\n            if (this.attributes.position_placement == 'full_height_left') {\n                restyleStyle['left'] = '0px';\n            } else {\n                restyleStyle['right'] = '0px';\n            }\n        }\n\n        if (this.attributes.mode == 'embed') {\n            restyleStyle[\"max-width\"] = '100%';\n            restyleStyle[\"min-width\"] = '100%';\n            restyleStyle[\"width\"] = '100%';\n            restyleStyle[\"position\"] = (this.attributes.fscreen ? 'fixed' : 'relative') + '!important';\n            restyleStyle[\"bottom\"] = 'auto';\n            restyleStyle[\"right\"] = 'auto';\n        }\n\n        this.cont.massRestyle(restyleStyle);\n\n        var eldoc = null;\n\n        if (this.cont.elmDomDoc && (eldoc = this.cont.elmDomDoc.getElementById('root')) && eldoc) {\n            if (this.attributes.position_placement == 'full_height_left' || this.attributes.position_placement == 'full_height_right') {\n                eldoc.classList.add('lhc-full-height');\n            } else if (eldoc.classList.contains('lhc-full-height')) {\n                eldoc.classList.remove('lhc-full-height');\n            }\n\n            if (this.cont.elmDomDoc.getElementById('id-invitation-height')) {\n                eldoc.classList.add('lhc-invitation-view');\n            } else {\n                eldoc.classList.remove('lhc-invitation-view');\n            }\n        }\n    }\n\n    checkLoadStatus() {\n        if (this.is_loaded == false && this.loadStatus['css'] == true && this.loadStatus['theme'] == true && this.loadStatus['font_status'] == true && this.loadStatus['font_preload'] == true && this.loadStatus['css_preload'] == true) {\n            this.is_loaded = true;\n            this.loadApp();\n        }\n    }\n\n    checkLoadApp() {\n        this.attributes.wloaded.next(true);\n    }\n\n    makeContent() {\n        this.cont.bodyId = 'chat-widget';\n\n        this.cont.tmpl = '<div id=\"root\" class=\"container-fluid d-flex flex-column flex-grow-1 fade-in ' + (this.attributes.isMobile === true ? 'lhc-mobile' : 'lhc-desktop') + (this.attributes.fscreen ? ' lhc-fscreen' : '') + (this.attributes.position_placement == 'full_height_left' || this.attributes.position_placement == 'full_height_right' ? ' lhc-full-height' : '')+'\"></div>';\n\n        if (this.cont.constructUIIframe('', this.attributes.staticJS['dir'], this.attributes.staticJS['cl'], this.attributes.hhtml, !this.attributes.viewport_enabled) === null) {\n            this.isLoaded = true;\n            return null;\n        }\n\n        this.cont.elmDom.className = this.attributes.isMobile === true ? 'notranslate lhc-mobile lhc-mode-'+this.attributes.mode : 'notranslate lhc-desktop lhc-mode-'+this.attributes.mode;\n\n        if (this.attributes.cont_ss) {\n            this.originalCSS = this.cont.elmDom.style.cssText;\n        }\n    }\n\n    init(attributes, lazyLoad) {\n\n        this.attributes = attributes;\n\n        if (this.makeContent() === null) {\n            return null;\n        };\n\n        const chatParams = this.attributes['userSession'].getSessionAttributes();\n\n        if (chatParams['id'] || !lazyLoad) {\n            this.bootstrap();\n        }\n\n        this.toggleVisibilityWrap = (data) => {\n            this.toggleVisibility(data);\n        };\n\n        attributes.widgetStatus.subscribe(this.toggleVisibilityWrap);\n\n        this.monitorDimensionsWrap = (data) => {\n            this.monitorDimensions(data);\n        };\n\n        if (attributes.widgetDimesions.valueInternal['units'] == 'px' && this.attributes.isMobile == false && this.attributes.mode != 'embed')\n        {\n            this.screenAttributesUpdate = () => {\n\n                if (this.is_invitation === true && attributes.full_invitation === false) {\n                    return;\n                }\n\n                var body = this.cont.elmDomDoc.body,\n                    html = this.cont.elmDomDoc.documentElement;\n\n                var height = Math.max( body.scrollHeight, body.offsetHeight,\n                    html.clientHeight, html.scrollHeight, html.offsetHeight, attributes.widgetDimesions.value['height'] );\n\n                if (window.innerHeight < height + 60 + (this.attributes.clinst === true ? 70 : 0)) {\n                    attributes.widgetDimesions.nextPropertySilent('height_soverride', window.innerHeight - 60 - (this.attributes.clinst === true ? 70 : 0));\n                } else {\n                    attributes.widgetDimesions.nextPropertySilent('height_soverride', null);\n                }\n\n                if (window.innerWidth < attributes.widgetDimesions.valueInternal['width'] + 60) {\n                    attributes.widgetDimesions.nextPropertySilent('width_soverride', window.innerWidth - 60);\n                } else {\n                    attributes.widgetDimesions.nextPropertySilent('width_soverride', null);\n                }\n\n                attributes.widgetDimesions.callListeners();\n            };\n\n           this.screenAttributesUpdate();\n\n            window.addEventListener('resize', this.screenAttributesUpdate);\n        }\n\n        attributes.widgetDimesions.subscribe(this.monitorDimensionsWrap);\n\n        attributes.eventEmitter.addListener('reloadWidget',() => {\n            this.isLoaded = false;\n            this.makeContent();\n            attributes.eventEmitter.emitEvent('widgetHeight',[{'reset_height' : true}]);\n            this.toggleVisibility(attributes.widgetStatus.valueInternal);\n        });\n\n    }\n\n    resizeTrigger() {\n        if (this.screenAttributesUpdate) {\n            this.screenAttributesUpdate();\n        }\n    }\n\n    bootstrap() {\n\n        if (this.isLoaded === true) {\n            return ;\n        }\n\n        this.isLoaded = true;\n\n        if (this.attributes.staticJS['fontCSS']) {\n            this.cont.insertCssRemoteFile({rel:\"stylesheet\", crossOrigin : \"anonymous\",  href : this.attributes.staticJS['fontCSS']});\n        }\n\n        if (this.attributes.staticJS['font_status']) {\n            this.cont.insertCssRemoteFile({onload: () => {this.loadStatus['font_status'] = true; this.checkLoadStatus()},\"as\":\"font\", rel:\"preload\", type: \"font/woff\", crossOrigin : \"anonymous\",  href : this.attributes.staticJS['font_status']});\n        }\n\n        if (this.attributes.staticJS['font_preload']) {\n            this.loadStatus['font_preload'] = false;\n            this.attributes.staticJS['font_preload'].forEach((item) => {\n                this.cont.insertCssRemoteFile({onload: () => {this.loadStatus['font_preload'] = true; this.checkLoadStatus()},\"as\":\"font\", rel:\"preload\", type: \"font/woff\", crossOrigin : \"anonymous\",  href : item});\n            });\n        }\n\n        if (this.attributes.staticJS['css_preload']) {\n            this.loadStatus['css_preload'] = false;\n            this.attributes.staticJS['css_preload'].forEach((item) => {\n                this.cont.insertCssRemoteFile({onload: () => {this.loadStatus['css_preload'] = true; this.checkLoadStatus()}, \"as\":\"style\", crossOrigin : null, rel:\"preload\", href : item});\n            });\n        }\n\n        if (this.attributes.theme) {\n            this.loadStatus['theme'] = false;\n            this.cont.insertCssRemoteFile({onload: ()=> {this.loadStatus['theme'] = true; this.checkLoadStatus()}, crossOrigin : \"anonymous\",  href : this.attributes.LHC_API.args.lhc_base_url + '/widgetrestapi/theme/' + this.attributes.theme + '?v=' + this.attributes.theme_v}, true);\n        } else {\n            this.loadStatus['theme'] = true;\n        }\n\n        this.cont.insertCssRemoteFile({onload: () => {\n                this.loadStatus['css'] = true;\n                this.checkLoadStatus();\n            },crossOrigin : \"anonymous\",  href : this.attributes.staticJS['widget_css']}, true);\n\n        if (this.attributes.isMobile == true && this.attributes.mode == 'widget') {\n            this.cont.insertCssRemoteFile({crossOrigin : \"anonymous\",  href : this.attributes.staticJS['widget_mobile_css']});\n        }\n\n        if (this.attributes.mode == 'embed') {\n            this.cont.insertCssRemoteFile({crossOrigin : \"anonymous\",  href : this.attributes.staticJS['embed_css'] });\n\n            if (this.attributes.staticJS['page_css']) {\n                helperFunctions.insertCssRemoteFile({crossOrigin : \"anonymous\", id: \"lhc-theme-page\", href : this.attributes.LHC_API.args.lhc_base_url + '/widgetrestapi/themepage/' + this.attributes.theme + '?v=' + this.attributes.theme_v});\n            }\n        }\n    }\n\n    loadApp() {\n        this.cont.insertJSFile(this.attributes.staticJS['vendor'], false, () => {\n            this.cont.insertJSFile(this.attributes.staticJS['app'], false, () => {\n                this.loadStatus['main'] = true;\n                this.checkLoadApp();\n            }, {'scope': this.attributes.prefixLowercase});\n        }, {'scope': this.attributes.prefixLowercase});\n\n        if (this.attributes.staticJS['ex_js'] && this.attributes.staticJS['ex_js'].length > 0) {\n            this.attributes.staticJS['ex_js'].forEach((item) => {\n                this.cont.insertJSFile(item, false);\n            });\n        }\n    }\n\n    toggleVisibility(data) {\n        data == false ? this.hide() : this.show();\n    }\n\n    monitorDimensions(data) {\n        this.width = data.width_override || data.width_soverride || data.width;\n        this.height = data.height_soverride || data.height_override || data.height;\n        this.bottom = data.bottom_override ? (data.bottom_override + (data.wbottom ? data.wbottom : 0)) : (30 + (this.attributes.clinst === true ? 70 : 0) + (data.wbottom ? data.wbottom : 0));\n        this.right = data.right_override ? (data.right_override + (data.wright_inv ? data.wright_inv : 0)) : (30 + (data.wright ? data.wright : 0));\n        this.units = (data.width_override || data.height_override || data.bottom_override || data.right_override) ? 'px' : data.units;\n\n        this.resize();\n\n        this.bottom_override = !!data.bottom_override;\n    }\n\n    hide () {\n        this.cont.hide();\n    }\n\n    widgetRendered(){\n\n        if (this.widget_rendered === false) {\n            var eldoc = null;\n            if (this.cont.elmDomDoc && (eldoc = this.cont.elmDomDoc.getElementById('root')) && eldoc) {\n                eldoc.classList.add('lhc-widget-loaded');\n                this.widget_rendered = true;\n            }\n        }\n\n        if (!this.attributes.cont_ss) {\n            return;\n        }\n\n        if (this.is_invitation === false || (this.is_invitation === true && this.attributes.full_invitation)) {\n            this.cont.elmDom.style.cssText += this.attributes.cont_ss;\n        }\n    }\n\n    hideInvitation() {\n        this.is_invitation = false;\n        if (this.attributes.cont_ss) {\n            this.cont.elmDom.style.cssText += this.attributes.cont_ss;\n        }\n    }\n\n    showInvitation() {\n        this.is_invitation = true;\n        if (this.attributes.cont_ss && !this.attributes.full_invitation) {\n            this.cont.elmDom.style.cssText = this.originalCSS;\n        }\n        this.show();\n    }\n\n    show () {\n        if (this.isLoaded === false) {\n            this.bootstrap();\n        }\n        this.cont.show();\n    }\n}","export class mainWidgetPopup {\n    constructor() {\n\n        this.attributes = {};\n\n        this.width = null;\n        this.height = null;\n        this.units = 'px';\n        this.freeup();\n    }\n\n    freeup() {\n        this.cont = {};\n    }\n\n    parseOptions() {\n        var argumentsQuery = new Array();\n        var paramsReturn = '';\n        if (typeof this.attributes != 'undefined') {\n            if (typeof this.attributes.LHCChatOptions.attr != 'undefined') {\n                if (this.attributes.LHCChatOptions.attr.length > 0) {\n                    for (var index in this.attributes.LHCChatOptions.attr) {\n                        if (typeof this.attributes.LHCChatOptions.attr[index] != 'undefined' && typeof this.attributes.LHCChatOptions.attr[index].type != 'undefined') {\n                            argumentsQuery.push('name[]=' + encodeURIComponent(this.attributes.LHCChatOptions.attr[index].name) + '&encattr[]=' + (typeof this.attributes.LHCChatOptions.attr[index].encrypted != 'undefined' && this.attributes.LHCChatOptions.attr[index].encrypted == true ? 't' : 'f') + '&value[]=' + encodeURIComponent(this.attributes.LHCChatOptions.attr[index].value) + '&type[]=' + encodeURIComponent(this.attributes.LHCChatOptions.attr[index].type) + '&size[]=' + encodeURIComponent(this.attributes.LHCChatOptions.attr[index].size) + '&req[]=' + (typeof this.attributes.LHCChatOptions.attr[index].req != 'undefined' && this.attributes.LHCChatOptions.attr[index].req == true ? 't' : 'f') + '&sh[]=' + ((typeof this.attributes.LHCChatOptions.attr[index].show != 'undefined' && (this.attributes.LHCChatOptions.attr[index].show == 'on' || this.attributes.LHCChatOptions.attr[index].show == 'off')) ? this.attributes.LHCChatOptions.attr[index].show : 'b'));\n                        }\n                    }\n                }\n            }\n\n            if (typeof this.attributes.LHCChatOptions.attr_prefill != 'undefined') {\n                if (this.attributes.LHCChatOptions.attr_prefill.length > 0) {\n                    for (var index in this.attributes.LHCChatOptions.attr_prefill) {\n                        if (typeof this.attributes.LHCChatOptions.attr_prefill[index] != 'undefined' && typeof this.attributes.LHCChatOptions.attr_prefill[index].name != 'undefined') {\n                            argumentsQuery.push('prefill[' + this.attributes.LHCChatOptions.attr_prefill[index].name + ']=' + encodeURIComponent(this.attributes.LHCChatOptions.attr_prefill[index].value));\n                        }\n                    }\n                }\n            }\n\n            if (typeof this.attributes.LHCChatOptions.attr_prefill_admin != 'undefined') {\n                if (this.attributes.LHCChatOptions.attr_prefill_admin.length > 0) {\n                    for (var index in this.attributes.LHCChatOptions.attr_prefill_admin) {\n                        if (typeof this.attributes.LHCChatOptions.attr_prefill_admin[index] != 'undefined') {\n                            argumentsQuery.push('value_items_admin[' + this.attributes.LHCChatOptions.attr_prefill_admin[index].index + ']=' + encodeURIComponent(this.attributes.LHCChatOptions.attr_prefill_admin[index].value));\n                        }\n                    }\n                }\n            }\n\n            if (argumentsQuery.length > 0) {\n                paramsReturn = '&' + argumentsQuery.join('&');\n            }\n        }\n\n        return paramsReturn;\n    }\n\n    init(attributes, chatEvents, paramsPopup) {\n\n        if (this.cont.elementReferrerPopup && this.cont.elementReferrerPopup.closed === false) {\n            typeof paramsPopup !== 'undefined' && paramsPopup.event !== 'undefined' && paramsPopup.event.preventDefault();\n            this.cont.elementReferrerPopup.focus();\n        } else {\n\n            this.attributes = attributes;\n\n            let attr = {\n                'static_chat': this.attributes['userSession'].getSessionAttributes()\n            };\n\n            let urlArgumetns = '';\n\n            if (attr['static_chat']['id'] && attr['static_chat']['hash']) {\n                urlArgumetns = urlArgumetns + \"/(id)/\" + attr['static_chat']['id'] + \"/(hash)/\" + attr['static_chat']['hash'];\n            }\n\n            if (this.attributes['theme'] !== null) {\n                urlArgumetns = urlArgumetns + \"/(theme)/\" + this.attributes['theme'];\n            }\n\n            if (attr['static_chat']['vid'] !== null && this.attributes.storageHandler.cookieEnabled === true) {\n                urlArgumetns = urlArgumetns + \"/(vid)/\" + attr['static_chat']['vid'];\n            }\n\n            if (this.attributes['isMobile']) {\n                urlArgumetns = urlArgumetns + \"/(mobile)/true\";\n            }\n\n            if (this.attributes['department'].length > 0) {\n                urlArgumetns = urlArgumetns + \"/(department)/\" + this.attributes['department'].join('/');\n            }\n\n            if (this.attributes['identifier'] != '') {\n                urlArgumetns = urlArgumetns + \"/(identifier)/\" + this.attributes['identifier'];\n            }\n\n            if (this.attributes['operator']) {\n                urlArgumetns = urlArgumetns + \"/(operator)/\" + this.attributes['operator'];\n            }\n\n            if (this.attributes['survey']) {\n                urlArgumetns = urlArgumetns + \"/(survey)/\" + this.attributes['survey'];\n            }\n\n            if (this.attributes['bot_id']) {\n                urlArgumetns = urlArgumetns + \"/(bot)/\" + this.attributes['bot_id'];\n            }\n\n            if (this.attributes['trigger_id']) {\n                urlArgumetns = urlArgumetns + \"/(trigger)/\" + this.attributes['trigger_id'];\n            }\n\n            if (this.attributes['subject_id']) {\n                urlArgumetns = urlArgumetns + \"/(subject)/\" + this.attributes['subject_id'];\n            }\n\n            if (this.attributes['vars_encrypted']) {\n                urlArgumetns = urlArgumetns + \"/(encrypted)/true\";\n            }\n\n            if (this.attributes['priority']) {\n                urlArgumetns = urlArgumetns + \"/(priority)/\" + this.attributes['priority'];\n            }\n\n            if (this.attributes['prefixLowercase'] != 'lhc') {\n                urlArgumetns = urlArgumetns + \"/(scope)/\" + this.attributes['prefixLowercase'];\n            }\n\n            urlArgumetns = urlArgumetns + \"/(sound)/\" + (this.attributes.toggleSound.value == true ? 1 : 0);\n\n            if (this.attributes['proactive']['invitation']) {\n                urlArgumetns = urlArgumetns + \"/(inv)/\" + this.attributes['proactive']['invitation'];\n                if (this.attributes['mode'] == 'popup') {\n                    this.attributes.storageHandler.setSessionStorage(this.attributes['prefixStorage']+'_invt', 1);\n                }\n            }\n\n            var fontSize = this.attributes.storageHandler.getLocalStorage(this.attributes['prefixStorage']+'_dfs');\n\n            if (fontSize) {\n                urlArgumetns = urlArgumetns + \"/(fs)/\" + parseInt(fontSize);\n            }\n\n            if (this.attributes['leaveMessage'] === true) {\n                urlArgumetns = urlArgumetns + \"/(leaveamessage)/true\";\n            }\n\n            if (this.attributes['userSession'].getSessionReferrer() !== null && this.attributes['userSession'].getSessionReferrer() != '') {\n                urlArgumetns = urlArgumetns + '?ses_ref=' + this.attributes['userSession'].getSessionReferrer() + this.parseOptions();\n            } else {\n                urlArgumetns = urlArgumetns + '?' + this.parseOptions();\n            }\n\n            const dualScreenLeft = window.screenLeft !==  undefined ? window.screenLeft : window.screenX;\n            const dualScreenTop = window.screenTop !==  undefined   ? window.screenTop  : window.screenY;\n\n            const width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\n            const height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\n\n            const systemZoom = width / window.screen.availWidth;\n            const left = (width - parseInt(this.attributes['popupDimesnions']['pwidth'])) / 2 / systemZoom + dualScreenLeft;\n            const top = (height - parseInt(this.attributes['popupDimesnions']['pheight'])) / 2 / systemZoom + dualScreenTop;\n\n            var paramsWindow = \"scrollbars=yes,menubar=1,resizable=1,width=\" + this.attributes['popupDimesnions']['pwidth'] + \",height=\" + this.attributes['popupDimesnions']['pheight'] + \",top=\" + top + \",left=\" + left;\n            var newWin = window.open(\"\", this.attributes['prefixStorage'] + '_popup_v2', paramsWindow);\n            var needWindow = false;\n            var windowCreated = false;\n\n            // First try to find any existing window\n            try {\n                // It has to be new window or popup was blocked\n                if (!newWin || newWin.closed || typeof newWin.closed=='undefined' || newWin.location.href === \"about:blank\") {\n                    newWin = this.cont.elementReferrerPopup = window.open(this.attributes['base_url'] + this.attributes['lang'] + \"chat/start\" + urlArgumetns, this.attributes['prefixStorage']+'_popup_v2', paramsWindow);\n                    windowCreated = true;\n                } else {\n                    needWindow = true;\n                }\n            } catch (e) { // We get cross-origin error only if window exist and it's location is other one than about:blank\n                needWindow = true;\n            }\n\n            // Now if visitor has blocked popup change chat status link and just allow browser handle the rest.\n            if (!newWin || newWin.closed || typeof newWin.closed=='undefined') {\n                try {\n                    this.attributes.viewHandler.cont.shadowRoot.getElementById(\"status-icon\").href = this.attributes['base_url'] + this.attributes['lang'] + \"chat/start\" + urlArgumetns;\n                    this.attributes.viewHandler.cont.shadowRoot.getElementById(\"status-icon\").click();\n                } catch (e) {\n                    alert('You have disabled popups!');\n                }\n            } else if (windowCreated == true) {\n                typeof chatEvents !== 'undefined' && this.attributes.kcw === false && chatEvents.sendChildEvent('endedChat', [{'sender': 'endButton'}]);\n                typeof paramsPopup !== 'undefined' && paramsPopup.event !== 'undefined' && paramsPopup.event.preventDefault();\n            } else if (needWindow === true) {\n                this.cont.elementReferrerPopup = newWin;\n                newWin.focus();\n                typeof paramsPopup !== 'undefined' && paramsPopup.event !== 'undefined' && paramsPopup.event.preventDefault();\n            }\n        }\n    }\n\n    getAttributesToSent(){\n        var js_vars = this.attributes['jsVars'].value;\n        var js_args = {};\n        var currentVar = null;\n        for (var index in js_vars) {\n            try {\n                currentVar = eval(js_vars[index].var);\n                if (typeof currentVar !== 'undefined' && currentVar !== null && currentVar !== '') {\n                    js_args[js_vars[index].id] = currentVar;\n                }\n            } catch (err) {\n\n            }\n        }\n        return js_args;\n    }\n\n    sendParameters(chatEvents) {\n        if (this.cont.elementReferrerPopup && this.cont.elementReferrerPopup.closed === false) {\n            chatEvents.sendChildEvent('jsVars', [this.getAttributesToSent()]);\n        }\n    }\n}","function _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nexport { _arrayLikeToArray as default };","function _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct = function _isNativeReflectConstruct() {\n    return !!t;\n  })();\n}\nexport { _isNativeReflectConstruct as default };","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeFunction from \"./isNativeFunction.js\";\nimport construct from \"./construct.js\";\nfunction _wrapNativeSuper(t) {\n  var r = \"function\" == typeof Map ? new Map() : void 0;\n  return _wrapNativeSuper = function _wrapNativeSuper(t) {\n    if (null === t || !isNativeFunction(t)) return t;\n    if (\"function\" != typeof t) throw new TypeError(\"Super expression must either be null or a function\");\n    if (void 0 !== r) {\n      if (r.has(t)) return r.get(t);\n      r.set(t, Wrapper);\n    }\n    function Wrapper() {\n      return construct(t, arguments, getPrototypeOf(this).constructor);\n    }\n    return Wrapper.prototype = Object.create(t.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: !1,\n        writable: !0,\n        configurable: !0\n      }\n    }), setPrototypeOf(Wrapper, t);\n  }, _wrapNativeSuper(t);\n}\nexport { _wrapNativeSuper as default };","function _isNativeFunction(t) {\n  try {\n    return -1 !== Function.toString.call(t).indexOf(\"[native code]\");\n  } catch (n) {\n    return \"function\" == typeof t;\n  }\n}\nexport { _isNativeFunction as default };","import isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _construct(t, e, r) {\n  if (isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments);\n  var o = [null];\n  o.push.apply(o, e);\n  var p = new (t.bind.apply(t, o))();\n  return r && setPrototypeOf(p, r.prototype), p;\n}\nexport { _construct as default };","import {settings} from '../settings.js';\nimport {helperFunctions} from '../helperFunctions';\n\nclass LHCStatusWidget extends HTMLElement {\n    constructor() {\n        super();\n\n        // Create a shadow root\n        this.attachShadow({mode: 'open'});\n        this._ee = null;\n    }\n\n    set ee(ee) {\n        this._ee = ee;\n    }\n\n    dispatchEventStatus(event,data, e)\n    {\n        if (this._ee) {\n            this._ee(event, data, e);\n        }\n    }\n\n    show() {\n        this.style.setProperty(\"display\",\"block\",\"important\");\n        window.orientation === undefined && this.resize();\n    }\n\n    hide() {\n        this.style.setProperty(\"display\",\"none\",\"important\");\n    }\n\n    connectedCallback() {\n\n        // Create a button element and add it to the shadow DOM\n        let style = document.createElement('style');\n        style.textContent = `html,body,div,span,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,abbr,address,cite,code,del,dfn,em,img,ins,kbd,q,samp,small,strong,sub,sup,var,b,i,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,figcaption,figure,footer,header,hgroup,menu,nav,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}nav ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,a{margin:0;padding:0;font-size:100%;vertical-align:baseline;background:transparent}ins{background-color:#ff9;color:#000;text-decoration:none}mark{background-color:#ff9;color:#000;font-style:italic;font-weight:bold}del{text-decoration:line-through}abbr[title],dfn[title]{border-bottom:1px dotted;cursor:help}table{border-collapse:collapse;border-spacing:0}hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}input,select{vertical-align:middle}:root{cursor : pointer; height: 100% !important;min-height: 100% !important;max-height: 100% !important;width: 100% !important;min-width: 100% !important;max-width: 100% !important;}body{display: flex;flex-direction: column;background:transparent;font:13px Helvetica,Arial,sans-serif;position:relative}.clear{clear:both}.clearfix:after{content:\\'\\';display:block;height:0;clear:both;visibility:hidden}`;\n        this.style = \"-webkit-tap-highlight-color: transparent;-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;\" +\n            \"    user-select: none;outline: none;  box-shadow: none;user-select:none;cursor:pointer;box-shadow: none; overflow: visible; color-scheme: light;\" +\n            \"    min-height: 95px; min-width: 95px; max-height: 95px; max-width: 95px; width: 95px; height: 95px; z-index: 2147483640;\" +\n            \"    border-radius: unset; outline: none !important; visibility: visible !important; resize: none !important; background: none transparent !important;\" +\n            \"    opacity: 1 !important; position: fixed !important; border: 0px !important; padding: 0px !important; margin: 0px !important;\" +\n            \"    float: none !important;display: none !important;transition-property: transform !important;transition-timing-function: cubic-bezier(0.165, 0.84, 0.44, 1) !important;\" +\n            \"    transform: translate3d(0px,\" + this.getAttribute(\"vertical-y\") + \"px,0px) !important;transition-duration: 800ms !important;\"+\n            (this.getAttribute(\"vertical-placement\") == \"top\" ? \"bottom:auto;\" : \"top:auto;\") +\n            (this.getAttribute(\"horizontal-placement\") == \"right\" ? \"left:auto;\" : \"right:auto;\") +\n            this.getAttribute(\"horizontal-placement\")+\":\"+this.getAttribute(\"horizontal-space\")+\"px;\"+\n            this.getAttribute(\"vertical-placement\")+\":\"+this.getAttribute(\"vertical-space\")+this.getAttribute(\"vertical-unit\");\n\n        this.shadowRoot.appendChild(style);\n    }\n\n    massRestyle(a) {\n        for (var b in a) a.hasOwnProperty(b) && this.restyle(b, a[b])\n    }\n\n    restyle(attr, style) {\n        this.style[attr] = style;\n    };\n\n    setContent(content) {\n        let contentShadow = document.createElement('div');\n        contentShadow.innerHTML = content;\n        this.shadowRoot.appendChild(contentShadow.firstChild);\n    }\n\n    resize() {\n        var initX, initY;\n        const rect = this.getBoundingClientRect();\n\n        if (rect.height == 0) {\n            return;\n        }\n\n        let verticalSpace = parseInt(this.getAttribute('vertical-space'));\n        if (rect.top - verticalSpace < 0) {\n            const style = window.getComputedStyle(this)\n            const matrix = new DOMMatrixReadOnly(style.transform)\n            initY = matrix.m42;\n            initX = matrix.m41;\n            this.style.transform = \"translate3d(\" + initX + \"px, \" + (initY + Math.abs(rect.top - verticalSpace)) + \"px, 0px)\";\n            this.dispatchEventStatus('move_finish', {\"x\" : 0, \"y\": (initY - ((rect.bottom + verticalSpace) - (window.innerHeight || document.documentElement.clientHeight))), \"bottom\": this.style.bottom, \"top\": this.style.top, \"left\": this.style.left, \"right\": this.style.right});\n        } else if (rect.bottom + verticalSpace > (window.innerHeight || document.documentElement.clientHeight)) {\n            const style = window.getComputedStyle(this)\n            const matrix = new DOMMatrixReadOnly(style.transform)\n            initY = matrix.m42;\n            initX = matrix.m41;\n            this.style.transform = \"translate3d(\" + initX + \"px, \" + (initY - ((rect.bottom + verticalSpace) - (window.innerHeight || document.documentElement.clientHeight))) + \"px, 0px)\";\n            this.dispatchEventStatus('move_finish', {\"x\" : 0, \"y\": (initY - ((rect.bottom + verticalSpace) - (window.innerHeight || document.documentElement.clientHeight))), \"bottom\": this.style.bottom, \"top\": this.style.top, \"left\": this.style.left, \"right\": this.style.right});\n        }\n    }\n\n    attachEvents() {\n        var object = this,\n            initX, initY, firstX, firstY, objectMoved = false, lastTouch, moveAction = false, dragEnabled = this.getAttribute(\"drag-enabled\") === \"true\";\n\n        try {\n            if (dragEnabled === true && this.getAttribute('vertical-unit') === 'px') {\n                if (window.orientation !== undefined) {\n                    screen.orientation.addEventListener(\"change\", resize);\n                } else {\n                    window.addEventListener('resize', resize, false);\n                }\n            }\n        } catch (e) {\n            console.log(e);\n        }\n\n        dragEnabled === true && this.getAttribute('vertical-unit') === 'px' && this.addEventListener('mousedown', function (e) {\n            e.preventDefault();\n            this.style.transitionDuration = \"0ms\";\n\n            firstX = e.pageX;\n            firstY = e.pageY;\n\n            const style = window.getComputedStyle(this)\n            const matrix = new DOMMatrixReadOnly(style.transform)\n            initY = matrix.m42;\n            initX = matrix.m41;\n\n            document.addEventListener('mousemove', dragIt, false);\n            document.addEventListener('mouseup', mouseUp, false);\n        }, false);\n\n        dragEnabled === true && this.getAttribute('vertical-unit') === 'px' && this.addEventListener('touchstart', function (e) {\n\n            // If we uncomment click event will be ignored on our component\n            // It has to stay commented out\n            // e.preventDefault();\n            this.style.transitionDuration = \"0ms\";\n\n            var touch = e.touches;\n            firstX = touch[0].pageX;\n            firstY = touch[0].pageY;\n\n            const style = window.getComputedStyle(this)\n            const matrix = new DOMMatrixReadOnly(style.transform)\n            initY = matrix.m42;\n            initX = matrix.m41;\n\n            this.addEventListener('touchmove', swipeIt, false);\n            window.addEventListener('touchend', touchEnd, false);\n        }, false);\n\n        function resize() {\n            object.resize();\n        }\n\n        function mouseUp(e) {\n\n            if (objectMoved === true) {\n                moveAction = true;\n            }\n\n            document.removeEventListener('mousemove', dragIt, false);\n            document.removeEventListener('mouseup', mouseUp, false);\n\n            if (objectMoved === true) {\n                verifyPosition(e, false);\n            }\n\n            objectMoved = false;\n        }\n\n        function dragIt(e) {\n            objectMoved = true;\n            let XPos =  (initX + e.pageX - firstX), YPos = (initY + e.pageY - firstY) ;\n            object.style.transform = \"translate3d(\" + XPos + \"px, \" + YPos + \"px, 0px)\";\n            object.dispatchEventStatus('move', {\"x\" : XPos, \"y\": YPos, \"bottom\": object.style.bottom, \"top\": object.style.top, \"left\": object.style.left, \"right\": object.style.right});\n        }\n\n        function touchEnd(e) {\n\n            this.removeEventListener('touchmove', swipeIt, false);\n            window.removeEventListener('touchend', touchEnd, false);\n\n            if (objectMoved === true) {\n                verifyPosition(e, true);\n            }\n\n            objectMoved = false;\n        }\n\n        function verifyPosition(e, isMobile) {\n\n            const rect = object.getBoundingClientRect();\n\n            let resetVertical = false, switchVerticalTop = false, switchVerticalBottom = false;\n\n            if (rect.top - parseInt(object.getAttribute('vertical-space')) < 0) {\n                if (object.style.top === \"auto\") {\n                    object.style.top = object.getAttribute('vertical-space')+object.getAttribute(\"vertical-unit\");\n                    object.style.bottom = \"auto\";\n                    switchVerticalTop = true;\n                }\n                resetVertical = true;\n            } else if (rect.bottom + parseInt(object.getAttribute('vertical-space')) > (window.innerHeight || document.documentElement.clientHeight)) {\n                if (object.style.bottom === \"auto\") {\n                    object.style.top = \"auto\";\n                    object.style.bottom = object.getAttribute('vertical-space')+object.getAttribute(\"vertical-unit\");\n                    switchVerticalBottom = true;\n                }\n                resetVertical = true;\n            }\n\n            let posYHistory = initY + (isMobile === false ? e.pageY : lastTouch.pageY) - firstY;\n\n            const style = window.getComputedStyle(object);\n            const matrix = new DOMMatrixReadOnly(style.transform);\n            initX = matrix.m41;\n\n            if (switchVerticalTop === true) {\n                posYHistory = rect.top - parseInt(object.getAttribute('vertical-space'));\n            } else if (switchVerticalBottom === true) {\n                posYHistory = ((window.innerHeight || document.documentElement.clientHeight) - rect.top - rect.height - parseInt(object.getAttribute('vertical-space'))) * -1;\n            }\n\n            let posY = resetVertical === true ? 0 : (initY + (isMobile === false ? e.pageY : lastTouch.pageY) - firstY);\n\n            if (resetVertical === false) {\n                if (rect.top + (rect.height / 2) > (window.innerHeight || document.documentElement.clientHeight) / 2) { // Bottom\n                    // Need to switch to bottom position\n                    if (object.style.bottom === \"auto\") {\n                        object.style.top = \"auto\";\n                        object.style.bottom = object.getAttribute('vertical-space')+object.getAttribute(\"vertical-unit\");\n                        posYHistory = posY = ((window.innerHeight || document.documentElement.clientHeight) - rect.top - rect.height - parseInt(object.getAttribute('vertical-space'))) * -1;\n                    }\n                } else { // Top\n                    if (object.style.top === \"auto\") {\n                        object.style.top = object.getAttribute('vertical-space')+object.getAttribute(\"vertical-unit\");\n                        object.style.bottom = \"auto\";\n                        posYHistory = posY = rect.top - parseInt(object.getAttribute('vertical-space'));\n                    }\n                }\n            }\n\n            let is_right_side = object.style.left == \"auto\";\n            let need_reposition;\n\n            if (rect.left + (rect.width / 2) > (window.innerWidth || document.documentElement.clientWidth) / 2) {\n                if (is_right_side === false) {\n                    object.style.right = object.getAttribute('horizontal-space')+\"px\";\n                    object.style.left = \"auto\";\n                }\n                need_reposition = !is_right_side;\n            } else {\n                if (is_right_side === true) {\n                    object.style.left = object.getAttribute('horizontal-space')+\"px\";\n                    object.style.right = \"auto\";\n                }\n                need_reposition = is_right_side;\n            }\n\n            if (need_reposition) {\n                if (is_right_side) {\n                    initX = rect.left - parseInt(object.getAttribute('horizontal-space'));\n                } else {\n                    initX = ((document.documentElement.clientWidth - rect.left - rect.width - parseInt(object.getAttribute('horizontal-space'))) * -1);\n                }\n            }\n\n            object.style.transform = \"translate3d(\" + initX + \"px, \" + posYHistory + \"px, 0px)\";\n\n            object.dispatchEventStatus('move', {\"x\" : initX, \"y\": posYHistory, \"bottom\": object.style.bottom, \"top\": object.style.top, \"left\": object.style.left, \"right\": object.style.right});\n\n            // Does not work properly on apple Safari :(\n            /*window.requestAnimationFrame(function () {*/\n            /*object.style.transitionDuration = \"800ms\";\n            object.style.transform = \"translate3d(0px, \" + posY + \"px, 0px)\";*/\n            /*});*/\n\n            setTimeout(function(){\n                object.style.transitionDuration = \"800ms\";\n                object.style.transform = \"translate3d(0px, \" + posY + \"px, 0px)\";\n                object.dispatchEventStatus('move_finish', {\"x\" : 0, \"y\": posY, \"bottom\": object.style.bottom, \"top\": object.style.top, \"left\": object.style.left, \"right\": object.style.right});\n            },20)\n        }\n\n        function swipeIt(e) {\n            // This one has to be present otherwise while dragging\n            // Page will refresh\n            e.preventDefault();\n            objectMoved = true;\n            var contact = e.touches;\n            let XPos = (initX + contact[0].pageX - firstX), YPos = (initY + contact[0].pageY - firstY);\n            this.style.transform = \"translate3d(\" + XPos + \"px, \" + YPos + \"px, 0px)\";\n            lastTouch = contact[0];\n            object.dispatchEventStatus('move', {\"x\" : XPos, \"y\": YPos, \"bottom\": object.style.bottom, \"top\": object.style.top, \"left\": object.style.left, \"right\": object.style.right});\n        }\n\n        this.addEventListener('click', function (e) {\n            // On desktop we should not trigger if widget location was changed as it was\n            // Drag and drop action performed by visitor\n            if (moveAction === true) {\n                moveAction = false;\n                this.dispatchEventStatus('click',{'status': false}, e);\n            } else {\n                this.dispatchEventStatus('click',{'status': true}, e);\n            }\n        });\n\n        // this.getAttribute('vertical-unit') === 'px' && resize();\n    }\n\n    insertCssRemoteFile(attr) {\n\n        var elm = null;\n\n        if (attr.id && attr.href && (elm = this.shadowRoot.getElementById(attr.id)) !== null) {\n            elm.href = attr.href\n            return;\n        }\n\n        var d = this.shadowRoot,\n            e = document.createElement('link');\n\n        e.rel = \"stylesheet\";\n        e.crossOrigin = \"*\";\n\n        for (var b in attr) e[b] = attr[b];\n        d.appendChild(e);\n    }\n\n}\n\nexport class statusWidget{\n    constructor(prefix, version) {\n\n        this.attributes = {};\n        this.controlMode = false;\n        this.showDelay = null;\n        this.statusDelayProcessed = false;\n\n        // Define the custom element\n        let componentId = (prefix || 'lhc') + '-' + version + '-status-widget';\n\n        if (!customElements.get(componentId)) {\n            customElements.define(componentId, LHCStatusWidget);\n        }\n\n        this.cont = document.createElement(componentId);\n\n        Object.entries({\n            \"id\" : (prefix || 'lhc')+'_status_widget_v2',\n            \"vertical-placement\" : \"bottom\",\n            \"horizontal-placement\" : \"right\",\n            \"horizontal-space\" : \"0\",\n            \"vertical-space\" : \"0\",\n            \"vertical-unit\" : \"px\",\n            \"vertical-y\" : 0,\n            \"drag-enabled\" : false,\n            \"role\" : \"presentation\",\n            \"translate\" : \"no\"\n        }).forEach(([k, v]) => this.cont.setAttribute(k, v));\n\n        this.cont.style = \"display: none\";\n\n        this.loadStatus = {main : false, theme: false, font: true, widget : false, shidden: false};\n        this.lload = false;\n        this.unread_counter = 0;\n    }\n\n    toggleOfflineIcon(onlineStatus) {\n\n        var icon = this.cont.shadowRoot.getElementById(\"status-icon\");\n\n        if (onlineStatus) {\n            if (!this.attributes.leaveMessage) {\n                this.show();\n            }\n            helperFunctions.removeClass(icon, \"offline-status\");\n        } else {\n            if (!this.attributes.leaveMessage) {\n                this.hide();\n            } else {\n                helperFunctions.addClass(icon, \"offline-status\");\n            }\n        }\n    }\n\n    checkLoadStatus() {\n        if (this.loadStatus['theme'] == true && this.loadStatus['main'] == true && this.loadStatus['font'] == true && this.loadStatus['widget'] == true && this.loadStatus['shidden'] == false) {\n            var elm = this.cont.shadowRoot.getElementById('lhc_status_container');\n            elm && (elm.style.display = \"\");\n            this.attributes.sload.next(true);\n        }\n    }\n\n    init(attributes, lload) {\n\n        this.attributes = attributes;\n\n        var placement = {top: \"auto\", left:\"auto\", bottom: (10+this.attributes.widgetDimesions.value.sbottom) + \"px\", right: (10+this.attributes.widgetDimesions.value.sright) + \"px\"};\n\n        this.cont.setAttribute(\"vertical-space\",(10+this.attributes.widgetDimesions.value.sbottom));\n        this.cont.setAttribute(\"horizontal-space\",(10+this.attributes.widgetDimesions.value.sright));\n\n        if (attributes.position_placement == 'bottom_left' || attributes.position_placement == 'full_height_left') {\n            placement = { right: \"auto\", top: \"auto\",bottom: (10+this.attributes.widgetDimesions.value.sbottom) + \"px\", left: (10+this.attributes.widgetDimesions.value.sright) + \"px\"};\n        } else if (attributes.position_placement == 'middle_right') {\n            placement = {left:\"auto\",top:\"auto\",bottom: \"calc(50% - 45px)\",right: (10+this.attributes.widgetDimesions.value.sright) + \"px\"};\n            this.cont.setAttribute('vertical-unit','%');\n        } else if (attributes.position_placement == 'middle_left') {\n            placement = {right: \"auto\", top:\"auto\",bottom: \"calc(50% - 45px)\",left: (10+this.attributes.widgetDimesions.value.sright) + \"px\"};\n            this.cont.setAttribute('vertical-unit','%');\n        }\n\n        this.cont.setAttribute(\"drag-enabled\",attributes.drag_enabled);\n\n        if (attributes.drag_enabled === true) {\n            let positionPrevious = attributes.storageHandler.getSessionStorage(this.attributes['prefixStorage']+'_pos');\n\n            if (positionPrevious !== null) {\n                let placementRestored = JSON.parse(positionPrevious);\n                placement[\"bottom\"] = placementRestored[\"bottom\"];\n                placement[\"top\"] = placementRestored[\"top\"];\n                placement[\"left\"] = placementRestored[\"left\"];\n                placement[\"right\"] = placementRestored[\"right\"];\n                placement[\"transform\"] = \"translateY(\"+placementRestored[\"y\"]+\"px)\";\n                attributes.status_position.next(placementRestored);\n            }\n        }\n\n        this.cont.massRestyle(placement);\n\n        this.cont.setContent('<div id=\"lhc_status_container\" class=\"notranslate ' + (this.attributes.isMobile === true ? 'lhc-mobile' : 'lhc-desktop') + '\" style=\"display: none;pointer-events: none;\"\"><i style=\"display: none\" title=\"New messages\" id=\"unread-msg-number\">!</i><a aria-label=\"Show or hide widget\" href=\"#\" tabindex=\"0\" target=\"_blank\" id=\"status-icon\" class=\"offline-status\"></a></div>');\n\n        this.cont.className = this.attributes.isMobile === true ? 'notranslate lhc-mobile' : 'notranslate lhc-desktop';\n\n        this.cont.attachEvents();\n\n        var _inst = this;\n\n        this.lload = !(!lload);\n\n        // If it's lazy load we have always to consider widget as loaded\n        if (this.lload === true) {\n            this.loadStatus['widget'] = true;\n        } else {\n            // We wait untill widget content loads\n            attributes.wloaded.subscribe((data) => { if (data){this.loadStatus['widget'] = true; this.checkLoadStatus()}});\n        }\n\n        attributes.shidden.subscribe((data) => {\n            if (data) {\n                const chatParams = this.attributes['userSession'].getSessionAttributes();\n                if (!chatParams['id'] && this.attributes.widgetStatus.value != true) {\n                    this.loadStatus['shidden'] = true;\n                    this.hide();\n                }\n            } else {\n                this.loadStatus['shidden'] = false;\n                this.checkLoadStatus();\n                this.show();\n            }\n        });\n\n        this.cont.ee = function(event, data, e) {\n            if (event == \"click\" && data.status == true) {\n                attributes.onlineStatus.value === false && attributes.eventEmitter.emitEvent('offlineClickAction');\n\n                if (attributes.onlineStatus.value === false && attributes.offline_redirect !== null){\n                    document.location = attributes.offline_redirect;\n                    e.preventDefault();\n                } else {\n                    if (_inst.controlMode == true) {\n                        attributes.eventEmitter.emitEvent('closeWidget', [{'sender' : 'closeButton', 'mode' : 'control'}]);\n                        e.preventDefault();\n                    } else {\n                        attributes.eventEmitter.emitEvent('showWidget', [{'event':e}]);\n                        attributes.eventEmitter.emitEvent('clickAction');\n                    }\n                }\n            } else if (event == \"move_finish\") {\n                attributes.storageHandler.setSessionStorage(attributes['prefixStorage']+'_pos',JSON.stringify(data));\n                attributes.status_position.next(data);\n            }\n        }\n\n        if (this.attributes.staticJS['fontCSS']) {\n            this.cont.insertCssRemoteFile({crossOrigin : \"anonymous\",  href : this.attributes.staticJS['fontCSS']});\n        }\n\n        if (this.attributes.staticJS['font_status']) {\n\n            let d = document.getElementsByTagName(\"head\")[0],\n                k = document.createDocumentFragment(),\n                e = helperFunctions.initElement(document, \"style\", {type: \"text/css\"}),\n                f = document.createTextNode(`@font-face {\n            font-family: 'MaterialIconsLHC';\n            font-style: normal;\n            font-weight: 400;\n            src: url('`+this.attributes.staticJS['font_status'].replace('.woff2','.eot')+`');\n            src: url('`+this.attributes.staticJS['font_status']+`') format('woff2'), url('`+this.attributes.staticJS['font_status'].replace('.woff2','.woff')+`') format('woff'), url('`+this.attributes.staticJS['font_status'].replace('.woff2','.ttf')+`') format('truetype');\n            font-display: swap\n            }`);\n            k.appendChild(e);\n            d.appendChild(k);\n            e.styleSheet ? e.styleSheet.cssText = f.nodeValue : e.appendChild(f)\n\n            helperFunctions.insertCssRemoteFile({onload: () => {this.loadStatus['font'] = true; this.checkLoadStatus()},\"as\":\"font\", rel:\"preload\", type: \"font/woff\", crossOrigin : \"anonymous\",  href : this.attributes.staticJS['font_status']});\n        }\n\n        if (this.attributes.theme) {\n            this.loadStatus['theme'] = false;\n            this.cont.insertCssRemoteFile({onload: ()=>{this.loadStatus['theme'] = true; this.checkLoadStatus()}, id: \"lhc-theme-status\", crossOrigin : \"anonymous\",  href : this.attributes.LHC_API.args.lhc_base_url + '/widgetrestapi/themestatus/' + this.attributes.theme + '?v=' + this.attributes.theme_v}, true);\n        } else {\n            this.loadStatus['theme'] = true;\n        }\n\n        this.cont.insertCssRemoteFile({onload: ()=>{this.loadStatus['main'] = true; this.checkLoadStatus()}, crossOrigin : \"anonymous\",  href : this.attributes.staticJS['status_css'] });\n\n        if (this.attributes.staticJS['page_css']) {\n            helperFunctions.insertCssRemoteFile({crossOrigin : \"anonymous\", id: \"lhc-theme-page\", href : this.attributes.LHC_API.args.lhc_base_url + '/widgetrestapi/themepage/' + this.attributes.theme + '?v=' + this.attributes.theme_v});\n        }\n\n        attributes.onlineStatus.subscribe((data) => this.toggleOfflineIcon(data));\n\n        attributes.widgetStatus.subscribe((data) => {\n            if (this.attributes.mode !== 'popup') {\n                const chatParams = this.attributes['userSession'].getSessionAttributes();\n                (data == true || (!this.attributes.leaveMessage && this.attributes.onlineStatus.value == false && !chatParams['id'])) ? this.hide() : this.show();\n            }\n        });\n\n        this.attributes.mode === 'popup' && this.show();\n        let unreadMessagesNumber = attributes.storageHandler.getSessionStorage(this.attributes['prefixStorage']+'_unr');\n\n        attributes.eventEmitter.addListener('unread_message', (data) => {\n            var unreadTotal = (data && data.otm);\n            if (unreadTotal) {\n                unreadTotal = parseInt(unreadTotal);\n                unreadTotal += this.unread_counter;\n            }\n            this.attributes.unread_counter.next(unreadTotal);\n            this.showUnreadIndicator(unreadTotal);\n        });\n\n        if (unreadMessagesNumber !== null) {\n            attributes.eventEmitter.emitEvent('unread_message',[{otm:unreadMessagesNumber, init: true}]);\n            if (unreadMessagesNumber !== null && !isNaN(unreadMessagesNumber)) {\n                this.unread_counter = parseInt(unreadMessagesNumber);\n            }\n        }\n\n        // Widget reload was called\n        // We avoid cache by using timestamp because we do not call init call.\n        // We also always insert themepage even if there is no css in it.\n        attributes.eventEmitter.addListener('reloadWidget',() => {\n            if (this.attributes.theme > 0) {\n                this.cont.insertCssRemoteFile({crossOrigin : \"anonymous\", id: \"lhc-theme-status\", href : this.attributes.LHC_API.args.lhc_base_url + '/widgetrestapi/themestatus/' + this.attributes.theme + '?v=' + Date.now()}, true);\n            }\n            helperFunctions.insertCssRemoteFile({crossOrigin : \"anonymous\", id: \"lhc-theme-page\", href : this.attributes.LHC_API.args.lhc_base_url + '/widgetrestapi/themepage/' + this.attributes.theme + '?v=' + Date.now()});\n        });\n    }\n\n    hide () {\n\n        this.removeUnreadIndicator();\n\n        if (this.attributes.clinst === true && this.attributes.isMobile == false) {\n            const chatParams = this.attributes['userSession'].getSessionAttributes();\n            if (this.attributes.leaveMessage == true || this.attributes.onlineStatus.value == true || chatParams['id']) {\n\n                if (this.attributes['position'] != 'api' || (this.attributes['position'] == 'api' && this.attributes['hide_status'] !== true && ((chatParams['id'] && chatParams['hash']) || this.attributes.widgetStatus.value == true))) {\n                    if (this.attributes['hide_status'] !== true || (chatParams['id'] && chatParams['hash'])) {\n                        this.cont.show();\n                    }\n                }\n\n                if (this.attributes['hide_status'] !== true || (chatParams['id'] && chatParams['hash']) || this.attributes.widgetStatus.value == true) {\n                    if (this.attributes.widgetStatus.value == true){\n                        this.controlMode = true;\n                        var icon = this.cont.shadowRoot.getElementById(\"status-icon\");\n                        helperFunctions.addClass(icon, \"close-status\");\n                    }\n                    return ;\n                }\n\n            }\n        }\n\n        clearTimeout(this.showDelay);\n        this.statusDelayProcessed = true;\n        this.cont.hide();\n    }\n\n    showUnreadIndicator(number){\n        var iconText = number || '!';\n        var icon = this.cont.shadowRoot.getElementById(\"lhc_status_container\");\n        helperFunctions.addClass(icon, \"has-uread-message\");\n\n        var iconValue = this.cont.shadowRoot.getElementById(\"unread-msg-number\");\n        if (iconValue) {\n            iconValue.innerText = iconText;\n        }\n\n        if (this.attributes.storageHandler)\n            this.attributes.storageHandler.setSessionStorage(this.attributes['prefixStorage']+'_unr',iconText);\n    }\n\n    removeUnreadIndicator() {\n        var icon = this.cont.shadowRoot.getElementById(\"lhc_status_container\");\n        helperFunctions.removeClass(icon, \"has-uread-message\");\n        if (this.attributes.storageHandler) {\n            this.attributes.storageHandler.removeSessionStorage(this.attributes['prefixStorage']+'_unr');\n        }\n        this.attributes.eventEmitter.emitEvent('remove_unread_indicator', []);\n        this.attributes.unread_counter.next(0);\n        this.unread_counter = 0;\n    }\n\n    show () {\n\n        if (this.attributes.hideOffline === false) {\n\n            const chatParams = this.attributes['userSession'].getSessionAttributes();\n\n            if (this.attributes.clinst === true && this.attributes.isMobile == false) {\n                if (this.attributes.widgetStatus.value != true) {\n                    var icon = this.cont.shadowRoot.getElementById(\"status-icon\");\n                    helperFunctions.removeClass(icon, \"close-status\");\n                    this.controlMode = false;\n                }\n            }\n\n            // show status icon only if we are not in api mode or chat is going now\n            if (this.attributes['position'] != 'api' || (this.attributes['position'] == 'api' && this.attributes['hide_status'] !== true && chatParams['id'] && chatParams['hash'])) {\n\n                clearTimeout(this.showDelay);\n                \n                const chatParams = this.attributes['userSession'].getSessionAttributes();\n\n                this.showDelay = setTimeout(() => {\n                    this.cont.show();\n                    this.statusDelayProcessed = true;\n                }, (this.statusDelayProcessed == true || (chatParams['id'] && chatParams['hash'])) ? 0 : this.attributes['status_delay']);\n\n            } else if (this.attributes.clinst === true) {\n                if (this.attributes.widgetStatus.value != true) {\n                    this.cont.hide();\n                }\n            }\n\n        } else {\n            this.cont.hide();\n        }\n    }\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nfunction _slicedToArray(r, e) {\n  return arrayWithHoles(r) || iterableToArrayLimit(r, e) || unsupportedIterableToArray(r, e) || nonIterableRest();\n}\nexport { _slicedToArray as default };","function _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nexport { _arrayWithHoles as default };","function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nexport { _iterableToArrayLimit as default };","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? arrayLikeToArray(r, a) : void 0;\n  }\n}\nexport { _unsupportedIterableToArray as default };","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _nonIterableRest as default };","\nclass chatEventsHandler {\n\n    constructor(attr) {\n        this.attributes = attr\n    }\n\n    getJSVarsValues(jsVars) {\n        var js_args = {};\n\n        if (jsVars.length > 0) {\n\n            var currentVar = null;\n\n            for (var index in jsVars) {\n                try {\n                    currentVar = eval('window.'+jsVars[index].var);\n                    if (typeof currentVar !== 'undefined' && currentVar !== null && currentVar !== '') {\n                        js_args[jsVars[index].id] = currentVar;\n                    }\n                } catch(err) {\n                }\n            }\n            return js_args;\n        }\n\n        return js_args;\n    }\n\n    getInitAttributes() {\n        let attr =  {\n            'onlineStatus' : this.attributes['onlineStatus'].value,\n            'toggleSound' : this.attributes['toggleSound'].value,\n            'widgetStatus' : this.attributes['widgetStatus'].value,\n            'vars_encrypted' : this.attributes['vars_encrypted'],\n            'jsVars' : this.getJSVarsValues(this.attributes['jsVars'].value),\n            'isMobile' : this.attributes['isMobile'],\n            'department' : this.attributes['department'],\n            'product' : this.attributes['product'],\n            'theme' : this.attributes['theme'],\n            'theme_v' : this.attributes['theme_v'],\n            'base_url' : this.attributes['base_url'],\n            'mode' : this.attributes['mode'],\n            'captcha' : this.attributes['captcha'],\n            'staticJS' : this.attributes['staticJS'],\n            'static_chat' : this.attributes['userSession'].getSessionAttributes(),\n            'domain_lhc': this.attributes['domain_lhc'],\n            'leave_message': this.attributes['leaveMessage'],\n            'scope_prefix': this.attributes['prefixLowercase'],\n            'position_placement': this.attributes['position_placement'],\n            'position_placement_original': this.attributes['position_placement_original']\n        };\n\n        if (this.attributes['fresh'] == true) {\n            if (attr['static_chat']['id']) {\n                delete attr['static_chat']['id'];\n            }\n\n            if (attr['static_chat']['hash']) {\n                delete attr['static_chat']['hash'];\n            }\n        }\n\n        if (this.attributes['bot_id'] != '') {\n            attr['bot_id'] = this.attributes['bot_id'];\n        }\n\n        if (this.attributes['trigger_id'] != '') {\n            attr['trigger_id'] = this.attributes['trigger_id'];\n        }\n        \n        if (this.attributes['subject_id'] != '') {\n            attr['subject_id'] = this.attributes['subject_id'];\n        }\n\n        if (this.attributes['priority'] != '') {\n            attr['priority'] = this.attributes['priority'];\n        }\n        \n        if (this.attributes['phash'] !== null) {\n            attr['phash'] = this.attributes['phash'];\n        }\n\n        if (this.attributes['survey'] !== null) {\n            attr['survey'] = this.attributes['survey'];\n        }\n\n        if (this.attributes['pvhash'] !== null) {\n            attr['pvhash'] = this.attributes['pvhash'];\n        }\n\n        if (this.attributes['operator'] !== null) {\n            attr['operator'] = this.attributes['operator'];\n        }\n\n        if (this.attributes['profile_pic'] !== null) {\n            attr['profile_pic'] = this.attributes['profile_pic'];\n        }\n\n        if (this.attributes['lang'] != '') {\n            attr['lang'] = this.attributes['lang'];\n        }\n\n        if (this.attributes['proactive']['invitation']) {\n            attr['proactive'] = this.attributes['proactive'];\n        }\n\n        if (this.attributes['dep_default'] !== null) {\n            attr['dep_default'] = this.attributes['dep_default'];\n        }\n\n        if (this.attributes.LHCChatOptions && this.attributes.LHCChatOptions.attr) {\n            var prefillOptions = this.attributes.LHCChatOptions.attr;\n            let fieldsCustom = [];\n            prefillOptions.forEach((item, index) => {\n                fieldsCustom.push({show : (((typeof item.show != 'undefined' && (item.show == 'on' || item.show == 'off')) ? item.show : 'b')), value : item.value, index : index, name : item.name, \"class\": \"form-control form-control-sm\", 'type' : item.type, 'identifier': ('additional_' + index), 'placeholder' : '', 'width' : (item.size || 6), 'encrypted': (item.encrypted || false), 'required' : (item.req || false), 'label' : item.name});\n            });\n\n            attr['CUSTOM_FIELDS'] = fieldsCustom;\n        }\n\n        if (this.attributes.LHCChatOptions && this.attributes.LHCChatOptions.attr_prefill) {\n            var prefillOptions = this.attributes.LHCChatOptions.attr_prefill;\n            let prefilOptionsList = [];\n            prefillOptions.forEach((item) => {\n                if (item.name == 'email') {\n                    prefilOptionsList.push({'Email' : item.value});\n                } else if (item.name == 'username') {\n                    prefilOptionsList.push({'Username' : item.value});\n                } else if (item.name == 'phone') {\n                    prefilOptionsList.push({'Phone' : item.value});\n                } else if (item.name == 'question') {\n                    prefilOptionsList.push({'Question' : item.value});\n                }\n            })\n            prefilOptionsList = prefilOptionsList.concat(this.attributes['userSession'].getPrefillVars());\n            attr['attr_prefill'] = prefilOptionsList;\n        } else {\n            attr['attr_prefill'] = this.attributes['userSession'].getPrefillVars();\n        }\n\n        if (this.attributes.LHCChatOptions && this.attributes.LHCChatOptions.attr_prefill_admin) {\n            var prefillOptions = this.attributes.LHCChatOptions.attr_prefill_admin;\n            let prefilOptionsList = [];\n            prefillOptions.forEach((item) => {\n                  prefilOptionsList.push({'value' : item.value, 'index' : item.index});\n            })\n            attr['attr_prefill_admin'] = prefilOptionsList;\n        }\n\n        if (this.attributes['userSession'].getSessionReferrer() !== null) {\n            attr['ses_ref'] = this.attributes['userSession'].getSessionReferrer()\n        }\n\n        return attr;\n    }\n\n    sendChildCommand(command) {\n        if (this.attributes.mainWidget.cont.elmDom && this.attributes.mainWidget.cont.elmDom.contentWindow)\n        {\n            this.attributes.mainWidget.cont.elmDom.contentWindow.postMessage(command, (this.attributes.isIE ? '*' : '/'));\n        }\n\n        if (this.attributes.popupWidget.cont.elementReferrerPopup && this.attributes.popupWidget.cont.elementReferrerPopup.closed === false)\n        {\n            this.attributes.popupWidget.cont.elementReferrerPopup.postMessage(command, '*');\n        }\n    }\n\n    sendReadyEvent (popup) {\n\n        let args = this.getInitAttributes();\n\n        if (!(popup === true) && this.attributes.mainWidget.cont.elmDom && this.attributes.mainWidget.cont.elmDom.contentWindow)\n        {\n            this.attributes.mainWidget.cont.elmDom.contentWindow.postMessage('lhc_init:' + JSON.stringify(args), (this.attributes.isIE ? '*' : '/'));\n        }\n     }\n\n    sendChildEvent(event, args, type) {\n        if (typeof type === 'undefined') {\n            type = 'lhc_event';\n        }\n        this.sendChildCommand(type+':'+event + '::' + JSON.stringify(args));\n    }\n}\n\nexport { chatEventsHandler };","\nclass _domEventsHandler {\n    constructor() {\n        this.events = {}\n    }\n\n    attachEvent (object, event, callback) {\n        var k = this, dispatch = function (b) {\n            callback.call(object, k.getEvent(b))\n        };\n        object.attachEvent(\"on\" + event, dispatch);\n        return dispatch\n    };\n\n    unlisten(eventName) {\n        var presentEvent;\n        this.events[eventName] && (presentEvent = this.events[eventName], this.events[eventName] = null, this.removeEventHandler(presentEvent.element, presentEvent.eventName, presentEvent.eventListener));\n    }\n\n    listen(object, event, callback, eventName) {\n        var presentEvent;\n        if (eventName) {\n            this.events[eventName] && (presentEvent = this.events[eventName], this.events[eventName] = null, this.removeEventHandler(presentEvent.element, presentEvent.eventName, presentEvent.eventListener));\n\n            if (object.addEventListener) {\n                object.addEventListener(event, callback, !1);\n            } else if (document.attachEvent) {\n                callback = this.attachEvent(object, event, callback);\n            } else {\n                return null;\n            }\n\n            this.events[eventName] = {element: object, eventName: event, eventListener: callback};\n\n            return callback\n        }\n    };\n\n    removeEventHandler(object, event, listener) {\n        document.removeEventListener ? object.removeEventListener(event, listener, !1) : object.detachEvent(\"on\" + event, listener)\n    };\n\n    getEvent(event) {\n        var eventInstance = event || _this.event;\n        if (!eventInstance) {\n            for (event = this.getEvent.caller; event && (!(eventInstance = event.arguments[0]) || Event != eventInstance.constructor);) {\n                event = event.caller\n            };\n        }\n        return eventInstance\n    };\n}\n\nconst domEventsHandler = new _domEventsHandler();\nexport { domEventsHandler };","\nexport class monitoredVariable {\n    constructor(value, params) {\n        this.valueInternal = value;\n        this.listeners = [];\n        this.params = params || {};\n    }\n\n    get value() {\n        return this.valueInternal;\n    }\n\n    set value(val) {\n        this.next(val);\n    }\n\n    next(val) {\n        this.valueInternal = val;\n        this.callListeners();\n    }\n\n    nextPropertySilent(key, val) {\n        this.valueInternal[key] = val;\n    }\n\n    nextProperty(key, val) {\n        this.valueInternal[key] = val;\n        this.callListeners();\n    }\n\n    callListeners() {\n        this.listeners.forEach((item) => {\n            if (item && typeof item === \"function\") {\n                item(this.valueInternal);\n            }\n        });\n    }\n\n    unsubscribe(callback) {\n        if (this.listeners.indexOf(callback) !== -1) {\n            this.listeners.splice(this.listeners.indexOf(callback), 1);\n        }\n    }\n\n    subscribe(callback, ignoreSub) {\n        this.listeners.push(callback);\n        \n        if (!this.params['ignore_sub'] && !ignoreSub) {\n            callback(this.valueInternal);\n        }\n    }\n}\n\n","\nexport class storageHandler {\n    constructor(global, domain, prefix, cookieEnabled) {\n        this.window = global;\n        this.cookieEnabled = false;\n\n        // Have we checked cookies support\n        this.cookiesSupportChecked = false;\n\n        // We should try to enable cookie\n        if (cookieEnabled == true) {\n            this.checkCookiesSupport();\n        }\n\n        this.domain = domain;\n        this.secureCookie = false;\n        this.cookiePerPage = false;\n        this.prefix = prefix || 'lhc';\n    }\n\n    checkCookiesSupport() {\n\n        if (this.cookiesSupportChecked === true) {\n            return this.cookieEnabled;\n        }\n\n        this.cookiesSupportChecked = true;\n\n        try {\n            this.hasSessionStorage = !!this.window.sessionStorage;\n        } catch (e){\n            this.hasSessionStorage = false;\n        }\n\n        try {\n            this.hasLocalStorage = !!this.window.localStorage;\n        } catch (e){\n            this.hasLocalStorage = false;\n        }\n\n        try {\n            // Create cookie\n            document.cookie = 'cookietest=1; SameSite=Lax';\n            this.cookieEnabled = document.cookie.indexOf('cookietest=') !== -1;\n            // Delete cookie\n            document.cookie = 'cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT; SameSite=Lax';\n        } catch (e) {\n\n        }\n\n        return this.cookieEnabled;\n    }\n\n    setCookieDomain(domain) {\n        this.domain = domain;\n    }\n\n    setCookiePerPage(cookiePerPage) {\n        this.cookiePerPage = cookiePerPage;\n    }\n\n    getCookieDomain() {\n        if (this.domain) {\n            return '.' + this.domain;\n        } else {\n            return null;\n        }\n    }\n\n    setSecureCookie(status) {\n        this.secureCookie = status;\n    }\n\n    setHTTPCookie(coookieName, cookieValue, expireTime, domain) {\n        if (this.cookieEnabled === false) return ;\n        var string = \"\";\n        expireTime || (expireTime = new Date, expireTime.setTime(expireTime.getTime() + 15552E6), string = \"; expires=\" + expireTime.toGMTString());\n        document.cookie = coookieName + \"=\" + cookieValue + string + (this.cookiePerPage === false ? \"; path=/\" : (this.cookiePerPage === true ? \"\" : '; path=' + this.cookiePerPage)) + (this.secureCookie ? \";secure\" : \"\") + (domain ? \";domain=\" + domain : \"\") + \";SameSite=Lax\";\n    };\n\n    getHTTPCookie(cookieName) {\n        if (this.cookieEnabled === false) return [];\n        var b, d, k = [], baseCookie = cookieName + \"=\", e = document.cookie.split(\";\");\n        cookieName = 0;\n        for (b = e.length; cookieName < b; cookieName++) {\n            for (d = e[cookieName]; \" \" === d.charAt(0);) d = d.substring(1, d.length);\n            0 === d.indexOf(baseCookie) && k.push(d.substring(baseCookie.length, d.length))\n        }\n\n        // Reset duplicate cookies\n        if (k.length == 2) {\n            let host = (window.location.hostname || document.location.host),\n            reset = baseCookie + \"0;expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/\";\n            if (host) {\n                document.cookie = reset;\n                document.cookie = reset + \"; domain=.\" + host;\n            }\n        }\n\n        return k;\n    };\n\n    setSessionStorage(key, value) {\n        if (this.hasSessionStorage && sessionStorage.setItem) try {\n            sessionStorage.setItem(key, value)\n        } catch (d) {\n        }\n    }\n\n    removeSessionStorage(key) {\n        if (this.hasSessionStorage && sessionStorage.removeItem) try {\n            sessionStorage.removeItem(key)\n        } catch (d) {\n        }\n    }\n\n    getSessionStorage(a) {\n        return this.hasSessionStorage && sessionStorage.getItem ?\n            sessionStorage.getItem(a) : null\n    }\n\n    setLocalStorage(key, value) {\n        if (this.hasLocalStorage && localStorage.setItem) try {\n            localStorage.setItem(key, value)\n        } catch (d) {\n        }\n    }\n\n    getLocalStorage(a) {\n        return this.hasLocalStorage && localStorage.getItem ?\n            localStorage.getItem(a) : null\n    }\n\n    removeLocalStorage(key) {\n        if (this.hasLocalStorage && localStorage.removeItem) try {\n            localStorage.removeItem(key)\n        } catch (d) {\n        }\n    }\n\n    setSessionReferer(ref) {\n        if (!this.getSessionStorage(this.prefix+'_ref')) {\n            this.setSessionStorage(this.prefix+'_ref',ref);\n        }\n    }\n\n    getSessionReferrer() {\n        return this.getSessionStorage(this.prefix+'_ref');\n    }\n\n    getSessionInformation() {\n        var a;\n        this.sessionInformation && (a = this.sessionInformation);\n        a || (a = this.getHTTPCookie(this.prefix + \"_per\")[0]);\n        return this.parseSessionInformation(a)\n    };\n\n    getStoreValue(sessionInformation)\n    {\n        let pairs = [];\n        Object.keys(sessionInformation).forEach(key => {\n            let value = sessionInformation[key];\n            pairs.push(key + '|' + value);\n        });\n        return pairs.join('|');\n    }\n\n    storeSessionInformation(sessionInformation) {\n        this.setHTTPCookie(this.prefix+\"_per\", this.getStoreValue(sessionInformation), false, this.getCookieDomain());\n        this.sessionInformation = sessionInformation;\n    };\n\n    parseSessionInformation(content) {\n        // Check was it stored as our format or JSON.\n        if (content && content.indexOf('|') !== -1) {\n            let contentReturn = {};\n            let parts = content.split('|');\n\n            for (var i = 0; i < parts.length / 2; i++) {\n                contentReturn[parts[i * 2]] = parts[(i * 2) + 1];\n            }\n\n            return contentReturn;\n        } else {\n            if (content) {\n                return JSON.parse(unescape(content))\n            } else {\n                return {};\n            }\n        }\n\n    };\n}\n\n","\nexport class userSession {\n\n    constructor() {\n        this.vid = null;\n        this.hnh = null;\n        this.withCredentials = false;\n\n        this.attributes = {};\n        this.ref = null;\n        this.id = null;\n        this.hash = null;\n        this.ws = null;\n        this.sd = null;\n        this.jsVars = [];\n        this.updateVarsTimeout = null;\n        this.JSON = {\n            parse: window.JSON && (window.JSON.parse || window.JSON.decode) || String.prototype.evalJSON && function(str){return String(str).evalJSON();} || $.parseJSON || $.evalJSON,\n            stringify:  Object.toJSON || window.JSON && (window.JSON.stringify || window.JSON.encode) || $.toJSON\n        };\n    }\n\n    setAttributes(attributes) {\n        this.attributes = attributes;\n    }\n\n    setSessionReferrer(ref) {\n        this.ref = ref;\n    }\n\n    getSessionReferrer() {\n        return this.ref;\n    }\n\n    getVID() {\n        return this.vid;\n    }\n\n    setVID(vid) {\n        this.vid = vid;\n    }\n\n    setSessionInformation(params) {\n        this.vid = params['vid'] || null;\n        this.hnh = params['hnh'] || null;\n        this.hash = params['hash'] || null;\n        this.id = params['id'] || null;\n        this.ws = params['ws'] || null;\n        this.sd = params['sd'] || null;\n    }\n\n    getSessionAttributes() {\n        var attr = {};\n\n        if (this.vid !== null) {\n            attr['vid'] = this.vid;\n        }\n\n        if (this.hnh !== null) {\n            attr['hnh'] = this.hnh;\n        }\n\n        if (this.id !== null) {\n            attr['id'] = this.id;\n        }\n\n        if (this.hash !== null) {\n            attr['hash'] = this.hash;\n        }\n\n        if (this.ws !== null) {\n            attr['ws'] = this.ws;\n        }\n\n        if (this.sd !== null) {\n            attr['sd'] = this.sd;\n        }\n\n        return attr\n    }\n\n    setupVarsMonitoring(jsVars, cb) {\n        this.jsVars = jsVars;\n\n        // Try to monitor variable if it's lhc_var\n        try {\n\n            if (this.attributes.lhc_var !== null)\n            {\n                var validator = {\n                    set: (obj, prop, value) => {\n                        // The default behavior to store the value\n                        obj[prop] = value;\n\n                        clearTimeout(this.updateVarsTimeout);\n                        this.updateVarsTimeout = setTimeout( () => {\n                                this.updateJSVars(obj, cb);\n                            },1000);\n                        this.attributes.ignoreVars === false && this.attributes.broadcasChannel && this.attributes.broadcasChannel.postMessage({'action':'current_vars', 'init':false, 'lhc_var': JSON.parse(JSON.stringify(obj))});\n\n                        // Indicate success\n                        return true;\n                    }\n                };\n\n                this.attributes.lhc_var = new Proxy(this.attributes.lhc_var,validator);\n\n                // Convert argument or global lhc_var to a reference\n                if (this.attributes.LHC_API.args.lhc_var) {\n                    this.attributes.LHC_API.args.lhc_var = this.attributes.lhc_var;\n                } else if (lhc_var) {\n                    lhc_var = this.attributes.lhc_var;\n                }\n\n                // Update vars initially\n                this.updateJSVars(this.attributes.lhc_var);\n                this.attributes.broadcasChannel && this.attributes.broadcasChannel.postMessage({'action':'check_vars', 'init':false, 'lhc_var': JSON.parse(JSON.stringify(this.attributes.lhc_var))});\n\n            } else if (typeof LHCChatOptions !== 'undefined' && typeof LHCChatOptions.attr_prefill !== 'undefined') {\n\n                var lhc_var_prefill = {};\n\n                LHCChatOptions.attr_prefill.forEach( (item) => {\n                    if (item.name && item.value) {\n                        lhc_var_prefill['prefill_'+item.name] = item.value;\n                    }\n                });\n\n                var xhr = new XMLHttpRequest();\n                xhr.open( \"POST\", this.attributes.LHC_API.args.lhc_base_url + '/chat/updatejsvars' + this.getAppendVariables(), true);\n                xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n                xhr.send( \"data=\" + encodeURIComponent( this.JSON.stringify(lhc_var_prefill) ) );\n            }\n\n       } catch(err) {\n            console.log(err);\n       };\n    }\n\n    getPrefillVars() {\n        let varsReturn = [];\n        if (this.jsVars.length > 0) {\n            var varsSet = this.getVars();\n            for (var jsVarData in this.jsVars) {\n                if (this.jsVars[jsVarData].type && varsSet[this.jsVars[jsVarData].id]) {\n                    var item = {};\n                    item[this.jsVars[jsVarData].type] = varsSet[this.jsVars[jsVarData].id];\n                    varsReturn.push(item);\n                }\n            }\n        }\n        return varsReturn;\n    }\n\n    getVars() {\n        if (this.jsVars.length > 0) {\n            var js_args = {};\n            var currentVar = null;\n\n            for (var index in this.jsVars) {\n                try {\n\n                    if (this.jsVars[index].cookie) {\n                        this.withCredentials = true;\n                        continue;\n                    }\n\n                    if (this.jsVars[index].var.indexOf('lhc_var.') !== -1) {\n                        currentVar = typeof this.attributes.lhc_var[this.jsVars[index].var.replace('lhc_var.','')] !== 'undefined' ? this.attributes.lhc_var[this.jsVars[index].var.replace('lhc_var.','')] : null;\n                    } else {\n                        currentVar = eval(this.jsVars[index].var);\n                    }\n\n                    if (typeof currentVar !== 'undefined' && currentVar !== null && currentVar !== '') {\n                        js_args[this.jsVars[index].id] = currentVar;\n                    }\n                } catch(err) {\n\n                }\n            }\n\n            return js_args;\n        }\n        return null;\n    }\n\n    getAppendVariables(){\n        var append = '';\n\n        if (this.vid !== null) {\n            append = append + '/(vid)/' + this.vid ;\n        }\n\n        if (this.hash !== null && this.id !== null) {\n            append = append + '/(hash)/' + this.id  + '_' + this.hash;\n        }\n\n        return append;\n    }\n\n    updateChatStatus(params) {\n        let varsJSON = {};\n        varsJSON['lhc_vars'] = this.getVars();\n\n        if (params) {\n            varsJSON['user_vars'] = params;\n        }\n\n        var xhr = new XMLHttpRequest();\n        xhr.open( \"POST\", this.attributes.LHC_API.args.lhc_base_url + 'chat/updatejsvars/(userinit)/true' + this.getAppendVariables() + (this.attributes.LHC_API.args.vars_encrypted ? '/(encrypted)/true' : ''), true);\n        xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n        if (this.withCredentials == true) {\n            xhr.withCredentials = true;\n        }\n        xhr.send( \"data=\" + encodeURIComponent( this.JSON.stringify(varsJSON) ) + \"&host=\" + window.location.origin );\n    }\n\n    updateJSVars(vars, cb) {\n\n        let varsJSON = this.getVars(vars);\n\n        var xhr = new XMLHttpRequest();\n        xhr.open( \"POST\", this.attributes.LHC_API.args.lhc_base_url + '/chat/updatejsvars' + this.getAppendVariables() + (this.attributes.LHC_API.args.vars_encrypted ? '/(encrypted)/true' : ''), true);\n        xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n        if (this.withCredentials == true) {\n            xhr.withCredentials = true;\n        }\n        xhr.send( \"data=\" + encodeURIComponent( this.JSON.stringify(varsJSON) )+\"&host=\" + window.location.origin );\n\n        if (typeof cb !== 'undefined' && this.hash === null && this.id === null) {\n            cb(varsJSON, this.getPrefillVars());\n        }\n    }\n\n    setChatInformation(data, alwaysPersistentNeedHelp) {\n        this.id = data.id;\n        this.hash = data.hash;\n        // Hide only chat starts otherwise don't touch it.\n        if (this.id !== null && !alwaysPersistentNeedHelp) {\n            this.hnh = Math.round(Date.now() / 1000);\n        }\n    }\n\n}","var appleIphone = /iPhone/i;\nvar appleIpod = /iPod/i;\nvar appleTablet = /iPad/i;\nvar appleUniversal = /\\biOS-universal(?:.+)Mac\\b/i;\nvar androidPhone = /\\bAndroid(?:.+)Mobile\\b/i;\nvar androidTablet = /Android/i;\nvar amazonPhone = /(?:SD4930UR|\\bSilk(?:.+)Mobile\\b)/i;\nvar amazonTablet = /Silk/i;\nvar windowsPhone = /Windows Phone/i;\nvar windowsTablet = /\\bWindows(?:.+)ARM\\b/i;\nvar otherBlackBerry = /BlackBerry/i;\nvar otherBlackBerry10 = /BB10/i;\nvar otherOpera = /Opera Mini/i;\nvar otherChrome = /\\b(CriOS|Chrome)(?:.+)Mobile/i;\nvar otherFirefox = /Mobile(?:.+)Firefox\\b/i;\nvar isAppleTabletOnIos13 = function (navigator) {\n    return (typeof navigator !== 'undefined' &&\n        navigator.platform === 'MacIntel' &&\n        typeof navigator.maxTouchPoints === 'number' &&\n        navigator.maxTouchPoints > 1 &&\n        typeof MSStream === 'undefined');\n};\nfunction createMatch(userAgent) {\n    return function (regex) { return regex.test(userAgent); };\n}\nexport default function isMobile(param) {\n    var nav = {\n        userAgent: '',\n        platform: '',\n        maxTouchPoints: 0\n    };\n    if (!param && typeof navigator !== 'undefined') {\n        nav = {\n            userAgent: navigator.userAgent,\n            platform: navigator.platform,\n            maxTouchPoints: navigator.maxTouchPoints || 0\n        };\n    }\n    else if (typeof param === 'string') {\n        nav.userAgent = param;\n    }\n    else if (param && param.userAgent) {\n        nav = {\n            userAgent: param.userAgent,\n            platform: param.platform,\n            maxTouchPoints: param.maxTouchPoints || 0\n        };\n    }\n    var userAgent = nav.userAgent;\n    var tmp = userAgent.split('[FBAN');\n    if (typeof tmp[1] !== 'undefined') {\n        userAgent = tmp[0];\n    }\n    tmp = userAgent.split('Twitter');\n    if (typeof tmp[1] !== 'undefined') {\n        userAgent = tmp[0];\n    }\n    var match = createMatch(userAgent);\n    var result = {\n        apple: {\n            phone: match(appleIphone) && !match(windowsPhone),\n            ipod: match(appleIpod),\n            tablet: !match(appleIphone) &&\n                (match(appleTablet) || isAppleTabletOnIos13(nav)) &&\n                !match(windowsPhone),\n            universal: match(appleUniversal),\n            device: (match(appleIphone) ||\n                match(appleIpod) ||\n                match(appleTablet) ||\n                match(appleUniversal) ||\n                isAppleTabletOnIos13(nav)) &&\n                !match(windowsPhone)\n        },\n        amazon: {\n            phone: match(amazonPhone),\n            tablet: !match(amazonPhone) && match(amazonTablet),\n            device: match(amazonPhone) || match(amazonTablet)\n        },\n        android: {\n            phone: (!match(windowsPhone) && match(amazonPhone)) ||\n                (!match(windowsPhone) && match(androidPhone)),\n            tablet: !match(windowsPhone) &&\n                !match(amazonPhone) &&\n                !match(androidPhone) &&\n                (match(amazonTablet) || match(androidTablet)),\n            device: (!match(windowsPhone) &&\n                (match(amazonPhone) ||\n                    match(amazonTablet) ||\n                    match(androidPhone) ||\n                    match(androidTablet))) ||\n                match(/\\bokhttp\\b/i)\n        },\n        windows: {\n            phone: match(windowsPhone),\n            tablet: match(windowsTablet),\n            device: match(windowsPhone) || match(windowsTablet)\n        },\n        other: {\n            blackberry: match(otherBlackBerry),\n            blackberry10: match(otherBlackBerry10),\n            opera: match(otherOpera),\n            firefox: match(otherFirefox),\n            chrome: match(otherChrome),\n            device: match(otherBlackBerry) ||\n                match(otherBlackBerry10) ||\n                match(otherOpera) ||\n                match(otherFirefox) ||\n                match(otherChrome)\n        },\n        any: false,\n        phone: false,\n        tablet: false\n    };\n    result.any =\n        result.apple.device ||\n            result.android.device ||\n            result.windows.device ||\n            result.other.device;\n    result.phone =\n        result.apple.phone || result.android.phone || result.windows.phone;\n    result.tablet =\n        result.apple.tablet || result.android.tablet || result.windows.tablet;\n    return result;\n}\n//# sourceMappingURL=isMobile.js.map","'use strict';\n\nmodule.exports = require('./lib')\n","'use strict';\n\nvar asap = require('asap/raw');\n\nfunction noop() {}\n\n// States:\n//\n// 0 - pending\n// 1 - fulfilled with _value\n// 2 - rejected with _value\n// 3 - adopted the state of another promise, _value\n//\n// once the state is no longer pending (0) it is immutable\n\n// All `_` prefixed properties will be reduced to `_{random number}`\n// at build time to obfuscate them and discourage their use.\n// We don't use symbols or Object.defineProperty to fully hide them\n// because the performance isn't good enough.\n\n\n// to avoid using try/catch inside critical functions, we\n// extract them to here.\nvar LAST_ERROR = null;\nvar IS_ERROR = {};\nfunction getThen(obj) {\n  try {\n    return obj.then;\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nfunction tryCallOne(fn, a) {\n  try {\n    return fn(a);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\nfunction tryCallTwo(fn, a, b) {\n  try {\n    fn(a, b);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nmodule.exports = Promise;\n\nfunction Promise(fn) {\n  if (typeof this !== 'object') {\n    throw new TypeError('Promises must be constructed via new');\n  }\n  if (typeof fn !== 'function') {\n    throw new TypeError('Promise constructor\\'s argument is not a function');\n  }\n  this._x = 0;\n  this._y = 0;\n  this._z = null;\n  this._A = null;\n  if (fn === noop) return;\n  doResolve(fn, this);\n}\nPromise._B = null;\nPromise._C = null;\nPromise._D = noop;\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  if (this.constructor !== Promise) {\n    return safeThen(this, onFulfilled, onRejected);\n  }\n  var res = new Promise(noop);\n  handle(this, new Handler(onFulfilled, onRejected, res));\n  return res;\n};\n\nfunction safeThen(self, onFulfilled, onRejected) {\n  return new self.constructor(function (resolve, reject) {\n    var res = new Promise(noop);\n    res.then(resolve, reject);\n    handle(self, new Handler(onFulfilled, onRejected, res));\n  });\n}\nfunction handle(self, deferred) {\n  while (self._y === 3) {\n    self = self._z;\n  }\n  if (Promise._B) {\n    Promise._B(self);\n  }\n  if (self._y === 0) {\n    if (self._x === 0) {\n      self._x = 1;\n      self._A = deferred;\n      return;\n    }\n    if (self._x === 1) {\n      self._x = 2;\n      self._A = [self._A, deferred];\n      return;\n    }\n    self._A.push(deferred);\n    return;\n  }\n  handleResolved(self, deferred);\n}\n\nfunction handleResolved(self, deferred) {\n  asap(function() {\n    var cb = self._y === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      if (self._y === 1) {\n        resolve(deferred.promise, self._z);\n      } else {\n        reject(deferred.promise, self._z);\n      }\n      return;\n    }\n    var ret = tryCallOne(cb, self._z);\n    if (ret === IS_ERROR) {\n      reject(deferred.promise, LAST_ERROR);\n    } else {\n      resolve(deferred.promise, ret);\n    }\n  });\n}\nfunction resolve(self, newValue) {\n  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n  if (newValue === self) {\n    return reject(\n      self,\n      new TypeError('A promise cannot be resolved with itself.')\n    );\n  }\n  if (\n    newValue &&\n    (typeof newValue === 'object' || typeof newValue === 'function')\n  ) {\n    var then = getThen(newValue);\n    if (then === IS_ERROR) {\n      return reject(self, LAST_ERROR);\n    }\n    if (\n      then === self.then &&\n      newValue instanceof Promise\n    ) {\n      self._y = 3;\n      self._z = newValue;\n      finale(self);\n      return;\n    } else if (typeof then === 'function') {\n      doResolve(then.bind(newValue), self);\n      return;\n    }\n  }\n  self._y = 1;\n  self._z = newValue;\n  finale(self);\n}\n\nfunction reject(self, newValue) {\n  self._y = 2;\n  self._z = newValue;\n  if (Promise._C) {\n    Promise._C(self, newValue);\n  }\n  finale(self);\n}\nfunction finale(self) {\n  if (self._x === 1) {\n    handle(self, self._A);\n    self._A = null;\n  }\n  if (self._x === 2) {\n    for (var i = 0; i < self._A.length; i++) {\n      handle(self, self._A[i]);\n    }\n    self._A = null;\n  }\n}\n\nfunction Handler(onFulfilled, onRejected, promise){\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, promise) {\n  var done = false;\n  var res = tryCallTwo(fn, function (value) {\n    if (done) return;\n    done = true;\n    resolve(promise, value);\n  }, function (reason) {\n    if (done) return;\n    done = true;\n    reject(promise, reason);\n  });\n  if (!done && res === IS_ERROR) {\n    done = true;\n    reject(promise, LAST_ERROR);\n  }\n}\n","'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.prototype.done = function (onFulfilled, onRejected) {\n  var self = arguments.length ? this.then.apply(this, arguments) : this;\n  self.then(null, function (err) {\n    setTimeout(function () {\n      throw err;\n    }, 0);\n  });\n};\n","'use strict';\n\n//This file contains the ES6 extensions to the core Promises/A+ API\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nvar TRUE = valuePromise(true);\nvar FALSE = valuePromise(false);\nvar NULL = valuePromise(null);\nvar UNDEFINED = valuePromise(undefined);\nvar ZERO = valuePromise(0);\nvar EMPTYSTRING = valuePromise('');\n\nfunction valuePromise(value) {\n  var p = new Promise(Promise._D);\n  p._y = 1;\n  p._z = value;\n  return p;\n}\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value;\n\n  if (value === null) return NULL;\n  if (value === undefined) return UNDEFINED;\n  if (value === true) return TRUE;\n  if (value === false) return FALSE;\n  if (value === 0) return ZERO;\n  if (value === '') return EMPTYSTRING;\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then;\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value));\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex);\n      });\n    }\n  }\n  return valuePromise(value);\n};\n\nvar iterableToArray = function (iterable) {\n  if (typeof Array.from === 'function') {\n    // ES2015+, iterables exist\n    iterableToArray = Array.from;\n    return Array.from(iterable);\n  }\n\n  // ES5, only arrays and array-likes exist\n  iterableToArray = function (x) { return Array.prototype.slice.call(x); };\n  return Array.prototype.slice.call(iterable);\n}\n\nPromise.all = function (arr) {\n  var args = iterableToArray(arr);\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        if (val instanceof Promise && val.then === Promise.prototype.then) {\n          while (val._y === 3) {\n            val = val._z;\n          }\n          if (val._y === 1) return res(i, val._z);\n          if (val._y === 2) reject(val._z);\n          val.then(function (val) {\n            res(i, val);\n          }, reject);\n          return;\n        } else {\n          var then = val.then;\n          if (typeof then === 'function') {\n            var p = new Promise(then.bind(val));\n            p.then(function (val) {\n              res(i, val);\n            }, reject);\n            return;\n          }\n        }\n      }\n      args[i] = val;\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nfunction onSettledFulfill(value) {\n  return { status: 'fulfilled', value: value };\n}\nfunction onSettledReject(reason) {\n  return { status: 'rejected', reason: reason };\n}\nfunction mapAllSettled(item) {\n  if(item && (typeof item === 'object' || typeof item === 'function')){\n    if(item instanceof Promise && item.then === Promise.prototype.then){\n      return item.then(onSettledFulfill, onSettledReject);\n    }\n    var then = item.then;\n    if (typeof then === 'function') {\n      return new Promise(then.bind(item)).then(onSettledFulfill, onSettledReject)\n    }\n  }\n\n  return onSettledFulfill(item);\n}\nPromise.allSettled = function (iterable) {\n  return Promise.all(iterableToArray(iterable).map(mapAllSettled));\n};\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) {\n    iterableToArray(values).forEach(function(value){\n      Promise.resolve(value).then(resolve, reject);\n    });\n  });\n};\n\n/* Prototype Methods */\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n};\n\nfunction getAggregateError(errors){\n  if(typeof AggregateError === 'function'){\n    return new AggregateError(errors,'All promises were rejected');\n  }\n\n  var error = new Error('All promises were rejected');\n\n  error.name = 'AggregateError';\n  error.errors = errors;\n\n  return error;\n}\n\nPromise.any = function promiseAny(values) {\n  return new Promise(function(resolve, reject) {\n    var promises = iterableToArray(values);\n    var hasResolved = false;\n    var rejectionReasons = [];\n\n    function resolveOnce(value) {\n      if (!hasResolved) {\n        hasResolved = true;\n        resolve(value);\n      }\n    }\n\n    function rejectionCheck(reason) {\n      rejectionReasons.push(reason);\n\n      if (rejectionReasons.length === promises.length) {\n        reject(getAggregateError(rejectionReasons));\n      }\n    }\n\n    if(promises.length === 0){\n      reject(getAggregateError(rejectionReasons));\n    } else {\n      promises.forEach(function(value){\n        Promise.resolve(value).then(resolveOnce, rejectionCheck);\n      });\n    }\n  });\n};\n","'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.prototype.finally = function (f) {\n  return this.then(function (value) {\n    return Promise.resolve(f()).then(function () {\n      return value;\n    });\n  }, function (err) {\n    return Promise.resolve(f()).then(function () {\n      throw err;\n    });\n  });\n};\n","'use strict';\n\nmodule.exports = require('./core.js');\nrequire('./done.js');\nrequire('./finally.js');\nrequire('./es6-extensions.js');\nrequire('./node-extensions.js');\nrequire('./synchronous.js');\n","'use strict';\n\n// This file contains then/promise specific extensions that are only useful\n// for node.js interop\n\nvar Promise = require('./core.js');\nvar asap = require('asap');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nPromise.denodeify = function (fn, argumentCount) {\n  if (\n    typeof argumentCount === 'number' && argumentCount !== Infinity\n  ) {\n    return denodeifyWithCount(fn, argumentCount);\n  } else {\n    return denodeifyWithoutCount(fn);\n  }\n};\n\nvar callbackFn = (\n  'function (err, res) {' +\n  'if (err) { rj(err); } else { rs(res); }' +\n  '}'\n);\nfunction denodeifyWithCount(fn, argumentCount) {\n  var args = [];\n  for (var i = 0; i < argumentCount; i++) {\n    args.push('a' + i);\n  }\n  var body = [\n    'return function (' + args.join(',') + ') {',\n    'var self = this;',\n    'return new Promise(function (rs, rj) {',\n    'var res = fn.call(',\n    ['self'].concat(args).concat([callbackFn]).join(','),\n    ');',\n    'if (res &&',\n    '(typeof res === \"object\" || typeof res === \"function\") &&',\n    'typeof res.then === \"function\"',\n    ') {rs(res);}',\n    '});',\n    '};'\n  ].join('');\n  return Function(['Promise', 'fn'], body)(Promise, fn);\n}\nfunction denodeifyWithoutCount(fn) {\n  var fnLength = Math.max(fn.length - 1, 3);\n  var args = [];\n  for (var i = 0; i < fnLength; i++) {\n    args.push('a' + i);\n  }\n  var body = [\n    'return function (' + args.join(',') + ') {',\n    'var self = this;',\n    'var args;',\n    'var argLength = arguments.length;',\n    'if (arguments.length > ' + fnLength + ') {',\n    'args = new Array(arguments.length + 1);',\n    'for (var i = 0; i < arguments.length; i++) {',\n    'args[i] = arguments[i];',\n    '}',\n    '}',\n    'return new Promise(function (rs, rj) {',\n    'var cb = ' + callbackFn + ';',\n    'var res;',\n    'switch (argLength) {',\n    args.concat(['extra']).map(function (_, index) {\n      return (\n        'case ' + (index) + ':' +\n        'res = fn.call(' + ['self'].concat(args.slice(0, index)).concat('cb').join(',') + ');' +\n        'break;'\n      );\n    }).join(''),\n    'default:',\n    'args[argLength] = cb;',\n    'res = fn.apply(self, args);',\n    '}',\n    \n    'if (res &&',\n    '(typeof res === \"object\" || typeof res === \"function\") &&',\n    'typeof res.then === \"function\"',\n    ') {rs(res);}',\n    '});',\n    '};'\n  ].join('');\n\n  return Function(\n    ['Promise', 'fn'],\n    body\n  )(Promise, fn);\n}\n\nPromise.nodeify = function (fn) {\n  return function () {\n    var args = Array.prototype.slice.call(arguments);\n    var callback =\n      typeof args[args.length - 1] === 'function' ? args.pop() : null;\n    var ctx = this;\n    try {\n      return fn.apply(this, arguments).nodeify(callback, ctx);\n    } catch (ex) {\n      if (callback === null || typeof callback == 'undefined') {\n        return new Promise(function (resolve, reject) {\n          reject(ex);\n        });\n      } else {\n        asap(function () {\n          callback.call(ctx, ex);\n        })\n      }\n    }\n  }\n};\n\nPromise.prototype.nodeify = function (callback, ctx) {\n  if (typeof callback != 'function') return this;\n\n  this.then(function (value) {\n    asap(function () {\n      callback.call(ctx, null, value);\n    });\n  }, function (err) {\n    asap(function () {\n      callback.call(ctx, err);\n    });\n  });\n};\n","'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.enableSynchronous = function () {\n  Promise.prototype.isPending = function() {\n    return this.getState() == 0;\n  };\n\n  Promise.prototype.isFulfilled = function() {\n    return this.getState() == 1;\n  };\n\n  Promise.prototype.isRejected = function() {\n    return this.getState() == 2;\n  };\n\n  Promise.prototype.getValue = function () {\n    if (this._y === 3) {\n      return this._z.getValue();\n    }\n\n    if (!this.isFulfilled()) {\n      throw new Error('Cannot get a value of an unfulfilled promise.');\n    }\n\n    return this._z;\n  };\n\n  Promise.prototype.getReason = function () {\n    if (this._y === 3) {\n      return this._z.getReason();\n    }\n\n    if (!this.isRejected()) {\n      throw new Error('Cannot get a rejection reason of a non-rejected promise.');\n    }\n\n    return this._z;\n  };\n\n  Promise.prototype.getState = function () {\n    if (this._y === 3) {\n      return this._z.getState();\n    }\n    if (this._y === -1 || this._y === -2) {\n      return 0;\n    }\n\n    return this._y;\n  };\n};\n\nPromise.disableSynchronous = function() {\n  Promise.prototype.isPending = undefined;\n  Promise.prototype.isFulfilled = undefined;\n  Promise.prototype.isRejected = undefined;\n  Promise.prototype.getValue = undefined;\n  Promise.prototype.getReason = undefined;\n  Promise.prototype.getState = undefined;\n};\n","/*!\n * EventEmitter v5.2.9 - git.io/ee\n * Unlicense - http://unlicense.org/\n * Oliver Caldwell - https://oli.me.uk/\n * @preserve\n */\n\n;(function (exports) {\n    'use strict';\n\n    /**\n     * Class for managing events.\n     * Can be extended to provide event functionality in other classes.\n     *\n     * @class EventEmitter Manages event registering and emitting.\n     */\n    function EventEmitter() {}\n\n    // Shortcuts to improve speed and size\n    var proto = EventEmitter.prototype;\n    var originalGlobalValue = exports.EventEmitter;\n\n    /**\n     * Finds the index of the listener for the event in its storage array.\n     *\n     * @param {Function[]} listeners Array of listeners to search through.\n     * @param {Function} listener Method to look for.\n     * @return {Number} Index of the specified listener, -1 if not found\n     * @api private\n     */\n    function indexOfListener(listeners, listener) {\n        var i = listeners.length;\n        while (i--) {\n            if (listeners[i].listener === listener) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n\n    /**\n     * Alias a method while keeping the context correct, to allow for overwriting of target method.\n     *\n     * @param {String} name The name of the target method.\n     * @return {Function} The aliased method\n     * @api private\n     */\n    function alias(name) {\n        return function aliasClosure() {\n            return this[name].apply(this, arguments);\n        };\n    }\n\n    /**\n     * Returns the listener array for the specified event.\n     * Will initialise the event object and listener arrays if required.\n     * Will return an object if you use a regex search. The object contains keys for each matched event. So /ba[rz]/ might return an object containing bar and baz. But only if you have either defined them with defineEvent or added some listeners to them.\n     * Each property in the object response is an array of listener functions.\n     *\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\n     * @return {Function[]|Object} All listener functions for the event.\n     */\n    proto.getListeners = function getListeners(evt) {\n        var events = this._getEvents();\n        var response;\n        var key;\n\n        // Return a concatenated array of all matching events if\n        // the selector is a regular expression.\n        if (evt instanceof RegExp) {\n            response = {};\n            for (key in events) {\n                if (events.hasOwnProperty(key) && evt.test(key)) {\n                    response[key] = events[key];\n                }\n            }\n        }\n        else {\n            response = events[evt] || (events[evt] = []);\n        }\n\n        return response;\n    };\n\n    /**\n     * Takes a list of listener objects and flattens it into a list of listener functions.\n     *\n     * @param {Object[]} listeners Raw listener objects.\n     * @return {Function[]} Just the listener functions.\n     */\n    proto.flattenListeners = function flattenListeners(listeners) {\n        var flatListeners = [];\n        var i;\n\n        for (i = 0; i < listeners.length; i += 1) {\n            flatListeners.push(listeners[i].listener);\n        }\n\n        return flatListeners;\n    };\n\n    /**\n     * Fetches the requested listeners via getListeners but will always return the results inside an object. This is mainly for internal use but others may find it useful.\n     *\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\n     * @return {Object} All listener functions for an event in an object.\n     */\n    proto.getListenersAsObject = function getListenersAsObject(evt) {\n        var listeners = this.getListeners(evt);\n        var response;\n\n        if (listeners instanceof Array) {\n            response = {};\n            response[evt] = listeners;\n        }\n\n        return response || listeners;\n    };\n\n    function isValidListener (listener) {\n        if (typeof listener === 'function' || listener instanceof RegExp) {\n            return true\n        } else if (listener && typeof listener === 'object') {\n            return isValidListener(listener.listener)\n        } else {\n            return false\n        }\n    }\n\n    /**\n     * Adds a listener function to the specified event.\n     * The listener will not be added if it is a duplicate.\n     * If the listener returns true then it will be removed after it is called.\n     * If you pass a regular expression as the event name then the listener will be added to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addListener = function addListener(evt, listener) {\n        if (!isValidListener(listener)) {\n            throw new TypeError('listener must be a function');\n        }\n\n        var listeners = this.getListenersAsObject(evt);\n        var listenerIsWrapped = typeof listener === 'object';\n        var key;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key) && indexOfListener(listeners[key], listener) === -1) {\n                listeners[key].push(listenerIsWrapped ? listener : {\n                    listener: listener,\n                    once: false\n                });\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of addListener\n     */\n    proto.on = alias('addListener');\n\n    /**\n     * Semi-alias of addListener. It will add a listener that will be\n     * automatically removed after its first execution.\n     *\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addOnceListener = function addOnceListener(evt, listener) {\n        return this.addListener(evt, {\n            listener: listener,\n            once: true\n        });\n    };\n\n    /**\n     * Alias of addOnceListener.\n     */\n    proto.once = alias('addOnceListener');\n\n    /**\n     * Defines an event name. This is required if you want to use a regex to add a listener to multiple events at once. If you don't do this then how do you expect it to know what event to add to? Should it just add to every possible match for a regex? No. That is scary and bad.\n     * You need to tell it what event names should be matched by a regex.\n     *\n     * @param {String} evt Name of the event to create.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.defineEvent = function defineEvent(evt) {\n        this.getListeners(evt);\n        return this;\n    };\n\n    /**\n     * Uses defineEvent to define multiple events.\n     *\n     * @param {String[]} evts An array of event names to define.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.defineEvents = function defineEvents(evts) {\n        for (var i = 0; i < evts.length; i += 1) {\n            this.defineEvent(evts[i]);\n        }\n        return this;\n    };\n\n    /**\n     * Removes a listener function from the specified event.\n     * When passed a regular expression as the event name, it will remove the listener from all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to remove the listener from.\n     * @param {Function} listener Method to remove from the event.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeListener = function removeListener(evt, listener) {\n        var listeners = this.getListenersAsObject(evt);\n        var index;\n        var key;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key)) {\n                index = indexOfListener(listeners[key], listener);\n\n                if (index !== -1) {\n                    listeners[key].splice(index, 1);\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of removeListener\n     */\n    proto.off = alias('removeListener');\n\n    /**\n     * Adds listeners in bulk using the manipulateListeners method.\n     * If you pass an object as the first argument you can add to multiple events at once. The object should contain key value pairs of events and listeners or listener arrays. You can also pass it an event name and an array of listeners to be added.\n     * You can also pass it a regular expression to add the array of listeners to all events that match it.\n     * Yeah, this function does quite a bit. That's probably a bad thing.\n     *\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add to multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to add.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addListeners = function addListeners(evt, listeners) {\n        // Pass through to manipulateListeners\n        return this.manipulateListeners(false, evt, listeners);\n    };\n\n    /**\n     * Removes listeners in bulk using the manipulateListeners method.\n     * If you pass an object as the first argument you can remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n     * You can also pass it an event name and an array of listeners to be removed.\n     * You can also pass it a regular expression to remove the listeners from all events that match it.\n     *\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to remove from multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to remove.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeListeners = function removeListeners(evt, listeners) {\n        // Pass through to manipulateListeners\n        return this.manipulateListeners(true, evt, listeners);\n    };\n\n    /**\n     * Edits listeners in bulk. The addListeners and removeListeners methods both use this to do their job. You should really use those instead, this is a little lower level.\n     * The first argument will determine if the listeners are removed (true) or added (false).\n     * If you pass an object as the second argument you can add/remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n     * You can also pass it an event name and an array of listeners to be added/removed.\n     * You can also pass it a regular expression to manipulate the listeners of all events that match it.\n     *\n     * @param {Boolean} remove True if you want to remove listeners, false if you want to add.\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add/remove from multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to add/remove.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.manipulateListeners = function manipulateListeners(remove, evt, listeners) {\n        var i;\n        var value;\n        var single = remove ? this.removeListener : this.addListener;\n        var multiple = remove ? this.removeListeners : this.addListeners;\n\n        // If evt is an object then pass each of its properties to this method\n        if (typeof evt === 'object' && !(evt instanceof RegExp)) {\n            for (i in evt) {\n                if (evt.hasOwnProperty(i) && (value = evt[i])) {\n                    // Pass the single listener straight through to the singular method\n                    if (typeof value === 'function') {\n                        single.call(this, i, value);\n                    }\n                    else {\n                        // Otherwise pass back to the multiple function\n                        multiple.call(this, i, value);\n                    }\n                }\n            }\n        }\n        else {\n            // So evt must be a string\n            // And listeners must be an array of listeners\n            // Loop over it and pass each one to the multiple method\n            i = listeners.length;\n            while (i--) {\n                single.call(this, evt, listeners[i]);\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Removes all listeners from a specified event.\n     * If you do not specify an event then all listeners will be removed.\n     * That means every event will be emptied.\n     * You can also pass a regex to remove all events that match it.\n     *\n     * @param {String|RegExp} [evt] Optional name of the event to remove all listeners for. Will remove from every event if not passed.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeEvent = function removeEvent(evt) {\n        var type = typeof evt;\n        var events = this._getEvents();\n        var key;\n\n        // Remove different things depending on the state of evt\n        if (type === 'string') {\n            // Remove all listeners for the specified event\n            delete events[evt];\n        }\n        else if (evt instanceof RegExp) {\n            // Remove all events matching the regex.\n            for (key in events) {\n                if (events.hasOwnProperty(key) && evt.test(key)) {\n                    delete events[key];\n                }\n            }\n        }\n        else {\n            // Remove all listeners in all events\n            delete this._events;\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of removeEvent.\n     *\n     * Added to mirror the node API.\n     */\n    proto.removeAllListeners = alias('removeEvent');\n\n    /**\n     * Emits an event of your choice.\n     * When emitted, every listener attached to that event will be executed.\n     * If you pass the optional argument array then those arguments will be passed to every listener upon execution.\n     * Because it uses `apply`, your array of arguments will be passed as if you wrote them out separately.\n     * So they will not arrive within the array on the other side, they will be separate.\n     * You can also pass a regular expression to emit to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n     * @param {Array} [args] Optional array of arguments to be passed to each listener.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.emitEvent = function emitEvent(evt, args) {\n        var listenersMap = this.getListenersAsObject(evt);\n        var listeners;\n        var listener;\n        var i;\n        var key;\n        var response;\n\n        for (key in listenersMap) {\n            if (listenersMap.hasOwnProperty(key)) {\n                listeners = listenersMap[key].slice(0);\n\n                for (i = 0; i < listeners.length; i++) {\n                    // If the listener returns true then it shall be removed from the event\n                    // The function is executed either with a basic call or an apply if there is an args array\n                    listener = listeners[i];\n\n                    if (listener.once === true) {\n                        this.removeListener(evt, listener.listener);\n                    }\n\n                    response = listener.listener.apply(this, args || []);\n\n                    if (response === this._getOnceReturnValue()) {\n                        this.removeListener(evt, listener.listener);\n                    }\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of emitEvent\n     */\n    proto.trigger = alias('emitEvent');\n\n    /**\n     * Subtly different from emitEvent in that it will pass its arguments on to the listeners, as opposed to taking a single array of arguments to pass on.\n     * As with emitEvent, you can pass a regex in place of the event name to emit to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n     * @param {...*} Optional additional arguments to be passed to each listener.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.emit = function emit(evt) {\n        var args = Array.prototype.slice.call(arguments, 1);\n        return this.emitEvent(evt, args);\n    };\n\n    /**\n     * Sets the current value to check against when executing listeners. If a\n     * listeners return value matches the one set here then it will be removed\n     * after execution. This value defaults to true.\n     *\n     * @param {*} value The new value to check for when executing listeners.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.setOnceReturnValue = function setOnceReturnValue(value) {\n        this._onceReturnValue = value;\n        return this;\n    };\n\n    /**\n     * Fetches the current value to check against when executing listeners. If\n     * the listeners return value matches this one then it should be removed\n     * automatically. It will return true by default.\n     *\n     * @return {*|Boolean} The current value to check for or the default, true.\n     * @api private\n     */\n    proto._getOnceReturnValue = function _getOnceReturnValue() {\n        if (this.hasOwnProperty('_onceReturnValue')) {\n            return this._onceReturnValue;\n        }\n        else {\n            return true;\n        }\n    };\n\n    /**\n     * Fetches the events object and creates one if required.\n     *\n     * @return {Object} The events storage object.\n     * @api private\n     */\n    proto._getEvents = function _getEvents() {\n        return this._events || (this._events = {});\n    };\n\n    /**\n     * Reverts the global {@link EventEmitter} to its previous value and returns a reference to this version.\n     *\n     * @return {Function} Non conflicting EventEmitter class.\n     */\n    EventEmitter.noConflict = function noConflict() {\n        exports.EventEmitter = originalGlobalValue;\n        return EventEmitter;\n    };\n\n    // Expose the class either via AMD, CommonJS or the global object\n    if (typeof define === 'function' && define.amd) {\n        define(function () {\n            return EventEmitter;\n        });\n    }\n    else if (typeof module === 'object' && module.exports){\n        module.exports = EventEmitter;\n    }\n    else {\n        exports.EventEmitter = EventEmitter;\n    }\n}(typeof window !== 'undefined' ? window : this || {}));\n","function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nexport { _classCallCheck as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nexport { _createClass as default };","function _getPrototypeOf(t) {\n  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, _getPrototypeOf(t);\n}\nexport { _getPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && setPrototypeOf(t, e);\n}\nexport { _inherits as default };","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return assertThisInitialized(t);\n}\nexport { _possibleConstructorReturn as default };","function _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nexport { _assertThisInitialized as default };","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var inProgress = {};\nvar dataWebpackPrefix = \"LiveHelperChat:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t\tif (script.src.indexOf(window.location.origin + '/') !== 0) {\n\t\t\tscript.crossOrigin = \"anonymous\";\n\t\t}\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"\" + {\"118\":\"87ba4186ae122eba5ab7\",\"121\":\"c4d56967822ecb6c3713\",\"249\":\"460b968e05a1fe61fc84\",\"468\":\"dedc5a850caee5cbb4b8\",\"546\":\"5691f733268b28546257\",\"603\":\"a92366215ad3e9b74e1c\",\"618\":\"dfd57fc42ff1cea8ec54\",\"793\":\"02b1551411b78ca6411f\",\"853\":\"0e823b694cb68910a583\"}[chunkId] + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"./\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkLiveHelperChat\"] = self[\"webpackChunkLiveHelperChat\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","(function (global) {\n\n    var currentScript = document.currentScript || (function() {\n        var scripts = document.getElementsByTagName('script');\n        return scripts[scripts.length - 1];\n    })();\n\n    var scopeScript = currentScript.getAttribute('scope') || 'LHC';\n\n    if (/google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex|Chrome-Lighthouse/i.test(navigator.userAgent)) {\n        return;\n    }\n\n    if (!global[scopeScript+'_API']) {\n        if (global['LHC_API']) {\n            global[scopeScript+'_API'] = global['LHC_API'];\n        } else {\n            return;\n        }\n    }\n\n    var lhcError = {\n        log : function(message, filename, lineNumber, stack, column) {\n            var e;\n            e = {};\n            e.message = message || \"\";\n            e.message += \"\\n\" + global.navigator.userAgent;\n            e.location = location && location.href ? location.href : \"\";\n            e.file = filename || \"\";\n            e.line = lineNumber || \"\";\n            e.column = column || \"\";\n            e.stack = stack ? JSON.stringify(stack) : \"\";\n            e.stack = e.stack.replace(/(\\r\\n|\\n|\\r)/gm, \"\");\n            var xhr = new XMLHttpRequest();\n            xhr.open( \"POST\", global[scopeScript+'_API']['args']['lhc_base_url'] + 'audit/logjserror', true);\n            xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n            xhr.send( \"data=\" + encodeURIComponent( JSON.stringify(e) ) );\n        }\n    }\n\n    try {\n\n        window.addEventListener('error', function (e) {\n            if (lhcError && e.filename.indexOf(global[scopeScript+'_API']['args']['lhc_base_url'].replace('index.php/')) !== -1) {\n                lhcError.log(e.message, e.filename, e.lineNumber || e.lineno, e.error.stack, e.colno);\n            }\n        })\n\n        global['$_' + scopeScript + '_Instance'] = null;\n        global['$_' + scopeScript + '_Debug'] = false;\n        global['$_' + scopeScript] = global['$_' + scopeScript] || {};\n\n        (function (lhc, LHC_API) {\n\n            lhc.loaded = false;\n            lhc.connected = false;\n            lhc.ready = false;\n            lhc.version = 258;\n\n            const isMobileItem = require('ismobilejs');\n            var isMobile = isMobileItem.default(global.navigator.userAgent).phone;\n\n            lhc.isMobile = isMobile;\n\n            var init = () => {\n\n                if (!global.Promise) {\n                    global.Promise = require('promise');\n                }\n\n                var BehaviorSubject = require('./util/monitoredVariable').monitoredVariable;\n                var EventEmitter = require('wolfy87-eventemitter');\n\n                var statusWidget = require('./lib/widgets/statusWidget').statusWidget;\n                var mainWidget = require('./lib/widgets/mainWidget').mainWidget;\n                var mainWidgetPopup = require('./lib/widgets/mainWidgetPopup').mainWidgetPopup;\n                var containerChat = require('./lib/widgets/containerChat').containerChat;\n                var helperFunctions = require('./lib/helperFunctions').helperFunctions;\n                var userSession = require('./util/userSession').userSession;\n                var storageHandler = require('./util/storageHandler').storageHandler;\n                var chatNotifications = require('./lib/chatNotifications').chatNotifications;\n                var chatEventsHandler = require('./util/chatEventsHandler').chatEventsHandler;\n\n                LHC_API.args = LHC_API.args || {};\n\n                if (typeof LHC_API.args.mobile_view !== 'undefined') {\n                    lhc.isMobile = isMobile = LHC_API.args.mobile_view;\n                }\n\n                const prefixLowercase = scopeScript.toLowerCase();\n                const prefixStorage = (prefixLowercase && LHC_API.args.scope_storage ? prefixLowercase : 'lhc');\n                const cookieEnabledUser = typeof LHC_API.args.cookie_enabled !== 'undefined' ? LHC_API.args.cookie_enabled : true;\n                const userMode = LHC_API.args.mode || 'widget';\n                var storageHandler = new storageHandler(global, LHC_API.args.domain || null, prefixStorage, cookieEnabledUser);\n\n                // Cookies are disabled and it's required for us to work. So switch to mode where cookies are not required\n                if (storageHandler.cookieEnabled === false && userMode == 'widget') {\n                    LHC_API.args.orig = {}\n                    LHC_API.args.orig.mode = LHC_API.args.mode;\n                    LHC_API.args.orig.proactive = LHC_API.args.proactive;\n                    LHC_API.args.orig.check_messages = LHC_API.args.check_messages;\n\n                    LHC_API.args.mode = 'popup';\n                    LHC_API.args.proactive = false;\n                    LHC_API.args.check_messages = false;\n                }\n\n                if (LHC_API.args.cookie_per_page) {\n                    storageHandler.setCookiePerPage(LHC_API.args.cookie_per_page);\n                }\n\n                var referrer = (document.referrer) ? document.referrer.substr(document.referrer.indexOf('://') + 1) : '';\n                var location = (document.location) ? encodeURIComponent(window.location.href.substring(window.location.protocol.length)) : '';\n\n                storageHandler.setSessionReferer(referrer);\n\n                referrer = referrer ? encodeURIComponent(referrer) : '';\n\n                var languageOverride = '';\n\n                if (storageHandler.getLocalStorage(prefixStorage+'_lng')) {\n                    languageOverride = LHC_API.args.lang = storageHandler.getLocalStorage(prefixStorage+'_lng');\n                }\n\n                if (LHC_API.args.lang) {\n                    LHC_API.args.lang = LHC_API.args.lang.replace('/', '') + '/';\n                }\n\n                // Main attributes\n                var attributesWidget = {\n                    terminated: false,\n                    viewport_enabled: true,\n                    prefixLowercase: prefixLowercase,\n                    prefixStorage: prefixStorage,\n                    prefixScope: scopeScript,\n                    cookie_enabled: cookieEnabledUser,\n                    LHC_API: LHC_API,\n                    viewHandler: null,\n                    msgSnippet: null,\n                    drag_enabled: LHC_API.args.drag_enabled || false,\n                    react_attr: LHC_API.args.react_attr || null,\n                    hide_parent: LHC_API.args.hide_parent || false,\n                    hide_iframe: LHC_API.args.hide_iframe || false,\n                    animate_nh: LHC_API.args.animate_nh || false,\n                    hide_status: LHC_API.args.hide_status || null,\n                    mainWidget: new mainWidget(prefixLowercase),\n                    popupWidget: new mainWidgetPopup(),\n                    chatNotifications: chatNotifications,\n                    jsVars: new BehaviorSubject(true),\n                    onlineStatus: new BehaviorSubject(true),\n                    wloaded: new BehaviorSubject(false),\n                    sload: new BehaviorSubject(false),\n                    status_position: new BehaviorSubject(null),\n                    shidden: new BehaviorSubject(LHC_API.args.hide_status || false),\n                    msgsnippet_status: new BehaviorSubject(false),\n                    unread_counter: new BehaviorSubject(0),\n                    eventEmitter: new EventEmitter(),\n                    hideOffline: false,\n                    offline: LHC_API.args.offline || null,\n                    fscreen: LHC_API.args.fscreen || false,\n                    vars_encrypted: LHC_API.args.vars_encrypted || false,\n                    isMobile: isMobile,\n                    isIE: (navigator.userAgent.toUpperCase().indexOf(\"TRIDENT/\") != -1 || navigator.userAgent.toUpperCase().indexOf(\"MSIE\") != -1 || typeof Object.assign !== 'function'),\n                    fresh: LHC_API.args.fresh || false,\n                    popupDimesnions: {pheight: (LHC_API.args.pheight || 520), pwidth: (LHC_API.args.pwidth || 500)},\n                    leaveMessage: LHC_API.args.leaveamessage || null,\n                    department: LHC_API.args.department || [],\n                    dep_default: LHC_API.args.dep_default || null,\n                    product: LHC_API.args.product || [],\n                    theme: typeof LHC_API.args.theme !== 'undefined' ? (typeof LHC_API.args.theme === 'object' ? LHC_API.args.theme.join(',') : LHC_API.args.theme) :  null,\n                    theme_v: null,\n                    domain: LHC_API.args.domain || null,\n                    domain_lhc: null,\n                    instance_id: 0,\n                    broadcasChannel : ('BroadcastChannel' in window ? (new BroadcastChannel(prefixStorage+'_wchannel')) : null),\n                    profile_pic: LHC_API.args.profile_pic || null,\n                    position: LHC_API.args.position || 'bottom_right',\n                    position_placement: LHC_API.args.position_placement || 'bottom_right',\n                    position_placement_original: LHC_API.args.position_placement || 'bottom_right',\n                    base_url: LHC_API.args.lhc_base_url,\n                    mode: LHC_API.args.mode || 'widget',\n                    tag: LHC_API.args.tag || '',\n                    status_delay: LHC_API.args.status_delay || 0,\n                    proactive: {},\n                    captcha: null,\n                    focused: true,\n                    clinst: false,\n                    kcw: LHC_API.args.kcw || false,\n                    offline_redirect: LHC_API.args.offline_redirect || null,\n                    identifier: LHC_API.args.identifier || '',\n                    proactive_interval: null,\n                    lang: LHC_API.args.lang || '',\n                    langOverride: languageOverride,\n                    subject_id: LHC_API.args.subject_id || '',\n                    bot_id: LHC_API.args.bot_id || '',\n                    trigger_id: LHC_API.args.trigger_id || '',\n                    priority: LHC_API.args.priority || null,\n                    events: LHC_API.args.events || [],\n                    conversion: LHC_API.args.conversion || '',\n                    hhtml: LHC_API.args.hhtml || '',\n                    survey: LHC_API.args.survey || null,\n                    operator: LHC_API.args.operator || null,\n                    phash: LHC_API.args.phash || null,\n                    pvhash: LHC_API.args.pvhash || null,\n                    // Login Objects\n                    userSession: new userSession(),\n                    storageHandler: storageHandler,\n                    staticJS: {},\n                    nh : null, // Need help data\n                    full_invitation: false,\n                    init_calls: [],\n                    childCommands: [],\n                    childExtCommands: [],\n                    lhc_var: (LHC_API.args.lhc_var || (typeof lhc_var !== 'undefined' ? lhc_var : null)),\n                    loadcb: LHC_API.args.loadcb || null,\n                    LHCChatOptions: global[scopeScript + 'ChatOptions'] || {},\n                    ignoreVars : false\n                };\n\n                attributesWidget.widgetDimesions = new BehaviorSubject({\n                    sright: (LHC_API.args.sright || 0),\n                    sbottom: (LHC_API.args.sbottom || 0),\n                    wright_inv: 0,\n                    wbottom: 0,\n                    wright: 0,\n                    width: ((isMobile || attributesWidget.fscreen) ? 100 : (LHC_API.args.wwidth || 350)),\n                    height: ((isMobile || attributesWidget.fscreen) ? 100 : (LHC_API.args.wheight || 520)),\n                    units: ((isMobile || attributesWidget.fscreen) ? '%' : 'px'),\n                    position_placement: attributesWidget.position_placement\n                });\n\n                var chatEvents = new chatEventsHandler(attributesWidget);\n\n                lhc.eventListener = attributesWidget.eventEmitter;\n                lhc.attributes = attributesWidget;\n\n                attributesWidget.userSession.setAttributes(attributesWidget);\n                attributesWidget.userSession.setSessionInformation(attributesWidget.storageHandler.getSessionInformation());\n                attributesWidget.userSession.setSessionReferrer(storageHandler.getSessionReferrer());\n\n                attributesWidget.widgetStatus = new BehaviorSubject((attributesWidget.userSession.ws == '1' && attributesWidget.userSession.id !== null) || (LHC_API.args.mode && LHC_API.args.mode == 'embed'));\n                attributesWidget.toggleSound = new BehaviorSubject(!(attributesWidget.userSession.sd == '1'), {'ignore_sub': true});\n\n                if (attributesWidget.mode == 'widget' || attributesWidget.mode == 'popup') {\n\n                    var containerChatObj = new containerChat(attributesWidget.prefixLowercase, LHC_API.args.pnode || null);\n\n                    attributesWidget.viewHandler = new statusWidget(attributesWidget.prefixLowercase, lhc.version);\n                    containerChatObj.cont.elmDom.appendChild(attributesWidget.viewHandler.cont, !0);\n\n                    if (attributesWidget.mode == 'widget' || attributesWidget.mode == 'popup') {\n                        containerChatObj.cont.elmDom.appendChild(attributesWidget.mainWidget.cont.constructUI(), !0);\n                    }\n\n                } else {\n                    var embedWrapper = document.getElementById(attributesWidget.prefixLowercase + '_status_container_page');\n                    if (embedWrapper !== null) {\n                        embedWrapper.appendChild(attributesWidget.mainWidget.cont.constructUI());\n                        embedWrapper.style.height = (LHC_API.args.wheight || 520) + 'px';\n                    } else {\n                        attributesWidget.position = 'api';\n                    }\n                }\n\n                function getArguments(){\n                    return {\n                        'cd': (storageHandler.cookieEnabled === false ? 1 : null),\n                        'vid': (LHC_API.args.UUID || attributesWidget.userSession.getVID()),\n                        'hnh': attributesWidget.userSession.hnh,\n                        'tz': helperFunctions.getTzOffset(),\n                        'r': referrer,\n                        'l': location,\n                        'dt': encodeURIComponent(document.title),\n                        'ie': attributesWidget.isIE,\n                        'dep': attributesWidget.department.join(','),\n                        'idnt': attributesWidget.identifier,\n                        'tag': attributesWidget.tag,\n                        'theme': attributesWidget.theme,\n                        'mode': attributesWidget.mode,\n                        'pos': attributesWidget.position,\n                        'off': attributesWidget.offline\n                    };\n                }\n\n                function showNeedHelp(nh) {\n                    import('./lib/widgets/needhelpWidget').then((module) => {\n                        var needhelpWidget = new module.needhelpWidget(attributesWidget.prefixLowercase);\n                        containerChatObj.cont.elmDom.appendChild(needhelpWidget.cont.constructUI(), !0);\n                        needhelpWidget.init(attributesWidget, nh);\n                    });\n                }\n\n                function showProactive(){\n                    import('./util/proactiveChat').then((module) => {\n                        module.proactiveChat.setParams({\n                            'interval': attributesWidget.proactive_interval\n                        }, attributesWidget, chatEvents);\n                    });\n                }\n\n                helperFunctions.makeRequest(LHC_API.args.lhc_base_url + attributesWidget.lang + 'widgetrestapi/settings', {\n                    params: getArguments()\n                }, (data) => {\n\n                    // Append exact protocol\n                    if (LHC_API.args.lhc_base_url.startsWith('//')) {\n                        attributesWidget.base_url = LHC_API.args.lhc_base_url = (window.location.protocol === 'http:' ? 'http:' : 'https:') + LHC_API.args.lhc_base_url;\n                    }\n\n                    if (lhc.version !== data.wv && document.getElementById(attributesWidget.prefixLowercase+'-js-reload') === null) {\n\n                        if (data.terminate) {\n                            return;\n                        }\n\n                        attributesWidget.userSession.setVID(data.vid);\n\n                        // Mark script as terminated\n                        attributesWidget.terminated = true;\n\n                        // Remove legacy dom\n                        helperFunctions.removeById(attributesWidget.prefixLowercase+'_container_v2');\n                        helperFunctions.removeById(attributesWidget.prefixLowercase+'_status_widget_v2');\n\n                        // Create new embed script\n                        var po = document.createElement(\"script\");\n                        po.type = currentScript.type;\n                        po.id = attributesWidget.prefixLowercase+'-js-reload';\n                        po.async = true;\n                        if (currentScript.getAttribute('scope')) { po.setAttribute('scope',currentScript.getAttribute('scope')); }\n\n                        // Expires cache\n                        po.src = currentScript.getAttribute('src') + '&r='+ (new Date()).getHours() + (new Date()).getMinutes();\n                        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);\n                        return;\n                    }\n\n                    if (data.terminate || ((!attributesWidget.leaveMessage && data.chat_ui.leaveamessage === false) && data.isOnline === false)) {\n\n                        if (LHC_API.args.offline_redirect && attributesWidget.mode == 'embed') {\n                            document.location = LHC_API.args.offline_redirect;\n                        }\n\n                        if (data.terminate) {\n                            return;\n                        }\n                    }\n\n                    // Send event that lhc has started\n                    // So parent page informs back that it has lhc\n                    if ((attributesWidget.hide_parent || attributesWidget.hide_iframe || (data.chat_ui && (data.chat_ui.hide_iframe || data.chat_ui.hide_parent))) && window.location != window.parent.location && window.parent.closed === false) {\n                        window.parent.postMessage('lhc::started','*');\n                    }\n\n                    attributesWidget.leaveMessage = attributesWidget.leaveMessage || data.chat_ui.leaveamessage;\n\n                    if (data.department) {\n                        attributesWidget.department = data.department;\n                    }\n\n                    __webpack_public_path__ = data.chunks_location + \"/\";\n\n                    if (data.secure_cookie) {\n                        attributesWidget.storageHandler.setSecureCookie(true);\n                    }\n\n                    if (data.domain) {\n                        attributesWidget.storageHandler.setCookieDomain(data.domain);\n                    }\n\n                    if (data.siteaccess) {\n                        attributesWidget.lang = data.siteaccess;\n                    }\n\n                    if (data.static) {\n                        attributesWidget.staticJS = data.static;\n                    }\n\n                    if (data.pdim) {\n                        attributesWidget.popupDimesnions = data.pdim;\n                    }\n\n                    if (data.survey_id) {\n                        attributesWidget.survey = data.survey_id;\n                    }\n\n                    if (data.domain_lhc) {\n                        attributesWidget.domain_lhc = data.domain_lhc;\n                    }\n\n                    if (data.cont_css) {\n                        attributesWidget.cont_ss = data.cont_css;\n                    }\n\n                    if (data.wposition) {\n                        LHC_API.args.position_placement = attributesWidget.position_placement = data.wposition;\n                    }\n\n                    if (data.core_position) {\n                        LHC_API.args.position = attributesWidget.position = data.core_position;\n                    }\n\n                    attributesWidget.captcha = {hash: data.hash, ts: data.hash_ts};\n                    attributesWidget.userSession.setVID(data.vid);\n\n                    // Store session\n                    attributesWidget.storageHandler.storeSessionInformation(attributesWidget.userSession.getSessionAttributes());\n\n                    attributesWidget.hideOffline = data.hideOffline;\n                    attributesWidget.onlineStatus.next(data.isOnline);\n\n                    if (data.theme) {\n                        attributesWidget.theme = data.theme;\n                        attributesWidget.theme_v = data.theme_v;\n                    }\n\n                    if (data.chat_ui) {\n\n                        if (data.chat_ui.hide_parent) {\n                            attributesWidget.hide_parent = true;\n                        }\n\n                        if ((data.chat_ui.fscreen && attributesWidget.mode == 'embed') || attributesWidget.fscreen) {\n                            attributesWidget.widgetDimesions.nextProperty('width', 100);\n                            attributesWidget.widgetDimesions.nextProperty('height', 100);\n                            attributesWidget.widgetDimesions.nextProperty('units', '%');\n                            attributesWidget.fscreen = isMobile = attributesWidget.isMobile = true;\n                        }\n\n                        if (data.chat_ui.wheight && !isMobile) {\n                            attributesWidget.widgetDimesions.nextProperty('height', data.chat_ui.wheight);\n                        }\n\n                        if (data.chat_ui.wwidth && !isMobile) {\n                            attributesWidget.widgetDimesions.nextProperty('width', data.chat_ui.wwidth);\n                        }\n\n                        if (data.chat_ui.hhtml) {\n                            attributesWidget.hhtml = data.chat_ui.hhtml;\n                        }\n\n                        if (data.chat_ui.status_delay) {\n                            attributesWidget.status_delay = data.chat_ui.status_delay;\n                        }\n\n                        if (data.chat_ui.kcw) {\n                            attributesWidget.kcw = true;\n                        }\n\n                        if (data.chat_ui.clinst) {\n                            attributesWidget.clinst = true;\n                        }\n\n                        if (data.chat_ui.drag_enabled) {\n                            attributesWidget.drag_enabled = true;\n                        }\n\n                        if (data.chat_ui.animate_nh) {\n                            attributesWidget.animate_nh = true;\n                        }\n\n                        if (data.chat_ui.viewport) {\n                            attributesWidget.viewport_enabled = data.chat_ui.viewport != 2 && data.chat_ui.viewport == 1 && isMobile === true;\n                        }\n\n                        if (data.chat_ui.wbottom) {\n                            attributesWidget.widgetDimesions.nextProperty('wbottom', data.chat_ui.wbottom);\n                        }\n\n                        if (data.chat_ui.sbottom) {\n                            attributesWidget.widgetDimesions.nextProperty('sbottom', data.chat_ui.sbottom);\n                        }\n\n                        if (data.chat_ui.sright) {\n                            attributesWidget.widgetDimesions.nextProperty('sright', data.chat_ui.sright);\n                        }\n\n                        if (data.chat_ui.wright) {\n                            attributesWidget.widgetDimesions.nextProperty('wright', data.chat_ui.wright);\n                        }\n\n                        if (data.chat_ui.wright_inv) {\n                            attributesWidget.widgetDimesions.nextProperty('wright_inv', data.chat_ui.wright_inv);\n                        }\n\n                        if (data.chat_ui.mobile_popup && isMobile && attributesWidget.mode != 'embed') {\n                            attributesWidget.mode = 'popup';\n                        }\n\n                        if (data.chat_ui.sound_enabled && storageHandler.getSessionStorage(prefixStorage + '_sound') === null) {\n                            attributesWidget.toggleSound.next(true);\n                        }\n\n                        if (data.instance_id) {\n                            attributesWidget.instance_id = data.instance_id;\n                        }\n\n                        if (data.chat_ui.check_status) {\n                            import('./util/activityMonitoring').then((module) => {\n                                module.activityMonitoring.setParams({\n                                    'timeout': data.chat_ui.check_status,\n                                    'track_mouse': data.chat_ui.track_mouse,\n                                    'track_activity': data.chat_ui.track_activity\n                                }, attributesWidget);\n                            });\n                        }\n\n                        if (data.ga) {\n                            import('./util/analyticEvents').then((module) => {\n                                module.analyticEvents.setParams({\n                                    'ga': data.ga\n                                }, attributesWidget);\n                            });\n                        }\n                    }\n\n                    if (storageHandler.getSessionStorage(prefixStorage + '_pos_placement') !== null) {\n                        attributesWidget.position_placement = storageHandler.getSessionStorage(prefixStorage + '_pos_placement');\n                    }\n\n                    if (data.nh && attributesWidget.fresh === false && attributesWidget['position'] != 'api') {\n                        attributesWidget.nh = data.nh;\n                        if (attributesWidget.mode == 'widget' || attributesWidget.mode == 'popup') {\n                            if (data.nh.ap || attributesWidget.userSession.id === null) {\n                                showNeedHelp(data.nh);\n                            }\n                        }\n                    }\n\n                    if (data.js_vars) {\n                        // Javascript custom variables init\n                        // Extensions can listen for these\n                        attributesWidget.jsVars.next(data.js_vars);\n\n                        // Monitor js vars if required\n                        if (data.js_vars.length > 0) {\n                            attributesWidget.userSession.setupVarsMonitoring(data.js_vars, (vars, prefillVars) => {\n                                chatEvents.sendChildEvent('jsVars', [vars, prefillVars]);\n                                attributesWidget.eventEmitter.emitEvent('jsVarsUpdated');\n                            });\n                        }\n                    }\n\n                    // Init main widgets\n                    if (attributesWidget.mode == 'widget' || attributesWidget.mode == 'popup') {\n                        attributesWidget.viewHandler.init(attributesWidget, data.ll);\n                    }\n\n                    if (!(attributesWidget.position == 'api' && attributesWidget.mode == 'embed')) {\n                        attributesWidget.mainWidget.init(attributesWidget, data.ll);\n                    }\n\n                    // Show status widget\n                    if (attributesWidget.mode == 'widget' || attributesWidget.mode == 'popup') {\n                        containerChatObj.cont.show();\n                    }\n\n                    if (attributesWidget.loadcb) {\n                        attributesWidget.loadcb(attributesWidget);\n                    }\n\n                    if (data.init_calls) {\n                        attributesWidget.init_calls = data.init_calls;\n                    }\n\n                    attributesWidget.proactive_interval = data.chat_ui.proactive_interval;\n\n                    if (!data.disable_proactive && (attributesWidget.mode == 'widget' || attributesWidget.mode == 'popup' || attributesWidget.mode == 'embed') && (typeof LHC_API.args.proactive === 'undefined' || LHC_API.args.proactive === true) && attributesWidget.storageHandler.getSessionStorage(prefixStorage + '_invt') === null) {\n                        showProactive();\n                    }\n\n                    if (attributesWidget.init_calls.length > 0) {\n                        attributesWidget.init_calls.forEach((item) => {\n                            if (item.extension == 'nodeJSChat') {\n                                import('./util/nodeJSChat').then((module) => {\n                                    module.nodeJSChat.setParams(item.params, attributesWidget, chatEvents);\n                                });\n                            }\n                        });\n                    }\n                })\n\n                attributesWidget.broadcasChannel && attributesWidget.broadcasChannel.addEventListener(\"message\", function(event) {\n                    if (event.data.action === 'current_vars' || event.data.action === 'check_vars') {\n                        if (attributesWidget.lhc_var !== null) {\n                            attributesWidget.ignoreVars = true;\n                            for (var index in event.data.lhc_var) {\n                                if ((typeof attributesWidget.lhc_var[index] === 'undefined' || attributesWidget.lhc_var[index] === '' || event.data.init === false) && event.data.lhc_var[index] !== '' && attributesWidget.lhc_var[index] !== event.data.lhc_var[index]) {\n                                    attributesWidget.lhc_var[index] = event.data.lhc_var[index];\n                                }\n                            }\n                            attributesWidget.ignoreVars = false;\n                            event.data.action === 'check_vars' && attributesWidget.broadcasChannel.postMessage({'action':'current_vars', 'init':true, 'lhc_var': JSON.parse(JSON.stringify(attributesWidget.lhc_var))});\n                        }\n                    } else if (event.data.action === 'wstatus') {\n                        if (attributesWidget.mode != 'embed' && event.data.value != attributesWidget.widgetStatus.value) {\n                            attributesWidget.widgetStatus.next(event.data.value);\n                        }\n                    } else if (event.data.action === 'chat_started') {\n                        if (attributesWidget.userSession.id === null && event.data.data.id) {\n                            attributesWidget.userSession.setChatInformation(event.data.data, attributesWidget.nh && attributesWidget.nh.ap);\n                            chatEvents.sendChildEvent('reopenNotification', [{\n                                'id': event.data.data.id,\n                                'hash': event.data.data.hash\n                            }]);\n                        }\n                    }\n                })\n\n                // Widget Hide event\n                attributesWidget.eventEmitter.addListener('closeWidget', function (params) {\n                    attributesWidget.widgetStatus.next(false);\n                    chatEvents.sendChildEvent('closedWidget', [params]);\n                });\n\n                // Send event to the child instantly\n                attributesWidget.eventEmitter.addListener('sendChildEvent', function (params) {\n                    if (typeof params['boot'] !== 'undefined') {\n                        attributesWidget.mainWidget.bootstrap();\n                    } else {\n                        if (attributesWidget.mainWidget.isLoaded == true && lhc.loaded == true) {\n                            chatEvents.sendChildEvent(params['cmd'], [params['arg']]);\n                        } else {\n                            attributesWidget.childCommands.push(params);\n                        }\n                    }\n                });\n\n                // Send smart event to the child\n                attributesWidget.eventEmitter.addListener('sendChildExtEvent', function (params) {\n                    if (typeof params['boot'] !== 'undefined') {\n                        attributesWidget.mainWidget.bootstrap();\n                    } else {\n                        if (attributesWidget.mainWidget.isLoaded == true && lhc.loaded == true) {\n                            chatEvents.sendChildEvent(params['cmd'], [params['arg']], 'lhc_load_ext');\n                        } else {\n                            attributesWidget.childExtCommands.push(params);\n                        }\n                    }\n                });\n\n                // Toggle sound user\n                attributesWidget.eventEmitter.addListener('toggleSound', function () {\n                    var newValue = !attributesWidget.toggleSound.value;\n                    attributesWidget.toggleSound.next(newValue);\n                });\n\n                // Toggle cookies policy\n                attributesWidget.eventEmitter.addListener('enableCookies', function () {\n\n                    // Check does cookies are supported in genreal\n                    if (storageHandler.checkCookiesSupport() === true) {\n                        // Store session\n                        var sessionAtrribute = attributesWidget.userSession.getSessionAttributes();\n                        if (typeof sessionAtrribute.hnh !== 'undefined') { delete sessionAtrribute['hnh']; }\n                        attributesWidget.storageHandler.storeSessionInformation(sessionAtrribute);\n\n                        if (typeof LHC_API.args.orig !== 'undefined') {\n\n                            attributesWidget.mode = LHC_API.args.mode = LHC_API.args.orig.mode;\n                            LHC_API.args.proactive = LHC_API.args.orig.proactive;\n                            LHC_API.args.check_messages = LHC_API.args.orig.check_messages;\n\n                            helperFunctions.makeRequest(LHC_API.args.lhc_base_url + attributesWidget.lang + 'widgetrestapi/settings', {\n                                params: getArguments()\n                            }, (data) => {\n                                // Change mode for react app\n                                attributesWidget.eventEmitter.emitEvent('sendChildEvent',[{'cmd' : 'attr_set', 'arg' : {'type':'attr_set','attr': ['mode'], data : attributesWidget.mode}}]);\n\n                                // Show need help widget if it's required\n                                if (attributesWidget.mode == 'widget' && attributesWidget.nh !== null) {\n                                    showNeedHelp(attributesWidget.nh);\n                                }\n\n                                // Enable proactive if it's required\n                                if ((attributesWidget.mode == 'widget' || attributesWidget.mode == 'popup') && (typeof LHC_API.args.proactive === 'undefined' || LHC_API.args.proactive === true) && attributesWidget.storageHandler.getSessionStorage(prefixStorage + '_invt') === null) {\n                                    showProactive();\n                                }\n                            });\n                        }\n                    }\n                });\n\n\n                // Clear chat cookies if there is any\n                // Then popup finishes loading it calls this to clean up chat cookies. So visitor can start new chat.\n                attributesWidget.eventEmitter.addListener('endChatCookies', function (params) {\n                    if (attributesWidget.kcw === false || (params && params['force'] == true)) {\n                        attributesWidget.userSession.setChatInformation({'id': null, 'hash': null});\n                        attributesWidget.storageHandler.storeSessionInformation(attributesWidget.userSession.getSessionAttributes());\n                        attributesWidget.proactive = {};\n                    }\n                });\n\n                attributesWidget.eventEmitter.addListener('widgetRendered', function (params) {\n                    if (attributesWidget.mode == 'widget' || attributesWidget.mode == 'embed') {\n                        attributesWidget.mainWidget.widgetRendered();\n                    }\n                });\n\n                attributesWidget.eventEmitter.addListener('endChat', function (params) {\n\n                    attributesWidget.userSession.setChatInformation({'id': null, 'hash': null});\n                    attributesWidget.storageHandler.storeSessionInformation(attributesWidget.userSession.getSessionAttributes());\n\n                    attributesWidget.proactive = {};\n\n                    if (attributesWidget.mode != 'popup' && (!params || !params['show_start'])) {\n                        attributesWidget.widgetStatus.next(false);\n                    }\n\n                    if (attributesWidget.viewHandler) {\n                        attributesWidget.viewHandler.removeUnreadIndicator();\n                        attributesWidget.eventEmitter.emitEvent('hide_msg_snippet');\n                    }\n\n                    attributesWidget.widgetDimesions.nextProperty('height_override', null);\n\n                    chatEvents.sendChildEvent('endedChat', [{'sender': 'endButton', 'survey' : attributesWidget.survey}]);\n\n                    if (attributesWidget.mode == 'embed' || (params && params['show_start'])) {\n                        attributesWidget.eventEmitter.emitEvent('showWidget', [{'sender': 'closeButton'}]);\n                    }\n\n                    if (attributesWidget.mode == 'popup') {\n                        attributesWidget.popupWidget.freeup();\n                    }\n                });\n\n                // Widget show event\n                attributesWidget.eventEmitter.addListener('showWidget', function (params) {\n\n                    // Just to restyle if needed\n                    attributesWidget.mainWidget.hideInvitation();\n\n                    attributesWidget.widgetStatus.next(true);\n\n                    if (attributesWidget.mode == 'popup') {\n                        attributesWidget.popupWidget.init(attributesWidget, chatEvents, params);\n\n                        attributesWidget.viewHandler.removeUnreadIndicator();\n\n                        attributesWidget.mainWidget.hide();\n                    } else if (typeof params !== 'undefined' && typeof params.event !== 'undefined') {\n                        params.event.preventDefault();\n                    }\n\n                    chatEvents.sendChildEvent('shownWidget', [{'sender': 'closeButton'}]);\n                });\n\n                // Add tag listener\n                attributesWidget.eventEmitter.addListener('addTag', function (tag) {\n                    attributesWidget.tag = attributesWidget.tag != '' ? attributesWidget.tag + ',' + tag : tag;\n                    attributesWidget.eventEmitter.emitEvent('tagAdded');\n                });\n\n                // Events\n                attributesWidget.eventEmitter.addListener('addEvent', function (events) {\n                    attributesWidget.events = events;\n                    attributesWidget.eventEmitter.emitEvent('eventAdded');\n                });\n\n                // Conversions\n                attributesWidget.eventEmitter.addListener('addConversion', function (conversion) {\n                    attributesWidget.conversion = conversion;\n                    attributesWidget.eventEmitter.emitEvent('conversionAdded');\n                });\n\n                // Popup open event\n                attributesWidget.eventEmitter.addListener('openPopup', function () {\n\n                    attributesWidget.popupWidget.init(attributesWidget, chatEvents);\n\n                    attributesWidget.viewHandler.removeUnreadIndicator();\n\n                    chatEvents.sendChildEvent('shownWidget', [{'sender': 'closeButton'}]);\n\n                    attributesWidget.widgetStatus.next(false);\n                });\n\n                // Chat started event received\n                // Store chat information if it's not popup mode.\n                attributesWidget.eventEmitter.addListener('chatStarted', function (data, mode) {\n\n                    attributesWidget.widgetDimesions.nextProperty('height_override', null);\n\n                    if (mode !== 'popup' || attributesWidget.kcw === true) {\n                        attributesWidget.userSession.setChatInformation(data, attributesWidget.nh && attributesWidget.nh.ap);\n\n                        if (attributesWidget.mode !== 'embed') {\n                            attributesWidget.userSession.ws = 1;\n                        }\n\n                        attributesWidget.broadcasChannel && attributesWidget.broadcasChannel.postMessage({'action':'chat_started', 'data':data, 'mode': mode});\n                        mode == 'popup' && chatEvents.sendChildEvent('reopenNotification', [{\n                            'id': data.id,\n                            'hash': data.hash\n                        }]);\n                    }\n\n                    if (mode == 'popup') {\n                        attributesWidget.mainWidget.hide();\n                    }\n\n                    // Store information permanently\n                    if (attributesWidget.fresh === false && (mode !== 'popup' || attributesWidget.kcw === true)) {\n                        attributesWidget.storageHandler.storeSessionInformation(attributesWidget.userSession.getSessionAttributes());\n                    }\n\n                });\n\n                // Subscribe event\n                attributesWidget.eventEmitter.addListener('subscribeEvent', function (data) {\n                    attributesWidget.chatNotifications.setPublicKey(data.pk, attributesWidget.eventEmitter);\n                    attributesWidget.chatNotifications.sendNotification();\n                });\n\n                // User has subscribed to notifications\n                // Send back child subscription information\n                attributesWidget.eventEmitter.addListener('subcribedEvent', function (data) {\n                    chatEvents.sendChildEvent('subcribedEvent', [data]);\n                });\n\n                var timeoutWidget = null, originalStyleSheet = null, scrollPosition = { x: 0, y: 0 };\n\n                // Track widget status changes\n                attributesWidget.widgetStatus.subscribe((data) => {\n                    if (attributesWidget.mode !== 'popup') {\n                        if (attributesWidget.mode !== 'embed') {\n                            // Do not store open status in local storage because embed is always open\n                            // attributesWidget.storageHandler.setSessionStorage(prefixStorage + '_ws', data);\n                            if (attributesWidget.userSession.id !== null || !data) {\n                                attributesWidget.userSession.ws = data ? '1' : null;\n                                attributesWidget.storageHandler.storeSessionInformation(attributesWidget.userSession.getSessionAttributes());\n                            }\n\n                            if (attributesWidget.broadcasChannel) {\n                                clearTimeout(timeoutWidget);\n                                timeoutWidget = setTimeout(function(){\n                                    attributesWidget.broadcasChannel.postMessage({'action':'wstatus','value':data});\n                                },50);\n                            }\n\n                            if (attributesWidget.isMobile == true) {\n                                if (data === true) {\n                                    scrollPosition.x = window.scrollX;\n                                    scrollPosition.y = window.scrollY;\n                                    // Save history scroll behavior to restore later\n                                    scrollPosition.scrollBehavior = history.scrollRestoration;\n                                    // Prevent browser's automatic scroll restoration\n                                    if ('scrollRestoration' in history) {\n                                        history.scrollRestoration = 'manual';\n                                    }\n                                    originalStyleSheet = document.body.style.cssText;\n                                    document.body.style.cssText = 'height: 100% !important; min-height: 100% !important; max-height: 100% !important; width: 100% !important; min-width: 100% !important; max-width: 100% !important; overflow: hidden !important; position: fixed !important;';\n                                } else if (originalStyleSheet !== null) {\n                                    document.body.style.cssText = originalStyleSheet;\n                                    originalStyleSheet = null;\n                                    // Use scrollTo with instant behavior to avoid animation\n                                    window.scrollTo({\n                                        left: scrollPosition.x,\n                                        top: scrollPosition.y,\n                                        behavior: 'instant'\n                                    });\n                                    // Restore original scroll behavior\n                                    if ('scrollRestoration' in history && scrollPosition.scrollBehavior) {\n                                        history.scrollRestoration = scrollPosition.scrollBehavior;\n                                    }\n                                }\n                            }\n                        }\n                        chatEvents.sendChildEvent('widgetStatus', [data]);\n                    }\n                });\n\n                // Store sound settings\n                attributesWidget.toggleSound.subscribe((data) => {\n                    attributesWidget.userSession.sd = !data ? '1' : null;\n                    attributesWidget.storageHandler.storeSessionInformation(attributesWidget.userSession.getSessionAttributes());\n                });\n\n                attributesWidget.onlineStatus.subscribe((data) => {\n                    chatEvents.sendChildEvent('onlineStatus', [data]);\n                });\n\n                attributesWidget.eventEmitter.addListener('screenshot', (data) => {\n                    helperFunctions.makeScreenshot(attributesWidget.staticJS['screenshot'], data);\n                });\n\n                attributesWidget.eventEmitter.addListener('screenshare', (data) => {\n                    import('./util/screenShare').then((module) => {\n                        module.screenShare.setParams((data || {}), attributesWidget, chatEvents);\n                    });\n                });\n\n                attributesWidget.eventEmitter.addListener('location', (data) => {\n                    document.location = data;\n                });\n\n                attributesWidget.eventEmitter.addListener('terminated', (data) => {\n                    attributesWidget.terminated = true;\n                    // Remove legacy dom\n                    helperFunctions.removeById(attributesWidget.prefixLowercase+'_container_v2');\n                    helperFunctions.removeById(attributesWidget.prefixLowercase+'_status_widget_v2');\n                });\n\n                attributesWidget.eventEmitter.addListener('showInvitation', (data) => {\n                    attributesWidget.widgetDimesions.nextProperty('bottom_override', 75);\n                    attributesWidget.widgetDimesions.nextProperty('right_override', 75);\n                    attributesWidget.mainWidget.showInvitation();\n                });\n\n                attributesWidget.eventEmitter.addListener('hideAction', (data) => {\n                    attributesWidget.mainWidget.hide();\n                });\n\n                attributesWidget.eventEmitter.addListener('showAction', (data) => {\n                    attributesWidget.mainWidget.show();\n                });\n\n                attributesWidget.eventEmitter.addListener('zoomImage', (data) => {\n                    import('./util/zoomImage').then((module) => {\n                        module.zoomImage.setParams((data || {}), attributesWidget, chatEvents);\n                    });\n                });\n\n                attributesWidget.eventEmitter.addListener('hideInvitation', (data) => {\n                    attributesWidget.mainWidget.hideInvitation();\n                    if (data.full) {\n                        attributesWidget.full_invitation = true;\n                        attributesWidget.eventEmitter.emitEvent('showWidget', [{'sender': 'closeButton'}]);\n                        attributesWidget.eventEmitter.emitEvent('fullInvitation', [data]);\n                    } else {\n                        attributesWidget.full_invitation = false;\n                        attributesWidget.eventEmitter.emitEvent('cancelInvitation', []);\n                    }\n                    attributesWidget.mainWidget.resizeTrigger();\n                });\n\n                attributesWidget.eventEmitter.addListener('msgSnippet', (data) => {\n                    if (attributesWidget.mode == 'widget' && attributesWidget.widgetStatus.value === false) {\n\n                        if (data.full_widget) {\n                            attributesWidget.eventEmitter.emitEvent('showWidget', [{'sender': 'closeButton'}]);\n                            return;\n                        }\n\n                        attributesWidget.position == 'api' && attributesWidget.viewHandler && attributesWidget.viewHandler.show();\n\n                        import('./lib/widgets/msgSnippetWidget').then((module) => {\n                            if (!attributesWidget.msgSnippet) {\n                                attributesWidget.msgSnippet = new module.msgSnippetWidget(attributesWidget.prefixLowercase);\n                                containerChatObj.cont.elmDom.appendChild(attributesWidget.msgSnippet.cont.constructUI(), !0);\n                                attributesWidget.msgSnippet.init(attributesWidget, data);\n                            } else {\n                                attributesWidget.msgSnippet.showSnippet(data, true);\n                            }\n                            attributesWidget.eventEmitter.emitEvent('unread_message',[{otm: 1}]);\n                        });\n                    }\n                });\n\n                attributesWidget.eventEmitter.addListener('unread_message', (data) => {\n                    if (data && data.msg_body && !attributesWidget.msgSnippet) {\n                        import('./lib/widgets/msgSnippetWidget').then((module) => {\n                            if (!attributesWidget.msgSnippet) {\n                                attributesWidget.msgSnippet = new module.msgSnippetWidget(attributesWidget.prefixLowercase);\n                                containerChatObj.cont.elmDom.appendChild(attributesWidget.msgSnippet.cont.constructUI(), !0);\n                                attributesWidget.msgSnippet.init(attributesWidget, data);\n                            }\n                        });\n                    }\n                });\n\n                attributesWidget.eventEmitter.addListener('change_language', (data) => {\n                    attributesWidget.lang = data.lng.replace('/', '') + '/';\n                });\n\n                attributesWidget.originalTitle = document.title;\n                attributesWidget.blinkInterval = null;\n                attributesWidget.titleChanged = false;\n\n                attributesWidget.eventEmitter.addListener('unread_message_title', (data) => {\n                    clearInterval(attributesWidget.blinkInterval);\n                    if (data.status == false) {\n                        attributesWidget.blinkInterval = setInterval(() => {\n                            if (Math.round(new Date().getTime() / 1000) % 2 && attributesWidget.titleChanged === false) {\n                                attributesWidget.originalTitle = document.title;\n                                document.title = ' ' + document.title;\n                                attributesWidget.titleChanged = true;\n                            } else {\n                                if (attributesWidget.titleChanged === true) {\n                                    document.title = attributesWidget.originalTitle;\n                                }\n                                attributesWidget.titleChanged = false;\n                            }\n                        }, 1000);\n                    } else {\n                        attributesWidget.focused = true;\n                        if (attributesWidget.titleChanged === true) {\n                            document.title = attributesWidget.originalTitle;\n                            attributesWidget.titleChanged = false;\n                        }\n                    }\n                });\n\n                attributesWidget.eventEmitter.addListener('widgetHeight', (data) => {\n\n                    if (data.position_placement) {\n                        attributesWidget.position_placement = data.position_placement;\n                        attributesWidget.widgetDimesions.nextProperty('position_placement', attributesWidget.position_placement);\n                        storageHandler.setSessionStorage(prefixStorage + '_pos_placement',attributesWidget.position_placement);\n                        return;\n                    }\n\n                    if (data.reset_height) {\n                        attributesWidget.widgetDimesions.nextProperty('height_override', null);\n                        attributesWidget.widgetDimesions.nextProperty('bottom_override', null);\n                        attributesWidget.widgetDimesions.nextProperty('right_override', null);\n                        attributesWidget.widgetDimesions.nextProperty('width_override', null);\n                        return;\n                    }\n\n                    if (data.force_height || data.force_width || data.force_bottom || data.force_right) {\n                        data.force_height && attributesWidget.widgetDimesions.nextProperty('height_override', data.force_height);\n                        data.force_width && attributesWidget.widgetDimesions.nextProperty('width_override', data.force_width);\n                        data.force_right && attributesWidget.widgetDimesions.nextProperty('right_override', data.force_right);\n                        data.force_bottom && attributesWidget.widgetDimesions.nextProperty('bottom_override', data.force_bottom);\n                        return;\n                    }\n\n                    if (attributesWidget.mode == 'widget' && attributesWidget.isMobile == false) {\n                        var d = document,\n                            e = d.documentElement,\n                            g = d.getElementsByTagName('body')[0],\n                            y = global.innerHeight || e.clientHeight || g.clientHeight;\n\n                        if (parseInt(data.height) > attributesWidget.widgetDimesions.value['height']) {\n                            attributesWidget.widgetDimesions.nextProperty('height_override', parseInt(data.height));\n                            attributesWidget.mainWidget.resizeTrigger();\n                        } else if (attributesWidget.widgetDimesions.value['height_override'] && attributesWidget.widgetDimesions.value['height_override'] > y) {\n                            attributesWidget.widgetDimesions.nextProperty('height_override', null);\n                        }\n                    }\n                });\n\n                var serviceWorkerAvailable = false;\n                try {\n                    serviceWorkerAvailable = ('serviceWorker' in navigator);\n                } catch (e) {\n                    // Worker not available\n                }\n\n                if (serviceWorkerAvailable === true) {\n                    try {\n                        navigator.serviceWorker.addEventListener('message', function (event) {\n                            try {\n                                if (typeof event.data.lhc_ch !== 'undefined' && typeof event.data.lhc_cid !== 'undefined') {\n                                    attributesWidget.widgetStatus.next(true);\n                                    if (attributesWidget.mode == 'popup') {\n                                        attributesWidget.userSession.setChatInformation({\n                                            'id': event.data.lhc_cid,\n                                            'hash': event.data.lhc_ch\n                                        });\n                                        attributesWidget.eventEmitter.emitEvent('unread_message');\n                                    } else {\n                                        chatEvents.sendChildEvent('shownWidget', [{'sender': 'closeButton'}]);\n                                        chatEvents.sendChildEvent('reopenNotification', [{\n                                            'id': event.data.lhc_cid,\n                                            'hash': event.data.lhc_ch\n                                        }]);\n                                    }\n                                }\n                            } catch (e) {\n                                if (lhcError) lhcError.log(e.message, \"index.js\", e.lineNumber || e.line, e.stack); else throw Error(\"lhc : \" + e.message);\n                            }\n                        });\n                    } catch (e) {\n                        // Ignore sandbox error\n                    }\n                }\n\n                // Listed for post messages\n                const handleMessages = (e) => {\n                    if (attributesWidget.terminated === true || typeof e.data !== 'string' || e.data.indexOf(attributesWidget.prefixLowercase + '::')) {\n                        if (typeof e.data === 'object' && typeof e.data.action === 'string' &&  e.data.action === \"lhc_set_var\") {\n                            Object.keys(e.data).forEach(key => {\n                                if (key !== 'action') {\n                                    if (typeof lhc_var !== 'undefined') {\n                                        lhc_var[key] = e.data[key];\n                                    }\n                                }\n                            });\n                            return;\n                        }\n                        return;\n                    }\n\n                    const parts = e.data.split('::');\n\n                    if (typeof e.origin !== 'undefined' && e.origin != 'about:') {\n                        var originDomain = e.origin.replace(\"http://\", \"\").replace(\"https://\", \"\").replace(/:(\\d+)$/, '');\n\n                        // We allow to send events only from chat installation or page where script is embeded.\n                        if (originDomain !== document.domain && attributesWidget.domain_lhc !== originDomain && [\"started\",\"isstarted\",\"addTag\",\"showWidget\"].indexOf(parts[1]) === -1) {\n                            return;\n                        }\n                    }\n\n                    if (parts[1] == 'ready') {\n\n                        chatEvents.sendReadyEvent(parts[2] == 'true');\n\n                        if (attributesWidget.storageHandler.getSessionStorage(prefixStorage + '_screenshare')) {\n                            attributesWidget.eventEmitter.emitEvent('screenshare', [{'auto_start': true}]);\n                        }\n\n                        const focusChangeCb = (e) => {\n                            const focused = e.type === \"focus\";\n                            attributesWidget.focused = focused;\n                            chatEvents.sendChildEvent('focus_changed', [{'status': focused}]);\n                        };\n\n                        window.addEventListener('focus', focusChangeCb);\n                        window.addEventListener('blur', focusChangeCb);\n                        window.addEventListener('pageshow', focusChangeCb);\n                        window.addEventListener('pagehide', focusChangeCb);\n\n                        // App is fully loaded\n                        lhc.loaded = true;\n\n                        chatEvents.sendChildEvent('ext_modules', [attributesWidget.staticJS['ex_cb_js']]);\n\n                        // send child commands if there is any\n                        attributesWidget.childExtCommands.forEach((params) => {\n                            chatEvents.sendChildEvent(params['cmd'], [params['arg']], 'lhc_load_ext');\n                        });\n\n                        // send child commands if there is any\n                        attributesWidget.childCommands.forEach((params) => {\n                            chatEvents.sendChildEvent(params['cmd'], [params['arg']]);\n                        });\n\n                        if (attributesWidget.react_attr !== null) {\n                            attributesWidget.react_attr.forEach(item => {\n                                chatEvents.sendChildEvent('attr_set',[{\n                                    'type':'attr_set','attr': item['k'],\n                                    data : item['v']\n                                }]);\n                            })\n                        }\n\n                    } else if (parts[1] == 'ready_popup') {\n                        attributesWidget.popupWidget.sendParameters(chatEvents);\n\n                        // Send directly response\n                        attributesWidget.popupWidget.attributes = attributesWidget;\n                        e.source.postMessage('lhc_event:jsVars::' + JSON.stringify([attributesWidget.popupWidget.getAttributesToSent()]), e.origin);\n                    } else if (parts[1] == 'isstarted') {\n                        // Parent window has LHC, terminate present instance\n                        attributesWidget.eventEmitter.emitEvent('terminated', []);\n                    } else if (parts[1] == 'started') {\n                        if (attributesWidget.hide_parent) {\n                            attributesWidget.eventEmitter.emitEvent('terminated', []);\n                        } else {\n                            e.source.postMessage('lhc::isstarted','*');\n                        }\n                    } else {\n                        attributesWidget.eventEmitter.emitEvent(parts[1], JSON.parse(parts[2]));\n                    }\n                };\n\n                if (window.addEventListener) {\n                    window.addEventListener(\"message\", handleMessages, false);\n                } else if (window.attachEvent) {\n                    window.attachEvent(\"onmessage\", handleMessages);\n                } else if (document.attachEvent) {\n                    document.attachEvent(\"onmessage\", handleMessages);\n                }\n            };\n\n            var preInit = () => {\n\n                // Avoid multiple times execution\n                if (lhc.ready === true) {\n                    return;\n                }\n\n                // we have found document body so we can continue\n                if (document.body) {\n                    lhc.ready = true;\n                } else {\n                    // Document body does not exists\n                    return;\n                }\n\n                lhc.init = init;\n\n                if (LHC_API.args.before_init) {\n                    LHC_API.args.before_init(lhc);\n                }\n\n                LHC_API.args.manual_init || init();\n            };\n\n            const eventsHandler = require('./util/domEventsHandler').domEventsHandler;\n\n            (preInit(), !lhc.ready) || (eventsHandler.listen(document, \"DOMContentLoaded\", function () {\n                preInit();\n            }, \"domloaded\"),\n                eventsHandler.listen(document, \"readystatechange\", function () {\n                    (\"complete\" === document.readyState || \"interactive\" === document.readyState && document.body) && preInit();\n                }, \"domstatechange\"),\n                eventsHandler.listen(global, \"load\", function () {\n                    preInit();\n                }, \"windowload\"));\n\n        }).call(this, global['$_' + scopeScript], global[scopeScript + '_API']);\n\n    } catch (e) {\n        if (lhcError) lhcError.log(e.message, \"index.js\", e.lineNumber || e.line, e.stack); else throw Error(\"lhc : \" + e.message);\n    }\n\n})(window);"],"names":["rawAsap","freeTasks","pendingErrors","requestErrorThrow","makeRequestCallFromTimer","length","shift","asap","task","rawTask","pop","RawTask","this","module","exports","prototype","call","error","onerror","push","queue","requestFlush","index","flush","currentIndex","scan","newLength","toggle","observer","node","scope","g","self","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","callback","timeoutHandle","setTimeout","handleTimer","intervalHandle","setInterval","clearTimeout","clearInterval","document","createTextNode","observe","characterData","data","UIConstructorIframe","_UIConsturctor","elementId","style","attributes","tagname","documentRef","_this","_classCallCheck","bodyId","_inherits","_createClass","key","value","dir","cl","header","disableViewPort","elmDomDoc","helperFunctions","getDocument","elmDom","getElementsByTagName","innerHTML","body","id","html","setAttribute","nodeDoctype","implementation","createDocumentType","doctype","replaceChild","insertBefore","childNodes","e","console","log","insertCssFile","insertContent","tmpl","UIConsturctor","f","tagName","classNames","Object","keys","forEach","attr","a","initElement","className","join","cssText","c","d","k","getElementById","split","domEventsHandler","listen","restyle","reset","createDocumentFragment","type","settings","ResetStyle","appendChild","styleSheet","nodeValue","elm","href","createElement","b","rel","crossOrigin","src","async","loadcb","onload","hasOwnProperty","chatNotifications","_chatNotifications","isNotificationsSubscribed","applicationServerPublicKey","eventEmitter","publicKey","that","swRegistration","navigator","window","Notification","permission","requestPermission","alert","serviceWorker","register","then","swReg","pushManager","getSubscription","subscription","applicationServerKey","base64String","base64","repeat","replace","rawData","atob","outputArray","Uint8Array","i","charCodeAt","urlB64ToUint8Array","subscribe","getKey","token","contentEncoding","PushManager","supportedContentEncodings","payload","JSON","stringify","endpoint","btoa","String","fromCharCode","apply","authToken","emitEvent","updateSubscriptionOnServer","_helperFunctions","s","contentWindow","contentDocument","EId","EObj","parentNode","removeChild","Intl","DateTimeFormat","resolvedOptions","timeZone","Date","stdTimezoneOffset","jan","getFullYear","jul","Math","max","getTimezoneOffset","dst","today","params","outline","visibility","resize","boxshadow","overflow","background","opacity","top","right","bottom","left","position","border","minheight","minwidth","maxheight","maxwidth","padding","margin","transition","transform","width","height","display","zindex","backgroundcolor","cursor","borderRadius","element","classList","contains","match","RegExp","add","hasClass","remove","screenshot","url","html2canvas","th","onreadystatechange","makeScreenshot","canvas","xhr","XMLHttpRequest","open","setRequestHeader","send","encodeURIComponent","toDataURL","err","item","pairs","request","urlRequest","makeQuery","readyState","status","parse","responseText","message","req","containerChat","prefix","pnode","cont","constructUI","mainWidget","units","originalCSS","bottom_override","is_invitation","is_loaded","widget_rendered","getAbstractStyle","isLoaded","loadStatus","main","css","theme","font_status","font_preload","css_preload","restyleStyle","position_placement","mode","fscreen","massRestyle","eldoc","loadApp","wloaded","next","isMobile","constructUIIframe","staticJS","hhtml","viewport_enabled","cont_ss","lazyLoad","makeContent","getSessionAttributes","bootstrap","toggleVisibilityWrap","toggleVisibility","widgetStatus","monitorDimensionsWrap","monitorDimensions","widgetDimesions","valueInternal","screenAttributesUpdate","full_invitation","documentElement","scrollHeight","offsetHeight","clientHeight","innerHeight","clinst","nextPropertySilent","innerWidth","callListeners","addEventListener","addListener","_this2","insertCssRemoteFile","checkLoadStatus","LHC_API","args","lhc_base_url","theme_v","_this3","insertJSFile","checkLoadApp","prefixLowercase","hide","show","width_override","width_soverride","height_soverride","height_override","wbottom","right_override","wright_inv","wright","mainWidgetPopup","freeup","argumentsQuery","Array","paramsReturn","LHCChatOptions","name","encrypted","size","attr_prefill","attr_prefill_admin","chatEvents","paramsPopup","elementReferrerPopup","closed","event","preventDefault","focus","urlArgumetns","storageHandler","cookieEnabled","toggleSound","setSessionStorage","fontSize","getLocalStorage","parseInt","getSessionReferrer","parseOptions","dualScreenLeft","undefined","screenLeft","screenX","dualScreenTop","screenTop","screenY","clientWidth","screen","systemZoom","availWidth","paramsWindow","newWin","needWindow","windowCreated","location","viewHandler","shadowRoot","click","kcw","sendChildEvent","getAttributesToSent","js_vars","js_args","currentVar","eval","var","_arrayLikeToArray","r","n","_isNativeReflectConstruct","t","Boolean","valueOf","Reflect","construct","_wrapNativeSuper","Map","Function","toString","indexOf","TypeError","has","get","set","Wrapper","arguments","o","p","bind","setPrototypeOf","getPrototypeOf","constructor","create","enumerable","writable","configurable","LHCStatusWidget","_HTMLElement","attachShadow","_ee","ee","setProperty","orientation","textContent","getAttribute","content","contentShadow","firstChild","initX","initY","rect","getBoundingClientRect","verticalSpace","getComputedStyle","matrix","DOMMatrixReadOnly","m42","m41","abs","dispatchEventStatus","firstX","firstY","lastTouch","object","objectMoved","moveAction","dragEnabled","mouseUp","removeEventListener","dragIt","verifyPosition","XPos","pageX","YPos","pageY","touchEnd","swipeIt","resetVertical","switchVerticalTop","switchVerticalBottom","posYHistory","posY","need_reposition","is_right_side","transitionDuration","contact","touches","touch","HTMLElement","statusWidget","version","controlMode","showDelay","statusDelayProcessed","componentId","customElements","define","entries","_ref","_ref2","isArray","l","Symbol","iterator","u","done","slice","from","test","v","font","widget","shidden","lload","unread_counter","onlineStatus","icon","leaveMessage","removeClass","addClass","sload","placement","sbottom","sright","drag_enabled","positionPrevious","getSessionStorage","placementRestored","status_position","setContent","attachEvents","_inst","offline_redirect","toggleOfflineIcon","chatParams","unreadMessagesNumber","unreadTotal","otm","showUnreadIndicator","init","isNaN","now","removeUnreadIndicator","number","iconText","iconValue","innerText","removeSessionStorage","_this4","hideOffline","chatEventsHandler","getJSVarsValues","jsVars","prefillOptions","fieldsCustom","prefilOptionsList","concat","getPrefillVars","command","postMessage","isIE","popupWidget","popup","getInitAttributes","sendChildCommand","_domEventsHandler","events","dispatch","getEvent","attachEvent","eventName","presentEvent","removeEventHandler","eventListener","listener","detachEvent","eventInstance","caller","Event","monitoredVariable","listeners","val","splice","ignoreSub","global","domain","cookiesSupportChecked","checkCookiesSupport","secureCookie","cookiePerPage","hasSessionStorage","sessionStorage","hasLocalStorage","localStorage","cookie","coookieName","cookieValue","expireTime","string","setTime","getTime","toGMTString","cookieName","baseCookie","charAt","substring","host","hostname","setItem","removeItem","getItem","ref","sessionInformation","getHTTPCookie","parseSessionInformation","setHTTPCookie","getStoreValue","getCookieDomain","contentReturn","parts","unescape","userSession","vid","hnh","withCredentials","hash","ws","sd","updateVarsTimeout","decode","evalJSON","str","$","parseJSON","toJSON","encode","cb","lhc_var","validator","obj","prop","updateJSVars","ignoreVars","broadcasChannel","Proxy","lhc_var_prefill","getAppendVariables","varsReturn","varsSet","getVars","jsVarData","append","varsJSON","vars_encrypted","origin","vars","alwaysPersistentNeedHelp","round","appleIphone","appleIpod","appleTablet","appleUniversal","androidPhone","androidTablet","amazonPhone","amazonTablet","windowsPhone","windowsTablet","otherBlackBerry","otherBlackBerry10","otherOpera","otherChrome","otherFirefox","isAppleTabletOnIos13","platform","maxTouchPoints","MSStream","param","nav","userAgent","tmp","regex","createMatch","result","apple","phone","ipod","tablet","universal","device","amazon","android","windows","other","blackberry","blackberry10","opera","firefox","chrome","any","noop","LAST_ERROR","IS_ERROR","Promise","fn","_x","_y","_z","_A","doResolve","handle","deferred","_B","onFulfilled","onRejected","ret","ex","tryCallOne","reject","promise","resolve","handleResolved","newValue","getThen","finale","_C","Handler","res","reason","tryCallTwo","_D","safeThen","TRUE","valuePromise","FALSE","NULL","UNDEFINED","ZERO","EMPTYSTRING","iterableToArray","iterable","x","onSettledFulfill","onSettledReject","mapAllSettled","getAggregateError","errors","AggregateError","Error","all","arr","remaining","allSettled","map","race","values","promises","hasResolved","rejectionReasons","resolveOnce","rejectionCheck","finally","denodeify","argumentCount","Infinity","callbackFn","denodeifyWithCount","fnLength","_","denodeifyWithoutCount","nodeify","ctx","enableSynchronous","isPending","getState","isFulfilled","isRejected","getValue","getReason","disableSynchronous","EventEmitter","proto","originalGlobalValue","indexOfListener","alias","isValidListener","getListeners","evt","response","_getEvents","flattenListeners","flatListeners","getListenersAsObject","listenerIsWrapped","once","on","addOnceListener","defineEvent","defineEvents","evts","removeListener","off","addListeners","manipulateListeners","removeListeners","single","multiple","removeEvent","_events","removeAllListeners","listenersMap","_getOnceReturnValue","trigger","emit","setOnceReturnValue","_onceReturnValue","noConflict","toPropertyKey","toPrimitive","_defineProperties","defineProperty","_getPrototypeOf","__proto__","_possibleConstructorReturn","ReferenceError","_setPrototypeOf","_typeof","__webpack_module_cache__","inProgress","dataWebpackPrefix","__webpack_require__","moduleId","cachedModule","__webpack_modules__","m","getter","__esModule","definition","chunkId","reduce","globalThis","script","needAttach","scripts","charset","timeout","nc","onScriptComplete","prev","doneFns","target","head","toStringTag","installedChunks","j","installedChunkData","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","some","chunkLoadingGlobal","currentScript","scopeScript","lhcError","filename","lineNumber","stack","column","file","line","lineno","colno","lhc","loaded","connected","ready","require","default","BehaviorSubject","mobile_view","toLowerCase","prefixStorage","scope_storage","cookieEnabledUser","cookie_enabled","userMode","orig","proactive","check_messages","cookie_per_page","setCookiePerPage","referrer","substr","protocol","setSessionReferer","languageOverride","lang","attributesWidget","terminated","prefixScope","msgSnippet","react_attr","hide_parent","hide_iframe","animate_nh","hide_status","msgsnippet_status","offline","toUpperCase","assign","fresh","popupDimesnions","pheight","pwidth","leaveamessage","department","dep_default","product","domain_lhc","instance_id","BroadcastChannel","profile_pic","position_placement_original","base_url","tag","status_delay","captcha","focused","identifier","proactive_interval","langOverride","subject_id","bot_id","trigger_id","priority","conversion","survey","operator","phash","pvhash","nh","init_calls","childCommands","childExtCommands","wwidth","wheight","setAttributes","setSessionInformation","getSessionInformation","setSessionReferrer","containerChatObj","embedWrapper","getArguments","UUID","getVID","getTzOffset","title","showNeedHelp","needhelpWidget","showProactive","proactiveChat","setParams","makeRequest","startsWith","wv","terminate","chat_ui","isOnline","parent","__webpack_public_path__","chunks_location","secure_cookie","setSecureCookie","setCookieDomain","siteaccess","static","pdim","survey_id","cont_css","wposition","core_position","ts","hash_ts","setVID","storeSessionInformation","nextProperty","viewport","mobile_popup","sound_enabled","check_status","activityMonitoring","track_mouse","track_activity","ga","analyticEvents","ap","setupVarsMonitoring","prefillVars","ll","disable_proactive","extension","nodeJSChat","removeById","po","getHours","getMinutes","action","setChatInformation","sessionAtrribute","widgetRendered","hideInvitation","setPublicKey","pk","sendNotification","timeoutWidget","originalStyleSheet","scrollPosition","y","scrollX","scrollY","scrollBehavior","history","scrollRestoration","scrollTo","behavior","screenShare","showInvitation","zoomImage","full","resizeTrigger","full_widget","showSnippet","msgSnippetWidget","msg_body","lng","originalTitle","blinkInterval","titleChanged","reset_height","force_height","force_width","force_bottom","force_right","serviceWorkerAvailable","lhc_ch","lhc_cid","handleMessages","originDomain","sendReadyEvent","focusChangeCb","sendParameters","source","preInit","before_init","manual_init","eventsHandler"],"sourceRoot":""}