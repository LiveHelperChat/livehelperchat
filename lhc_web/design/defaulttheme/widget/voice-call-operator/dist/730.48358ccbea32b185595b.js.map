{"version":3,"file":"730.48358ccbea32b185595b.js","mappings":"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","sources":["webpack://LHCVoiceCallAPP/./src/components/parts/VideoStream.js","webpack://LHCVoiceCallAPP/./src/components/parts/MediaStream.js","webpack://LHCVoiceCallAPP/./src/components/VoiceCall.js","webpack://LHCVoiceCallAPP/./src/lib/useInterval.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nconst VideoStream = props => {\n\n    const [isFullScreen, setFullScreen] = useState(false);\n    \n    useEffect(() => {\n        props.user.videoTrack.play('player-'+props.user.uid);\n    },[]);\n    \n    return <div className={(isFullScreen ? \"col-12\" : \"col\")+\" bg-light m-0 align-middle text-center d-flex p-0\"} id={\"player-\"+props.user.uid} title={\"UID \"+props.user.uid}>\n        <div className=\"full-screen-icon\" onClick={(e) => setFullScreen(!isFullScreen)}>\n            <span className=\"material-icons\">{isFullScreen ? 'fullscreen_exit' : 'fullscreen'}</span>\n        </div>\n    </div>\n}\n\nexport default VideoStream;","import React, { useEffect } from \"react\";\nimport VideoStream from \"./VideoStream\";\n\nimport {useTranslation} from 'react-i18next';\n\nconst MediaStream = props => {\n\n    const { t, i18n } = useTranslation('voice_call');\n\n    if (props.video == true) {\n        return <VideoStream user={props.user} key={\"video-stream-\"+props.user.uid} />\n    } else {\n        return (<div className=\"col bg-light m-0 align-middle text-center d-flex p-0\" id={\"player-\"+props.user.uid} title={\"UID \"+props.user.uid}>\n                    <div className=\"align-self-center mx-auto text-muted font-weight-bold\" title={\"UID \"+props.user.uid}><span className=\"material-icons\">graphic_eq</span>{t('voice_call.audio_call')}</div>\n               </div>)\n\n    }\n}\n\nexport default MediaStream;","import React, { useEffect, useState, useReducer, useRef, useBoolean } from \"react\";\nimport axios from \"axios\";\nimport {useTranslation} from 'react-i18next';\nimport useInterval from \"../lib/useInterval\";\nimport AgoraRTC from \"agora-rtc-sdk-ng\"\nimport MediaStream from \"./parts/MediaStream\";\n\nconst client = AgoraRTC.createClient({ mode: \"rtc\", codec: \"vp8\" });\n\nfunction reducer(state, action) {\n    switch (action.type) {\n\n        case 'update': {\n            return { ...state, ...action.value }\n        }\n\n        case 'user_published': {\n\n            if (typeof state.remoteUsers[action.user.uid] == 'undefined') {\n                var obj =  {'user' : action.user, video: (action.media == 'video'), audio: (action.media == 'audio'), media : [action.media]};\n                state.remoteUsers[action.user.uid] = obj;\n            } else {\n                if (action.media == 'audio') {\n                    state.remoteUsers[action.user.uid].audio = true;\n                } else if (action.media == 'video') {\n                    state.remoteUsers[action.user.uid].video = true;\n                }\n\n                state.remoteUsers[action.user.uid].media.push(action.media);\n            }\n\n            return { ...state}\n        }\n\n        case 'user_update': {\n            if (typeof state.remoteUsers[action.user.uid] != 'undefined') {\n                if (action.media == 'audio') {\n                    state.remoteUsers[action.user.uid].audio = false;\n                } else if (action.media == 'video') {\n                    state.remoteUsers[action.user.uid].video = false;\n                }\n                state.remoteUsers[action.user.uid];\n            }\n            return { ...state}\n        }\n\n        case 'user_unpublished': {\n            delete state.remoteUsers[action.user.uid];\n            return { ...state}\n        }\n\n        default:\n            throw new Error('Unknown action!');\n    }\n}\n\nconst VoiceCall = props => {\n\n    const [state, dispatch] = useReducer(reducer, {\n        call : {},\n        localTracks : {\n            videoTrack : null,\n            audioTrack: null\n        },\n        hasAudio: false,\n        hasVideo: false,\n        screenShare: false,\n        remoteUsers : {},\n        uid : null,\n        inCall: false,\n        pendingJoin: false,\n        type: \"\",\n        isMuted : false\n    });\n\n    const STATUS_OP_PENDING = 0;\n    const STATUS_OP_JOINED = 1;\n\n    const STATUS_VI_PENDING = 0;\n    const STATUS_VI_REQUESTED = 1;\n    const STATUS_VI_JOINED = 2;\n\n    const STATUS_PENDING = 0;\n    const STATUS_CONFIRM = 1;\n    const STATUS_CONFIRMED = 2;\n\n    const chatsRef = useRef(state);\n\n    useEffect(\n        () => { chatsRef.current = state },\n        [state]\n    )\n\n    useEffect(() => {\n\n        updateUI();\n\n        AgoraRTC.getDevices()\n            .then(devices => {\n\n                const audioDevices = devices.filter(function(device){\n                    return device.kind === \"audioinput\";\n                });\n\n                const videoDevices = devices.filter(function(device){\n                    return device.kind === \"videoinput\";\n                });\n\n                dispatch({\n                    type: 'update',\n                    value: {\n                        \"hasAudio\" : (audioDevices.length > 0),\n                        \"hasVideo\" : (videoDevices.length > 0)\n                    }\n                });\n            });\n    },[]);\n\n    const { t, i18n } = useTranslation('voice_call');\n\n    const requestJoin = (type) => {\n\n        var url = null;\n\n        if (props.isVisitor === true) {\n            url = WWW_DIR_JAVASCRIPT  + \"voicevideo/join/\" + props.initParams.id + '/' + props.initParams.hash + '/(action)/request';\n        } else {\n            url = WWW_DIR_JAVASCRIPT  + \"voicevideo/joinop/\" + props.initParams.id + '/(action)/join';\n        }\n\n        axios.post(url, {\n            \"type\" : type\n        }).then(result => {\n            dispatch({\n                type: 'update',\n                value: {\n                    \"call\" : result.data,\n                    \"type\" : type,\n                    \"pendingJoin\" : true\n                }\n            });\n        });\n    }\n\n    const cancelJoin = async (type) => {\n\n        var url = null;\n\n        if (props.isVisitor === true) {\n            url = WWW_DIR_JAVASCRIPT  + \"voicevideo/join/\" + props.initParams.id + '/' + props.initParams.hash + '/(action)/' + type;\n        } else {\n            url = WWW_DIR_JAVASCRIPT  + \"voicevideo/joinop/\" + props.initParams.id + '/' + '/(action)/' + type;\n        }\n\n        axios.get(url).then(result => {\n            dispatch({\n                type: 'update',\n                value: {\n                    \"call\" : result.data\n                }\n            });\n        });\n\n        if (type == 'leave' || type == 'end' || type == 'cancel')\n        {\n\n            Object.keys(state.localTracks).forEach(trackName => {\n                var track = state.localTracks[trackName];\n                if (track) {\n                    track.stop();\n                    track.close();\n                    state.localTracks[trackName] = undefined;\n                }\n            })\n\n            dispatch({\n                type: 'update',\n                value: {\n                    \"remoteUsers\" : {},\n                    \"uid\": null,\n                    \"inCall\": false,\n                    \"localTracks\" : {\n                        videoTrack : null,\n                        audioTrack: null\n                    }\n                }\n            });\n\n            // leave the channel\n           await client.leave();\n        }\n    }\n\n    const muteMicrophone = () => {\n        if (state.localTracks.audioTrack !== null) {\n            state.localTracks.audioTrack.setEnabled(state.isMuted);\n            dispatch({\n                type: 'update',\n                value: {\n                    \"isMuted\" : !state.isMuted\n                }\n            });\n        }\n    }\n\n    const updateUI = () => {\n        var url = null;\n\n        if (props.isVisitor === true) {\n            url = WWW_DIR_JAVASCRIPT + \"voicevideo/join/\" + props.initParams.id + '/' + props.initParams.hash;\n        } else {\n            url = WWW_DIR_JAVASCRIPT  + \"voicevideo/joinop/\" + props.initParams.id;\n        }\n\n        axios.get(url).then(result => {\n            dispatch({\n                type: 'update',\n                value: {\n                    \"call\" : result.data\n                }\n            });\n        });\n    }\n\n    useInterval(\n        () => {\n            updateUI()\n        },\n        (state.call.status != STATUS_CONFIRMED || state.call.vi_status != STATUS_VI_JOINED || state.call.op_status != STATUS_OP_JOINED) ? 2000 : null\n    );\n\n    const subscribe = async (user, mediaType) => {\n\n        const uid = user.uid;\n\n        // subscribe to a remote user\n        await client.subscribe(user, mediaType);\n\n        dispatch({\n            type: 'user_published',\n            media: mediaType,\n            user: user\n        });\n\n        if (mediaType === 'audio') {\n            user.audioTrack.play();\n        }\n    }\n\n    const handleUserPublished = (user, mediaType) =>  {\n        subscribe(user, mediaType);\n    }\n\n    const handleUserLeft = (user) => {\n        dispatch({\n            type: 'user_unpublished',\n            user: user\n        });\n        updateUI();\n    }\n\n    const handleUserUnpublished = (user, mediaType) => {\n        dispatch({\n            type: 'user_update',\n            media: mediaType,\n            user: user\n        });\n    }\n\n    // Auto join leave for an operator\n    useEffect(() => {\n        if (props.isVisitor === true && state.pendingJoin == true) {\n            if (state.call.vi_status === STATUS_VI_JOINED) {\n                join(state.call);\n            } else if (state.inCall === true && state.call.vi_status !== STATUS_VI_JOINED) {\n                cancelJoin('cancel');\n            }\n        }\n    },[state.call.vi_status, state.pendingJoin]);\n\n    // Auto join for the operator\n    useEffect(() => {\n        if (state.call.op_status === STATUS_OP_JOINED && props.isVisitor === false && state.inCall === false && state.pendingJoin == true) {\n            join(state.call);\n        }\n    },[state.call.op_status, state.pendingJoin]);\n\n    const screenShare = async () => {\n\n        if (state.screenShare == true) {\n\n            let localTracks = state.localTracks;\n\n            if (localTracks.videoTrack) {\n                await client.unpublish(localTracks.videoTrack);\n                localTracks.videoTrack.stop();\n                localTracks.videoTrack.close();\n            }\n\n            localTracks.videoTrack = null;\n\n            dispatch({\n                type: 'update',\n                value: {\n                    \"inCall\": true,\n                    \"screenShare\": false,\n                    \"localTracks\" : localTracks\n                }\n            });\n\n            // Add camera back if it was required\n            if (state.type == \"audiovideo\") {\n                addCamera();\n            }\n\n            return ;\n        }\n\n        try {\n            const screenTrack = await AgoraRTC.createScreenVideoTrack(  );\n\n            let localTracks = state.localTracks;\n\n            if (state.localTracks.videoTrack) {\n                await client.unpublish(state.localTracks.videoTrack);\n                state.localTracks.videoTrack.stop();\n                state.localTracks.videoTrack.close();\n            }\n\n            localTracks.videoTrack = screenTrack;\n            localTracks.videoTrack.play(\"local-player\");\n\n            dispatch({\n                type: 'update',\n                value: {\n                    \"inCall\": true,\n                    \"screenShare\": true,\n                    \"localTracks\" : localTracks,\n                }\n            });\n\n            await client.publish(screenTrack);\n\n        } catch (e) {\n            alert('Screen could not be shared!');\n        }\n    }\n\n    const addCamera = async () => {\n\n        if (state.localTracks.videoTrack && state.localTracks.videoTrack !== null) {\n\n            let localTracks = state.localTracks;\n\n            if (localTracks.videoTrack) {\n                await client.unpublish(localTracks.videoTrack);\n                localTracks.videoTrack.stop();\n                localTracks.videoTrack.close();\n            }\n\n            localTracks.videoTrack = null;\n\n            dispatch({\n                type: 'update',\n                value: {\n                    \"inCall\": true,\n                    \"type\": \"audio\",\n                    \"localTracks\" : localTracks\n                }\n            });\n\n            return ;\n\n        } else {\n\n            const videoTrack = await AgoraRTC.createCameraVideoTrack();\n\n            let localTracks = state.localTracks;\n\n            localTracks.videoTrack = videoTrack;\n            localTracks.videoTrack.play(\"local-player\");\n\n            dispatch({\n                type: 'update',\n                value: {\n                    \"inCall\": true,\n                    \"type\": \"audiovideo\",\n                    \"localTracks\" : localTracks,\n                }\n            });\n\n            await client.publish(videoTrack);\n        }\n\n    }\n\n    const tokenWillExpire = () => {\n\n        var url = null;\n\n        if (props.isVisitor === true) {\n            url = WWW_DIR_JAVASCRIPT  + \"voicevideo/join/\" + props.initParams.id + '/' + props.initParams.hash + '/(action)/token';\n        } else {\n            url = WWW_DIR_JAVASCRIPT  + \"voicevideo/joinop/\" + props.initParams.id + '/' + '/(action)/token';\n        }\n\n        axios.get(url).then( result => {\n            dispatch({\n                type: 'update',\n                value: {\n                    \"call\" : result.data\n                }\n            });\n\n            client.renewToken(result.data.token);\n        });\n\n    }\n\n    const join = async (data) => {\n\n        if (state.inCall === true || (props.isVisitor === true && data.vi_status != STATUS_VI_JOINED) ) {\n            return;\n        }\n\n        // add event listener to play remote tracks when remote user publishs.\n        client.on(\"user-published\", handleUserPublished);\n        client.on(\"user-unpublished\", handleUserUnpublished);\n        client.on(\"user-left\", handleUserLeft);\n        client.on(\"token-privilege-will-expire\", tokenWillExpire);\n\n        var uui = await client.join(props.initParams.appid, props.initParams.id + '_' + props.initParams.hash, data.token || null);\n        var localTracks = {\n            audioTrack : await AgoraRTC.createMicrophoneAudioTrack()\n        };\n\n        if (state.type == \"audiovideo\" || (props.isVisitor == true && state.call.video == 1)) {\n            localTracks.videoTrack = await AgoraRTC.createCameraVideoTrack();\n            localTracks.videoTrack.play(\"local-player\");\n        }\n\n        dispatch({\n            type: 'update',\n            value: {\n                \"uid\" : uui,\n                \"inCall\": true,\n                \"localTracks\" : localTracks,\n            }\n        });\n\n        await client.publish(Object.values(localTracks));\n    }\n\n    return (\n        <React.Fragment>\n            <div className=\"d-flex flex-md-row flex-column flex-grow-1 pt-0\">\n                <div className=\"col bg-light m-0 align-middle text-center d-flex p-0\" title={\"UID \"+state.uid} id=\"local-player\">\n                    {props.isVisitor == true && state.call.vi_status == STATUS_VI_REQUESTED && <div className=\"align-self-center mx-auto text-muted fw-bold\">{t('voice_call.wait_join_long')}</div>}\n                    {state.localTracks.videoTrack == null && state.inCall == true && <div className=\"align-self-center mx-auto text-muted fw-bold\"><span className=\"material-icons\">graphic_eq</span>{t('voice_call.me_audio')}</div>}\n                </div>\n                {state.inCall == true && Object.keys(state.remoteUsers).map((val, k) => {\n                    return (<MediaStream user={state.remoteUsers[val].user} key={\"media_\" + (state.remoteUsers[val].user.uid) + '_' + state.remoteUsers[val].media.join('_')} audio={state.remoteUsers[val].audio} video={state.remoteUsers[val].video} media={state.remoteUsers[val].media} />)\n                })}\n            </div>\n            <div className=\"row border-top\">\n\n                <div className=\"btn-toolbar p-2 text-center mx-auto btn-toolbar\" role=\"toolbar\" >\n\n                    <div className=\"p-2 text-center mx-auto btn-group\" role=\"group\">\n                        {props.isVisitor == true && state.call.vi_status == STATUS_VI_REQUESTED && <span className=\"text-muted py-2\">{t('voice_call.wait_let_in')} </span>}\n                        {props.isVisitor == true && (state.call.vi_status == STATUS_VI_PENDING || state.pendingJoin === false) && <span className=\"text-muted py-2\">{t('voice_call.join_to_start')} </span>}\n\n                        {props.isVisitor == false && state.call.vi_status == STATUS_VI_JOINED && <span className=\"text-muted py-2\">{t('voice_call.visitor_joined')}</span>}\n                        {props.isVisitor == false && state.call.vi_status == STATUS_VI_PENDING && <span className=\"text-muted py-2\">{t('voice_call.pending_visitor_join')}</span>}\n                        {props.isVisitor == false && state.call.vi_status == STATUS_VI_REQUESTED && <span className=\"text-muted py-2\">{t('voice_call.visitor_waiting_in')}</span>}\n                    </div>\n\n                    <div className=\"p-2 text-center mx-auto btn-group\" role=\"group\">\n                        {props.isVisitor == false && state.call.token != '' && state.call.vi_status == STATUS_VI_REQUESTED && <button className=\"btn btn-sm btn-outline-primary\" onClick={() => cancelJoin('letvisitorin')} ><span className=\"material-icons\">face</span>{t('voice_call.let_visitor_in')}</button>}\n\n                        {props.isVisitor == false && state.inCall == true && <React.Fragment>\n                            <button title={t('voice_call.leave_a_call')} className=\"btn btn-sm btn-outline-secondary\" onClick={() => cancelJoin('leave')}><span className=\"material-icons\">exit_to_app</span>{t('voice_call.leave_call_op')}</button>\n                            <button title={t('voice_call.end_call_op')} className=\"btn btn-sm btn-outline-secondary\" onClick={() => cancelJoin('end')}><span className=\"material-icons\">call_end</span>{t('voice_call.end_call_button')}</button>\n                            <button title={state.isMuted == true ? t('voice_call.unmute_mic') : t('voice_call.mute_mic')} className=\"btn btn-sm btn-outline-secondary\" onClick={() => muteMicrophone()} ><span className=\"material-icons mr-0\">{state.isMuted == true ? 'mic_off' : 'mic'}</span></button>\n                            {props.initParams.options.video == true && state.hasVideo === true && <button className=\"btn btn-sm btn-outline-secondary\" disabled={state.screenShare} onClick={() => addCamera()} title={state.type == \"audio\" ? t('voice_call.share_video') : t('voice_call.stop_sharing_video') }><span className=\"material-icons mr-0\">{(state.type == \"audio\" || state.screenShare == true) ? 'videocam_off' : 'videocam'}</span></button>}\n                            {props.initParams.options.screenshare == true && <button className=\"btn btn-sm btn-outline-secondary\" onClick={() => screenShare()} title={state.screenShare == true ? t('voice_call.stop_share_screen') : t('voice_call.share_your_screen')}><span className=\"material-icons mr-0\">{state.screenShare == true ? 'stop_screen_share' : 'screen_share'}</span></button>}\n                        </React.Fragment>}\n\n                        {((props.isVisitor == false && state.call.op_status == STATUS_OP_PENDING) || (props.isVisitor == true && state.call.vi_status == STATUS_VI_PENDING) || state.pendingJoin == false) && <React.Fragment>\n                            {state.hasAudio === true && <button className=\"btn btn-sm btn-outline-secondary\" onClick={() => requestJoin('audio')}><span className=\"material-icons\">call</span>{t('voice_call.join_with_audio')}</button>}\n                            {props.initParams.options.video == true && state.hasVideo === true && <button className=\"btn btn-sm btn-outline-secondary\" onClick={() => requestJoin('audiovideo')}><span className=\"material-icons\">video_call</span>{t('voice_call.join_with_audio_video')}</button>}\n                        </React.Fragment>}\n\n                        {props.isVisitor == true && state.inCall == true && <React.Fragment>\n                            <button className=\"btn btn-outline-primary btn-sm\" onClick={() => cancelJoin('cancel')} ><span className=\"material-icons\">call_end</span>{t('voice_call.leave_room')}</button>\n                            <button title={state.isMuted == true ? t('voice_call.unmute_mic') : t('voice_call.mute_mic')} className=\"btn btn-outline-secondary btn-sm\" onClick={() => muteMicrophone()} ><span className=\"material-icons mr-0\">{state.isMuted == true ? 'mic_off' : 'mic'}</span></button>\n                            {props.initParams.options.video == true && state.hasVideo === true && <button disabled={state.screenShare} className=\"btn btn-outline-secondary btn-sm\" onClick={() => addCamera()} title={state.type == \"audio\" ? t('voice_call.share_video') : t('voice_call.stop_sharing_video')} ><span className=\"material-icons mr-0\">{(state.type == \"audio\" || state.screenShare == true) ? 'videocam_off' : 'videocam'}</span></button>}\n                            {props.initParams.options.screenshare == true && <button className=\"btn btn-outline-secondary btn-sm\" onClick={() => screenShare()} title={state.screenShare == true ? t('voice_call.stop_share_screen') : t('voice_call.share_your_screen')}><span className=\"material-icons mr-0\">{state.screenShare == true ? 'stop_screen_share' : 'screen_share'}</span></button>}\n                        </React.Fragment>}\n\n                        {props.isVisitor == true && state.pendingJoin === true && state.call.vi_status == STATUS_VI_REQUESTED && <button className=\"btn btn-outline-primary btn-sm\" onClick={() => cancelJoin('cancel')} >{t('voice_call.cancel_join')}</button>}\n\n                    </div>\n\n                </div>\n\n            </div>\n        </React.Fragment>\n    );\n}\n\nexport default VoiceCall","import { useEffect, useRef } from \"react\";\n\nfunction useInterval(callback, delay) {\n    const savedCallback = useRef();\n\n    // Remember the latest callback.\n    useEffect(() => {\n        savedCallback.current = callback;\n    }, [callback]);\n\n    // Set up the interval.\n    useEffect(() => {\n        function tick() {\n            savedCallback.current();\n        }\n        if (delay !== null) {\n            let id = setInterval(tick, delay);\n            return () => clearInterval(id);\n        }\n    }, [delay]);\n}\n\nexport default useInterval;"],"names":["props","_useState","useState","_useState2","_slicedToArray","isFullScreen","setFullScreen","useEffect","user","videoTrack","play","uid","React","className","id","title","onClick","e","_useTranslation","useTranslation","t","i18n","video","VideoStream","key","client","AgoraRTC","createClient","mode","codec","reducer","state","action","type","_objectSpread","value","remoteUsers","obj","media","audio","push","Error","_useReducer","useReducer","call","localTracks","audioTrack","hasAudio","hasVideo","screenShare","inCall","pendingJoin","isMuted","_useReducer2","dispatch","chatsRef","useRef","current","updateUI","getDevices","then","devices","audioDevices","filter","device","kind","videoDevices","length","callback","delay","savedCallback","requestJoin","url","isVisitor","WWW_DIR_JAVASCRIPT","initParams","hash","axios","post","result","data","cancelJoin","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","get","Object","keys","forEach","trackName","track","stop","close","undefined","leave","_x","apply","arguments","muteMicrophone","setEnabled","status","vi_status","op_status","setInterval","clearInterval","subscribe","_ref2","_callee2","mediaType","_context2","_x2","_x3","handleUserPublished","handleUserLeft","handleUserUnpublished","join","_ref3","_callee3","screenTrack","_localTracks","_context3","unpublish","addCamera","abrupt","createScreenVideoTrack","sent","publish","t0","alert","_ref4","_callee4","_localTracks2","_context4","createCameraVideoTrack","tokenWillExpire","renewToken","token","_ref5","_callee5","uui","_context5","on","appid","createMicrophoneAudioTrack","values","_x4","map","val","k","MediaStream","role","options","disabled","screenshare"],"sourceRoot":""}