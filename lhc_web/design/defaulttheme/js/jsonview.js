!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.jsonview=n():e.jsonview=n()}(self,()=>(()=>{"use strict";var e={d:(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};function t(e){return Array.isArray(e)?"array":null===e?"null":typeof e}function r(e){return document.createElement(e)}e.r(n),e.d(n,{collapse:()=>N,create:()=>y,default:()=>g,destroy:()=>j,expand:()=>E,render:()=>h,renderJSON:()=>v,toggleNode:()=>d,traverse:()=>a});const o={HIDDEN:"hidden",CARET_ICON:"caret-icon",CARET_RIGHT:"fa-caret-right",CARET_DOWN:"fa-caret-down",ICON:"fas"};function i(e){e.children.forEach(e=>{e.el.classList.add(o.HIDDEN),e.isExpanded&&i(e)})}function l(e){e.children.forEach(e=>{e.el.classList.remove(o.HIDDEN),e.isExpanded&&l(e)})}function s(e){if(e.children.length>0){const n=e.el.querySelector("."+o.ICON);n&&n.classList.replace(o.CARET_RIGHT,o.CARET_DOWN)}}function c(e){if(e.children.length>0){const n=e.el.querySelector("."+o.ICON);n&&n.classList.replace(o.CARET_DOWN,o.CARET_RIGHT)}}function d(e){e.isExpanded?(e.isExpanded=!1,c(e),i(e)):(e.isExpanded=!0,s(e),l(e))}function a(e,n){n(e),e.children.length>0&&e.children.forEach(e=>{a(e,n)})}function u(e={}){let n=e.hasOwnProperty("value")?e.value:null;return(e=>"object"===t(e)&&0===Object.keys(e).length)(n)&&(n="{}"),{key:e.key||null,parent:e.parent||null,value:n,isExpanded:e.isExpanded||!1,type:e.type||null,children:e.children||[],el:e.el||null,depth:e.depth||0,dispose:null}}function p(e,n){if("object"==typeof e)for(let r in e){const o=u({value:e[r],key:r,depth:n.depth+1,type:t(e[r]),parent:n});n.children.push(o),p(e[r],o)}}function f(e){return"string"==typeof e?JSON.parse(e):e}function y(e){const n=f(e),r=u({value:n,key:t(n),type:t(n)});return p(n,r),r}function v(e,n){const t=y(f(e));return h(t,n),t}function h(e,n){const t=function(){const e=r("div");return e.className="json-container",e}();a(e,function(e){e.el=function(e){let n=r("div");const t=e=>{const n=e.children.length;return"array"===e.type?`[${n}]`:"object"===e.type?`{${n}}`:null};if(e.children.length>0){n.innerHTML=function(e={}){const{key:n,size:t}=e;return`\n    <div class="line">\n      <div class="caret-icon"><i class="fas fa-caret-right"></i></div>\n      <div class="json-key">${n}</div>\n      <div class="json-size">${t}</div>\n    </div>\n  `}({key:e.key,size:t(e)});const r=n.querySelector("."+o.CARET_ICON);e.dispose=function(e,n,t){return e.addEventListener(n,t),()=>e.removeEventListener(n,t)}(r,"click",()=>d(e))}else n.innerHTML=function(e={}){const{key:n,value:t,type:r}=e,o=e=>{const n=document.createElement("div");return n.textContent=e,n.innerHTML};return`\n    <div class="line">\n      <div class="empty-icon"></div>\n      <div class="json-key">${o(n)}</div>\n      <div class="json-separator">:</div>\n      <div class="json-value json-${o(r)}">${o(String(t))}</div>\n    </div>\n  `}({key:e.key,value:""===e.value?'""':e.value,type:"{}"===e.value?"object":typeof e.value});const i=n.children[0];return null!==e.parent&&i.classList.add(o.HIDDEN),i.style="margin-left: "+18*e.depth+"px;",i}(e),t.appendChild(e.el)}),n.appendChild(t)}function E(e){a(e,function(e){e.el.classList.remove(o.HIDDEN),e.isExpanded=!0,s(e)})}function N(e){a(e,function(n){n.isExpanded=!1,n.depth>e.depth&&n.el.classList.add(o.HIDDEN),c(n)})}function j(e){var n;a(e,e=>{e.dispose&&e.dispose()}),(n=e.el.parentNode).parentNode.removeChild(n)}const g={toggleNode:d,render:h,create:y,renderJSON:v,expand:E,collapse:N,traverse:a,destroy:j};return n})());