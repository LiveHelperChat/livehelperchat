{"version":3,"file":"923.a558b1aca01ce5dbd82b.js","mappings":"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","sources":["webpack://LHCReactAPP/./node_modules/ieee754/index.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/rng.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/regex.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/validate.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/v1.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/parse.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/v35.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/md5.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/v3.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/v4.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/sha1.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/v5.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/nil.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/version.js","webpack://LHCReactAPP/./node_modules/ag-request/node_modules/sc-errors/decycle.js","webpack://LHCReactAPP/./node_modules/socketcluster-client/lib/wait.js","webpack://LHCReactAPP/./node_modules/linked-list/index.js","webpack://LHCReactAPP/./node_modules/socketcluster-client/lib/transport.js","webpack://LHCReactAPP/./node_modules/consumable-stream/index.js","webpack://LHCReactAPP/./node_modules/kind-of/index.js","webpack://LHCReactAPP/./node_modules/async-stream-emitter/index.js","webpack://LHCReactAPP/./node_modules/socketcluster-client/lib/auth.js","webpack://LHCReactAPP/./node_modules/isobject/index.js","webpack://LHCReactAPP/./node_modules/linked-list/_source/linked-list.js","webpack://LHCReactAPP/./node_modules/shallow-clone/index.js","webpack://LHCReactAPP/./node_modules/writable-consumable-stream/index.js","webpack://LHCReactAPP/./node_modules/socketcluster-client/lib/clientsocket.js","webpack://LHCReactAPP/./node_modules/writable-consumable-stream/consumer.js","webpack://LHCReactAPP/./node_modules/socketcluster-client/index.js","webpack://LHCReactAPP/./node_modules/is-plain-object/index.js","webpack://LHCReactAPP/./node_modules/ag-request/index.js","webpack://LHCReactAPP/./node_modules/base64-js/index.js","webpack://LHCReactAPP/./node_modules/sc-errors/decycle.js","webpack://LHCReactAPP/./node_modules/stream-demux/index.js","webpack://LHCReactAPP/./node_modules/sc-errors/index.js","webpack://LHCReactAPP/./node_modules/stream-demux/demuxed-consumable-stream.js","webpack://LHCReactAPP/./node_modules/sc-formatter/index.js","webpack://LHCReactAPP/./node_modules/ag-request/node_modules/sc-errors/index.js","webpack://LHCReactAPP/./node_modules/socketcluster-client/lib/ws-browser.js","webpack://LHCReactAPP/./node_modules/buffer/index.js","webpack://LHCReactAPP/./node_modules/socketcluster-client/lib/factory.js","webpack://LHCReactAPP/./node_modules/clone-deep/index.js","webpack://LHCReactAPP/./node_modules/ag-channel/index.js"],"sourcesContent":["/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  var v;\n  var arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;","import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    var bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;","export default '00000000-0000-0000-0000-000000000000';","import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nexport default version;","// Based on https://github.com/dscape/cycle/blob/master/cycle.js\n\nmodule.exports = function decycle(object) {\n// Make a deep copy of an object or array, assuring that there is at most\n// one instance of each object or array in the resulting structure. The\n// duplicate references (which might be forming cycles) are replaced with\n// an object of the form\n//      {$ref: PATH}\n// where the PATH is a JSONPath string that locates the first occurance.\n// So,\n//      var a = [];\n//      a[0] = a;\n//      return JSON.stringify(JSON.decycle(a));\n// produces the string '[{\"$ref\":\"$\"}]'.\n\n// JSONPath is used to locate the unique object. $ indicates the top level of\n// the object or array. [NUMBER] or [STRING] indicates a child member or\n// property.\n\n    var objects = [],   // Keep a reference to each unique object or array\n        paths = [];     // Keep the path to each unique object or array\n\n    return (function derez(value, path) {\n\n// The derez recurses through the object, producing the deep copy.\n\n        var i,          // The loop counter\n            name,       // Property name\n            nu;         // The new object or array\n\n// typeof null === 'object', so go on if this value is really an object but not\n// one of the weird builtin objects.\n\n        if (typeof value === 'object' && value !== null &&\n                !(value instanceof Boolean) &&\n                !(value instanceof Date)    &&\n                !(value instanceof Number)  &&\n                !(value instanceof RegExp)  &&\n                !(value instanceof String)) {\n\n// If the value is an object or array, look to see if we have already\n// encountered it. If so, return a $ref/path object. This is a hard way,\n// linear search that will get slower as the number of unique objects grows.\n\n            for (i = 0; i < objects.length; i += 1) {\n                if (objects[i] === value) {\n                    return {$ref: paths[i]};\n                }\n            }\n\n// Otherwise, accumulate the unique value and its path.\n\n            objects.push(value);\n            paths.push(path);\n\n// If it is an array, replicate the array.\n\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n                nu = [];\n                for (i = 0; i < value.length; i += 1) {\n                    nu[i] = derez(value[i], path + '[' + i + ']');\n                }\n            } else {\n\n// If it is an object, replicate the object.\n\n                nu = {};\n                for (name in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, name)) {\n                        nu[name] = derez(value[name],\n                            path + '[' + JSON.stringify(name) + ']');\n                    }\n                }\n            }\n            return nu;\n        }\n        return value;\n    }(object, '$'));\n};\n","function wait(duration) {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve();\n    }, duration);\n  });\n}\n\nmodule.exports = wait;\n","'use strict';\n\nmodule.exports = require('./_source/linked-list.js');\n","const AGRequest = require('ag-request');\n\nlet WebSocket;\nlet createWebSocket;\n\nif (global.WebSocket) {\n  WebSocket = global.WebSocket;\n  createWebSocket = function (uri, options) {\n    return new WebSocket(uri);\n  };\n} else {\n  WebSocket = require('ws');\n  createWebSocket = function (uri, options) {\n    return new WebSocket(uri, null, options);\n  };\n}\n\nconst scErrors = require('sc-errors');\nconst TimeoutError = scErrors.TimeoutError;\nconst BadConnectionError = scErrors.BadConnectionError;\n\nfunction AGTransport(authEngine, codecEngine, options, wsOptions, handlers) {\n  this.state = this.CLOSED;\n  this.auth = authEngine;\n  this.codec = codecEngine;\n  this.options = options;\n  this.wsOptions = wsOptions;\n  this.protocolVersion = options.protocolVersion;\n  this.connectTimeout = options.connectTimeout;\n  this.pingTimeout = options.pingTimeout;\n  this.pingTimeoutDisabled = !!options.pingTimeoutDisabled;\n  this.callIdGenerator = options.callIdGenerator;\n  this.authTokenName = options.authTokenName;\n  this.isBufferingBatch = false;\n\n  this._pingTimeoutTicker = null;\n  this._callbackMap = {};\n  this._batchBuffer = [];\n\n  if (!handlers) {\n    handlers = {};\n  }\n\n  this._onOpenHandler = handlers.onOpen || function () {};\n  this._onOpenAbortHandler = handlers.onOpenAbort || function () {};\n  this._onCloseHandler = handlers.onClose || function () {};\n  this._onEventHandler = handlers.onEvent || function () {};\n  this._onErrorHandler = handlers.onError || function () {};\n  this._onInboundInvokeHandler  = handlers.onInboundInvoke || function () {};\n  this._onInboundTransmitHandler = handlers.onInboundTransmit || function () {};\n\n  // Open the connection.\n\n  this.state = this.CONNECTING;\n  let uri = this.uri();\n\n  let wsSocket = createWebSocket(uri, wsOptions);\n  wsSocket.binaryType = this.options.binaryType;\n\n  this.socket = wsSocket;\n\n  wsSocket.onopen = () => {\n    this._onOpen();\n  };\n\n  wsSocket.onclose = async (event) => {\n    let code;\n    if (event.code == null) {\n      // This is to handle an edge case in React Native whereby\n      // event.code is undefined when the mobile device is locked.\n      // TODO: This is not ideal since this condition could also apply to\n      // an abnormal close (no close control frame) which would be a 1006.\n      code = 1005;\n    } else {\n      code = event.code;\n    }\n    this._destroy(code, event.reason);\n  };\n\n  wsSocket.onmessage = (message, flags) => {\n    this._onMessage(message.data);\n  };\n\n  wsSocket.onerror = (error) => {\n    // The onclose event will be called automatically after the onerror event\n    // if the socket is connected - Otherwise, if it's in the middle of\n    // connecting, we want to close it manually with a 1006 - This is necessary\n    // to prevent inconsistent behavior when running the client in Node.js\n    // vs in a browser.\n    if (this.state === this.CONNECTING) {\n      this._destroy(1006);\n    }\n  };\n\n  this._connectTimeoutRef = setTimeout(() => {\n    this._destroy(4007);\n    this.socket.close(4007);\n  }, this.connectTimeout);\n\n  if (this.protocolVersion === 1) {\n    this._handlePing = (message) => {\n      if (message === '#1') {\n        this._resetPingTimeout();\n        if (this.socket.readyState === this.socket.OPEN) {\n          this.send('#2');\n        }\n        return true;\n      }\n      return false;\n    };\n  } else {\n    this._handlePing = (message) => {\n      if (message === '') {\n        this._resetPingTimeout();\n        if (this.socket.readyState === this.socket.OPEN) {\n          this.send('');\n        }\n        return true;\n      }\n      return false;\n    };\n  }\n}\n\nAGTransport.CONNECTING = AGTransport.prototype.CONNECTING = 'connecting';\nAGTransport.OPEN = AGTransport.prototype.OPEN = 'open';\nAGTransport.CLOSED = AGTransport.prototype.CLOSED = 'closed';\n\nAGTransport.prototype.uri = function () {\n  let query = this.options.query || {};\n  let scheme;\n  if (this.options.protocolScheme == null) {\n    scheme = this.options.secure ? 'wss' : 'ws';\n  } else {\n    scheme = this.options.protocolScheme;\n  }\n\n  if (this.options.timestampRequests) {\n    query[this.options.timestampParam] = (new Date()).getTime();\n  }\n\n  let searchParams = new URLSearchParams();\n  for (let [key, value] of Object.entries(query)) {\n    if (Array.isArray(value)) {\n      for (let item of value) {\n        searchParams.append(key, item);\n      }\n    } else {\n      searchParams.set(key, value);\n    }\n  }\n\n  query = searchParams.toString();\n\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  let host;\n  let path;\n  if (this.options.socketPath == null) {\n    if (this.options.host) {\n      host = this.options.host;\n    } else {\n      let port = '';\n\n      if (this.options.port && ((scheme === 'wss' && this.options.port !== 443)\n        || (scheme === 'ws' && this.options.port !== 80))) {\n        port = ':' + this.options.port;\n      }\n      host = this.options.hostname + port;\n    }\n    path = this.options.path;\n  } else {\n    host = this.options.socketPath;\n    path = `:${this.options.path}`;\n  }\n  return scheme + '://' + host + path + query;\n};\n\nAGTransport.prototype._onOpen = async function () {\n  clearTimeout(this._connectTimeoutRef);\n  this._resetPingTimeout();\n\n  let status;\n\n  try {\n    status = await this._handshake();\n  } catch (err) {\n    if (err.statusCode == null) {\n      err.statusCode = 4003;\n    }\n    this._onError(err);\n    this._destroy(err.statusCode, err.toString());\n    this.socket.close(err.statusCode);\n    return;\n  }\n\n  this.state = this.OPEN;\n  if (status) {\n    this.pingTimeout = status.pingTimeout;\n  }\n  this._resetPingTimeout();\n  this._onOpenHandler(status);\n};\n\nAGTransport.prototype._handshake = async function () {\n  let token = await this.auth.loadToken(this.authTokenName);\n  // Don't wait for this.state to be 'open'.\n  // The underlying WebSocket (this.socket) is already open.\n  let options = {\n    force: true\n  };\n  let status = await this.invoke('#handshake', {authToken: token}, options);\n  if (status) {\n    // Add the token which was used as part of authentication attempt\n    // to the status object.\n    status.authToken = token;\n    if (status.authError) {\n      status.authError = scErrors.hydrateError(status.authError);\n    }\n  }\n  return status;\n};\n\nAGTransport.prototype._abortAllPendingEventsDueToBadConnection = function (failureType) {\n  Object.keys(this._callbackMap || {}).forEach((i) => {\n    let eventObject = this._callbackMap[i];\n    delete this._callbackMap[i];\n\n    clearTimeout(eventObject.timeout);\n    delete eventObject.timeout;\n\n    let errorMessage = `Event \"${eventObject.event}\" was aborted due to a bad connection`;\n    let badConnectionError = new BadConnectionError(errorMessage, failureType);\n\n    let callback = eventObject.callback;\n    if (callback) {\n      delete eventObject.callback;\n\n      callback.call(eventObject, badConnectionError, eventObject);\n    }\n  });\n};\n\nAGTransport.prototype._destroy = function (code, reason) {\n  let protocolReason = scErrors.socketProtocolErrorStatuses[code];\n  if (!reason && scErrors.socketProtocolErrorStatuses[code]) {\n    reason = scErrors.socketProtocolErrorStatuses[code];\n  }\n  delete this.socket.onopen;\n  delete this.socket.onclose;\n  delete this.socket.onmessage;\n  delete this.socket.onerror;\n\n  clearTimeout(this._connectTimeoutRef);\n  clearTimeout(this._pingTimeoutTicker);\n\n  if (this.state === this.OPEN) {\n    this.state = this.CLOSED;\n    this._abortAllPendingEventsDueToBadConnection('disconnect');\n    this._onCloseHandler({code, reason});\n  } else if (this.state === this.CONNECTING) {\n    this.state = this.CLOSED;\n    this._abortAllPendingEventsDueToBadConnection('connectAbort');\n    this._onOpenAbortHandler({code, reason});\n  } else if (this.state === this.CLOSED) {\n    this._abortAllPendingEventsDueToBadConnection('connectAbort');\n  }\n};\n\nAGTransport.prototype._processInboundPacket = function (packet, message) {\n  if (packet && packet.event != null) {\n    if (packet.cid == null) {\n      this._onInboundTransmitHandler({...packet});\n    } else {\n      let request = new AGRequest(this, packet.cid, packet.event, packet.data);\n      this._onInboundInvokeHandler(request);\n    }\n  } else if (packet && packet.rid != null) {\n    let eventObject = this._callbackMap[packet.rid];\n    if (eventObject) {\n      clearTimeout(eventObject.timeout);\n      delete eventObject.timeout;\n      delete this._callbackMap[packet.rid];\n\n      if (eventObject.callback) {\n        let rehydratedError = scErrors.hydrateError(packet.error);\n        eventObject.callback(rehydratedError, packet.data);\n      }\n    }\n  } else {\n    this._onEventHandler({event: 'raw', data: {message}});\n  }\n};\n\nAGTransport.prototype._onMessage = function (message) {\n  this._onEventHandler({event: 'message', data: {message}});\n\n  if (this._handlePing(message)) {\n    return;\n  }\n\n  let packet = this.decode(message);\n\n  if (Array.isArray(packet)) {\n    let len = packet.length;\n    for (let i = 0; i < len; i++) {\n      this._processInboundPacket(packet[i], message);\n    }\n  } else {\n    this._processInboundPacket(packet, message);\n  }\n};\n\nAGTransport.prototype._onError = function (error) {\n  this._onErrorHandler({error});\n};\n\nAGTransport.prototype._resetPingTimeout = function () {\n  if (this.pingTimeoutDisabled) {\n    return;\n  }\n\n  let now = (new Date()).getTime();\n  clearTimeout(this._pingTimeoutTicker);\n  this._pingTimeoutTicker = setTimeout(() => {\n    this._destroy(4000);\n    this.socket.close(4000);\n  }, this.pingTimeout);\n};\n\nAGTransport.prototype.clearAllListeners = function () {\n  this._onOpenHandler = function () {};\n  this._onOpenAbortHandler = function () {};\n  this._onCloseHandler = function () {};\n  this._onEventHandler = function () {};\n  this._onErrorHandler = function () {};\n  this._onInboundInvokeHandler  = function () {};\n  this._onInboundTransmitHandler = function () {};\n};\n\nAGTransport.prototype.startBatch = function () {\n  this.isBufferingBatch = true;\n  this._batchBuffer = [];\n};\n\nAGTransport.prototype.flushBatch = function () {\n  this.isBufferingBatch = false;\n  if (!this._batchBuffer.length) {\n    return;\n  }\n  let serializedBatch = this.serializeObject(this._batchBuffer);\n  this._batchBuffer = [];\n  this.send(serializedBatch);\n};\n\nAGTransport.prototype.cancelBatch = function () {\n  this.isBufferingBatch = false;\n  this._batchBuffer = [];\n};\n\nAGTransport.prototype.getBytesReceived = function () {\n  return this.socket.bytesReceived;\n};\n\nAGTransport.prototype.close = function (code, reason) {\n  if (this.state === this.OPEN || this.state === this.CONNECTING) {\n    code = code || 1000;\n    this._destroy(code, reason);\n    this.socket.close(code, reason);\n  }\n};\n\nAGTransport.prototype.transmitObject = function (eventObject) {\n  let simpleEventObject = {\n    event: eventObject.event,\n    data: eventObject.data\n  };\n\n  if (eventObject.callback) {\n    simpleEventObject.cid = eventObject.cid = this.callIdGenerator();\n    this._callbackMap[eventObject.cid] = eventObject;\n  }\n\n  this.sendObject(simpleEventObject);\n\n  return eventObject.cid || null;\n};\n\nAGTransport.prototype._handleEventAckTimeout = function (eventObject) {\n  if (eventObject.cid) {\n    delete this._callbackMap[eventObject.cid];\n  }\n  delete eventObject.timeout;\n\n  let callback = eventObject.callback;\n  if (callback) {\n    delete eventObject.callback;\n    let error = new TimeoutError(`Event response for \"${eventObject.event}\" timed out`);\n    callback.call(eventObject, error, eventObject);\n  }\n};\n\nAGTransport.prototype.transmit = function (event, data, options) {\n  let eventObject = {\n    event,\n    data\n  };\n\n  if (this.state === this.OPEN || options.force) {\n    this.transmitObject(eventObject);\n  }\n  return Promise.resolve();\n};\n\nAGTransport.prototype.invokeRaw = function (event, data, options, callback) {\n  let eventObject = {\n    event,\n    data,\n    callback\n  };\n\n  if (!options.noTimeout) {\n    eventObject.timeout = setTimeout(() => {\n      this._handleEventAckTimeout(eventObject);\n    }, this.options.ackTimeout);\n  }\n  let cid = null;\n  if (this.state === this.OPEN || options.force) {\n    cid = this.transmitObject(eventObject);\n  }\n  return cid;\n};\n\nAGTransport.prototype.invoke = function (event, data, options) {\n  return new Promise((resolve, reject) => {\n    this.invokeRaw(event, data, options, (err, data) => {\n      if (err) {\n        reject(err);\n        return;\n      }\n      resolve(data);\n    });\n  });\n};\n\nAGTransport.prototype.cancelPendingResponse = function (cid) {\n  delete this._callbackMap[cid];\n};\n\nAGTransport.prototype.decode = function (message) {\n  return this.codec.decode(message);\n};\n\nAGTransport.prototype.encode = function (object) {\n  return this.codec.encode(object);\n};\n\nAGTransport.prototype.send = function (data) {\n  if (this.socket.readyState !== this.socket.OPEN) {\n    this._destroy(1005);\n  } else {\n    this.socket.send(data);\n  }\n};\n\nAGTransport.prototype.serializeObject = function (object) {\n  let str;\n  try {\n    str = this.encode(object);\n  } catch (error) {\n    this._onError(error);\n    return null;\n  }\n  return str;\n};\n\nAGTransport.prototype.sendObject = function (object) {\n  if (this.isBufferingBatch) {\n    this._batchBuffer.push(object);\n    return;\n  }\n  let str = this.serializeObject(object);\n  if (str != null) {\n    this.send(str);\n  }\n};\n\nmodule.exports = AGTransport;\n","class ConsumableStream {\n  async next(timeout) {\n    let asyncIterator = this.createConsumer(timeout);\n    let result = await asyncIterator.next();\n    asyncIterator.return();\n    return result;\n  }\n\n  async once(timeout) {\n    let result = await this.next(timeout);\n    if (result.done) {\n      // If stream was ended, this function should never resolve.\n      await new Promise(() => {});\n    }\n    return result.value;\n  }\n\n  createConsumer() {\n    throw new TypeError('Method must be overriden by subclass');\n  }\n\n  [Symbol.asyncIterator]() {\n    return this.createConsumer();\n  }\n}\n\nmodule.exports = ConsumableStream;\n","var toString = Object.prototype.toString;\n\nmodule.exports = function kindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n\n  var type = typeof val;\n  if (type === 'boolean') return 'boolean';\n  if (type === 'string') return 'string';\n  if (type === 'number') return 'number';\n  if (type === 'symbol') return 'symbol';\n  if (type === 'function') {\n    return isGeneratorFn(val) ? 'generatorfunction' : 'function';\n  }\n\n  if (isArray(val)) return 'array';\n  if (isBuffer(val)) return 'buffer';\n  if (isArguments(val)) return 'arguments';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  if (isRegexp(val)) return 'regexp';\n\n  switch (ctorName(val)) {\n    case 'Symbol': return 'symbol';\n    case 'Promise': return 'promise';\n\n    // Set, Map, WeakSet, WeakMap\n    case 'WeakMap': return 'weakmap';\n    case 'WeakSet': return 'weakset';\n    case 'Map': return 'map';\n    case 'Set': return 'set';\n\n    // 8-bit typed arrays\n    case 'Int8Array': return 'int8array';\n    case 'Uint8Array': return 'uint8array';\n    case 'Uint8ClampedArray': return 'uint8clampedarray';\n\n    // 16-bit typed arrays\n    case 'Int16Array': return 'int16array';\n    case 'Uint16Array': return 'uint16array';\n\n    // 32-bit typed arrays\n    case 'Int32Array': return 'int32array';\n    case 'Uint32Array': return 'uint32array';\n    case 'Float32Array': return 'float32array';\n    case 'Float64Array': return 'float64array';\n  }\n\n  if (isGeneratorObj(val)) {\n    return 'generator';\n  }\n\n  // Non-plain objects\n  type = toString.call(val);\n  switch (type) {\n    case '[object Object]': return 'object';\n    // iterators\n    case '[object Map Iterator]': return 'mapiterator';\n    case '[object Set Iterator]': return 'setiterator';\n    case '[object String Iterator]': return 'stringiterator';\n    case '[object Array Iterator]': return 'arrayiterator';\n  }\n\n  // other\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n};\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isArray(val) {\n  if (Array.isArray) return Array.isArray(val);\n  return val instanceof Array;\n}\n\nfunction isError(val) {\n  return val instanceof Error || (typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number');\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function'\n    && typeof val.getDate === 'function'\n    && typeof val.setDate === 'function';\n}\n\nfunction isRegexp(val) {\n  if (val instanceof RegExp) return true;\n  return typeof val.flags === 'string'\n    && typeof val.ignoreCase === 'boolean'\n    && typeof val.multiline === 'boolean'\n    && typeof val.global === 'boolean';\n}\n\nfunction isGeneratorFn(name, val) {\n  return ctorName(name) === 'GeneratorFunction';\n}\n\nfunction isGeneratorObj(val) {\n  return typeof val.throw === 'function'\n    && typeof val.return === 'function'\n    && typeof val.next === 'function';\n}\n\nfunction isArguments(val) {\n  try {\n    if (typeof val.length === 'number' && typeof val.callee === 'function') {\n      return true;\n    }\n  } catch (err) {\n    if (err.message.indexOf('callee') !== -1) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * If you need to support Safari 5-7 (8-10 yr-old browser),\n * take a look at https://github.com/feross/is-buffer\n */\n\nfunction isBuffer(val) {\n  if (val.constructor && typeof val.constructor.isBuffer === 'function') {\n    return val.constructor.isBuffer(val);\n  }\n  return false;\n}\n","const StreamDemux = require('stream-demux');\n\nfunction AsyncStreamEmitter() {\n  this._listenerDemux = new StreamDemux();\n}\n\nAsyncStreamEmitter.prototype.emit = function (eventName, data) {\n  this._listenerDemux.write(eventName, data);\n};\n\nAsyncStreamEmitter.prototype.listener = function (eventName) {\n  return this._listenerDemux.stream(eventName);\n};\n\nAsyncStreamEmitter.prototype.closeListener = function (eventName) {\n  this._listenerDemux.close(eventName);\n};\n\nAsyncStreamEmitter.prototype.closeAllListeners = function () {\n  this._listenerDemux.closeAll();\n};\n\nAsyncStreamEmitter.prototype.getListenerConsumerStats = function (consumerId) {\n  return this._listenerDemux.getConsumerStats(consumerId);\n};\n\nAsyncStreamEmitter.prototype.getListenerConsumerStatsList = function (eventName) {\n  return this._listenerDemux.getConsumerStatsList(eventName);\n};\n\nAsyncStreamEmitter.prototype.getAllListenersConsumerStatsList = function () {\n  return this._listenerDemux.getConsumerStatsListAll();\n};\n\nAsyncStreamEmitter.prototype.getListenerConsumerCount = function (eventName) {\n  return this._listenerDemux.getConsumerCount(eventName);\n};\n\nAsyncStreamEmitter.prototype.getAllListenersConsumerCount = function () {\n  return this._listenerDemux.getConsumerCountAll();\n};\n\nAsyncStreamEmitter.prototype.killListener = function (eventName) {\n  this._listenerDemux.kill(eventName);\n};\n\nAsyncStreamEmitter.prototype.killAllListeners = function () {\n  this._listenerDemux.killAll();\n};\n\nAsyncStreamEmitter.prototype.killListenerConsumer = function (consumerId) {\n  this._listenerDemux.killConsumer(consumerId);\n};\n\nAsyncStreamEmitter.prototype.getListenerBackpressure = function (eventName) {\n  return this._listenerDemux.getBackpressure(eventName);\n};\n\nAsyncStreamEmitter.prototype.getAllListenersBackpressure = function () {\n  return this._listenerDemux.getBackpressureAll();\n};\n\nAsyncStreamEmitter.prototype.getListenerConsumerBackpressure = function (consumerId) {\n  return this._listenerDemux.getConsumerBackpressure(consumerId);\n};\n\nAsyncStreamEmitter.prototype.hasListenerConsumer = function (eventName, consumerId) {\n  return this._listenerDemux.hasConsumer(eventName, consumerId);\n};\n\nAsyncStreamEmitter.prototype.hasAnyListenerConsumer = function (consumerId) {\n  return this._listenerDemux.hasConsumerAll(consumerId);\n};\n\nmodule.exports = AsyncStreamEmitter;\n","function AuthEngine() {\n  this._internalStorage = {};\n  this.isLocalStorageEnabled = this._checkLocalStorageEnabled();\n}\n\nAuthEngine.prototype._checkLocalStorageEnabled = function () {\n  let err;\n  try {\n    // Some browsers will throw an error here if localStorage is disabled.\n    global.localStorage;\n\n    // Safari, in Private Browsing Mode, looks like it supports localStorage but all calls to setItem\n    // throw QuotaExceededError. We're going to detect this and avoid hard to debug edge cases.\n    global.localStorage.setItem('__scLocalStorageTest', 1);\n    global.localStorage.removeItem('__scLocalStorageTest');\n  } catch (e) {\n    err = e;\n  }\n  return !err;\n};\n\nAuthEngine.prototype.saveToken = function (name, token, options) {\n  if (this.isLocalStorageEnabled && global.localStorage) {\n    global.localStorage.setItem(name, token);\n  } else {\n    this._internalStorage[name] = token;\n  }\n  return Promise.resolve(token);\n};\n\nAuthEngine.prototype.removeToken = function (name) {\n  let loadPromise = this.loadToken(name);\n\n  if (this.isLocalStorageEnabled && global.localStorage) {\n    global.localStorage.removeItem(name);\n  } else {\n    delete this._internalStorage[name];\n  }\n\n  return loadPromise;\n};\n\nAuthEngine.prototype.loadToken = function (name) {\n  let token;\n\n  if (this.isLocalStorageEnabled && global.localStorage) {\n    token = global.localStorage.getItem(name);\n  } else {\n    token = this._internalStorage[name] || null;\n  }\n\n  return Promise.resolve(token);\n};\n\nmodule.exports = AuthEngine;\n","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n","'use strict';\n\n/**\n * Constants.\n */\n\nvar errorMessage;\n\nerrorMessage = 'An argument without append, prepend, ' +\n    'or detach methods was given to `List';\n\n/**\n * Creates a new List: A linked list is a bit like an Array, but\n * knows nothing about how many items are in it, and knows only about its\n * first (`head`) and last (`tail`) items. Each item (e.g. `head`, `tail`,\n * &c.) knows which item comes before or after it (its more like the\n * implementation of the DOM in JavaScript).\n * @global\n * @private\n * @constructor\n * @class Represents an instance of List.\n */\n\nfunction List(/*items...*/) {\n    if (arguments.length) {\n        return List.from(arguments);\n    }\n}\n\nvar ListPrototype;\n\nListPrototype = List.prototype;\n\n/**\n * Creates a new list from the arguments (each a list item) passed in.\n * @name List.of\n * @param {...ListItem} [items] - Zero or more items to attach.\n * @returns {list} - A new instance of List.\n */\n\nList.of = function (/*items...*/) {\n    return List.from.call(this, arguments);\n};\n\n/**\n * Creates a new list from the given array-like object (each a list item)\n * passed in.\n * @name List.from\n * @param {ListItem[]} [items] - The items to append.\n * @returns {list} - A new instance of List.\n */\nList.from = function (items) {\n    var list = new this(), length, iterator, item;\n\n    if (items && (length = items.length)) {\n        iterator = -1;\n\n        while (++iterator < length) {\n            item = items[iterator];\n\n            if (item !== null && item !== undefined) {\n                list.append(item);\n            }\n        }\n    }\n\n    return list;\n};\n\n/**\n * List#head\n * Default to `null`.\n */\nListPrototype.head = null;\n\n/**\n * List#tail\n * Default to `null`.\n */\nListPrototype.tail = null;\n\n/**\n * Returns the list's items as an array. This does *not* detach the items.\n * @name List#toArray\n * @returns {ListItem[]} - An array of (still attached) ListItems.\n */\nListPrototype.toArray = function () {\n    var item = this.head,\n        result = [];\n\n    while (item) {\n        result.push(item);\n        item = item.next;\n    }\n\n    return result;\n};\n\n/**\n * Prepends the given item to the list: Item will be the new first item\n * (`head`).\n * @name List#prepend\n * @param {ListItem} item - The item to prepend.\n * @returns {ListItem} - An instance of ListItem (the given item).\n */\nListPrototype.prepend = function (item) {\n    if (!item) {\n        return false;\n    }\n\n    if (!item.append || !item.prepend || !item.detach) {\n        throw new Error(errorMessage + '#prepend`.');\n    }\n\n    var self, head;\n\n    // Cache self.\n    self = this;\n\n    // If self has a first item, defer prepend to the first items prepend\n    // method, and return the result.\n    head = self.head;\n\n    if (head) {\n        return head.prepend(item);\n    }\n\n    // ...otherwise, there is no `head` (or `tail`) item yet.\n\n    // Detach the prependee.\n    item.detach();\n\n    // Set the prependees parent list to reference self.\n    item.list = self;\n\n    // Set self's first item to the prependee, and return the item.\n    self.head = item;\n\n    return item;\n};\n\n/**\n * Appends the given item to the list: Item will be the new last item (`tail`)\n * if the list had a first item, and its first item (`head`) otherwise.\n * @name List#append\n * @param {ListItem} item - The item to append.\n * @returns {ListItem} - An instance of ListItem (the given item).\n */\n\nListPrototype.append = function (item) {\n    if (!item) {\n        return false;\n    }\n\n    if (!item.append || !item.prepend || !item.detach) {\n        throw new Error(errorMessage + '#append`.');\n    }\n\n    var self, head, tail;\n\n    // Cache self.\n    self = this;\n\n    // If self has a last item, defer appending to the last items append\n    // method, and return the result.\n    tail = self.tail;\n\n    if (tail) {\n        return tail.append(item);\n    }\n\n    // If self has a first item, defer appending to the first items append\n    // method, and return the result.\n    head = self.head;\n\n    if (head) {\n        return head.append(item);\n    }\n\n    // ...otherwise, there is no `tail` or `head` item yet.\n\n    // Detach the appendee.\n    item.detach();\n\n    // Set the appendees parent list to reference self.\n    item.list = self;\n\n    // Set self's first item to the appendee, and return the item.\n    self.head = item;\n\n    return item;\n};\n\n/**\n * Creates a new ListItem: A linked list item is a bit like DOM node:\n * It knows only about its \"parent\" (`list`), the item before it (`prev`),\n * and the item after it (`next`).\n * @global\n * @private\n * @constructor\n * @class Represents an instance of ListItem.\n */\n\nfunction ListItem() {}\n\nList.Item = ListItem;\n\nvar ListItemPrototype = ListItem.prototype;\n\nListItemPrototype.next = null;\n\nListItemPrototype.prev = null;\n\nListItemPrototype.list = null;\n\n/**\n * Detaches the item operated on from its parent list.\n * @name ListItem#detach\n * @returns {ListItem} - The item operated on.\n */\nListItemPrototype.detach = function () {\n    // Cache self, the parent list, and the previous and next items.\n    var self = this,\n        list = self.list,\n        prev = self.prev,\n        next = self.next;\n\n    // If the item is already detached, return self.\n    if (!list) {\n        return self;\n    }\n\n    // If self is the last item in the parent list, link the lists last item\n    // to the previous item.\n    if (list.tail === self) {\n        list.tail = prev;\n    }\n\n    // If self is the first item in the parent list, link the lists first item\n    // to the next item.\n    if (list.head === self) {\n        list.head = next;\n    }\n\n    // If both the last and first items in the parent list are the same,\n    // remove the link to the last item.\n    if (list.tail === list.head) {\n        list.tail = null;\n    }\n\n    // If a previous item exists, link its next item to selfs next item.\n    if (prev) {\n        prev.next = next;\n    }\n\n    // If a next item exists, link its previous item to selfs previous item.\n    if (next) {\n        next.prev = prev;\n    }\n\n    // Remove links from self to both the next and previous items, and to the\n    // parent list.\n    self.prev = self.next = self.list = null;\n\n    // Return self.\n    return self;\n};\n\n/**\n * Prepends the given item *before* the item operated on.\n * @name ListItem#prepend\n * @param {ListItem} item - The item to prepend.\n * @returns {ListItem} - The item operated on, or false when that item is not\n * attached.\n */\nListItemPrototype.prepend = function (item) {\n    if (!item || !item.append || !item.prepend || !item.detach) {\n        throw new Error(errorMessage + 'Item#prepend`.');\n    }\n\n    // Cache self, the parent list, and the previous item.\n    var self = this,\n        list = self.list,\n        prev = self.prev;\n\n    // If self is detached, return false.\n    if (!list) {\n        return false;\n    }\n\n    // Detach the prependee.\n    item.detach();\n\n    // If self has a previous item...\n    if (prev) {\n        // ...link the prependees previous item, to selfs previous item.\n        item.prev = prev;\n\n        // ...link the previous items next item, to self.\n        prev.next = item;\n    }\n\n    // Set the prependees next item to self.\n    item.next = self;\n\n    // Set the prependees parent list to selfs parent list.\n    item.list = list;\n\n    // Set the previous item of self to the prependee.\n    self.prev = item;\n\n    // If self is the first item in the parent list, link the lists first item\n    // to the prependee.\n    if (self === list.head) {\n        list.head = item;\n    }\n\n    // If the the parent list has no last item, link the lists last item to\n    // self.\n    if (!list.tail) {\n        list.tail = self;\n    }\n\n    // Return the prependee.\n    return item;\n};\n\n/**\n * Appends the given item *after* the item operated on.\n * @name ListItem#append\n * @param {ListItem} item - The item to append.\n * @returns {ListItem} - The item operated on, or false when that item is not\n * attached.\n */\nListItemPrototype.append = function (item) {\n    // If item is falsey, return false.\n    if (!item || !item.append || !item.prepend || !item.detach) {\n        throw new Error(errorMessage + 'Item#append`.');\n    }\n\n    // Cache self, the parent list, and the next item.\n    var self = this,\n        list = self.list,\n        next = self.next;\n\n    // If self is detached, return false.\n    if (!list) {\n        return false;\n    }\n\n    // Detach the appendee.\n    item.detach();\n\n    // If self has a next item...\n    if (next) {\n        // ...link the appendees next item, to selfs next item.\n        item.next = next;\n\n        // ...link the next items previous item, to the appendee.\n        next.prev = item;\n    }\n\n    // Set the appendees previous item to self.\n    item.prev = self;\n\n    // Set the appendees parent list to selfs parent list.\n    item.list = list;\n\n    // Set the next item of self to the appendee.\n    self.next = item;\n\n    // If the the parent list has no last item or if self is the parent lists\n    // last item, link the lists last item to the appendee.\n    if (self === list.tail || !list.tail) {\n        list.tail = item;\n    }\n\n    // Return the appendee.\n    return item;\n};\n\n/**\n * Expose `List`.\n */\n\nmodule.exports = List;\n","/*!\n * shallow-clone <https://github.com/jonschlinkert/shallow-clone>\n *\n * Copyright (c) 2015-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nconst valueOf = Symbol.prototype.valueOf;\nconst typeOf = require('kind-of');\n\nfunction clone(val, deep) {\n  switch (typeOf(val)) {\n    case 'array':\n      return val.slice();\n    case 'object':\n      return Object.assign({}, val);\n    case 'date':\n      return new val.constructor(Number(val));\n    case 'map':\n      return new Map(val);\n    case 'set':\n      return new Set(val);\n    case 'buffer':\n      return cloneBuffer(val);\n    case 'symbol':\n      return cloneSymbol(val);\n    case 'arraybuffer':\n      return cloneArrayBuffer(val);\n    case 'float32array':\n    case 'float64array':\n    case 'int16array':\n    case 'int32array':\n    case 'int8array':\n    case 'uint16array':\n    case 'uint32array':\n    case 'uint8clampedarray':\n    case 'uint8array':\n      return cloneTypedArray(val);\n    case 'regexp':\n      return cloneRegExp(val);\n    case 'error':\n      return Object.create(val);\n    default: {\n      return val;\n    }\n  }\n}\n\nfunction cloneRegExp(val) {\n  const flags = val.flags !== void 0 ? val.flags : (/\\w+$/.exec(val) || void 0);\n  const re = new val.constructor(val.source, flags);\n  re.lastIndex = val.lastIndex;\n  return re;\n}\n\nfunction cloneArrayBuffer(val) {\n  const res = new val.constructor(val.byteLength);\n  new Uint8Array(res).set(new Uint8Array(val));\n  return res;\n}\n\nfunction cloneTypedArray(val, deep) {\n  return new val.constructor(val.buffer, val.byteOffset, val.length);\n}\n\nfunction cloneBuffer(val) {\n  const len = val.length;\n  const buf = Buffer.allocUnsafe ? Buffer.allocUnsafe(len) : Buffer.from(len);\n  val.copy(buf);\n  return buf;\n}\n\nfunction cloneSymbol(val) {\n  return valueOf ? Object(valueOf.call(val)) : {};\n}\n\n/**\n * Expose `clone`\n */\n\nmodule.exports = clone;\n","const ConsumableStream = require('consumable-stream');\nconst Consumer = require('./consumer');\n\nclass WritableConsumableStream extends ConsumableStream {\n  constructor() {\n    super();\n    this.nextConsumerId = 1;\n    this._consumers = new Map();\n\n    // Tail node of a singly linked list.\n    this._tailNode = {\n      next: null,\n      data: {\n        value: undefined,\n        done: false\n      }\n    };\n  }\n\n  _write(value, done, consumerId) {\n    let dataNode = {\n      data: {value, done},\n      next: null\n    };\n    if (consumerId) {\n      dataNode.consumerId = consumerId;\n    }\n    this._tailNode.next = dataNode;\n    this._tailNode = dataNode;\n\n    for (let consumer of this._consumers.values()) {\n      consumer.write(dataNode.data);\n    }\n  }\n\n  write(value) {\n    this._write(value, false);\n  }\n\n  close(value) {\n    this._write(value, true);\n  }\n\n  writeToConsumer(consumerId, value) {\n    this._write(value, false, consumerId);\n  }\n\n  closeConsumer(consumerId, value) {\n    this._write(value, true, consumerId);\n  }\n\n  kill(value) {\n    for (let consumerId of this._consumers.keys()) {\n      this.killConsumer(consumerId, value);\n    }\n  }\n\n  killConsumer(consumerId, value) {\n    let consumer = this._consumers.get(consumerId);\n    if (!consumer) {\n      return;\n    }\n    consumer.kill(value);\n  }\n\n  getBackpressure() {\n    let maxBackpressure = 0;\n    for (let consumer of this._consumers.values()) {\n      let backpressure = consumer.getBackpressure();\n      if (backpressure > maxBackpressure) {\n        maxBackpressure = backpressure;\n      }\n    }\n    return maxBackpressure;\n  }\n\n  getConsumerBackpressure(consumerId) {\n    let consumer = this._consumers.get(consumerId);\n    if (consumer) {\n      return consumer.getBackpressure();\n    }\n    return 0;\n  }\n\n  hasConsumer(consumerId) {\n    return this._consumers.has(consumerId);\n  }\n\n  setConsumer(consumerId, consumer) {\n    this._consumers.set(consumerId, consumer);\n    if (!consumer.currentNode) {\n      consumer.currentNode = this._tailNode;\n    }\n  }\n\n  removeConsumer(consumerId) {\n    return this._consumers.delete(consumerId);\n  }\n\n  getConsumerStats(consumerId) {\n    let consumer = this._consumers.get(consumerId);\n    if (consumer) {\n      return consumer.getStats();\n    }\n    return undefined;\n  }\n\n  getConsumerStatsList() {\n    let consumerStats = [];\n    for (let consumer of this._consumers.values()) {\n      consumerStats.push(consumer.getStats());\n    }\n    return consumerStats;\n  }\n\n  createConsumer(timeout) {\n    return new Consumer(this, this.nextConsumerId++, this._tailNode, timeout);\n  }\n\n  getConsumerList() {\n    return [...this._consumers.values()];\n  }\n\n  getConsumerCount() {\n    return this._consumers.size;\n  }\n}\n\nmodule.exports = WritableConsumableStream;\n","const StreamDemux = require('stream-demux');\nconst AsyncStreamEmitter = require('async-stream-emitter');\nconst AGChannel = require('ag-channel');\nconst AuthEngine = require('./auth');\nconst formatter = require('sc-formatter');\nconst AGTransport = require('./transport');\nconst LinkedList = require('linked-list');\nconst cloneDeep = require('clone-deep');\nconst Buffer = require('buffer/').Buffer;\nconst wait = require('./wait');\n\nconst scErrors = require('sc-errors');\nconst InvalidArgumentsError = scErrors.InvalidArgumentsError;\nconst InvalidMessageError = scErrors.InvalidMessageError;\nconst InvalidActionError = scErrors.InvalidActionError;\nconst SocketProtocolError = scErrors.SocketProtocolError;\nconst TimeoutError = scErrors.TimeoutError;\nconst BadConnectionError = scErrors.BadConnectionError;\n\nconst isBrowser = typeof window !== 'undefined';\n\nfunction AGClientSocket(socketOptions) {\n  AsyncStreamEmitter.call(this);\n\n  let defaultOptions = {\n    path: '/socketcluster/',\n    secure: false,\n    protocolScheme: null,\n    socketPath: null,\n    autoConnect: true,\n    autoReconnect: true,\n    autoSubscribeOnConnect: true,\n    connectTimeout: 20000,\n    ackTimeout: 10000,\n    timestampRequests: false,\n    timestampParam: 't',\n    authTokenName: 'socketcluster.authToken',\n    binaryType: 'arraybuffer',\n    batchOnHandshake: false,\n    batchOnHandshakeDuration: 100,\n    batchInterval: 50,\n    protocolVersion: 2,\n    wsOptions: {},\n    cloneData: false\n  };\n  let opts = Object.assign(defaultOptions, socketOptions);\n\n  this.id = null;\n  this.version = opts.version || null;\n  this.protocolVersion = opts.protocolVersion;\n  this.state = this.CLOSED;\n  this.authState = this.UNAUTHENTICATED;\n  this.signedAuthToken = null;\n  this.authToken = null;\n  this.pendingReconnect = false;\n  this.pendingReconnectTimeout = null;\n  this.preparingPendingSubscriptions = false;\n  this.clientId = opts.clientId;\n  this.wsOptions = opts.wsOptions;\n\n  this.connectTimeout = opts.connectTimeout;\n  this.ackTimeout = opts.ackTimeout;\n  this.channelPrefix = opts.channelPrefix || null;\n  this.disconnectOnUnload = opts.disconnectOnUnload == null ? true : opts.disconnectOnUnload;\n  this.authTokenName = opts.authTokenName;\n\n  // pingTimeout will be connectTimeout at the start, but it will\n  // be updated with values provided by the 'connect' event\n  opts.pingTimeout = opts.connectTimeout;\n  this.pingTimeout = opts.pingTimeout;\n  this.pingTimeoutDisabled = !!opts.pingTimeoutDisabled;\n\n  let maxTimeout = Math.pow(2, 31) - 1;\n\n  let verifyDuration = (propertyName) => {\n    if (this[propertyName] > maxTimeout) {\n      throw new InvalidArgumentsError(\n        `The ${propertyName} value provided exceeded the maximum amount allowed`\n      );\n    }\n  };\n\n  verifyDuration('connectTimeout');\n  verifyDuration('ackTimeout');\n  verifyDuration('pingTimeout');\n\n  this.connectAttempts = 0;\n\n  this.isBatching = false;\n  this.batchOnHandshake = opts.batchOnHandshake;\n  this.batchOnHandshakeDuration = opts.batchOnHandshakeDuration;\n\n  this._batchingIntervalId = null;\n  this._outboundBuffer = new LinkedList();\n  this._channelMap = {};\n\n  this._channelEventDemux = new StreamDemux();\n  this._channelDataDemux = new StreamDemux();\n\n  this._receiverDemux = new StreamDemux();\n  this._procedureDemux = new StreamDemux();\n\n  this.options = opts;\n\n  this._cid = 1;\n\n  this.options.callIdGenerator = () => {\n    return this._cid++;\n  };\n\n  if (this.options.autoReconnect) {\n    if (this.options.autoReconnectOptions == null) {\n      this.options.autoReconnectOptions = {};\n    }\n\n    // Add properties to the this.options.autoReconnectOptions object.\n    // We assign the reference to a reconnectOptions variable to avoid repetition.\n    let reconnectOptions = this.options.autoReconnectOptions;\n    if (reconnectOptions.initialDelay == null) {\n      reconnectOptions.initialDelay = 10000;\n    }\n    if (reconnectOptions.randomness == null) {\n      reconnectOptions.randomness = 10000;\n    }\n    if (reconnectOptions.multiplier == null) {\n      reconnectOptions.multiplier = 1.5;\n    }\n    if (reconnectOptions.maxDelay == null) {\n      reconnectOptions.maxDelay = 60000;\n    }\n  }\n\n  if (this.options.subscriptionRetryOptions == null) {\n    this.options.subscriptionRetryOptions = {};\n  }\n\n  if (this.options.authEngine) {\n    this.auth = this.options.authEngine;\n  } else {\n    this.auth = new AuthEngine();\n  }\n\n  if (this.options.codecEngine) {\n    this.codec = this.options.codecEngine;\n  } else {\n    // Default codec engine\n    this.codec = formatter;\n  }\n\n  if (this.options.protocol) {\n    let protocolOptionError = new InvalidArgumentsError(\n      'The \"protocol\" option does not affect socketcluster-client - ' +\n      'If you want to utilize SSL/TLS, use \"secure\" option instead'\n    );\n    this._onError(protocolOptionError);\n  }\n\n  this.options.query = opts.query || {};\n  if (typeof this.options.query === 'string') {\n    let searchParams = new URLSearchParams(this.options.query);\n    let queryObject = {};\n    for (let [key, value] of searchParams.entries()) {\n      let currentValue = queryObject[key];\n      if (currentValue == null) {\n        queryObject[key] = value;\n      } else {\n        if (!Array.isArray(currentValue)) {\n          queryObject[key] = [currentValue];\n        }\n        queryObject[key].push(value);\n      }\n    }\n    this.options.query = queryObject;\n  }\n\n  if (isBrowser && this.disconnectOnUnload && global.addEventListener && global.removeEventListener) {\n    this._handleBrowserUnload();\n  }\n\n  if (this.options.autoConnect) {\n    this.connect();\n  }\n}\n\nAGClientSocket.prototype = Object.create(AsyncStreamEmitter.prototype);\n\nAGClientSocket.CONNECTING = AGClientSocket.prototype.CONNECTING = AGTransport.prototype.CONNECTING;\nAGClientSocket.OPEN = AGClientSocket.prototype.OPEN = AGTransport.prototype.OPEN;\nAGClientSocket.CLOSED = AGClientSocket.prototype.CLOSED = AGTransport.prototype.CLOSED;\n\nAGClientSocket.AUTHENTICATED = AGClientSocket.prototype.AUTHENTICATED = 'authenticated';\nAGClientSocket.UNAUTHENTICATED = AGClientSocket.prototype.UNAUTHENTICATED = 'unauthenticated';\n\nAGClientSocket.SUBSCRIBED = AGClientSocket.prototype.SUBSCRIBED = AGChannel.SUBSCRIBED;\nAGClientSocket.PENDING = AGClientSocket.prototype.PENDING = AGChannel.PENDING;\nAGClientSocket.UNSUBSCRIBED = AGClientSocket.prototype.UNSUBSCRIBED = AGChannel.UNSUBSCRIBED;\n\nAGClientSocket.ignoreStatuses = scErrors.socketProtocolIgnoreStatuses;\nAGClientSocket.errorStatuses = scErrors.socketProtocolErrorStatuses;\n\nObject.defineProperty(AGClientSocket.prototype, 'isBufferingBatch', {\n  get: function () {\n    return this.transport.isBufferingBatch;\n  }\n});\n\nAGClientSocket.prototype.getBackpressure = function () {\n  return Math.max(\n    this.getAllListenersBackpressure(),\n    this.getAllReceiversBackpressure(),\n    this.getAllProceduresBackpressure(),\n    this.getAllChannelsBackpressure()\n  );\n};\n\nAGClientSocket.prototype._handleBrowserUnload = async function () {\n  let unloadHandler = () => {\n    this.disconnect();\n  };\n  let isUnloadHandlerAttached = false;\n\n  let attachUnloadHandler = () => {\n    if (!isUnloadHandlerAttached) {\n      isUnloadHandlerAttached = true;\n      global.addEventListener('beforeunload', unloadHandler, false);\n    }\n  };\n\n  let detachUnloadHandler = () => {\n    if (isUnloadHandlerAttached) {\n      isUnloadHandlerAttached = false;\n      global.removeEventListener('beforeunload', unloadHandler, false);\n    }\n  };\n\n  (async () => {\n    let consumer = this.listener('connecting').createConsumer();\n    while (true) {\n      let packet = await consumer.next();\n      if (packet.done) break;\n      attachUnloadHandler();\n    }\n  })();\n\n  (async () => {\n    let consumer = this.listener('close').createConsumer();\n    while (true) {\n      let packet = await consumer.next();\n      if (packet.done) break;\n      detachUnloadHandler();\n    }\n  })();\n};\n\nAGClientSocket.prototype._setAuthToken = function (data) {\n  this._changeToAuthenticatedState(data.token);\n\n  (async () => {\n    try {\n      await this.auth.saveToken(this.authTokenName, data.token, {});\n    } catch (err) {\n      this._onError(err);\n    }\n  })();\n};\n\nAGClientSocket.prototype._removeAuthToken = function (data) {\n  (async () => {\n    let oldAuthToken;\n    try {\n      oldAuthToken = await this.auth.removeToken(this.authTokenName);\n    } catch (err) {\n      // Non-fatal error - Do not close the connection\n      this._onError(err);\n      return;\n    }\n    this.emit('removeAuthToken', {oldAuthToken});\n  })();\n\n  this._changeToUnauthenticatedStateAndClearTokens();\n};\n\nAGClientSocket.prototype._privateDataHandlerMap = {\n  '#publish': function (data) {\n    let undecoratedChannelName = this._undecorateChannelName(data.channel);\n    let isSubscribed = this.isSubscribed(undecoratedChannelName, true);\n\n    if (isSubscribed) {\n      this._channelDataDemux.write(undecoratedChannelName, data.data);\n    }\n  },\n  '#kickOut': function (data) {\n    let undecoratedChannelName = this._undecorateChannelName(data.channel);\n    let channel = this._channelMap[undecoratedChannelName];\n    if (channel) {\n      this.emit('kickOut', {\n        channel: undecoratedChannelName,\n        message: data.message\n      });\n      this._channelEventDemux.write(`${undecoratedChannelName}/kickOut`, {message: data.message});\n      this._triggerChannelUnsubscribe(channel);\n    }\n  },\n  '#setAuthToken': function (data) {\n    if (data) {\n      this._setAuthToken(data);\n    }\n  },\n  '#removeAuthToken': function (data) {\n    this._removeAuthToken(data);\n  }\n};\n\nAGClientSocket.prototype._privateRPCHandlerMap = {\n  '#setAuthToken': function (data, request) {\n    if (data) {\n      this._setAuthToken(data);\n\n      request.end();\n    } else {\n      request.error(new InvalidMessageError('No token data provided by #setAuthToken event'));\n    }\n  },\n  '#removeAuthToken': function (data, request) {\n    this._removeAuthToken(data);\n    request.end();\n  }\n};\n\nAGClientSocket.prototype.getState = function () {\n  return this.state;\n};\n\nAGClientSocket.prototype.getBytesReceived = function () {\n  return this.transport.getBytesReceived();\n};\n\nAGClientSocket.prototype.deauthenticate = async function () {\n  (async () => {\n    let oldAuthToken;\n    try {\n      oldAuthToken = await this.auth.removeToken(this.authTokenName);\n    } catch (err) {\n      this._onError(err);\n      return;\n    }\n    this.emit('removeAuthToken', {oldAuthToken});\n  })();\n\n  if (this.state !== this.CLOSED) {\n    this.transmit('#removeAuthToken');\n  }\n  this._changeToUnauthenticatedStateAndClearTokens();\n  await wait(0);\n};\n\nAGClientSocket.prototype.connect = function () {\n  if (this.state === this.CLOSED) {\n    this.pendingReconnect = false;\n    this.pendingReconnectTimeout = null;\n    clearTimeout(this._reconnectTimeoutRef);\n\n    this.state = this.CONNECTING;\n    this.emit('connecting', {});\n\n    if (this.transport) {\n      this.transport.clearAllListeners();\n    }\n\n    let transportHandlers = {\n      onOpen: (value) => {\n        this.state = this.OPEN;\n        this._onOpen(value);\n      },\n      onOpenAbort: (value) => {\n        if (this.state !== this.CLOSED) {\n          this.state = this.CLOSED;\n          this._destroy(value.code, value.reason, true);\n        }\n      },\n      onClose: (value) => {\n        if (this.state !== this.CLOSED) {\n          this.state = this.CLOSED;\n          this._destroy(value.code, value.reason);\n        }\n      },\n      onEvent: (value) => {\n        this.emit(value.event, value.data);\n      },\n      onError: (value) => {\n        this._onError(value.error);\n      },\n      onInboundInvoke: (value) => {\n        this._onInboundInvoke(value);\n      },\n      onInboundTransmit: (value) => {\n        this._onInboundTransmit(value.event, value.data);\n      }\n    };\n\n    this.transport = new AGTransport(this.auth, this.codec, this.options, this.wsOptions, transportHandlers);\n  }\n};\n\nAGClientSocket.prototype.reconnect = function (code, reason) {\n  this.disconnect(code, reason);\n  this.connect();\n};\n\nAGClientSocket.prototype.disconnect = function (code, reason) {\n  code = code || 1000;\n\n  if (typeof code !== 'number') {\n    throw new InvalidArgumentsError('If specified, the code argument must be a number');\n  }\n\n  let isConnecting = this.state === this.CONNECTING;\n  if (isConnecting || this.state === this.OPEN) {\n    this.state = this.CLOSED;\n    this._destroy(code, reason, isConnecting);\n    this.transport.close(code, reason);\n  } else {\n    this.pendingReconnect = false;\n    this.pendingReconnectTimeout = null;\n    clearTimeout(this._reconnectTimeoutRef);\n  }\n};\n\nAGClientSocket.prototype._changeToUnauthenticatedStateAndClearTokens = function () {\n  if (this.authState !== this.UNAUTHENTICATED) {\n    let oldAuthState = this.authState;\n    let oldAuthToken = this.authToken;\n    let oldSignedAuthToken = this.signedAuthToken;\n    this.authState = this.UNAUTHENTICATED;\n    this.signedAuthToken = null;\n    this.authToken = null;\n\n    let stateChangeData = {\n      oldAuthState,\n      newAuthState: this.authState\n    };\n    this.emit('authStateChange', stateChangeData);\n    this.emit('deauthenticate', {oldSignedAuthToken, oldAuthToken});\n  }\n};\n\nAGClientSocket.prototype._changeToAuthenticatedState = function (signedAuthToken) {\n  this.signedAuthToken = signedAuthToken;\n  this.authToken = this._extractAuthTokenData(signedAuthToken);\n\n  if (this.authState !== this.AUTHENTICATED) {\n    let oldAuthState = this.authState;\n    this.authState = this.AUTHENTICATED;\n    let stateChangeData = {\n      oldAuthState,\n      newAuthState: this.authState,\n      signedAuthToken: signedAuthToken,\n      authToken: this.authToken\n    };\n    if (!this.preparingPendingSubscriptions) {\n      this.processPendingSubscriptions();\n    }\n\n    this.emit('authStateChange', stateChangeData);\n  }\n  this.emit('authenticate', {signedAuthToken, authToken: this.authToken});\n};\n\nAGClientSocket.prototype.decodeBase64 = function (encodedString) {\n  return Buffer.from(encodedString, 'base64').toString('utf8');\n};\n\nAGClientSocket.prototype.encodeBase64 = function (decodedString) {\n  return Buffer.from(decodedString, 'utf8').toString('base64');\n};\n\nAGClientSocket.prototype._extractAuthTokenData = function (signedAuthToken) {\n  let tokenParts = (signedAuthToken || '').split('.');\n  let encodedTokenData = tokenParts[1];\n  if (encodedTokenData != null) {\n    let tokenData = encodedTokenData;\n    try {\n      tokenData = this.decodeBase64(tokenData);\n      return JSON.parse(tokenData);\n    } catch (e) {\n      return tokenData;\n    }\n  }\n  return null;\n};\n\nAGClientSocket.prototype.getAuthToken = function () {\n  return this.authToken;\n};\n\nAGClientSocket.prototype.getSignedAuthToken = function () {\n  return this.signedAuthToken;\n};\n\n// Perform client-initiated authentication by providing an encrypted token string.\nAGClientSocket.prototype.authenticate = async function (signedAuthToken) {\n  let authStatus;\n\n  try {\n    authStatus = await this.invoke('#authenticate', signedAuthToken);\n  } catch (err) {\n    if (err.name !== 'BadConnectionError' && err.name !== 'TimeoutError') {\n      // In case of a bad/closed connection or a timeout, we maintain the last\n      // known auth state since those errors don't mean that the token is invalid.\n      this._changeToUnauthenticatedStateAndClearTokens();\n    }\n    await wait(0);\n    throw err;\n  }\n\n  if (authStatus && authStatus.isAuthenticated != null) {\n    // If authStatus is correctly formatted (has an isAuthenticated property),\n    // then we will rehydrate the authError.\n    if (authStatus.authError) {\n      authStatus.authError = scErrors.hydrateError(authStatus.authError);\n    }\n  } else {\n    // Some errors like BadConnectionError and TimeoutError will not pass a valid\n    // authStatus object to the current function, so we need to create it ourselves.\n    authStatus = {\n      isAuthenticated: this.authState,\n      authError: null\n    };\n  }\n\n  if (authStatus.isAuthenticated) {\n    this._changeToAuthenticatedState(signedAuthToken);\n  } else {\n    this._changeToUnauthenticatedStateAndClearTokens();\n  }\n\n  (async () => {\n    try {\n      await this.auth.saveToken(this.authTokenName, signedAuthToken, {});\n    } catch (err) {\n      this._onError(err);\n    }\n  })();\n\n  await wait(0);\n  return authStatus;\n};\n\nAGClientSocket.prototype._tryReconnect = function (initialDelay) {\n  let exponent = this.connectAttempts++;\n  let reconnectOptions = this.options.autoReconnectOptions;\n  let timeout;\n\n  if (initialDelay == null || exponent > 0) {\n    let initialTimeout = Math.round(reconnectOptions.initialDelay + (reconnectOptions.randomness || 0) * Math.random());\n\n    timeout = Math.round(initialTimeout * Math.pow(reconnectOptions.multiplier, exponent));\n  } else {\n    timeout = initialDelay;\n  }\n\n  if (timeout > reconnectOptions.maxDelay) {\n    timeout = reconnectOptions.maxDelay;\n  }\n\n  clearTimeout(this._reconnectTimeoutRef);\n\n  this.pendingReconnect = true;\n  this.pendingReconnectTimeout = timeout;\n  this._reconnectTimeoutRef = setTimeout(() => {\n    this.connect();\n  }, timeout);\n};\n\nAGClientSocket.prototype._onOpen = function (status) {\n  if (this.isBatching) {\n    this._startBatching();\n  } else if (this.batchOnHandshake) {\n    this._startBatching();\n    setTimeout(() => {\n      if (!this.isBatching) {\n        this._stopBatching();\n      }\n    }, this.batchOnHandshakeDuration);\n  }\n  this.preparingPendingSubscriptions = true;\n\n  if (status) {\n    this.id = status.id;\n    this.pingTimeout = status.pingTimeout;\n    if (status.isAuthenticated) {\n      this._changeToAuthenticatedState(status.authToken);\n    } else {\n      this._changeToUnauthenticatedStateAndClearTokens();\n    }\n  } else {\n    // This can happen if auth.loadToken (in transport.js) fails with\n    // an error - This means that the signedAuthToken cannot be loaded by\n    // the auth engine and therefore, we need to unauthenticate the client.\n    this._changeToUnauthenticatedStateAndClearTokens();\n  }\n\n  this.connectAttempts = 0;\n\n  if (this.options.autoSubscribeOnConnect) {\n    this.processPendingSubscriptions();\n  }\n\n  // If the user invokes the callback while in autoSubscribeOnConnect mode, it\n  // won't break anything.\n  this.emit('connect', {\n    ...status,\n    processPendingSubscriptions: () => {\n      this.processPendingSubscriptions();\n    }\n  });\n\n  if (this.state === this.OPEN) {\n    this._flushOutboundBuffer();\n  }\n};\n\nAGClientSocket.prototype._onError = function (error) {\n  this.emit('error', {error});\n};\n\nAGClientSocket.prototype._suspendSubscriptions = function () {\n  Object.keys(this._channelMap).forEach((channelName) => {\n    let channel = this._channelMap[channelName];\n    this._triggerChannelUnsubscribe(channel, true);\n  });\n};\n\nAGClientSocket.prototype._abortAllPendingEventsDueToBadConnection = function (failureType) {\n  let currentNode = this._outboundBuffer.head;\n  let nextNode;\n\n  while (currentNode) {\n    nextNode = currentNode.next;\n    let eventObject = currentNode.data;\n    clearTimeout(eventObject.timeout);\n    delete eventObject.timeout;\n    currentNode.detach();\n    currentNode = nextNode;\n\n    let callback = eventObject.callback;\n\n    if (callback) {\n      delete eventObject.callback;\n      let errorMessage = `Event \"${eventObject.event}\" was aborted due to a bad connection`;\n      let error = new BadConnectionError(errorMessage, failureType);\n\n      callback.call(eventObject, error, eventObject);\n    }\n    // Cleanup any pending response callback in the transport layer too.\n    if (eventObject.cid) {\n      this.transport.cancelPendingResponse(eventObject.cid);\n    }\n  }\n};\n\nAGClientSocket.prototype._destroy = function (code, reason, openAbort) {\n  this.id = null;\n  this._cancelBatching();\n\n  if (this.transport) {\n    this.transport.clearAllListeners();\n  }\n\n  this.pendingReconnect = false;\n  this.pendingReconnectTimeout = null;\n  clearTimeout(this._reconnectTimeoutRef);\n\n  this._suspendSubscriptions();\n\n  if (openAbort) {\n    this.emit('connectAbort', {code, reason});\n  } else {\n    this.emit('disconnect', {code, reason});\n  }\n  this.emit('close', {code, reason});\n\n  if (!AGClientSocket.ignoreStatuses[code]) {\n    let closeMessage;\n    if (reason) {\n      closeMessage = 'Socket connection closed with status code ' + code + ' and reason: ' + reason;\n    } else {\n      closeMessage = 'Socket connection closed with status code ' + code;\n    }\n    let err = new SocketProtocolError(AGClientSocket.errorStatuses[code] || closeMessage, code);\n    this._onError(err);\n  }\n\n  this._abortAllPendingEventsDueToBadConnection(openAbort ? 'connectAbort' : 'disconnect');\n\n  // Try to reconnect\n  // on server ping timeout (4000)\n  // or on client pong timeout (4001)\n  // or on close without status (1005)\n  // or on handshake failure (4003)\n  // or on handshake rejection (4008)\n  // or on socket hung up (1006)\n  if (this.options.autoReconnect) {\n    if (code === 4000 || code === 4001 || code === 1005) {\n      // If there is a ping or pong timeout or socket closes without\n      // status, don't wait before trying to reconnect - These could happen\n      // if the client wakes up after a period of inactivity and in this case we\n      // want to re-establish the connection as soon as possible.\n      this._tryReconnect(0);\n\n      // Codes 4500 and above will be treated as permanent disconnects.\n      // Socket will not try to auto-reconnect.\n    } else if (code !== 1000 && code < 4500) {\n      this._tryReconnect();\n    }\n  }\n};\n\nAGClientSocket.prototype._onInboundTransmit = function (event, data) {\n  let handler = this._privateDataHandlerMap[event];\n  if (handler) {\n    handler.call(this, data);\n  } else {\n    this._receiverDemux.write(event, data);\n  }\n};\n\nAGClientSocket.prototype._onInboundInvoke = function (request) {\n  let {procedure, data} = request;\n  let handler = this._privateRPCHandlerMap[procedure];\n  if (handler) {\n    handler.call(this, data, request);\n  } else {\n    this._procedureDemux.write(procedure, request);\n  }\n};\n\nAGClientSocket.prototype.decode = function (message) {\n  return this.transport.decode(message);\n};\n\nAGClientSocket.prototype.encode = function (object) {\n  return this.transport.encode(object);\n};\n\nAGClientSocket.prototype._flushOutboundBuffer = function () {\n  let currentNode = this._outboundBuffer.head;\n  let nextNode;\n\n  while (currentNode) {\n    nextNode = currentNode.next;\n    let eventObject = currentNode.data;\n    currentNode.detach();\n    this.transport.transmitObject(eventObject);\n    currentNode = nextNode;\n  }\n};\n\nAGClientSocket.prototype._handleEventAckTimeout = function (eventObject, eventNode) {\n  if (eventNode) {\n    eventNode.detach();\n  }\n  delete eventObject.timeout;\n\n  let callback = eventObject.callback;\n  if (callback) {\n    delete eventObject.callback;\n    let error = new TimeoutError(`Event response for \"${eventObject.event}\" timed out`);\n    callback.call(eventObject, error, eventObject);\n  }\n  // Cleanup any pending response callback in the transport layer too.\n  if (eventObject.cid) {\n    this.transport.cancelPendingResponse(eventObject.cid);\n  }\n};\n\nAGClientSocket.prototype._processOutboundEvent = function (event, data, options, expectResponse) {\n  options = options || {};\n\n  if (this.state === this.CLOSED) {\n    this.connect();\n  }\n  let eventObject = {\n    event\n  };\n\n  let promise;\n\n  if (expectResponse) {\n    promise = new Promise((resolve, reject) => {\n      eventObject.callback = (err, data) => {\n        if (err) {\n          reject(err);\n          return;\n        }\n        resolve(data);\n      };\n    });\n  } else {\n    promise = Promise.resolve();\n  }\n\n  let eventNode = new LinkedList.Item();\n\n  if (this.options.cloneData) {\n    eventObject.data = cloneDeep(data);\n  } else {\n    eventObject.data = data;\n  }\n  eventNode.data = eventObject;\n\n  let ackTimeout = options.ackTimeout == null ? this.ackTimeout : options.ackTimeout;\n\n  eventObject.timeout = setTimeout(() => {\n    this._handleEventAckTimeout(eventObject, eventNode);\n  }, ackTimeout);\n\n  this._outboundBuffer.append(eventNode);\n  if (this.state === this.OPEN) {\n    this._flushOutboundBuffer();\n  }\n  return promise;\n};\n\nAGClientSocket.prototype.send = function (data) {\n  this.transport.send(data);\n};\n\nAGClientSocket.prototype.transmit = function (event, data, options) {\n  return this._processOutboundEvent(event, data, options);\n};\n\nAGClientSocket.prototype.invoke = function (event, data, options) {\n  return this._processOutboundEvent(event, data, options, true);\n};\n\nAGClientSocket.prototype.transmitPublish = function (channelName, data) {\n  let pubData = {\n    channel: this._decorateChannelName(channelName),\n    data\n  };\n  return this.transmit('#publish', pubData);\n};\n\nAGClientSocket.prototype.invokePublish = function (channelName, data) {\n  let pubData = {\n    channel: this._decorateChannelName(channelName),\n    data\n  };\n  return this.invoke('#publish', pubData);\n};\n\nAGClientSocket.prototype._triggerChannelSubscribe = function (channel, subscriptionOptions) {\n  let channelName = channel.name;\n\n  if (channel.state !== AGChannel.SUBSCRIBED) {\n    let oldChannelState = channel.state;\n    channel.state = AGChannel.SUBSCRIBED;\n\n    let stateChangeData = {\n      oldChannelState,\n      newChannelState: channel.state,\n      subscriptionOptions\n    };\n    this._channelEventDemux.write(`${channelName}/subscribeStateChange`, stateChangeData);\n    this._channelEventDemux.write(`${channelName}/subscribe`, {\n      subscriptionOptions\n    });\n    this.emit('subscribeStateChange', {\n      channel: channelName,\n      ...stateChangeData\n    });\n    this.emit('subscribe', {\n      channel: channelName,\n      subscriptionOptions\n    });\n  }\n};\n\nAGClientSocket.prototype._triggerChannelSubscribeFail = function (err, channel, subscriptionOptions) {\n  let channelName = channel.name;\n  let meetsAuthRequirements = !channel.options.waitForAuth || this.authState === this.AUTHENTICATED;\n  let hasChannel = !!this._channelMap[channelName];\n\n  if (hasChannel && meetsAuthRequirements) {\n    delete this._channelMap[channelName];\n\n    this._channelEventDemux.write(`${channelName}/subscribeFail`, {\n      error: err,\n      subscriptionOptions\n    });\n    this.emit('subscribeFail', {\n      error: err,\n      channel: channelName,\n      subscriptionOptions: subscriptionOptions\n    });\n  }\n};\n\n// Cancel any pending subscribe callback\nAGClientSocket.prototype._cancelPendingSubscribeCallback = function (channel) {\n  if (channel._pendingSubscriptionCid != null) {\n    this.transport.cancelPendingResponse(channel._pendingSubscriptionCid);\n    delete channel._pendingSubscriptionCid;\n  }\n};\n\nAGClientSocket.prototype._decorateChannelName = function (channelName) {\n  if (this.channelPrefix) {\n    channelName = this.channelPrefix + channelName;\n  }\n  return channelName;\n};\n\nAGClientSocket.prototype._undecorateChannelName = function (decoratedChannelName) {\n  if (this.channelPrefix && decoratedChannelName.indexOf(this.channelPrefix) === 0) {\n    return decoratedChannelName.replace(this.channelPrefix, '');\n  }\n  return decoratedChannelName;\n};\n\nAGClientSocket.prototype.startBatch = function () {\n  this.transport.startBatch();\n};\n\nAGClientSocket.prototype.flushBatch = function () {\n  this.transport.flushBatch();\n};\n\nAGClientSocket.prototype.cancelBatch = function () {\n  this.transport.cancelBatch();\n};\n\nAGClientSocket.prototype._startBatching = function () {\n  if (this._batchingIntervalId != null) {\n    return;\n  }\n  this.startBatch();\n  this._batchingIntervalId = setInterval(() => {\n    this.flushBatch();\n    this.startBatch();\n  }, this.options.batchInterval);\n};\n\nAGClientSocket.prototype.startBatching = function () {\n  this.isBatching = true;\n  this._startBatching();\n};\n\nAGClientSocket.prototype._stopBatching = function () {\n  if (this._batchingIntervalId != null) {\n    clearInterval(this._batchingIntervalId);\n  }\n  this._batchingIntervalId = null;\n  this.flushBatch();\n};\n\nAGClientSocket.prototype.stopBatching = function () {\n  this.isBatching = false;\n  this._stopBatching();\n};\n\nAGClientSocket.prototype._cancelBatching = function () {\n  if (this._batchingIntervalId != null) {\n    clearInterval(this._batchingIntervalId);\n  }\n  this._batchingIntervalId = null;\n  this.cancelBatch();\n};\n\nAGClientSocket.prototype.cancelBatching = function () {\n  this.isBatching = false;\n  this._cancelBatching();\n};\n\nAGClientSocket.prototype._trySubscribe = function (channel) {\n  let meetsAuthRequirements = !channel.options.waitForAuth || this.authState === this.AUTHENTICATED;\n\n  // We can only ever have one pending subscribe action at any given time on a channel\n  if (\n    this.state === this.OPEN &&\n    !this.preparingPendingSubscriptions &&\n    channel._pendingSubscriptionCid == null &&\n    meetsAuthRequirements\n  ) {\n\n    let options = {\n      noTimeout: true\n    };\n\n    let subscriptionOptions = {};\n    if (channel.options.waitForAuth) {\n      options.waitForAuth = true;\n      subscriptionOptions.waitForAuth = options.waitForAuth;\n    }\n    if (channel.options.data) {\n      subscriptionOptions.data = channel.options.data;\n    }\n\n    channel._pendingSubscriptionCid = this.transport.invokeRaw(\n      '#subscribe',\n      {\n        channel: this._decorateChannelName(channel.name),\n        ...subscriptionOptions\n      },\n      options,\n      (err) => {\n        if (err) {\n          if (err.name === 'BadConnectionError') {\n            // In case of a failed connection, keep the subscription\n            // as pending; it will try again on reconnect.\n            return;\n          }\n          delete channel._pendingSubscriptionCid;\n          this._triggerChannelSubscribeFail(err, channel, subscriptionOptions);\n        } else {\n          delete channel._pendingSubscriptionCid;\n          this._triggerChannelSubscribe(channel, subscriptionOptions);\n        }\n      }\n    );\n    this.emit('subscribeRequest', {\n      channel: channel.name,\n      subscriptionOptions\n    });\n  }\n};\n\nAGClientSocket.prototype.subscribe = function (channelName, options) {\n  options = options || {};\n  let channel = this._channelMap[channelName];\n\n  let sanitizedOptions = {\n    waitForAuth: !!options.waitForAuth\n  };\n\n  if (options.priority != null) {\n    sanitizedOptions.priority = options.priority;\n  }\n  if (options.data !== undefined) {\n    sanitizedOptions.data = options.data;\n  }\n\n  if (!channel) {\n    channel = {\n      name: channelName,\n      state: AGChannel.PENDING,\n      options: sanitizedOptions\n    };\n    this._channelMap[channelName] = channel;\n    this._trySubscribe(channel);\n  } else if (options) {\n    channel.options = sanitizedOptions;\n  }\n\n  let channelIterable = new AGChannel(\n    channelName,\n    this,\n    this._channelEventDemux,\n    this._channelDataDemux\n  );\n\n  return channelIterable;\n};\n\nAGClientSocket.prototype._triggerChannelUnsubscribe = function (channel, setAsPending) {\n  let channelName = channel.name;\n\n  this._cancelPendingSubscribeCallback(channel);\n\n  if (channel.state === AGChannel.SUBSCRIBED) {\n    let stateChangeData = {\n      oldChannelState: channel.state,\n      newChannelState: setAsPending ? AGChannel.PENDING : AGChannel.UNSUBSCRIBED\n    };\n    this._channelEventDemux.write(`${channelName}/subscribeStateChange`, stateChangeData);\n    this._channelEventDemux.write(`${channelName}/unsubscribe`, {});\n    this.emit('subscribeStateChange', {\n      channel: channelName,\n      ...stateChangeData\n    });\n    this.emit('unsubscribe', {channel: channelName});\n  }\n\n  if (setAsPending) {\n    channel.state = AGChannel.PENDING;\n  } else {\n    delete this._channelMap[channelName];\n  }\n};\n\nAGClientSocket.prototype._tryUnsubscribe = function (channel) {\n  if (this.state === this.OPEN) {\n    let options = {\n      noTimeout: true\n    };\n    // If there is a pending subscribe action, cancel the callback\n    this._cancelPendingSubscribeCallback(channel);\n\n    // This operation cannot fail because the TCP protocol guarantees delivery\n    // so long as the connection remains open. If the connection closes,\n    // the server will automatically unsubscribe the client and thus complete\n    // the operation on the server side.\n    let decoratedChannelName = this._decorateChannelName(channel.name);\n    this.transport.transmit('#unsubscribe', decoratedChannelName, options);\n  }\n};\n\nAGClientSocket.prototype.unsubscribe = function (channelName) {\n  let channel = this._channelMap[channelName];\n\n  if (channel) {\n    this._triggerChannelUnsubscribe(channel);\n    this._tryUnsubscribe(channel);\n  }\n};\n\n// ---- Receiver logic ----\n\nAGClientSocket.prototype.receiver = function (receiverName) {\n  return this._receiverDemux.stream(receiverName);\n};\n\nAGClientSocket.prototype.closeReceiver = function (receiverName) {\n  this._receiverDemux.close(receiverName);\n};\n\nAGClientSocket.prototype.closeAllReceivers = function () {\n  this._receiverDemux.closeAll();\n};\n\nAGClientSocket.prototype.killReceiver = function (receiverName) {\n  this._receiverDemux.kill(receiverName);\n};\n\nAGClientSocket.prototype.killAllReceivers = function () {\n  this._receiverDemux.killAll();\n};\n\nAGClientSocket.prototype.killReceiverConsumer = function (consumerId) {\n  this._receiverDemux.killConsumer(consumerId);\n};\n\nAGClientSocket.prototype.getReceiverConsumerStats = function (consumerId) {\n  return this._receiverDemux.getConsumerStats(consumerId);\n};\n\nAGClientSocket.prototype.getReceiverConsumerStatsList = function (receiverName) {\n  return this._receiverDemux.getConsumerStatsList(receiverName);\n};\n\nAGClientSocket.prototype.getAllReceiversConsumerStatsList = function () {\n  return this._receiverDemux.getConsumerStatsListAll();\n};\n\nAGClientSocket.prototype.getReceiverBackpressure = function (receiverName) {\n  return this._receiverDemux.getBackpressure(receiverName);\n};\n\nAGClientSocket.prototype.getAllReceiversBackpressure = function () {\n  return this._receiverDemux.getBackpressureAll();\n};\n\nAGClientSocket.prototype.getReceiverConsumerBackpressure = function (consumerId) {\n  return this._receiverDemux.getConsumerBackpressure(consumerId);\n};\n\nAGClientSocket.prototype.hasReceiverConsumer = function (receiverName, consumerId) {\n  return this._receiverDemux.hasConsumer(receiverName, consumerId);\n};\n\nAGClientSocket.prototype.hasAnyReceiverConsumer = function (consumerId) {\n  return this._receiverDemux.hasConsumerAll(consumerId);\n};\n\n// ---- Procedure logic ----\n\nAGClientSocket.prototype.procedure = function (procedureName) {\n  return this._procedureDemux.stream(procedureName);\n};\n\nAGClientSocket.prototype.closeProcedure = function (procedureName) {\n  this._procedureDemux.close(procedureName);\n};\n\nAGClientSocket.prototype.closeAllProcedures = function () {\n  this._procedureDemux.closeAll();\n};\n\nAGClientSocket.prototype.killProcedure = function (procedureName) {\n  this._procedureDemux.kill(procedureName);\n};\n\nAGClientSocket.prototype.killAllProcedures = function () {\n  this._procedureDemux.killAll();\n};\n\nAGClientSocket.prototype.killProcedureConsumer = function (consumerId) {\n  this._procedureDemux.killConsumer(consumerId);\n};\n\nAGClientSocket.prototype.getProcedureConsumerStats = function (consumerId) {\n  return this._procedureDemux.getConsumerStats(consumerId);\n};\n\nAGClientSocket.prototype.getProcedureConsumerStatsList = function (procedureName) {\n  return this._procedureDemux.getConsumerStatsList(procedureName);\n};\n\nAGClientSocket.prototype.getAllProceduresConsumerStatsList = function () {\n  return this._procedureDemux.getConsumerStatsListAll();\n};\n\nAGClientSocket.prototype.getProcedureBackpressure = function (procedureName) {\n  return this._procedureDemux.getBackpressure(procedureName);\n};\n\nAGClientSocket.prototype.getAllProceduresBackpressure = function () {\n  return this._procedureDemux.getBackpressureAll();\n};\n\nAGClientSocket.prototype.getProcedureConsumerBackpressure = function (consumerId) {\n  return this._procedureDemux.getConsumerBackpressure(consumerId);\n};\n\nAGClientSocket.prototype.hasProcedureConsumer = function (procedureName, consumerId) {\n  return this._procedureDemux.hasConsumer(procedureName, consumerId);\n};\n\nAGClientSocket.prototype.hasAnyProcedureConsumer = function (consumerId) {\n  return this._procedureDemux.hasConsumerAll(consumerId);\n};\n\n// ---- Channel logic ----\n\nAGClientSocket.prototype.channel = function (channelName) {\n  let currentChannel = this._channelMap[channelName];\n\n  let channelIterable = new AGChannel(\n    channelName,\n    this,\n    this._channelEventDemux,\n    this._channelDataDemux\n  );\n\n  return channelIterable;\n};\n\nAGClientSocket.prototype.closeChannel = function (channelName) {\n  this.channelCloseOutput(channelName);\n  this.channelCloseAllListeners(channelName);\n};\n\nAGClientSocket.prototype.closeAllChannelOutputs = function () {\n  this._channelDataDemux.closeAll();\n};\n\nAGClientSocket.prototype.closeAllChannelListeners = function () {\n  this._channelEventDemux.closeAll();\n};\n\nAGClientSocket.prototype.closeAllChannels = function () {\n  this.closeAllChannelOutputs();\n  this.closeAllChannelListeners();\n};\n\nAGClientSocket.prototype.killChannel = function (channelName) {\n  this.channelKillOutput(channelName);\n  this.channelKillAllListeners(channelName);\n};\n\nAGClientSocket.prototype.killAllChannelOutputs = function () {\n  this._channelDataDemux.killAll();\n};\n\nAGClientSocket.prototype.killAllChannelListeners = function () {\n  this._channelEventDemux.killAll();\n};\n\nAGClientSocket.prototype.killAllChannels = function () {\n  this.killAllChannelOutputs();\n  this.killAllChannelListeners();\n};\n\nAGClientSocket.prototype.killChannelOutputConsumer = function (consumerId) {\n  this._channelDataDemux.killConsumer(consumerId);\n};\n\nAGClientSocket.prototype.killChannelListenerConsumer = function (consumerId) {\n  this._channelEventDemux.killConsumer(consumerId);\n};\n\nAGClientSocket.prototype.getChannelOutputConsumerStats = function (consumerId) {\n  return this._channelDataDemux.getConsumerStats(consumerId);\n};\n\nAGClientSocket.prototype.getChannelListenerConsumerStats = function (consumerId) {\n  return this._channelEventDemux.getConsumerStats(consumerId);\n};\n\nAGClientSocket.prototype.getAllChannelOutputsConsumerStatsList = function () {\n  return this._channelDataDemux.getConsumerStatsListAll();\n};\n\nAGClientSocket.prototype.getAllChannelListenersConsumerStatsList = function () {\n  return this._channelEventDemux.getConsumerStatsListAll();\n};\n\nAGClientSocket.prototype.getChannelBackpressure = function (channelName) {\n  return Math.max(\n    this.channelGetOutputBackpressure(channelName),\n    this.channelGetAllListenersBackpressure(channelName)\n  );\n};\n\nAGClientSocket.prototype.getAllChannelOutputsBackpressure = function () {\n  return this._channelDataDemux.getBackpressureAll();\n};\n\nAGClientSocket.prototype.getAllChannelListenersBackpressure = function () {\n  return this._channelEventDemux.getBackpressureAll();\n};\n\nAGClientSocket.prototype.getAllChannelsBackpressure = function () {\n  return Math.max(\n    this.getAllChannelOutputsBackpressure(),\n    this.getAllChannelListenersBackpressure()\n  );\n};\n\nAGClientSocket.prototype.getChannelListenerConsumerBackpressure = function (consumerId) {\n  return this._channelEventDemux.getConsumerBackpressure(consumerId);\n};\n\nAGClientSocket.prototype.getChannelOutputConsumerBackpressure = function (consumerId) {\n  return this._channelDataDemux.getConsumerBackpressure(consumerId);\n};\n\nAGClientSocket.prototype.hasAnyChannelOutputConsumer = function (consumerId) {\n  return this._channelDataDemux.hasConsumerAll(consumerId);\n};\n\nAGClientSocket.prototype.hasAnyChannelListenerConsumer = function (consumerId) {\n  return this._channelEventDemux.hasConsumerAll(consumerId);\n};\n\nAGClientSocket.prototype.getChannelState = function (channelName) {\n  let channel = this._channelMap[channelName];\n  if (channel) {\n    return channel.state;\n  }\n  return AGChannel.UNSUBSCRIBED;\n};\n\nAGClientSocket.prototype.getChannelOptions = function (channelName) {\n  let channel = this._channelMap[channelName];\n  if (channel) {\n    return {...channel.options};\n  }\n  return {};\n};\n\nAGClientSocket.prototype._getAllChannelStreamNames = function (channelName) {\n  let streamNamesLookup = this._channelEventDemux.getConsumerStatsListAll()\n  .filter((stats) => {\n    return stats.stream.indexOf(`${channelName}/`) === 0;\n  })\n  .reduce((accumulator, stats) => {\n    accumulator[stats.stream] = true;\n    return accumulator;\n  }, {});\n  return Object.keys(streamNamesLookup);\n};\n\nAGClientSocket.prototype.channelCloseOutput = function (channelName) {\n  this._channelDataDemux.close(channelName);\n};\n\nAGClientSocket.prototype.channelCloseListener = function (channelName, eventName) {\n  this._channelEventDemux.close(`${channelName}/${eventName}`);\n};\n\nAGClientSocket.prototype.channelCloseAllListeners = function (channelName) {\n  let listenerStreams = this._getAllChannelStreamNames(channelName)\n  .forEach((streamName) => {\n    this._channelEventDemux.close(streamName);\n  });\n};\n\nAGClientSocket.prototype.channelKillOutput = function (channelName) {\n  this._channelDataDemux.kill(channelName);\n};\n\nAGClientSocket.prototype.channelKillListener = function (channelName, eventName) {\n  this._channelEventDemux.kill(`${channelName}/${eventName}`);\n};\n\nAGClientSocket.prototype.channelKillAllListeners = function (channelName) {\n  let listenerStreams = this._getAllChannelStreamNames(channelName)\n  .forEach((streamName) => {\n    this._channelEventDemux.kill(streamName);\n  });\n};\n\nAGClientSocket.prototype.channelGetOutputConsumerStatsList = function (channelName) {\n  return this._channelDataDemux.getConsumerStatsList(channelName);\n};\n\nAGClientSocket.prototype.channelGetListenerConsumerStatsList = function (channelName, eventName) {\n  return this._channelEventDemux.getConsumerStatsList(`${channelName}/${eventName}`);\n};\n\nAGClientSocket.prototype.channelGetAllListenersConsumerStatsList = function (channelName) {\n  return this._getAllChannelStreamNames(channelName)\n  .map((streamName) => {\n    return this._channelEventDemux.getConsumerStatsList(streamName);\n  })\n  .reduce((accumulator, statsList) => {\n    statsList.forEach((stats) => {\n      accumulator.push(stats);\n    });\n    return accumulator;\n  }, []);\n};\n\nAGClientSocket.prototype.channelGetOutputBackpressure = function (channelName) {\n  return this._channelDataDemux.getBackpressure(channelName);\n};\n\nAGClientSocket.prototype.channelGetListenerBackpressure = function (channelName, eventName) {\n  return this._channelEventDemux.getBackpressure(`${channelName}/${eventName}`);\n};\n\nAGClientSocket.prototype.channelGetAllListenersBackpressure = function (channelName) {\n  let listenerStreamBackpressures = this._getAllChannelStreamNames(channelName)\n  .map((streamName) => {\n    return this._channelEventDemux.getBackpressure(streamName);\n  });\n  return Math.max(...listenerStreamBackpressures.concat(0));\n};\n\nAGClientSocket.prototype.channelHasOutputConsumer = function (channelName, consumerId) {\n  return this._channelDataDemux.hasConsumer(channelName, consumerId);\n};\n\nAGClientSocket.prototype.channelHasListenerConsumer = function (channelName, eventName, consumerId) {\n  return this._channelEventDemux.hasConsumer(`${channelName}/${eventName}`, consumerId);\n};\n\nAGClientSocket.prototype.channelHasAnyListenerConsumer = function (channelName, consumerId) {\n  return this._getAllChannelStreamNames(channelName)\n  .some((streamName) => {\n    return this._channelEventDemux.hasConsumer(streamName, consumerId);\n  });\n};\n\nAGClientSocket.prototype.subscriptions = function (includePending) {\n  let subs = [];\n  Object.keys(this._channelMap).forEach((channelName) => {\n    if (includePending || this._channelMap[channelName].state === AGChannel.SUBSCRIBED) {\n      subs.push(channelName);\n    }\n  });\n  return subs;\n};\n\nAGClientSocket.prototype.isSubscribed = function (channelName, includePending) {\n  let channel = this._channelMap[channelName];\n  if (includePending) {\n    return !!channel;\n  }\n  return !!channel && channel.state === AGChannel.SUBSCRIBED;\n};\n\nAGClientSocket.prototype.processPendingSubscriptions = function () {\n  this.preparingPendingSubscriptions = false;\n  let pendingChannels = [];\n\n  Object.keys(this._channelMap).forEach((channelName) => {\n    let channel = this._channelMap[channelName];\n    if (channel.state === AGChannel.PENDING) {\n      pendingChannels.push(channel);\n    }\n  });\n\n  pendingChannels.sort((a, b) => {\n    let ap = a.options.priority || 0;\n    let bp = b.options.priority || 0;\n    if (ap > bp) {\n      return -1;\n    }\n    if (ap < bp) {\n      return 1;\n    }\n    return 0;\n  });\n\n  pendingChannels.forEach((channel) => {\n    this._trySubscribe(channel);\n  });\n};\n\nmodule.exports = AGClientSocket;\n","class Consumer {\n  constructor(stream, id, startNode, timeout) {\n    this.id = id;\n    this._backpressure = 0;\n    this.stream = stream;\n    this.currentNode = startNode;\n    this.timeout = timeout;\n    this.isAlive = true;\n    this.stream.setConsumer(this.id, this);\n  }\n\n  getStats() {\n    let stats = {\n      id: this.id,\n      backpressure: this._backpressure\n    };\n    if (this.timeout != null) {\n      stats.timeout = this.timeout;\n    }\n    return stats;\n  }\n\n  _resetBackpressure() {\n    this._backpressure = 0;\n  }\n\n  applyBackpressure(packet) {\n    this._backpressure++;\n  }\n\n  releaseBackpressure(packet) {\n    this._backpressure--;\n  }\n\n  getBackpressure() {\n    return this._backpressure;\n  }\n\n  write(packet) {\n    if (this._timeoutId !== undefined) {\n      clearTimeout(this._timeoutId);\n      delete this._timeoutId;\n    }\n    this.applyBackpressure(packet);\n    if (this._resolve) {\n      this._resolve();\n      delete this._resolve;\n    }\n  }\n\n  kill(value) {\n    if (this._timeoutId !== undefined) {\n      clearTimeout(this._timeoutId);\n      delete this._timeoutId;\n    }\n    this._killPacket = {value, done: true};\n    this._destroy();\n\n    if (this._resolve) {\n      this._resolve();\n      delete this._resolve;\n    }\n  }\n\n  _destroy() {\n    this.isAlive = false;\n    this._resetBackpressure();\n    this.stream.removeConsumer(this.id);\n  }\n\n  async _waitForNextItem(timeout) {\n    return new Promise((resolve, reject) => {\n      this._resolve = resolve;\n      let timeoutId;\n      if (timeout !== undefined) {\n        // Create the error object in the outer scope in order\n        // to get the full stack trace.\n        let error = new Error('Stream consumer iteration timed out');\n        (async () => {\n          let delay = wait(timeout);\n          timeoutId = delay.timeoutId;\n          await delay.promise;\n          error.name = 'TimeoutError';\n          delete this._resolve;\n          reject(error);\n        })();\n      }\n      this._timeoutId = timeoutId;\n    });\n  }\n\n  async next() {\n    this.stream.setConsumer(this.id, this);\n\n    while (true) {\n      if (!this.currentNode.next) {\n        try {\n          await this._waitForNextItem(this.timeout);\n        } catch (error) {\n          this._destroy();\n          throw error;\n        }\n      }\n      if (this._killPacket) {\n        this._destroy();\n        let killPacket = this._killPacket;\n        delete this._killPacket;\n\n        return killPacket;\n      }\n\n      this.currentNode = this.currentNode.next;\n      this.releaseBackpressure(this.currentNode.data);\n\n      if (this.currentNode.consumerId && this.currentNode.consumerId !== this.id) {\n        continue;\n      }\n\n      if (this.currentNode.data.done) {\n        this._destroy();\n      }\n\n      return this.currentNode.data;\n    }\n  }\n\n  return() {\n    delete this.currentNode;\n    this._destroy();\n    return {};\n  }\n\n  [Symbol.asyncIterator]() {\n    return this;\n  }\n}\n\nfunction wait(timeout) {\n  let timeoutId;\n  let promise = new Promise((resolve) => {\n    timeoutId = setTimeout(resolve, timeout);\n  });\n  return {timeoutId, promise};\n}\n\nmodule.exports = Consumer;\n","const AGClientSocket = require('./lib/clientsocket');\nconst factory = require('./lib/factory');\nconst version = '16.0.4';\n\nmodule.exports.factory = factory;\nmodule.exports.AGClientSocket = AGClientSocket;\n\nmodule.exports.create = function (options) {\n  return factory.create({...options, version});\n};\n\nmodule.exports.version = version;\n","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n","const scErrors = require('sc-errors');\nconst InvalidActionError = scErrors.InvalidActionError;\n\nfunction AGRequest(socket, id, procedureName, data) {\n  this.socket = socket;\n  this.id = id;\n  this.procedure = procedureName;\n  this.data = data;\n  this.sent = false;\n\n  this._respond = (responseData, options) => {\n    if (this.sent) {\n      throw new InvalidActionError(`Response to request ${this.id} has already been sent`);\n    }\n    this.sent = true;\n    this.socket.sendObject(responseData, options);\n  };\n\n  this.end = (data, options) => {\n    let responseData = {\n      rid: this.id\n    };\n    if (data !== undefined) {\n      responseData.data = data;\n    }\n    this._respond(responseData, options);\n  };\n\n  this.error = (error, options) => {\n    let responseData = {\n      rid: this.id,\n      error: scErrors.dehydrateError(error)\n    };\n    this._respond(responseData, options);\n  };\n}\n\nmodule.exports = AGRequest;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","// Based on https://github.com/dscape/cycle/blob/master/cycle.js\n\nmodule.exports = function decycle(object) {\n// Make a deep copy of an object or array, assuring that there is at most\n// one instance of each object or array in the resulting structure. The\n// duplicate references (which might be forming cycles) are replaced with\n// an object of the form\n//      {$ref: PATH}\n// where the PATH is a JSONPath string that locates the first occurance.\n// So,\n//      var a = [];\n//      a[0] = a;\n//      return JSON.stringify(JSON.decycle(a));\n// produces the string '[{\"$ref\":\"$\"}]'.\n\n// JSONPath is used to locate the unique object. $ indicates the top level of\n// the object or array. [NUMBER] or [STRING] indicates a child member or\n// property.\n\n    var objects = [],   // Keep a reference to each unique object or array\n        paths = [];     // Keep the path to each unique object or array\n\n    return (function derez(value, path) {\n\n// The derez recurses through the object, producing the deep copy.\n\n        var i,          // The loop counter\n            name,       // Property name\n            nu;         // The new object or array\n\n// typeof null === 'object', so go on if this value is really an object but not\n// one of the weird builtin objects.\n\n        if (typeof value === 'object' && value !== null &&\n                !(value instanceof Boolean) &&\n                !(value instanceof Date)    &&\n                !(value instanceof Number)  &&\n                !(value instanceof RegExp)  &&\n                !(value instanceof String)) {\n\n// If the value is an object or array, look to see if we have already\n// encountered it. If so, return a $ref/path object. This is a hard way,\n// linear search that will get slower as the number of unique objects grows.\n\n            for (i = 0; i < objects.length; i += 1) {\n                if (objects[i] === value) {\n                    return {$ref: paths[i]};\n                }\n            }\n\n// Otherwise, accumulate the unique value and its path.\n\n            objects.push(value);\n            paths.push(path);\n\n// If it is an array, replicate the array.\n\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n                nu = [];\n                for (i = 0; i < value.length; i += 1) {\n                    nu[i] = derez(value[i], path + '[' + i + ']');\n                }\n            } else {\n\n// If it is an object, replicate the object.\n\n                nu = {};\n                for (name in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, name)) {\n                        nu[name] = derez(value[name],\n                            path + '[' + JSON.stringify(name) + ']');\n                    }\n                }\n            }\n            return nu;\n        }\n        return value;\n    }(object, '$'));\n};\n","const WritableConsumableStream = require('writable-consumable-stream');\nconst DemuxedConsumableStream = require('./demuxed-consumable-stream');\n\nclass StreamDemux {\n  constructor() {\n    this._mainStream = new WritableConsumableStream();\n  }\n\n  write(streamName, value) {\n    this._mainStream.write({\n      stream: streamName,\n      data: {\n        value,\n        done: false\n      }\n    });\n  }\n\n  close(streamName, value) {\n    this._mainStream.write({\n      stream: streamName,\n      data: {\n        value,\n        done: true\n      }\n    });\n  }\n\n  closeAll(value) {\n    this._mainStream.close(value);\n  }\n\n  writeToConsumer(consumerId, value) {\n    this._mainStream.writeToConsumer(consumerId, {\n      consumerId,\n      data: {\n        value,\n        done: false\n      }\n    });\n  }\n\n  closeConsumer(consumerId, value) {\n    this._mainStream.closeConsumer(consumerId, {\n      consumerId,\n      data: {\n        value,\n        done: true\n      }\n    });\n  }\n\n  getConsumerStats(consumerId) {\n    return this._mainStream.getConsumerStats(consumerId);\n  }\n\n  getConsumerStatsList(streamName) {\n    let consumerList = this._mainStream.getConsumerStatsList();\n    return consumerList.filter((consumerStats) => {\n      return consumerStats.stream === streamName;\n    });\n  }\n\n  getConsumerStatsListAll() {\n    return this._mainStream.getConsumerStatsList();\n  }\n\n  kill(streamName, value) {\n    let consumerList = this.getConsumerStatsList(streamName);\n    let len = consumerList.length;\n    for (let i = 0; i < len; i++) {\n      this.killConsumer(consumerList[i].id, value);\n    }\n  }\n\n  killAll(value) {\n    this._mainStream.kill(value);\n  }\n\n  killConsumer(consumerId, value) {\n    this._mainStream.killConsumer(consumerId, value);\n  }\n\n  getBackpressure(streamName) {\n    let consumerList = this.getConsumerStatsList(streamName);\n    let len = consumerList.length;\n\n    let maxBackpressure = 0;\n    for (let i = 0; i < len; i++) {\n      let consumer = consumerList[i];\n      if (consumer.backpressure > maxBackpressure) {\n        maxBackpressure = consumer.backpressure;\n      }\n    }\n    return maxBackpressure;\n  }\n\n  getBackpressureAll() {\n    return this._mainStream.getBackpressure();\n  }\n\n  getConsumerBackpressure(consumerId) {\n    return this._mainStream.getConsumerBackpressure(consumerId);\n  }\n\n  hasConsumer(streamName, consumerId) {\n    let consumerStats = this._mainStream.getConsumerStats(consumerId);\n    return !!consumerStats && consumerStats.stream === streamName;\n  }\n\n  hasConsumerAll(consumerId) {\n    return this._mainStream.hasConsumer(consumerId);\n  }\n\n  getConsumerCount(streamName) {\n    return this.getConsumerStatsList(streamName).length;\n  }\n\n  getConsumerCountAll() {\n    return this.getConsumerStatsListAll().length;\n  }\n\n  createConsumer(streamName, timeout) {\n    let mainStreamConsumer = this._mainStream.createConsumer(timeout);\n\n    let consumerNext = mainStreamConsumer.next;\n    mainStreamConsumer.next = async function () {\n      while (true) {\n        let packet = await consumerNext.apply(this, arguments);\n        if (packet.value) {\n          if (\n            packet.value.stream === streamName ||\n            packet.value.consumerId === this.id\n          ) {\n            if (packet.value.data.done) {\n              this.return();\n            }\n            return packet.value.data;\n          }\n        }\n        if (packet.done) {\n          return packet;\n        }\n      }\n    };\n\n    let consumerGetStats = mainStreamConsumer.getStats;\n    mainStreamConsumer.getStats = function () {\n      let stats = consumerGetStats.apply(this, arguments);\n      stats.stream = streamName;\n      return stats;\n    };\n\n    let consumerApplyBackpressure = mainStreamConsumer.applyBackpressure;\n    mainStreamConsumer.applyBackpressure = function (packet) {\n      if (packet.value) {\n        if (\n          packet.value.stream === streamName ||\n          packet.value.consumerId === this.id\n        ) {\n          consumerApplyBackpressure.apply(this, arguments);\n\n          return;\n        }\n      }\n      if (packet.done) {\n        consumerApplyBackpressure.apply(this, arguments);\n      }\n    };\n\n    let consumerReleaseBackpressure = mainStreamConsumer.releaseBackpressure;\n    mainStreamConsumer.releaseBackpressure = function (packet) {\n      if (packet.value) {\n        if (\n          packet.value.stream === streamName ||\n          packet.value.consumerId === this.id\n        ) {\n          consumerReleaseBackpressure.apply(this, arguments);\n\n          return;\n        }\n      }\n      if (packet.done) {\n        consumerReleaseBackpressure.apply(this, arguments);\n      }\n    };\n\n    return mainStreamConsumer;\n  }\n\n  stream(streamName) {\n    return new DemuxedConsumableStream(this, streamName);\n  }\n}\n\nmodule.exports = StreamDemux;\n","const decycle = require('./decycle');\n\nconst isStrict = (function () { return !this; })();\n\nfunction AuthTokenExpiredError(message, expiry) {\n  this.name = 'AuthTokenExpiredError';\n  this.message = message;\n  this.expiry = expiry;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenExpiredError.prototype = Object.create(Error.prototype);\n\n\nfunction AuthTokenInvalidError(message) {\n  this.name = 'AuthTokenInvalidError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenInvalidError.prototype = Object.create(Error.prototype);\n\n\nfunction AuthTokenNotBeforeError(message, date) {\n  this.name = 'AuthTokenNotBeforeError';\n  this.message = message;\n  this.date = date;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenNotBeforeError.prototype = Object.create(Error.prototype);\n\n\n// For any other auth token error.\nfunction AuthTokenError(message) {\n  this.name = 'AuthTokenError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenError.prototype = Object.create(Error.prototype);\n\n// For any other auth error; not specifically related to the auth token itself.\nfunction AuthError(message) {\n  this.name = 'AuthError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthError.prototype = Object.create(Error.prototype);\n\n\nfunction SilentMiddlewareBlockedError(message, type) {\n  this.name = 'SilentMiddlewareBlockedError';\n  this.message = message;\n  this.type = type;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nSilentMiddlewareBlockedError.prototype = Object.create(Error.prototype);\n\n\nfunction InvalidActionError(message) {\n  this.name = 'InvalidActionError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidActionError.prototype = Object.create(Error.prototype);\n\nfunction InvalidArgumentsError(message) {\n  this.name = 'InvalidArgumentsError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidArgumentsError.prototype = Object.create(Error.prototype);\n\nfunction InvalidOptionsError(message) {\n  this.name = 'InvalidOptionsError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidOptionsError.prototype = Object.create(Error.prototype);\n\n\nfunction InvalidMessageError(message) {\n  this.name = 'InvalidMessageError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidMessageError.prototype = Object.create(Error.prototype);\n\n\nfunction SocketProtocolError(message, code) {\n  this.name = 'SocketProtocolError';\n  this.message = message;\n  this.code = code;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nSocketProtocolError.prototype = Object.create(Error.prototype);\n\n\nfunction ServerProtocolError(message) {\n  this.name = 'ServerProtocolError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nServerProtocolError.prototype = Object.create(Error.prototype);\n\nfunction HTTPServerError(message) {\n  this.name = 'HTTPServerError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nHTTPServerError.prototype = Object.create(Error.prototype);\n\n\nfunction ResourceLimitError(message) {\n  this.name = 'ResourceLimitError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nResourceLimitError.prototype = Object.create(Error.prototype);\n\n\nfunction TimeoutError(message) {\n  this.name = 'TimeoutError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nTimeoutError.prototype = Object.create(Error.prototype);\n\n\nfunction BadConnectionError(message, type) {\n  this.name = 'BadConnectionError';\n  this.message = message;\n  this.type = type;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nBadConnectionError.prototype = Object.create(Error.prototype);\n\n\nfunction BrokerError(message) {\n  this.name = 'BrokerError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nBrokerError.prototype = Object.create(Error.prototype);\n\n\nfunction ProcessExitError(message, code) {\n  this.name = 'ProcessExitError';\n  this.message = message;\n  this.code = code;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nProcessExitError.prototype = Object.create(Error.prototype);\n\n\nfunction UnknownError(message) {\n  this.name = 'UnknownError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nUnknownError.prototype = Object.create(Error.prototype);\n\n\n// Expose all error types.\n\nmodule.exports = {\n  AuthTokenExpiredError: AuthTokenExpiredError,\n  AuthTokenInvalidError: AuthTokenInvalidError,\n  AuthTokenNotBeforeError: AuthTokenNotBeforeError,\n  AuthTokenError: AuthTokenError,\n  AuthError: AuthError,\n  SilentMiddlewareBlockedError: SilentMiddlewareBlockedError,\n  InvalidActionError: InvalidActionError,\n  InvalidArgumentsError: InvalidArgumentsError,\n  InvalidOptionsError: InvalidOptionsError,\n  InvalidMessageError: InvalidMessageError,\n  SocketProtocolError: SocketProtocolError,\n  ServerProtocolError: ServerProtocolError,\n  HTTPServerError: HTTPServerError,\n  ResourceLimitError: ResourceLimitError,\n  TimeoutError: TimeoutError,\n  BadConnectionError: BadConnectionError,\n  BrokerError: BrokerError,\n  ProcessExitError: ProcessExitError,\n  UnknownError: UnknownError\n};\n\nmodule.exports.socketProtocolErrorStatuses = {\n  1001: 'Socket was disconnected',\n  1002: 'A WebSocket protocol error was encountered',\n  1003: 'Server terminated socket because it received invalid data',\n  1005: 'Socket closed without status code',\n  1006: 'Socket hung up',\n  1007: 'Message format was incorrect',\n  1008: 'Encountered a policy violation',\n  1009: 'Message was too big to process',\n  1010: 'Client ended the connection because the server did not comply with extension requirements',\n  1011: 'Server encountered an unexpected fatal condition',\n  4000: 'Server ping timed out',\n  4001: 'Client pong timed out',\n  4002: 'Server failed to sign auth token',\n  4003: 'Failed to complete handshake',\n  4004: 'Client failed to save auth token',\n  4005: 'Did not receive #handshake from client before timeout',\n  4006: 'Failed to bind socket to message broker',\n  4007: 'Client connection establishment timed out',\n  4008: 'Server rejected handshake from client',\n  4009: 'Server received a message before the client handshake'\n};\n\nmodule.exports.socketProtocolIgnoreStatuses = {\n  1000: 'Socket closed normally',\n  1001: 'Socket hung up'\n};\n\n// Convert an error into a JSON-compatible type which can later be hydrated\n// back to its *original* form.\nmodule.exports.dehydrateError = function dehydrateError(error) {\n  let dehydratedError;\n\n  if (error && typeof error === 'object') {\n    dehydratedError = {\n      message: error.message\n    };\n    for (let i of Object.keys(error)) {\n      dehydratedError[i] = error[i];\n    }\n  } else if (typeof error === 'function') {\n    dehydratedError = '[function ' + (typeof error.name === 'string' ? error.name : 'anonymous') + ']';\n  } else {\n    dehydratedError = error;\n  }\n\n  return decycle(dehydratedError);\n};\n\n// Convert a dehydrated error back to its *original* form.\nmodule.exports.hydrateError = function hydrateError(error) {\n  let hydratedError = null;\n  if (error != null) {\n    if (typeof error === 'object') {\n      hydratedError = new Error(\n        typeof error.message === 'string' ? error.message : 'Invalid error message format'\n      );\n      if (typeof error.name === 'string') {\n        hydratedError.name = error.name;\n      }\n      for (let i of Object.keys(error)) {\n        if (hydratedError[i] === undefined) {\n          hydratedError[i] = error[i];\n        }\n      }\n    } else {\n      hydratedError = error;\n    }\n  }\n  return hydratedError;\n};\n\nmodule.exports.decycle = decycle;\n","const ConsumableStream = require('consumable-stream');\n\nclass DemuxedConsumableStream extends ConsumableStream {\n  constructor(streamDemux, name) {\n    super();\n    this.name = name;\n    this._streamDemux = streamDemux;\n  }\n\n  createConsumer(timeout) {\n    return this._streamDemux.createConsumer(this.name, timeout);\n  }\n}\n\nmodule.exports = DemuxedConsumableStream;\n","const base64Chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nconst validJSONStartRegex = /^[ \\n\\r\\t]*[{\\[]/;\n\nlet arrayBufferToBase64 = function (arraybuffer) {\n  let bytes = new Uint8Array(arraybuffer);\n  let len = bytes.length;\n  let base64 = '';\n\n  for (let i = 0; i < len; i += 3) {\n    base64 += base64Chars[bytes[i] >> 2];\n    base64 += base64Chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n    base64 += base64Chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n    base64 += base64Chars[bytes[i + 2] & 63];\n  }\n\n  if ((len % 3) === 2) {\n    base64 = base64.substring(0, base64.length - 1) + '=';\n  } else if (len % 3 === 1) {\n    base64 = base64.substring(0, base64.length - 2) + '==';\n  }\n\n  return base64;\n};\n\nlet binaryToBase64Replacer = function (key, value) {\n  if (global.ArrayBuffer && value instanceof global.ArrayBuffer) {\n    return {\n      base64: true,\n      data: arrayBufferToBase64(value)\n    };\n  } else if (global.Buffer) {\n    if (value instanceof global.Buffer){\n      return {\n        base64: true,\n        data: value.toString('base64')\n      };\n    }\n    // Some versions of Node.js convert Buffers to Objects before they are passed to\n    // the replacer function - Because of this, we need to rehydrate Buffers\n    // before we can convert them to base64 strings.\n    if (value && value.type === 'Buffer' && Array.isArray(value.data)) {\n      let rehydratedBuffer;\n      if (global.Buffer.from) {\n        rehydratedBuffer = global.Buffer.from(value.data);\n      } else {\n        rehydratedBuffer = new global.Buffer(value.data);\n      }\n      return {\n        base64: true,\n        data: rehydratedBuffer.toString('base64')\n      };\n    }\n  }\n  return value;\n};\n\n// Decode the data which was transmitted over the wire to a JavaScript Object in a format which SC understands.\n// See encode function below for more details.\nmodule.exports.decode = function (encodedMessage) {\n  if (encodedMessage == null) {\n   return null;\n  }\n  // Leave ping or pong message as is\n  if (encodedMessage === '#1' || encodedMessage === '#2') {\n    return encodedMessage;\n  }\n  let message = encodedMessage.toString();\n\n  // Performance optimization to detect invalid JSON packet sooner.\n  if (!validJSONStartRegex.test(message)) {\n    return message;\n  }\n\n  try {\n    return JSON.parse(message);\n  } catch (err) {}\n  return message;\n};\n\n// Encode raw data (which is in the SC protocol format) into a format for\n// transfering it over the wire. In this case, we just convert it into a simple JSON string.\n// If you want to create your own custom codec, you can encode the object into any format\n// (e.g. binary ArrayBuffer or string with any kind of compression) so long as your decode\n// function is able to rehydrate that object back into its original JavaScript Object format\n// (which adheres to the SC protocol).\n// See https://github.com/SocketCluster/socketcluster/blob/master/socketcluster-protocol.md\n// for details about the SC protocol.\nmodule.exports.encode = function (rawData) {\n  // Leave ping or pong message as is\n  if (rawData === '#1' || rawData === '#2') {\n    return rawData;\n  }\n  return JSON.stringify(rawData, binaryToBase64Replacer);\n};\n","const decycle = require('./decycle');\n\nconst isStrict = (function () { return !this; })();\n\nfunction AuthTokenExpiredError(message, expiry) {\n  this.name = 'AuthTokenExpiredError';\n  this.message = message;\n  this.expiry = expiry;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenExpiredError.prototype = Object.create(Error.prototype);\n\n\nfunction AuthTokenInvalidError(message) {\n  this.name = 'AuthTokenInvalidError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenInvalidError.prototype = Object.create(Error.prototype);\n\n\nfunction AuthTokenNotBeforeError(message, date) {\n  this.name = 'AuthTokenNotBeforeError';\n  this.message = message;\n  this.date = date;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenNotBeforeError.prototype = Object.create(Error.prototype);\n\n\n// For any other auth token error.\nfunction AuthTokenError(message) {\n  this.name = 'AuthTokenError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenError.prototype = Object.create(Error.prototype);\n\n// For any other auth error; not specifically related to the auth token itself.\nfunction AuthError(message) {\n  this.name = 'AuthError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthError.prototype = Object.create(Error.prototype);\n\n\nfunction SilentMiddlewareBlockedError(message, type) {\n  this.name = 'SilentMiddlewareBlockedError';\n  this.message = message;\n  this.type = type;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nSilentMiddlewareBlockedError.prototype = Object.create(Error.prototype);\n\n\nfunction InvalidActionError(message) {\n  this.name = 'InvalidActionError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidActionError.prototype = Object.create(Error.prototype);\n\nfunction InvalidArgumentsError(message) {\n  this.name = 'InvalidArgumentsError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidArgumentsError.prototype = Object.create(Error.prototype);\n\nfunction InvalidOptionsError(message) {\n  this.name = 'InvalidOptionsError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidOptionsError.prototype = Object.create(Error.prototype);\n\n\nfunction InvalidMessageError(message) {\n  this.name = 'InvalidMessageError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidMessageError.prototype = Object.create(Error.prototype);\n\n\nfunction SocketProtocolError(message, code) {\n  this.name = 'SocketProtocolError';\n  this.message = message;\n  this.code = code;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nSocketProtocolError.prototype = Object.create(Error.prototype);\n\n\nfunction ServerProtocolError(message) {\n  this.name = 'ServerProtocolError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nServerProtocolError.prototype = Object.create(Error.prototype);\n\nfunction HTTPServerError(message) {\n  this.name = 'HTTPServerError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nHTTPServerError.prototype = Object.create(Error.prototype);\n\n\nfunction ResourceLimitError(message) {\n  this.name = 'ResourceLimitError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nResourceLimitError.prototype = Object.create(Error.prototype);\n\n\nfunction TimeoutError(message) {\n  this.name = 'TimeoutError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nTimeoutError.prototype = Object.create(Error.prototype);\n\n\nfunction BadConnectionError(message, type, code, reason) {\n  this.name = 'BadConnectionError';\n  this.message = message;\n  this.type = type;\n  this.code = code || 1001;\n  this.reason = reason || socketProtocolIgnoreStatuses[this.code] || '';\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nBadConnectionError.prototype = Object.create(Error.prototype);\n\n\nfunction BrokerError(message) {\n  this.name = 'BrokerError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nBrokerError.prototype = Object.create(Error.prototype);\n\n\nfunction ProcessExitError(message, code) {\n  this.name = 'ProcessExitError';\n  this.message = message;\n  this.code = code;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nProcessExitError.prototype = Object.create(Error.prototype);\n\n\nfunction UnknownError(message) {\n  this.name = 'UnknownError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nUnknownError.prototype = Object.create(Error.prototype);\n\n\n// Expose all error types.\n\nmodule.exports = {\n  AuthTokenExpiredError: AuthTokenExpiredError,\n  AuthTokenInvalidError: AuthTokenInvalidError,\n  AuthTokenNotBeforeError: AuthTokenNotBeforeError,\n  AuthTokenError: AuthTokenError,\n  AuthError: AuthError,\n  SilentMiddlewareBlockedError: SilentMiddlewareBlockedError,\n  InvalidActionError: InvalidActionError,\n  InvalidArgumentsError: InvalidArgumentsError,\n  InvalidOptionsError: InvalidOptionsError,\n  InvalidMessageError: InvalidMessageError,\n  SocketProtocolError: SocketProtocolError,\n  ServerProtocolError: ServerProtocolError,\n  HTTPServerError: HTTPServerError,\n  ResourceLimitError: ResourceLimitError,\n  TimeoutError: TimeoutError,\n  BadConnectionError: BadConnectionError,\n  BrokerError: BrokerError,\n  ProcessExitError: ProcessExitError,\n  UnknownError: UnknownError\n};\n\nconst socketProtocolErrorStatuses = {\n  1001: 'Socket was disconnected',\n  1002: 'A WebSocket protocol error was encountered',\n  1003: 'Server terminated socket because it received invalid data',\n  1005: 'Socket closed without status code',\n  1006: 'Socket hung up',\n  1007: 'Message format was incorrect',\n  1008: 'Encountered a policy violation',\n  1009: 'Message was too big to process',\n  1010: 'Client ended the connection because the server did not comply with extension requirements',\n  1011: 'Server encountered an unexpected fatal condition',\n  4000: 'Server ping timed out',\n  4001: 'Client pong timed out',\n  4002: 'Server failed to sign auth token',\n  4003: 'Failed to complete handshake',\n  4004: 'Client failed to save auth token',\n  4005: 'Did not receive #handshake from client before timeout',\n  4006: 'Failed to bind socket to message broker',\n  4007: 'Client connection establishment timed out',\n  4008: 'Server rejected handshake from client',\n  4009: 'Server received a message before the client handshake'\n};\n\nconst socketProtocolIgnoreStatuses = {\n  1000: 'Socket closed normally',\n  1001: socketProtocolErrorStatuses[1001]\n};\n\nmodule.exports.socketProtocolErrorStatuses = socketProtocolErrorStatuses;\nmodule.exports.socketProtocolIgnoreStatuses = socketProtocolIgnoreStatuses;\n\n// Convert an error into a JSON-compatible type which can later be hydrated\n// back to its *original* form.\nmodule.exports.dehydrateError = function dehydrateError(error) {\n  let dehydratedError;\n\n  if (error && typeof error === 'object') {\n    dehydratedError = {\n      message: error.message\n    };\n    for (let i of Object.keys(error)) {\n      dehydratedError[i] = error[i];\n    }\n  } else if (typeof error === 'function') {\n    dehydratedError = '[function ' + (typeof error.name === 'string' ? error.name : 'anonymous') + ']';\n  } else {\n    dehydratedError = error;\n  }\n\n  return decycle(dehydratedError);\n};\n\n// Convert a dehydrated error back to its *original* form.\nmodule.exports.hydrateError = function hydrateError(error) {\n  let hydratedError = null;\n  if (error != null) {\n    if (typeof error === 'object') {\n      hydratedError = new Error(\n        typeof error.message === 'string' ? error.message : 'Invalid error message format'\n      );\n      if (typeof error.name === 'string') {\n        hydratedError.name = error.name;\n      }\n      for (let i of Object.keys(error)) {\n        if (hydratedError[i] === undefined) {\n          hydratedError[i] = error[i];\n        }\n      }\n    } else {\n      hydratedError = error;\n    }\n  }\n  return hydratedError;\n};\n\nmodule.exports.decycle = decycle;\n","let global;\nif (typeof WorkerGlobalScope !== 'undefined') {\n  global = self;\n} else {\n  global = typeof window !== 'undefined' && window || (function() { return this; })();\n}\n\nconst WebSocket = global.WebSocket || global.MozWebSocket;\n\n/**\n * WebSocket constructor.\n *\n * The third `opts` options object gets ignored in web browsers, since it's\n * non-standard, and throws a TypeError if passed to the constructor.\n * See: https://github.com/einaros/ws/issues/227\n *\n * @param {String} uri\n * @param {Array} protocols (optional)\n * @param {Object} opts (optional)\n * @api public\n */\n\nfunction ws(uri, protocols, opts) {\n  let instance;\n  if (protocols) {\n    instance = new WebSocket(uri, protocols);\n  } else {\n    instance = new WebSocket(uri);\n  }\n  return instance;\n}\n\nif (WebSocket) ws.prototype = WebSocket.prototype;\n\nmodule.exports = WebSocket ? ws : null;\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nvar K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1)\n    var proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  var buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  var valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  var b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(\n      value[Symbol.toPrimitive]('string'), encodingOrOffset, length\n    )\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  var length = byteLength(string, encoding) | 0\n  var buf = createBuffer(length)\n\n  var actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  var buf = createBuffer(length)\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    var copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  var buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    var buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        Buffer.from(buf).copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  var len = string.length\n  var mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  var strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (var i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    var len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nvar hexSliceLookupTable = (function () {\n  var alphabet = '0123456789abcdef'\n  var table = new Array(256)\n  for (var i = 0; i < 16; ++i) {\n    var i16 = i * 16\n    for (var j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n","const AGClientSocket = require('./clientsocket');\nconst uuid = require('uuid');\nconst scErrors = require('sc-errors');\nconst InvalidArgumentsError = scErrors.InvalidArgumentsError;\n\nfunction isUrlSecure() {\n  return global.location && location.protocol === 'https:';\n}\n\nfunction getPort(options, isSecureDefault) {\n  let isSecure = options.secure == null ? isSecureDefault : options.secure;\n  return options.port || (global.location && location.port ? location.port : isSecure ? 443 : 80);\n}\n\nfunction create(options) {\n  options = options || {};\n\n  if (options.host && !options.host.match(/[^:]+:\\d{2,5}/)) {\n    throw new InvalidArgumentsError(\n      'The host option should include both' +\n      ' the hostname and the port number in the format \"hostname:port\"'\n    );\n  }\n\n  if (options.host && options.hostname) {\n    throw new InvalidArgumentsError(\n      'The host option should already include' +\n      ' the hostname and the port number in the format \"hostname:port\"' +\n      ' - Because of this, you should never use host and hostname options together'\n    );\n  }\n\n  if (options.host && options.port) {\n    throw new InvalidArgumentsError(\n      'The host option should already include' +\n      ' the hostname and the port number in the format \"hostname:port\"' +\n      ' - Because of this, you should never use host and port options together'\n    );\n  }\n\n  let isSecureDefault = isUrlSecure();\n\n  let opts = {\n    clientId: uuid.v4(),\n    port: getPort(options, isSecureDefault),\n    hostname: global.location && location.hostname || 'localhost',\n    secure: isSecureDefault\n  };\n\n  Object.assign(opts, options);\n\n  return new AGClientSocket(opts);\n}\n\nmodule.exports = {\n  create\n};\n","'use strict';\n\n/**\n * Module dependenices\n */\n\nconst clone = require('shallow-clone');\nconst typeOf = require('kind-of');\nconst isPlainObject = require('is-plain-object');\n\nfunction cloneDeep(val, instanceClone) {\n  switch (typeOf(val)) {\n    case 'object':\n      return cloneObjectDeep(val, instanceClone);\n    case 'array':\n      return cloneArrayDeep(val, instanceClone);\n    default: {\n      return clone(val);\n    }\n  }\n}\n\nfunction cloneObjectDeep(val, instanceClone) {\n  if (typeof instanceClone === 'function') {\n    return instanceClone(val);\n  }\n  if (instanceClone || isPlainObject(val)) {\n    const res = new val.constructor();\n    for (let key in val) {\n      res[key] = cloneDeep(val[key], instanceClone);\n    }\n    return res;\n  }\n  return val;\n}\n\nfunction cloneArrayDeep(val, instanceClone) {\n  const res = new val.constructor(val.length);\n  for (let i = 0; i < val.length; i++) {\n    res[i] = cloneDeep(val[i], instanceClone);\n  }\n  return res;\n}\n\n/**\n * Expose `cloneDeep`\n */\n\nmodule.exports = cloneDeep;\n","const ConsumableStream = require('consumable-stream');\n\nclass AGChannel extends ConsumableStream {\n  constructor(name, client, eventDemux, dataDemux) {\n    super();\n    this.PENDING = AGChannel.PENDING;\n    this.SUBSCRIBED = AGChannel.SUBSCRIBED;\n    this.UNSUBSCRIBED = AGChannel.UNSUBSCRIBED;\n\n    this.name = name;\n    this.client = client;\n\n    this._eventDemux = eventDemux;\n    this._dataStream = dataDemux.stream(this.name);\n  }\n\n  createConsumer(timeout) {\n    return this._dataStream.createConsumer(timeout);\n  }\n\n  listener(eventName) {\n    return this._eventDemux.stream(`${this.name}/${eventName}`);\n  }\n\n  close() {\n    this.client.closeChannel(this.name);\n  }\n\n  kill() {\n    this.client.killChannel(this.name);\n  }\n\n  killOutputConsumer(consumerId) {\n    if (this.hasOutputConsumer(consumerId)) {\n      this.client.killChannelOutputConsumer(consumerId);\n    }\n  }\n\n  killListenerConsumer(consumerId) {\n    if (this.hasAnyListenerConsumer(consumerId)) {\n      this.client.killChannelListenerConsumer(consumerId);\n    }\n  }\n\n  getOutputConsumerStats(consumerId) {\n    if (this.hasOutputConsumer(consumerId)) {\n      return this.client.getChannelOutputConsumerStats(consumerId);\n    }\n    return undefined;\n  }\n\n  getListenerConsumerStats(consumerId) {\n    if (this.hasAnyListenerConsumer(consumerId)) {\n      return this.client.getChannelListenerConsumerStats(consumerId);\n    }\n    return undefined;\n  }\n\n  getBackpressure() {\n    return this.client.getChannelBackpressure(this.name);\n  }\n\n  getListenerConsumerBackpressure(consumerId) {\n    if (this.hasAnyListenerConsumer(consumerId)) {\n      return this.client.getChannelListenerConsumerBackpressure(consumerId);\n    }\n    return 0;\n  }\n\n  getOutputConsumerBackpressure(consumerId) {\n    if (this.hasOutputConsumer(consumerId)) {\n      return this.client.getChannelOutputConsumerBackpressure(consumerId);\n    }\n    return 0;\n  }\n\n  closeOutput() {\n    this.client.channelCloseOutput(this.name);\n  }\n\n  closeListener(eventName) {\n    this.client.channelCloseListener(this.name, eventName);\n  }\n\n  closeAllListeners() {\n    this.client.channelCloseAllListeners(this.name);\n  }\n\n  killOutput() {\n    this.client.channelKillOutput(this.name);\n  }\n\n  killListener(eventName) {\n    this.client.channelKillListener(this.name, eventName);\n  }\n\n  killAllListeners() {\n    this.client.channelKillAllListeners(this.name);\n  }\n\n  getOutputConsumerStatsList() {\n    return this.client.channelGetOutputConsumerStatsList(this.name);\n  }\n\n  getListenerConsumerStatsList(eventName) {\n    return this.client.channelGetListenerConsumerStatsList(this.name, eventName);\n  }\n\n  getAllListenersConsumerStatsList() {\n    return this.client.channelGetAllListenersConsumerStatsList(this.name);\n  }\n\n  getOutputBackpressure() {\n    return this.client.channelGetOutputBackpressure(this.name);\n  }\n\n  getListenerBackpressure(eventName) {\n    return this.client.channelGetListenerBackpressure(this.name, eventName);\n  }\n\n  getAllListenersBackpressure() {\n    return this.client.channelGetAllListenersBackpressure(this.name);\n  }\n\n  hasOutputConsumer(consumerId) {\n    return this.client.channelHasOutputConsumer(this.name, consumerId);\n  }\n\n  hasListenerConsumer(eventName, consumerId) {\n    return this.client.channelHasListenerConsumer(this.name, eventName, consumerId);\n  }\n\n  hasAnyListenerConsumer(consumerId) {\n    return this.client.channelHasAnyListenerConsumer(this.name, consumerId);\n  }\n\n  get state() {\n    return this.client.getChannelState(this.name);\n  }\n\n  set state(value) {\n    throw new Error('Cannot directly set channel state');\n  }\n\n  get options() {\n    return this.client.getChannelOptions(this.name);\n  }\n\n  set options(value) {\n    throw new Error('Cannot directly set channel options');\n  }\n\n  subscribe(options) {\n    this.client.subscribe(this.name, options);\n  }\n\n  unsubscribe() {\n    this.client.unsubscribe(this.name);\n  }\n\n  isSubscribed(includePending) {\n    return this.client.isSubscribed(this.name, includePending);\n  }\n\n  transmitPublish(data) {\n    return this.client.transmitPublish(this.name, data);\n  }\n\n  invokePublish(data) {\n    return this.client.invokePublish(this.name, data);\n  }\n}\n\nAGChannel.PENDING = 'pending';\nAGChannel.SUBSCRIBED = 'subscribed';\nAGChannel.UNSUBSCRIBED = 'unsubscribed';\n\nmodule.exports = AGChannel;\n"],"names":["exports","read","buffer","offset","isLE","mLen","nBytes","e","m","eLen","eMax","eBias","nBits","i","d","s","NaN","Infinity","Math","pow","write","value","c","rt","abs","isNaN","floor","log","LN2","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","uuid","test","byteToHex","push","toString","substr","_nodeId","_clockseq","arr","arguments","length","undefined","toLowerCase","TypeError","_lastMSecs","_lastNSecs","options","buf","b","Array","node","clockseq","seedBytes","random","msecs","Date","now","nsecs","dt","tl","tmh","n","v","parseInt","slice","name","version","hashfunc","generateUUID","namespace","str","unescape","encodeURIComponent","bytes","charCodeAt","stringToBytes","set","err","DNS","URL","getOutputLength","inputLength8","safeAdd","x","y","lsw","md5cmn","q","a","t","num","cnt","md5ff","md5gg","md5hh","md5ii","v35","msg","input","output","length32","hexTab","hex","charAt","md5ToHexEncodedArray","len","olda","oldb","oldc","oldd","wordsToMd5","length8","Uint32Array","bytesToWords","rnds","f","z","ROTL","K","H","isArray","prototype","call","l","N","ceil","M","_i","j","_i2","W","_t","_t2","T","module","object","objects","paths","derez","path","nu","Boolean","Number","RegExp","String","$ref","Object","apply","hasOwnProperty","JSON","stringify","duration","Promise","resolve","setTimeout","AGRequest","require","WebSocket","createWebSocket","global","uri","scErrors","TimeoutError","BadConnectionError","AGTransport","authEngine","codecEngine","wsOptions","handlers","this","state","CLOSED","auth","codec","protocolVersion","connectTimeout","pingTimeout","pingTimeoutDisabled","callIdGenerator","authTokenName","isBufferingBatch","_pingTimeoutTicker","_callbackMap","_batchBuffer","_onOpenHandler","onOpen","_onOpenAbortHandler","onOpenAbort","_onCloseHandler","onClose","_onEventHandler","onEvent","_onErrorHandler","onError","_onInboundInvokeHandler","onInboundInvoke","_onInboundTransmitHandler","onInboundTransmit","CONNECTING","wsSocket","binaryType","socket","onopen","_onOpen","onclose","async","code","event","_destroy","reason","onmessage","message","flags","_onMessage","data","onerror","error","_connectTimeoutRef","close","_handlePing","_resetPingTimeout","readyState","OPEN","send","scheme","query","protocolScheme","secure","timestampRequests","timestampParam","getTime","host","searchParams","URLSearchParams","key","entries","item","append","socketPath","port","hostname","concat","status","clearTimeout","_handshake","statusCode","_onError","token","loadToken","invoke","authToken","force","authError","hydrateError","_abortAllPendingEventsDueToBadConnection","failureType","keys","forEach","eventObject","timeout","errorMessage","badConnectionError","callback","socketProtocolErrorStatuses","_processInboundPacket","packet","cid","_objectSpread","request","rid","rehydratedError","decode","clearAllListeners","startBatch","flushBatch","serializedBatch","serializeObject","cancelBatch","getBytesReceived","bytesReceived","transmitObject","simpleEventObject","sendObject","_handleEventAckTimeout","transmit","invokeRaw","noTimeout","ackTimeout","reject","cancelPendingResponse","encode","ConsumableStream","next","asyncIterator","createConsumer","result","return","once","done","Symbol","ctorName","val","constructor","type","isBuffer","callee","indexOf","isArguments","toDateString","getDate","setDate","isDate","stackTraceLimit","isError","ignoreCase","multiline","isRegexp","throw","isGeneratorObj","replace","StreamDemux","AsyncStreamEmitter","_listenerDemux","emit","eventName","listener","stream","closeListener","closeAllListeners","closeAll","getListenerConsumerStats","consumerId","getConsumerStats","getListenerConsumerStatsList","getConsumerStatsList","getAllListenersConsumerStatsList","getConsumerStatsListAll","getListenerConsumerCount","getConsumerCount","getAllListenersConsumerCount","getConsumerCountAll","killListener","kill","killAllListeners","killAll","killListenerConsumer","killConsumer","getListenerBackpressure","getBackpressure","getAllListenersBackpressure","getBackpressureAll","getListenerConsumerBackpressure","getConsumerBackpressure","hasListenerConsumer","hasConsumer","hasAnyListenerConsumer","hasConsumerAll","AuthEngine","_internalStorage","isLocalStorageEnabled","_checkLocalStorageEnabled","localStorage","setItem","removeItem","saveToken","removeToken","loadPromise","getItem","ListPrototype","List","from","ListItem","of","items","iterator","list","head","tail","toArray","prepend","detach","self","Item","ListItemPrototype","prev","valueOf","typeOf","deep","assign","Map","Set","Buffer","allocUnsafe","copy","cloneBuffer","cloneSymbol","res","byteLength","cloneArrayBuffer","byteOffset","cloneTypedArray","exec","re","source","lastIndex","cloneRegExp","create","Consumer","super","nextConsumerId","_consumers","_tailNode","_write","dataNode","consumer","values","writeToConsumer","closeConsumer","get","maxBackpressure","backpressure","has","setConsumer","currentNode","removeConsumer","delete","getStats","consumerStats","getConsumerList","size","AGChannel","formatter","LinkedList","cloneDeep","wait","InvalidArgumentsError","InvalidMessageError","SocketProtocolError","InvalidActionError","isBrowser","window","AGClientSocket","socketOptions","opts","autoConnect","autoReconnect","autoSubscribeOnConnect","batchOnHandshake","batchOnHandshakeDuration","batchInterval","cloneData","id","authState","UNAUTHENTICATED","signedAuthToken","pendingReconnect","pendingReconnectTimeout","preparingPendingSubscriptions","clientId","channelPrefix","disconnectOnUnload","maxTimeout","verifyDuration","propertyName","connectAttempts","isBatching","_batchingIntervalId","_outboundBuffer","_channelMap","_channelEventDemux","_channelDataDemux","_receiverDemux","_procedureDemux","_cid","autoReconnectOptions","reconnectOptions","initialDelay","randomness","multiplier","maxDelay","subscriptionRetryOptions","protocol","protocolOptionError","queryObject","currentValue","addEventListener","removeEventListener","_handleBrowserUnload","connect","AUTHENTICATED","SUBSCRIBED","PENDING","UNSUBSCRIBED","ignoreStatuses","socketProtocolIgnoreStatuses","errorStatuses","defineProperty","transport","max","getAllReceiversBackpressure","getAllProceduresBackpressure","getAllChannelsBackpressure","unloadHandler","disconnect","isUnloadHandlerAttached","_setAuthToken","_changeToAuthenticatedState","_removeAuthToken","oldAuthToken","_changeToUnauthenticatedStateAndClearTokens","_privateDataHandlerMap","undecoratedChannelName","_undecorateChannelName","channel","isSubscribed","_triggerChannelUnsubscribe","_privateRPCHandlerMap","end","getState","deauthenticate","_reconnectTimeoutRef","transportHandlers","_onInboundInvoke","_onInboundTransmit","reconnect","isConnecting","oldAuthState","oldSignedAuthToken","stateChangeData","newAuthState","_extractAuthTokenData","processPendingSubscriptions","decodeBase64","encodedString","encodeBase64","decodedString","encodedTokenData","split","tokenData","parse","getAuthToken","getSignedAuthToken","authenticate","authStatus","isAuthenticated","_tryReconnect","exponent","initialTimeout","round","_startBatching","_stopBatching","_flushOutboundBuffer","_suspendSubscriptions","channelName","nextNode","openAbort","_cancelBatching","closeMessage","handler","procedure","eventNode","_processOutboundEvent","expectResponse","promise","transmitPublish","pubData","_decorateChannelName","invokePublish","_triggerChannelSubscribe","subscriptionOptions","oldChannelState","newChannelState","_triggerChannelSubscribeFail","meetsAuthRequirements","waitForAuth","_cancelPendingSubscribeCallback","_pendingSubscriptionCid","decoratedChannelName","setInterval","startBatching","clearInterval","stopBatching","cancelBatching","_trySubscribe","subscribe","sanitizedOptions","priority","setAsPending","_tryUnsubscribe","unsubscribe","receiver","receiverName","closeReceiver","closeAllReceivers","killReceiver","killAllReceivers","killReceiverConsumer","getReceiverConsumerStats","getReceiverConsumerStatsList","getAllReceiversConsumerStatsList","getReceiverBackpressure","getReceiverConsumerBackpressure","hasReceiverConsumer","hasAnyReceiverConsumer","procedureName","closeProcedure","closeAllProcedures","killProcedure","killAllProcedures","killProcedureConsumer","getProcedureConsumerStats","getProcedureConsumerStatsList","getAllProceduresConsumerStatsList","getProcedureBackpressure","getProcedureConsumerBackpressure","hasProcedureConsumer","hasAnyProcedureConsumer","closeChannel","channelCloseOutput","channelCloseAllListeners","closeAllChannelOutputs","closeAllChannelListeners","closeAllChannels","killChannel","channelKillOutput","channelKillAllListeners","killAllChannelOutputs","killAllChannelListeners","killAllChannels","killChannelOutputConsumer","killChannelListenerConsumer","getChannelOutputConsumerStats","getChannelListenerConsumerStats","getAllChannelOutputsConsumerStatsList","getAllChannelListenersConsumerStatsList","getChannelBackpressure","channelGetOutputBackpressure","channelGetAllListenersBackpressure","getAllChannelOutputsBackpressure","getAllChannelListenersBackpressure","getChannelListenerConsumerBackpressure","getChannelOutputConsumerBackpressure","hasAnyChannelOutputConsumer","hasAnyChannelListenerConsumer","getChannelState","getChannelOptions","_getAllChannelStreamNames","streamNamesLookup","filter","stats","reduce","accumulator","channelCloseListener","streamName","channelKillListener","channelGetOutputConsumerStatsList","channelGetListenerConsumerStatsList","channelGetAllListenersConsumerStatsList","map","statsList","channelGetListenerBackpressure","listenerStreamBackpressures","channelHasOutputConsumer","channelHasListenerConsumer","channelHasAnyListenerConsumer","some","subscriptions","includePending","subs","pendingChannels","sort","ap","bp","startNode","_backpressure","isAlive","_resetBackpressure","applyBackpressure","releaseBackpressure","_timeoutId","_resolve","_killPacket","_waitForNextItem","timeoutId","delay","killPacket","factory","isObject","isObjectObject","o","ctor","prot","sent","_respond","responseData","dehydrateError","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","Arr","_byteLength","curByte","revLookup","fromByteArray","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","lookup","join","start","WritableConsumableStream","DemuxedConsumableStream","_mainStream","consumerList","mainStreamConsumer","consumerNext","consumerGetStats","consumerApplyBackpressure","consumerReleaseBackpressure","decycle","isStrict","AuthTokenExpiredError","expiry","captureStackTrace","stack","AuthTokenInvalidError","AuthTokenNotBeforeError","date","AuthTokenError","AuthError","SilentMiddlewareBlockedError","InvalidOptionsError","ServerProtocolError","HTTPServerError","ResourceLimitError","BrokerError","ProcessExitError","UnknownError","dehydratedError","hydratedError","streamDemux","_streamDemux","base64Chars","validJSONStartRegex","arrayBufferToBase64","arraybuffer","base64","substring","binaryToBase64Replacer","g","ArrayBuffer","rehydratedBuffer","encodedMessage","rawData","WorkerGlobalScope","MozWebSocket","ws","protocols","instance","ieee754","customInspectSymbol","K_MAX_LENGTH","createBuffer","RangeError","setPrototypeOf","arg","encodingOrOffset","string","encoding","isEncoding","actual","fromString","isView","arrayView","isInstance","fromArrayBuffer","fromArrayLike","fromArrayView","SharedArrayBuffer","obj","checked","numberIsNaN","fromObject","toPrimitive","assertSize","array","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","found","hexWrite","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","min","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","foo","typedArraySupport","console","enumerable","poolSize","alloc","fill","allocUnsafeSlow","_isBuffer","compare","pos","swap16","swap32","swap64","toLocaleString","equals","inspect","trim","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","hexSliceLookupTable","checkOffset","ext","checkInt","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","INVALID_BASE64_RE","leadSurrogate","base64clean","src","dst","alphabet","table","i16","getPort","isSecureDefault","isSecure","location","match","v4","clone","isPlainObject","instanceClone","cloneObjectDeep","cloneArrayDeep","client","eventDemux","dataDemux","_eventDemux","_dataStream","killOutputConsumer","hasOutputConsumer","getOutputConsumerStats","getOutputConsumerBackpressure","closeOutput","killOutput","getOutputConsumerStatsList","getOutputBackpressure"],"sourceRoot":""}