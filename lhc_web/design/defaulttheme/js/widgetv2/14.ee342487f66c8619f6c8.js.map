{"version":3,"file":"14.ee342487f66c8619f6c8.js","mappings":"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","sources":["webpack://LHCReactAPP/./src/components/MailModal.js"],"sourcesContent":["import React, { PureComponent } from 'react';\nimport axios from \"axios\";\nimport { withTranslation } from 'react-i18next';\n\nclass MailModal extends PureComponent {\n\n    state = {\n        mail: null,\n        success: '',\n        errors: null,\n        sending: false\n    };\n\n    constructor(props) {\n        super(props);\n        this.sendMail = this.sendMail.bind(this);\n        this.emailRef = React.createRef();\n    }\n\n    sendMail(event) {\n\n        this.setState({'sending' : true});\n\n        axios.post(window.lhcChat['base_url'] + \"widgetrestapi/sendmailsettings/\" + this.props.chatId + '/' + this.props.chatHash + '/(action)/send', {email:this.state.mail}, {headers : {'Content-Type': 'application/x-www-form-urlencoded'}}).then((response) => {\n            if (response.data.error == false) {\n                this.props.toggle();\n            } else {\n                this.setState({'sending' : false});\n                this.setState({'errors' : response.data.result});\n            }\n        });\n\n        if (event)\n            event.preventDefault();\n    }\n\n    componentDidMount() {\n        axios.get(window.lhcChat['base_url'] + 'widgetrestapi/sendmailsettings/' + this.props.chatId + '/' + this.props.chatHash)\n        .then((response) => {\n            this.setState({'mail' : response.data});\n            if (this.emailRef.current) {\n                this.emailRef.current.focus();\n            }\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n\n    dismissModal = () => {\n        this.props.toggle()\n    }\n\n    render() {\n        const { t } = this.props;\n\n        return (\n            <React.Fragment>\n                {this.state.mail !== null && <React.Fragment>\n                <div className=\"fade modal-backdrop show\"></div>\n                <div role=\"dialog\" id=\"dialog-content\" aria-modal=\"true\" className=\"fade modal show d-block mail-send-modal\" tabIndex=\"-1\">\n                    <div className=\"modal-dialog modal-lg\">\n                        <div className=\"modal-content\">\n                            <div className=\"modal-header\"> <h4 className=\"modal-title\" id=\"myModalLabel\"><span className=\"material-icons\">&#xf11a;</span>{t('button.mail')}</h4>\n                                <button type=\"button\" className=\"btn-close float-end\" data-bs-dismiss=\"modal\" onClick={this.dismissModal} aria-label=\"Close\"></button>\n                            </div>\n                            <div className=\"modal-body\">\n                                <div className=\"row\">\n                                    <div className=\"col-12\">\n                                        {this.state.errors && <div className=\"mb-0\" dangerouslySetInnerHTML={{__html:this.state.errors}}></div>}\n                                        <div className=\"mb-0\">\n                                            <form onSubmit={this.sendMail}>\n                                                <p className=\"mail-explain\">\n                                                    {t('button.email_explain')}\n                                                </p>\n                                                <div className=\"form-group\">\n                                                    <label className=\"text-muted\">{t('button.email')}</label>\n                                                    <input className=\"form-control form-group form-control-sm\" ref={this.emailRef} required=\"required\" type=\"email\" defaultValue={this.state.mail} onChange={(e) => this.setState({'mail' : e.target.value})} placeholder={t('chat.enter_email')} title={t('chat.enter_email')} />\n                                                </div>\n                                                <div className=\"row\">\n                                                    <div className=\"col-5\">\n                                                        <button type=\"submit\" disabled={this.state.sending || this.state.mail == ''} className=\"btn btn-primary w-100 btn-sm\">{t('button.send')}</button>\n                                                    </div>\n                                                    <div className=\"col-2\"></div>\n                                                    <div className=\"col-5\">\n                                                        <button type=\"button\" className=\"btn text-muted btn-link btn-sm w-100\" onClick={this.dismissModal}>{t('button.cancel')}</button>\n                                                    </div>\n                                                </div>\n                                            </form>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n               </div>\n               </React.Fragment>}\n            </React.Fragment>\n        )\n    }\n}\n\nexport default withTranslation()(MailModal);\n"],"names":["MailModal","_PureComponent","props","_this","_classCallCheck","_defineProperty","mail","success","errors","sending","toggle","sendMail","bind","emailRef","React","_inherits","_createClass","key","value","event","_this2","this","setState","axios","window","lhcChat","chatId","chatHash","email","state","headers","then","response","data","error","result","preventDefault","_this3","current","focus","catch","err","console","log","_this4","t","className","role","id","tabIndex","type","onClick","dismissModal","dangerouslySetInnerHTML","__html","onSubmit","ref","required","defaultValue","onChange","e","target","placeholder","title","disabled","PureComponent","withTranslation"],"sourceRoot":""}