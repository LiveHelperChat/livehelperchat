{"version":3,"file":"14.29311e7cb90a78401a2e.js","mappings":"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","sources":["webpack://LHCReactAPP/./src/components/MailModal.js"],"sourcesContent":["import React, { PureComponent } from 'react';\nimport axios from \"axios\";\nimport { withTranslation } from 'react-i18next';\n\nclass MailModal extends PureComponent {\n\n    state = {\n        mail: null,\n        success: '',\n        errors: null,\n        sending: false\n    };\n\n    constructor(props) {\n        super(props);\n        this.sendMail = this.sendMail.bind(this);\n        this.emailRef = React.createRef();\n    }\n\n    sendMail(event) {\n\n        this.setState({'sending' : true});\n\n        axios.post(window.lhcChat['base_url'] + \"widgetrestapi/sendmailsettings/\" + this.props.chatId + '/' + this.props.chatHash + '/(action)/send', JSON.stringify({email:this.state.mail}), {headers : {'Content-Type': 'application/x-www-form-urlencoded'}}).then((response) => {\n            if (response.data.error == false) {\n                this.props.toggle();\n            } else {\n                this.setState({'sending' : false});\n                this.setState({'errors' : response.data.result});\n            }\n        });\n\n        if (event)\n            event.preventDefault();\n    }\n\n    componentDidMount() {\n        axios.get(window.lhcChat['base_url'] + 'widgetrestapi/sendmailsettings/' + this.props.chatId + '/' + this.props.chatHash)\n        .then((response) => {\n            this.setState({'mail' : response.data});\n            if (this.emailRef.current) {\n                this.emailRef.current.focus();\n            }\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n\n    dismissModal = () => {\n        this.props.toggle()\n    }\n\n    render() {\n        const { t } = this.props;\n\n        return (\n            <React.Fragment>\n                {this.state.mail !== null && <React.Fragment>\n                <div className=\"fade modal-backdrop show\"></div>\n                <div role=\"dialog\" id=\"dialog-content\" aria-modal=\"true\" className=\"fade modal show d-block mail-send-modal\" tabIndex=\"-1\">\n                    <div className=\"modal-dialog modal-lg\">\n                        <div className=\"modal-content\">\n                            <div className=\"modal-header\"> <h4 className=\"modal-title\" id=\"myModalLabel\"><span className=\"material-icons\">&#xf11a;</span>{t('button.mail')}</h4>\n                                <button type=\"button\" className=\"btn-close float-end\" data-bs-dismiss=\"modal\" onClick={this.dismissModal} aria-label=\"Close\"></button>\n                            </div>\n                            <div className=\"modal-body\">\n                                <div className=\"row\">\n                                    <div className=\"col-12\">\n                                        {this.state.errors && <div className=\"mb-0\" dangerouslySetInnerHTML={{__html:this.state.errors}}></div>}\n                                        <div className=\"mb-0\">\n                                            <form onSubmit={this.sendMail}>\n                                                <p className=\"mail-explain\">\n                                                    {t('button.email_explain')}\n                                                </p>\n                                                <div className=\"form-group\">\n                                                    <label className=\"text-muted\">{t('button.email')}</label>\n                                                    <input className=\"form-control form-group form-control-sm\" ref={this.emailRef} required=\"required\" type=\"email\" defaultValue={this.state.mail} onChange={(e) => this.setState({'mail' : e.target.value})} placeholder={t('chat.enter_email')} title={t('chat.enter_email')} />\n                                                </div>\n                                                <div className=\"row\">\n                                                    <div className=\"col-5\">\n                                                        <button type=\"submit\" disabled={this.state.sending || this.state.mail == ''} className=\"btn btn-primary w-100 btn-sm\">{t('button.send')}</button>\n                                                    </div>\n                                                    <div className=\"col-2\"></div>\n                                                    <div className=\"col-5\">\n                                                        <button type=\"button\" className=\"btn text-muted btn-link btn-sm w-100\" onClick={this.dismissModal}>{t('button.cancel')}</button>\n                                                    </div>\n                                                </div>\n                                            </form>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n               </div>\n               </React.Fragment>}\n            </React.Fragment>\n        )\n    }\n}\n\nexport default withTranslation()(MailModal);\n"],"names":["MailModal","_PureComponent","props","_this","_classCallCheck","_defineProperty","mail","success","errors","sending","toggle","sendMail","bind","emailRef","React","_inherits","_createClass","key","value","event","_this2","this","setState","axios","post","window","lhcChat","chatId","chatHash","JSON","stringify","email","state","headers","then","response","data","error","result","preventDefault","_this3","get","current","focus","catch","err","console","log","_this4","t","className","role","id","tabIndex","type","onClick","dismissModal","dangerouslySetInnerHTML","__html","onSubmit","ref","required","defaultValue","onChange","e","target","placeholder","title","disabled","PureComponent","withTranslation"],"sourceRoot":""}