{"version":3,"file":"454.9988460e310ba230243b.js","mappings":"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","sources":["webpack://LHCReactAPP/./node_modules/ieee754/index.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/rng.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/regex.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/validate.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/v1.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/parse.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/v35.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/md5.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/v3.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/v4.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/sha1.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/v5.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/nil.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/version.js","webpack://LHCReactAPP/./node_modules/stream-demux/node_modules/consumable-stream/index.js","webpack://LHCReactAPP/./node_modules/linked-list/index.js","webpack://LHCReactAPP/./node_modules/consumable-stream/index.js","webpack://LHCReactAPP/./node_modules/kind-of/index.js","webpack://LHCReactAPP/./node_modules/async-stream-emitter/index.js","webpack://LHCReactAPP/./node_modules/writable-consumable-stream/node_modules/consumable-stream/index.js","webpack://LHCReactAPP/./node_modules/isobject/index.js","webpack://LHCReactAPP/./node_modules/socketcluster-client/lib/factory.js","webpack://LHCReactAPP/./node_modules/socketcluster-client/lib/auth.js","webpack://LHCReactAPP/./node_modules/shallow-clone/index.js","webpack://LHCReactAPP/./node_modules/writable-consumable-stream/index.js","webpack://LHCReactAPP/./node_modules/writable-consumable-stream/consumer.js","webpack://LHCReactAPP/./node_modules/is-plain-object/index.js","webpack://LHCReactAPP/./node_modules/ag-request/index.js","webpack://LHCReactAPP/./node_modules/base64-js/index.js","webpack://LHCReactAPP/./node_modules/socketcluster-client/lib/wait.js","webpack://LHCReactAPP/./node_modules/sc-errors/decycle.js","webpack://LHCReactAPP/./node_modules/stream-demux/index.js","webpack://LHCReactAPP/./node_modules/sc-errors/index.js","webpack://LHCReactAPP/./node_modules/stream-demux/demuxed-consumable-stream.js","webpack://LHCReactAPP/./node_modules/sc-formatter/index.js","webpack://LHCReactAPP/./node_modules/buffer/index.js","webpack://LHCReactAPP/./node_modules/socketcluster-client/lib/clientsocket.js","webpack://LHCReactAPP/./node_modules/socketcluster-client/lib/ws-browser.js","webpack://LHCReactAPP/./node_modules/clone-deep/index.js","webpack://LHCReactAPP/./node_modules/ag-channel/index.js","webpack://LHCReactAPP/./node_modules/socketcluster-client/index.js","webpack://LHCReactAPP/./node_modules/socketcluster-client/lib/transport.js"],"sourcesContent":["/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  var v;\n  var arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;","import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    var bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;","export default '00000000-0000-0000-0000-000000000000';","import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nexport default version;","class ConsumableStream {\n  async next(timeout) {\n    let asyncIterator = this.createConsumer(timeout);\n    let result = await asyncIterator.next();\n    asyncIterator.return();\n    return result;\n  }\n\n  async once(timeout) {\n    let result = await this.next(timeout);\n    if (result.done) {\n      // If stream was ended, this function should never resolve unless\n      // there is a timeout; in that case, it should reject early.\n      if (timeout == null) {\n        await new Promise(() => {});\n      } else {\n        let error = new Error(\n          'Stream consumer operation timed out early because stream ended'\n        );\n        error.name = 'TimeoutError';\n        throw error;\n      }\n    }\n    return result.value;\n  }\n\n  createConsumer() {\n    throw new TypeError('Method must be overriden by subclass');\n  }\n\n  [Symbol.asyncIterator]() {\n    return this.createConsumer();\n  }\n}\n\nmodule.exports = ConsumableStream;\n\n","'use strict'\n\n// Expose.\nmodule.exports = List\n\nList.Item = ListItem\n\nvar ListPrototype = List.prototype\nvar ListItemPrototype = ListItem.prototype\nvar IterPrototype = Iter.prototype\n\n/* istanbul ignore next */\nvar $iterator = typeof Symbol === 'undefined' ? undefined : Symbol.iterator\n\nListPrototype.tail = ListPrototype.head = null\n\nList.of = of\nList.from = from\n\nListPrototype.toArray = toArray\nListPrototype.prepend = prepend\nListPrototype.append = append\n\n/* istanbul ignore else */\nif ($iterator !== undefined) {\n  ListPrototype[$iterator] = iterator\n}\n\nListItemPrototype.next = ListItemPrototype.prev = ListItemPrototype.list = null\n\nListItemPrototype.prepend = prependItem\nListItemPrototype.append = appendItem\nListItemPrototype.detach = detach\n\nIterPrototype.next = next\n\n// Constants.\nvar errorMessage =\n  'An argument without append, prepend, or detach methods was given to `List'\n\n// Creates a new List: A linked list is a bit like an Array, but knows nothing\n// about how many items are in it, and knows only about its first (`head`) and\n// last (`tail`) items.\n// Each item (e.g. `head`, `tail`, &c.) knows which item comes before or after\n// it (its more like the implementation of the DOM in JavaScript).\nfunction List(/* items... */) {\n  this.size = 0\n\n  if (arguments.length !== 0) {\n    appendAll(this, arguments)\n  }\n}\n\n// Creates a new list from the arguments (each a list item) passed in.\nfunction appendAll(list, items) {\n  var length\n  var index\n  var item\n  var iter\n\n  if (!items) {\n    return list\n  }\n\n  if ($iterator !== undefined && items[$iterator]) {\n    iter = items[$iterator]()\n    item = {}\n\n    while (!item.done) {\n      item = iter.next()\n      list.append(item && item.value)\n    }\n  } else {\n    length = items.length\n    index = -1\n\n    while (++index < length) {\n      list.append(items[index])\n    }\n  }\n\n  return list\n}\n\n// Creates a new list from the arguments (each a list item) passed in.\nfunction of(/* items... */) {\n  return appendAll(new this(), arguments)\n}\n\n// Creates a new list from the given array-like object (each a list item) passed\n// in.\nfunction from(items) {\n  return appendAll(new this(), items)\n}\n\n// Returns the lists items as an array.\n// This does *not* detach the items.\nfunction toArray() {\n  var item = this.head\n  var result = []\n\n  while (item) {\n    result.push(item)\n    item = item.next\n  }\n\n  return result\n}\n\n// Prepends the given item to the list.\n// `item` will be the new first item (`head`).\nfunction prepend(item) {\n  var self = this\n  var head = self.head\n\n  if (!item) {\n    return false\n  }\n\n  if (!item.append || !item.prepend || !item.detach) {\n    throw new Error(errorMessage + '#prepend`.')\n  }\n\n  if (head) {\n    return head.prepend(item)\n  }\n\n  item.detach()\n\n  item.list = self\n  self.head = item\n  self.size++\n\n  return item\n}\n\n// Appends the given item to the list.\n// `item` will be the new last item (`tail`) if the list had a first item, and\n// its first item (`head`) otherwise.\nfunction append(item) {\n  if (!item) {\n    return false\n  }\n\n  if (!item.append || !item.prepend || !item.detach) {\n    throw new Error(errorMessage + '#append`.')\n  }\n\n  var self = this\n  var head = self.head\n  var tail = self.tail\n\n  // If self has a last item, defer appending to the last items append method,\n  // and return the result.\n  if (tail) {\n    return tail.append(item)\n  }\n\n  // If self has a first item, defer appending to the first items append method,\n  // and return the result.\n  if (head) {\n    return head.append(item)\n  }\n\n  // otherwise, there is no `tail` or `head` item yet.\n\n  item.detach()\n\n  item.list = self\n  self.head = item\n  self.size++\n\n  return item\n}\n\n// Creates an iterator from the list.\nfunction iterator() {\n  return new Iter(this.head)\n}\n\n// Creates a new ListItem:\n// An item is a bit like DOM node: It knows only about its \"parent\" (`list`),\n// the item before it (`prev`), and the item after it (`next`).\nfunction ListItem() {}\n\n// Detaches the item operated on from its parent list.\nfunction detach() {\n  var self = this\n  var list = self.list\n  var prev = self.prev\n  var next = self.next\n\n  if (!list) {\n    return self\n  }\n\n  // If self is the last item in the parent list, link the lists last item to\n  // the previous item.\n  if (list.tail === self) {\n    list.tail = prev\n  }\n\n  // If self is the first item in the parent list, link the lists first item to\n  // the next item.\n  if (list.head === self) {\n    list.head = next\n  }\n\n  // If both the last and first items in the parent list are the same, remove\n  // the link to the last item.\n  if (list.tail === list.head) {\n    list.tail = null\n  }\n\n  // If a previous item exists, link its next item to selfs next item.\n  if (prev) {\n    prev.next = next\n  }\n\n  // If a next item exists, link its previous item to selfs previous item.\n  if (next) {\n    next.prev = prev\n  }\n\n  // Remove links from self to both the next and previous items, and to the\n  // parent list.\n  self.prev = self.next = self.list = null\n\n  list.size--\n\n  return self\n}\n\n// Prepends the given item *before* the item operated on.\nfunction prependItem(item) {\n  if (!item || !item.append || !item.prepend || !item.detach) {\n    throw new Error(errorMessage + 'Item#prepend`.')\n  }\n\n  var self = this\n  var list = self.list\n  var prev = self.prev\n\n  // If self is detached, return false.\n  if (!list) {\n    return false\n  }\n\n  // Detach the prependee.\n  item.detach()\n\n  // If self has a previous item...\n  if (prev) {\n    item.prev = prev\n    prev.next = item\n  }\n\n  // Connect the prependee.\n  item.next = self\n  item.list = list\n\n  // Set the previous item of self to the prependee.\n  self.prev = item\n\n  // If self is the first item in the parent list, link the lists first item to\n  // the prependee.\n  if (self === list.head) {\n    list.head = item\n  }\n\n  // If the the parent list has no last item, link the lists last item to self.\n  if (!list.tail) {\n    list.tail = self\n  }\n\n  list.size++\n\n  return item\n}\n\n// Appends the given item *after* the item operated on.\nfunction appendItem(item) {\n  if (!item || !item.append || !item.prepend || !item.detach) {\n    throw new Error(errorMessage + 'Item#append`.')\n  }\n\n  var self = this\n  var list = self.list\n  var next = self.next\n\n  if (!list) {\n    return false\n  }\n\n  // Detach the appendee.\n  item.detach()\n\n  // If self has a next item\n  if (next) {\n    item.next = next\n    next.prev = item\n  }\n\n  // Connect the appendee.\n  item.prev = self\n  item.list = list\n\n  // Set the next item of self to the appendee.\n  self.next = item\n\n  // If the the parent list has no last item or if self is the parent lists last\n  // item, link the lists last item to the appendee.\n  if (self === list.tail || !list.tail) {\n    list.tail = item\n  }\n\n  list.size++\n\n  return item\n}\n\n// Creates a new `Iter` for looping over the `LinkedList`.\nfunction Iter(item) {\n  this.item = item\n}\n\n// Move the `Iter` to the next item.\nfunction next() {\n  var current = this.item\n  this.value = current\n  this.done = !current\n  this.item = current ? current.next : undefined\n  return this\n}\n","class ConsumableStream {\n  async next(timeout) {\n    let asyncIterator = this.createConsumer(timeout);\n    let result = await asyncIterator.next();\n    asyncIterator.return();\n    return result;\n  }\n\n  async once(timeout) {\n    let result = await this.next(timeout);\n    if (result.done) {\n      // If stream was ended, this function should never resolve.\n      await new Promise(() => {});\n    }\n    return result.value;\n  }\n\n  createConsumer() {\n    throw new TypeError('Method must be overriden by subclass');\n  }\n\n  [Symbol.asyncIterator]() {\n    return this.createConsumer();\n  }\n}\n\nmodule.exports = ConsumableStream;\n","var toString = Object.prototype.toString;\n\nmodule.exports = function kindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n\n  var type = typeof val;\n  if (type === 'boolean') return 'boolean';\n  if (type === 'string') return 'string';\n  if (type === 'number') return 'number';\n  if (type === 'symbol') return 'symbol';\n  if (type === 'function') {\n    return isGeneratorFn(val) ? 'generatorfunction' : 'function';\n  }\n\n  if (isArray(val)) return 'array';\n  if (isBuffer(val)) return 'buffer';\n  if (isArguments(val)) return 'arguments';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  if (isRegexp(val)) return 'regexp';\n\n  switch (ctorName(val)) {\n    case 'Symbol': return 'symbol';\n    case 'Promise': return 'promise';\n\n    // Set, Map, WeakSet, WeakMap\n    case 'WeakMap': return 'weakmap';\n    case 'WeakSet': return 'weakset';\n    case 'Map': return 'map';\n    case 'Set': return 'set';\n\n    // 8-bit typed arrays\n    case 'Int8Array': return 'int8array';\n    case 'Uint8Array': return 'uint8array';\n    case 'Uint8ClampedArray': return 'uint8clampedarray';\n\n    // 16-bit typed arrays\n    case 'Int16Array': return 'int16array';\n    case 'Uint16Array': return 'uint16array';\n\n    // 32-bit typed arrays\n    case 'Int32Array': return 'int32array';\n    case 'Uint32Array': return 'uint32array';\n    case 'Float32Array': return 'float32array';\n    case 'Float64Array': return 'float64array';\n  }\n\n  if (isGeneratorObj(val)) {\n    return 'generator';\n  }\n\n  // Non-plain objects\n  type = toString.call(val);\n  switch (type) {\n    case '[object Object]': return 'object';\n    // iterators\n    case '[object Map Iterator]': return 'mapiterator';\n    case '[object Set Iterator]': return 'setiterator';\n    case '[object String Iterator]': return 'stringiterator';\n    case '[object Array Iterator]': return 'arrayiterator';\n  }\n\n  // other\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n};\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isArray(val) {\n  if (Array.isArray) return Array.isArray(val);\n  return val instanceof Array;\n}\n\nfunction isError(val) {\n  return val instanceof Error || (typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number');\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function'\n    && typeof val.getDate === 'function'\n    && typeof val.setDate === 'function';\n}\n\nfunction isRegexp(val) {\n  if (val instanceof RegExp) return true;\n  return typeof val.flags === 'string'\n    && typeof val.ignoreCase === 'boolean'\n    && typeof val.multiline === 'boolean'\n    && typeof val.global === 'boolean';\n}\n\nfunction isGeneratorFn(name, val) {\n  return ctorName(name) === 'GeneratorFunction';\n}\n\nfunction isGeneratorObj(val) {\n  return typeof val.throw === 'function'\n    && typeof val.return === 'function'\n    && typeof val.next === 'function';\n}\n\nfunction isArguments(val) {\n  try {\n    if (typeof val.length === 'number' && typeof val.callee === 'function') {\n      return true;\n    }\n  } catch (err) {\n    if (err.message.indexOf('callee') !== -1) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * If you need to support Safari 5-7 (8-10 yr-old browser),\n * take a look at https://github.com/feross/is-buffer\n */\n\nfunction isBuffer(val) {\n  if (val.constructor && typeof val.constructor.isBuffer === 'function') {\n    return val.constructor.isBuffer(val);\n  }\n  return false;\n}\n","const StreamDemux = require('stream-demux');\n\nfunction AsyncStreamEmitter(options) {\n  this._listenerDemux = new StreamDemux();\n}\n\nAsyncStreamEmitter.prototype.emit = function (eventName, data) {\n  this._listenerDemux.write(eventName, data);\n};\n\nAsyncStreamEmitter.prototype.listener = function (eventName) {\n  return this._listenerDemux.stream(eventName);\n};\n\nAsyncStreamEmitter.prototype.closeListener = function (eventName) {\n  this._listenerDemux.close(eventName);\n};\n\nAsyncStreamEmitter.prototype.closeAllListeners = function () {\n  this._listenerDemux.closeAll();\n};\n\nAsyncStreamEmitter.prototype.removeListener = function (eventName) {\n  this._listenerDemux.unstream(eventName);\n};\n\nAsyncStreamEmitter.prototype.getListenerConsumerStats = function (consumerId) {\n  return this._listenerDemux.getConsumerStats(consumerId);\n};\n\nAsyncStreamEmitter.prototype.getListenerConsumerStatsList = function (eventName) {\n  return this._listenerDemux.getConsumerStatsList(eventName);\n};\n\nAsyncStreamEmitter.prototype.getAllListenersConsumerStatsList = function () {\n  return this._listenerDemux.getConsumerStatsListAll();\n};\n\nAsyncStreamEmitter.prototype.getListenerConsumerCount = function (eventName) {\n  return this._listenerDemux.getConsumerCount(eventName);\n};\n\nAsyncStreamEmitter.prototype.getAllListenersConsumerCount = function () {\n  return this._listenerDemux.getConsumerCountAll();\n};\n\nAsyncStreamEmitter.prototype.killListener = function (eventName) {\n  this._listenerDemux.kill(eventName);\n};\n\nAsyncStreamEmitter.prototype.killAllListeners = function () {\n  this._listenerDemux.killAll();\n};\n\nAsyncStreamEmitter.prototype.killListenerConsumer = function (consumerId) {\n  this._listenerDemux.killConsumer(consumerId);\n};\n\nAsyncStreamEmitter.prototype.getListenerBackpressure = function (eventName) {\n  return this._listenerDemux.getBackpressure(eventName);\n};\n\nAsyncStreamEmitter.prototype.getAllListenersBackpressure = function () {\n  return this._listenerDemux.getBackpressureAll();\n};\n\nAsyncStreamEmitter.prototype.getListenerConsumerBackpressure = function (consumerId) {\n  return this._listenerDemux.getConsumerBackpressure(consumerId);\n};\n\nAsyncStreamEmitter.prototype.hasListenerConsumer = function (eventName, consumerId) {\n  return this._listenerDemux.hasConsumer(eventName, consumerId);\n};\n\nAsyncStreamEmitter.prototype.hasAnyListenerConsumer = function (consumerId) {\n  return this._listenerDemux.hasConsumerAll(consumerId);\n};\n\nmodule.exports = AsyncStreamEmitter;\n","class ConsumableStream {\n  async next(timeout) {\n    let asyncIterator = this.createConsumer(timeout);\n    let result = await asyncIterator.next();\n    asyncIterator.return();\n    return result;\n  }\n\n  async once(timeout) {\n    let result = await this.next(timeout);\n    if (result.done) {\n      // If stream was ended, this function should never resolve unless\n      // there is a timeout; in that case, it should reject early.\n      if (timeout == null) {\n        await new Promise(() => {});\n      } else {\n        let error = new Error(\n          'Stream consumer operation timed out early because stream ended'\n        );\n        error.name = 'TimeoutError';\n        throw error;\n      }\n    }\n    return result.value;\n  }\n\n  createConsumer() {\n    throw new TypeError('Method must be overriden by subclass');\n  }\n\n  [Symbol.asyncIterator]() {\n    return this.createConsumer();\n  }\n}\n\nmodule.exports = ConsumableStream;\n\n","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n","const AGClientSocket = require('./clientsocket');\r\nconst uuid = require('uuid');\r\nconst scErrors = require('sc-errors');\r\nconst InvalidArgumentsError = scErrors.InvalidArgumentsError;\r\n\r\nfunction isUrlSecure() {\r\n  return typeof location !== 'undefined' && location.protocol === 'https:';\r\n}\r\n\r\nfunction getPort(options, isSecureDefault) {\r\n  let isSecure = options.secure == null ? isSecureDefault : options.secure;\r\n  return options.port || (typeof location !== 'undefined' && location.port ? location.port : isSecure ? 443 : 80);\r\n}\r\n\r\nfunction create(options) {\r\n  options = options || {};\r\n\r\n  if (options.host && !options.host.match(/[^:]+:\\d{2,5}/)) {\r\n    throw new InvalidArgumentsError(\r\n      'The host option should include both' +\r\n      ' the hostname and the port number in the hostname:port format'\r\n    );\r\n  }\r\n\r\n  if (options.host && options.hostname) {\r\n    throw new InvalidArgumentsError(\r\n      'The host option should already include' +\r\n      ' the hostname and the port number in the hostname:port format' +\r\n      ' - Because of this, you should never use host and hostname options together'\r\n    );\r\n  }\r\n\r\n  if (options.host && options.port) {\r\n    throw new InvalidArgumentsError(\r\n      'The host option should already include' +\r\n      ' the hostname and the port number in the hostname:port format' +\r\n      ' - Because of this, you should never use host and port options together'\r\n    );\r\n  }\r\n\r\n  let isSecureDefault = isUrlSecure();\r\n\r\n  let opts = {\r\n    clientId: uuid.v4(),\r\n    port: getPort(options, isSecureDefault),\r\n    hostname: typeof location !== 'undefined' && location.hostname || 'localhost',\r\n    secure: isSecureDefault\r\n  };\r\n\r\n  Object.assign(opts, options);\r\n\r\n  return new AGClientSocket(opts);\r\n}\r\n\r\nmodule.exports = {\r\n  create\r\n};\r\n","function AuthEngine() {\r\n  this._internalStorage = {};\r\n  this.isLocalStorageEnabled = this._checkLocalStorageEnabled();\r\n}\r\n\r\nAuthEngine.prototype._checkLocalStorageEnabled = function () {\r\n  let err;\r\n  try {\r\n    // Safari, in Private Browsing Mode, looks like it supports localStorage but all calls to setItem\r\n    // throw QuotaExceededError. We're going to detect this and avoid hard to debug edge cases.\r\n    localStorage.setItem('__scLocalStorageTest', 1);\r\n    localStorage.removeItem('__scLocalStorageTest');\r\n  } catch (e) {\r\n    err = e;\r\n  }\r\n  return !err;\r\n};\r\n\r\nAuthEngine.prototype.saveToken = function (name, token, options) {\r\n  if (this.isLocalStorageEnabled) {\r\n    localStorage.setItem(name, token);\r\n  } else {\r\n    this._internalStorage[name] = token;\r\n  }\r\n  return Promise.resolve(token);\r\n};\r\n\r\nAuthEngine.prototype.removeToken = function (name) {\r\n  let loadPromise = this.loadToken(name);\r\n\r\n  if (this.isLocalStorageEnabled) {\r\n    localStorage.removeItem(name);\r\n  } else {\r\n    delete this._internalStorage[name];\r\n  }\r\n\r\n  return loadPromise;\r\n};\r\n\r\nAuthEngine.prototype.loadToken = function (name) {\r\n  let token;\r\n\r\n  if (this.isLocalStorageEnabled) {\r\n    token = localStorage.getItem(name);\r\n  } else {\r\n    token = this._internalStorage[name] || null;\r\n  }\r\n\r\n  return Promise.resolve(token);\r\n};\r\n\r\nmodule.exports = AuthEngine;\r\n","/*!\n * shallow-clone <https://github.com/jonschlinkert/shallow-clone>\n *\n * Copyright (c) 2015-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nconst valueOf = Symbol.prototype.valueOf;\nconst typeOf = require('kind-of');\n\nfunction clone(val, deep) {\n  switch (typeOf(val)) {\n    case 'array':\n      return val.slice();\n    case 'object':\n      return Object.assign({}, val);\n    case 'date':\n      return new val.constructor(Number(val));\n    case 'map':\n      return new Map(val);\n    case 'set':\n      return new Set(val);\n    case 'buffer':\n      return cloneBuffer(val);\n    case 'symbol':\n      return cloneSymbol(val);\n    case 'arraybuffer':\n      return cloneArrayBuffer(val);\n    case 'float32array':\n    case 'float64array':\n    case 'int16array':\n    case 'int32array':\n    case 'int8array':\n    case 'uint16array':\n    case 'uint32array':\n    case 'uint8clampedarray':\n    case 'uint8array':\n      return cloneTypedArray(val);\n    case 'regexp':\n      return cloneRegExp(val);\n    case 'error':\n      return Object.create(val);\n    default: {\n      return val;\n    }\n  }\n}\n\nfunction cloneRegExp(val) {\n  const flags = val.flags !== void 0 ? val.flags : (/\\w+$/.exec(val) || void 0);\n  const re = new val.constructor(val.source, flags);\n  re.lastIndex = val.lastIndex;\n  return re;\n}\n\nfunction cloneArrayBuffer(val) {\n  const res = new val.constructor(val.byteLength);\n  new Uint8Array(res).set(new Uint8Array(val));\n  return res;\n}\n\nfunction cloneTypedArray(val, deep) {\n  return new val.constructor(val.buffer, val.byteOffset, val.length);\n}\n\nfunction cloneBuffer(val) {\n  const len = val.length;\n  const buf = Buffer.allocUnsafe ? Buffer.allocUnsafe(len) : Buffer.from(len);\n  val.copy(buf);\n  return buf;\n}\n\nfunction cloneSymbol(val) {\n  return valueOf ? Object(valueOf.call(val)) : {};\n}\n\n/**\n * Expose `clone`\n */\n\nmodule.exports = clone;\n","const ConsumableStream = require('consumable-stream');\nconst Consumer = require('./consumer');\n\nclass WritableConsumableStream extends ConsumableStream {\n  constructor(options) {\n    super();\n    options = options || {};\n    this._nextConsumerId = 1;\n    this.generateConsumerId = options.generateConsumerId;\n    if (!this.generateConsumerId) {\n      this.generateConsumerId = () => this._nextConsumerId++;\n    }\n    this.removeConsumerCallback = options.removeConsumerCallback;\n    this._consumers = new Map();\n\n    // Tail node of a singly linked list.\n    this.tailNode = {\n      next: null,\n      data: {\n        value: undefined,\n        done: false\n      }\n    };\n  }\n\n  _write(value, done, consumerId) {\n    let dataNode = {\n      data: {value, done},\n      next: null\n    };\n    if (consumerId) {\n      dataNode.consumerId = consumerId;\n    }\n    this.tailNode.next = dataNode;\n    this.tailNode = dataNode;\n\n    for (let consumer of this._consumers.values()) {\n      consumer.write(dataNode.data);\n    }\n  }\n\n  write(value) {\n    this._write(value, false);\n  }\n\n  close(value) {\n    this._write(value, true);\n  }\n\n  writeToConsumer(consumerId, value) {\n    this._write(value, false, consumerId);\n  }\n\n  closeConsumer(consumerId, value) {\n    this._write(value, true, consumerId);\n  }\n\n  kill(value) {\n    for (let consumerId of this._consumers.keys()) {\n      this.killConsumer(consumerId, value);\n    }\n  }\n\n  killConsumer(consumerId, value) {\n    let consumer = this._consumers.get(consumerId);\n    if (!consumer) {\n      return;\n    }\n    consumer.kill(value);\n  }\n\n  getBackpressure() {\n    let maxBackpressure = 0;\n    for (let consumer of this._consumers.values()) {\n      let backpressure = consumer.getBackpressure();\n      if (backpressure > maxBackpressure) {\n        maxBackpressure = backpressure;\n      }\n    }\n    return maxBackpressure;\n  }\n\n  getConsumerBackpressure(consumerId) {\n    let consumer = this._consumers.get(consumerId);\n    if (consumer) {\n      return consumer.getBackpressure();\n    }\n    return 0;\n  }\n\n  hasConsumer(consumerId) {\n    return this._consumers.has(consumerId);\n  }\n\n  setConsumer(consumerId, consumer) {\n    this._consumers.set(consumerId, consumer);\n    if (!consumer.currentNode) {\n      consumer.currentNode = this.tailNode;\n    }\n  }\n\n  removeConsumer(consumerId) {\n    let result = this._consumers.delete(consumerId);\n    if (this.removeConsumerCallback) this.removeConsumerCallback(consumerId);\n    return result;\n  }\n\n  getConsumerStats(consumerId) {\n    let consumer = this._consumers.get(consumerId);\n    if (consumer) {\n      return consumer.getStats();\n    }\n    return undefined;\n  }\n\n  getConsumerStatsList() {\n    let consumerStats = [];\n    for (let consumer of this._consumers.values()) {\n      consumerStats.push(consumer.getStats());\n    }\n    return consumerStats;\n  }\n\n  createConsumer(timeout) {\n    return new Consumer(this, this.generateConsumerId(), this.tailNode, timeout);\n  }\n\n  getConsumerList() {\n    return [...this._consumers.values()];\n  }\n\n  getConsumerCount() {\n    return this._consumers.size;\n  }\n}\n\nmodule.exports = WritableConsumableStream;\n","class Consumer {\n  constructor(stream, id, startNode, timeout) {\n    this.id = id;\n    this._backpressure = 0;\n    this.currentNode = startNode;\n    this.timeout = timeout;\n    this.isAlive = true;\n    this.stream = stream;\n    this.stream.setConsumer(this.id, this);\n  }\n\n  getStats() {\n    let stats = {\n      id: this.id,\n      backpressure: this._backpressure\n    };\n    if (this.timeout != null) {\n      stats.timeout = this.timeout;\n    }\n    return stats;\n  }\n\n  _resetBackpressure() {\n    this._backpressure = 0;\n  }\n\n  applyBackpressure(packet) {\n    this._backpressure++;\n  }\n\n  releaseBackpressure(packet) {\n    this._backpressure--;\n  }\n\n  getBackpressure() {\n    return this._backpressure;\n  }\n\n  clearActiveTimeout() {\n    clearTimeout(this._timeoutId);\n    delete this._timeoutId;\n  }\n\n  write(packet) {\n    if (this._timeoutId !== undefined) {\n      this.clearActiveTimeout(packet);\n    }\n    this.applyBackpressure(packet);\n    if (this._resolve) {\n      this._resolve();\n      delete this._resolve;\n    }\n  }\n\n  kill(value) {\n    this._killPacket = {value, done: true};\n    if (this._timeoutId !== undefined) {\n      this.clearActiveTimeout(this._killPacket);\n    }\n    this._destroy();\n\n    if (this._resolve) {\n      this._resolve();\n      delete this._resolve;\n    }\n  }\n\n  _destroy() {\n    this.isAlive = false;\n    this._resetBackpressure();\n    this.stream.removeConsumer(this.id);\n  }\n\n  async _waitForNextItem(timeout) {\n    return new Promise((resolve, reject) => {\n      this._resolve = resolve;\n      let timeoutId;\n      if (timeout !== undefined) {\n        // Create the error object in the outer scope in order\n        // to get the full stack trace.\n        let error = new Error('Stream consumer iteration timed out');\n        (async () => {\n          let delay = wait(timeout);\n          timeoutId = delay.timeoutId;\n          await delay.promise;\n          error.name = 'TimeoutError';\n          delete this._resolve;\n          reject(error);\n        })();\n      }\n      this._timeoutId = timeoutId;\n    });\n  }\n\n  async next() {\n    this.stream.setConsumer(this.id, this);\n\n    while (true) {\n      if (!this.currentNode.next) {\n        try {\n          await this._waitForNextItem(this.timeout);\n        } catch (error) {\n          this._destroy();\n          throw error;\n        }\n      }\n      if (this._killPacket) {\n        this._destroy();\n        let killPacket = this._killPacket;\n        delete this._killPacket;\n\n        return killPacket;\n      }\n\n      this.currentNode = this.currentNode.next;\n      this.releaseBackpressure(this.currentNode.data);\n\n      if (this.currentNode.consumerId && this.currentNode.consumerId !== this.id) {\n        continue;\n      }\n\n      if (this.currentNode.data.done) {\n        this._destroy();\n      }\n\n      return this.currentNode.data;\n    }\n  }\n\n  return() {\n    delete this.currentNode;\n    this._destroy();\n    return {};\n  }\n\n  [Symbol.asyncIterator]() {\n    return this;\n  }\n}\n\nfunction wait(timeout) {\n  let timeoutId;\n  let promise = new Promise((resolve) => {\n    timeoutId = setTimeout(resolve, timeout);\n  });\n  return {timeoutId, promise};\n}\n\nmodule.exports = Consumer;\n","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n","const scErrors = require('sc-errors');\nconst InvalidActionError = scErrors.InvalidActionError;\n\nfunction AGRequest(socket, id, procedureName, data) {\n  this.socket = socket;\n  this.id = id;\n  this.procedure = procedureName;\n  this.data = data;\n  this.sent = false;\n\n  this._respond = (responseData, options) => {\n    if (this.sent) {\n      throw new InvalidActionError(`Response to request ${this.id} has already been sent`);\n    }\n    this.sent = true;\n    this.socket.sendObject(responseData, options);\n  };\n\n  this.end = (data, options) => {\n    let responseData = {\n      rid: this.id\n    };\n    if (data !== undefined) {\n      responseData.data = data;\n    }\n    this._respond(responseData, options);\n  };\n\n  this.error = (error, options) => {\n    let responseData = {\n      rid: this.id,\n      error: scErrors.dehydrateError(error)\n    };\n    this._respond(responseData, options);\n  };\n}\n\nmodule.exports = AGRequest;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","function wait(duration) {\r\n  return new Promise((resolve) => {\r\n    setTimeout(() => {\r\n      resolve();\r\n    }, duration);\r\n  });\r\n}\r\n\r\nmodule.exports = wait;\r\n","// Based on https://github.com/dscape/cycle/blob/master/cycle.js\n\nmodule.exports = function decycle(object) {\n// Make a deep copy of an object or array, assuring that there is at most\n// one instance of each object or array in the resulting structure. The\n// duplicate references (which might be forming cycles) are replaced with\n// an object of the form\n//      {$ref: PATH}\n// where the PATH is a JSONPath string that locates the first occurance.\n// So,\n//      var a = [];\n//      a[0] = a;\n//      return JSON.stringify(JSON.decycle(a));\n// produces the string '[{\"$ref\":\"$\"}]'.\n\n// JSONPath is used to locate the unique object. $ indicates the top level of\n// the object or array. [NUMBER] or [STRING] indicates a child member or\n// property.\n\n    var objects = [],   // Keep a reference to each unique object or array\n        paths = [];     // Keep the path to each unique object or array\n\n    return (function derez(value, path) {\n\n// The derez recurses through the object, producing the deep copy.\n\n        var i,          // The loop counter\n            name,       // Property name\n            nu;         // The new object or array\n\n// typeof null === 'object', so go on if this value is really an object but not\n// one of the weird builtin objects.\n\n        if (typeof value === 'object' && value !== null &&\n                !(value instanceof Boolean) &&\n                !(value instanceof Date)    &&\n                !(value instanceof Number)  &&\n                !(value instanceof RegExp)  &&\n                !(value instanceof String)) {\n\n// If the value is an object or array, look to see if we have already\n// encountered it. If so, return a $ref/path object. This is a hard way,\n// linear search that will get slower as the number of unique objects grows.\n\n            for (i = 0; i < objects.length; i += 1) {\n                if (objects[i] === value) {\n                    return {$ref: paths[i]};\n                }\n            }\n\n// Otherwise, accumulate the unique value and its path.\n\n            objects.push(value);\n            paths.push(path);\n\n// If it is an array, replicate the array.\n\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n                nu = [];\n                for (i = 0; i < value.length; i += 1) {\n                    nu[i] = derez(value[i], path + '[' + i + ']');\n                }\n            } else {\n\n// If it is an object, replicate the object.\n\n                nu = {};\n                for (name in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, name)) {\n                        nu[name] = derez(value[name],\n                            path + '[' + JSON.stringify(name) + ']');\n                    }\n                }\n            }\n            return nu;\n        }\n        return value;\n    }(object, '$'));\n};\n","const WritableConsumableStream = require('writable-consumable-stream');\nconst DemuxedConsumableStream = require('./demuxed-consumable-stream');\n\nclass StreamDemux {\n  constructor() {\n    this.streams = {};\n    this._nextConsumerId = 1;\n    this.generateConsumerId = () => {\n      return this._nextConsumerId++;\n    };\n  }\n\n  write(streamName, value) {\n    if (this.streams[streamName]) {\n      this.streams[streamName].write(value);\n    }\n  }\n\n  close(streamName, value) {\n    if (this.streams[streamName]) {\n      this.streams[streamName].close(value);\n    }\n  }\n\n  closeAll(value) {\n    for (let stream of Object.values(this.streams)) {\n      stream.close(value);\n    }\n  }\n\n  writeToConsumer(consumerId, value) {\n    for (let stream of Object.values(this.streams)) {\n      if (stream.hasConsumer(consumerId)) {\n        return stream.writeToConsumer(consumerId, value);\n      }\n    }\n  }\n\n  closeConsumer(consumerId, value) {\n    for (let stream of Object.values(this.streams)) {\n      if (stream.hasConsumer(consumerId)) {\n        return stream.closeConsumer(consumerId, value);\n      }\n    }\n  }\n\n  getConsumerStats(consumerId) {\n    for (let [streamName, stream] of Object.entries(this.streams)) {\n      if (stream.hasConsumer(consumerId)) {\n        return {\n          ...stream.getConsumerStats(consumerId),\n          stream: streamName\n        };\n      }\n    }\n    return undefined;\n  }\n\n  getConsumerStatsList(streamName) {\n    if (this.streams[streamName]) {\n      return this.streams[streamName]\n        .getConsumerStatsList()\n        .map(\n          (stats) => {\n            return {\n              ...stats,\n              stream: streamName\n            };\n          }\n        );\n    }\n    return [];\n  }\n\n  getConsumerStatsListAll() {\n    let allStatsList = [];\n    for (let streamName of Object.keys(this.streams)) {\n      let statsList = this.getConsumerStatsList(streamName);\n      for (let stats of statsList) {\n        allStatsList.push(stats);\n      }\n    }\n    return allStatsList;\n  }\n\n  kill(streamName, value) {\n    if (this.streams[streamName]) {\n      this.streams[streamName].kill(value);\n    }\n  }\n\n  killAll(value) {\n    for (let stream of Object.values(this.streams)) {\n      stream.kill(value);\n    }\n  }\n\n  killConsumer(consumerId, value) {\n    for (let stream of Object.values(this.streams)) {\n      if (stream.hasConsumer(consumerId)) {\n        return stream.killConsumer(consumerId, value);\n      }\n    }\n  }\n\n  getBackpressure(streamName) {\n    if (this.streams[streamName]) {\n      return this.streams[streamName].getBackpressure();\n    }\n    return 0;\n  }\n\n  getBackpressureAll() {\n    return Object.values(this.streams).reduce(\n      (max, stream) => Math.max(max, stream.getBackpressure()),\n      0\n    );\n  }\n\n  getConsumerBackpressure(consumerId) {\n    for (let stream of Object.values(this.streams)) {\n      if (stream.hasConsumer(consumerId)) {\n        return stream.getConsumerBackpressure(consumerId);\n      }\n    }\n    return 0;\n  }\n\n  hasConsumer(streamName, consumerId) {\n    if (this.streams[streamName]) {\n      return this.streams[streamName].hasConsumer(consumerId);\n    }\n    return false;\n  }\n\n  hasConsumerAll(consumerId) {\n    return Object.values(this.streams).some(stream => stream.hasConsumer(consumerId));\n  }\n\n  getConsumerCount(streamName) {\n    if (this.streams[streamName]) {\n      return this.streams[streamName].getConsumerCount();\n    }\n    return 0;\n  }\n\n  getConsumerCountAll() {\n    return Object.values(this.streams).reduce(\n      (sum, stream) => sum + stream.getConsumerCount(),\n      0\n    );\n  }\n\n  createConsumer(streamName, timeout) {\n    if (!this.streams[streamName]) {\n      this.streams[streamName] = new WritableConsumableStream({\n        generateConsumerId: this.generateConsumerId,\n        removeConsumerCallback: () => {\n          if (!this.getConsumerCount(streamName)) {\n            delete this.streams[streamName];\n          }\n        }\n      });\n    }\n    return this.streams[streamName].createConsumer(timeout);\n  }\n\n  // Unlike individual consumers, consumable streams support being iterated\n  // over by multiple for-await-of loops in parallel.\n  stream(streamName) {\n    return new DemuxedConsumableStream(this, streamName);\n  }\n\n  unstream(streamName) {\n    delete this.streams[streamName];\n  }\n}\n\nmodule.exports = StreamDemux;\n","const decycle = require('./decycle');\n\nconst isStrict = (function () { return !this; })();\n\nfunction AuthTokenExpiredError(message, expiry) {\n  this.name = 'AuthTokenExpiredError';\n  this.message = message;\n  this.expiry = expiry;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenExpiredError.prototype = Object.create(Error.prototype);\n\n\nfunction AuthTokenInvalidError(message) {\n  this.name = 'AuthTokenInvalidError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenInvalidError.prototype = Object.create(Error.prototype);\n\n\nfunction AuthTokenNotBeforeError(message, date) {\n  this.name = 'AuthTokenNotBeforeError';\n  this.message = message;\n  this.date = date;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenNotBeforeError.prototype = Object.create(Error.prototype);\n\n\n// For any other auth token error.\nfunction AuthTokenError(message) {\n  this.name = 'AuthTokenError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenError.prototype = Object.create(Error.prototype);\n\n// For any other auth error; not specifically related to the auth token itself.\nfunction AuthError(message) {\n  this.name = 'AuthError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthError.prototype = Object.create(Error.prototype);\n\n\nfunction SilentMiddlewareBlockedError(message, type) {\n  this.name = 'SilentMiddlewareBlockedError';\n  this.message = message;\n  this.type = type;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nSilentMiddlewareBlockedError.prototype = Object.create(Error.prototype);\n\n\nfunction InvalidActionError(message) {\n  this.name = 'InvalidActionError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidActionError.prototype = Object.create(Error.prototype);\n\nfunction InvalidArgumentsError(message) {\n  this.name = 'InvalidArgumentsError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidArgumentsError.prototype = Object.create(Error.prototype);\n\nfunction InvalidOptionsError(message) {\n  this.name = 'InvalidOptionsError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidOptionsError.prototype = Object.create(Error.prototype);\n\n\nfunction InvalidMessageError(message) {\n  this.name = 'InvalidMessageError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidMessageError.prototype = Object.create(Error.prototype);\n\n\nfunction SocketProtocolError(message, code) {\n  this.name = 'SocketProtocolError';\n  this.message = message;\n  this.code = code;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nSocketProtocolError.prototype = Object.create(Error.prototype);\n\n\nfunction ServerProtocolError(message) {\n  this.name = 'ServerProtocolError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nServerProtocolError.prototype = Object.create(Error.prototype);\n\nfunction HTTPServerError(message) {\n  this.name = 'HTTPServerError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nHTTPServerError.prototype = Object.create(Error.prototype);\n\n\nfunction ResourceLimitError(message) {\n  this.name = 'ResourceLimitError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nResourceLimitError.prototype = Object.create(Error.prototype);\n\n\nfunction TimeoutError(message) {\n  this.name = 'TimeoutError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nTimeoutError.prototype = Object.create(Error.prototype);\n\n\nfunction BadConnectionError(message, type, code, reason) {\n  this.name = 'BadConnectionError';\n  this.message = message;\n  this.type = type;\n  this.code = code || 1001;\n  this.reason = reason || socketProtocolIgnoreStatuses[this.code] || '';\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nBadConnectionError.prototype = Object.create(Error.prototype);\n\n\nfunction BrokerError(message) {\n  this.name = 'BrokerError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nBrokerError.prototype = Object.create(Error.prototype);\n\n\nfunction ProcessExitError(message, code) {\n  this.name = 'ProcessExitError';\n  this.message = message;\n  this.code = code;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nProcessExitError.prototype = Object.create(Error.prototype);\n\n\nfunction UnknownError(message) {\n  this.name = 'UnknownError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nUnknownError.prototype = Object.create(Error.prototype);\n\n\n// Expose all error types.\n\nmodule.exports = {\n  AuthTokenExpiredError: AuthTokenExpiredError,\n  AuthTokenInvalidError: AuthTokenInvalidError,\n  AuthTokenNotBeforeError: AuthTokenNotBeforeError,\n  AuthTokenError: AuthTokenError,\n  AuthError: AuthError,\n  SilentMiddlewareBlockedError: SilentMiddlewareBlockedError,\n  InvalidActionError: InvalidActionError,\n  InvalidArgumentsError: InvalidArgumentsError,\n  InvalidOptionsError: InvalidOptionsError,\n  InvalidMessageError: InvalidMessageError,\n  SocketProtocolError: SocketProtocolError,\n  ServerProtocolError: ServerProtocolError,\n  HTTPServerError: HTTPServerError,\n  ResourceLimitError: ResourceLimitError,\n  TimeoutError: TimeoutError,\n  BadConnectionError: BadConnectionError,\n  BrokerError: BrokerError,\n  ProcessExitError: ProcessExitError,\n  UnknownError: UnknownError\n};\n\nconst socketProtocolErrorStatuses = {\n  1001: 'Socket was disconnected',\n  1002: 'A WebSocket protocol error was encountered',\n  1003: 'Server terminated socket because it received invalid data',\n  1005: 'Socket closed without status code',\n  1006: 'Socket hung up',\n  1007: 'Message format was incorrect',\n  1008: 'Encountered a policy violation',\n  1009: 'Message was too big to process',\n  1010: 'Client ended the connection because the server did not comply with extension requirements',\n  1011: 'Server encountered an unexpected fatal condition',\n  4000: 'Server ping timed out',\n  4001: 'Client pong timed out',\n  4002: 'Server failed to sign auth token',\n  4003: 'Failed to complete handshake',\n  4004: 'Client failed to save auth token',\n  4005: 'Did not receive #handshake from client before timeout',\n  4006: 'Failed to bind socket to message broker',\n  4007: 'Client connection establishment timed out',\n  4008: 'Server rejected handshake from client',\n  4009: 'Server received a message before the client handshake'\n};\n\nconst socketProtocolIgnoreStatuses = {\n  1000: 'Socket closed normally',\n  1001: socketProtocolErrorStatuses[1001]\n};\n\nmodule.exports.socketProtocolErrorStatuses = socketProtocolErrorStatuses;\nmodule.exports.socketProtocolIgnoreStatuses = socketProtocolIgnoreStatuses;\n\n// Convert an error into a JSON-compatible type which can later be hydrated\n// back to its *original* form.\nmodule.exports.dehydrateError = function dehydrateError(error) {\n  let dehydratedError;\n\n  if (error && typeof error === 'object') {\n    dehydratedError = {\n      message: error.message\n    };\n    for (let i of Object.keys(error)) {\n      dehydratedError[i] = error[i];\n    }\n  } else if (typeof error === 'function') {\n    dehydratedError = '[function ' + (typeof error.name === 'string' ? error.name : 'anonymous') + ']';\n  } else {\n    dehydratedError = error;\n  }\n\n  return decycle(dehydratedError);\n};\n\n// Convert a dehydrated error back to its *original* form.\nmodule.exports.hydrateError = function hydrateError(error) {\n  let hydratedError = null;\n  if (error != null) {\n    if (typeof error === 'object') {\n      hydratedError = new Error(\n        typeof error.message === 'string' ? error.message : 'Invalid error message format'\n      );\n      if (typeof error.name === 'string') {\n        hydratedError.name = error.name;\n      }\n      for (let i of Object.keys(error)) {\n        if (hydratedError[i] === undefined) {\n          hydratedError[i] = error[i];\n        }\n      }\n    } else {\n      hydratedError = error;\n    }\n  }\n  return hydratedError;\n};\n\nmodule.exports.decycle = decycle;\n","const ConsumableStream = require('consumable-stream');\n\nclass DemuxedConsumableStream extends ConsumableStream {\n  constructor(streamDemux, name) {\n    super();\n    this._streamDemux = streamDemux;\n    this.name = name;\n  }\n\n  createConsumer(timeout) {\n    return this._streamDemux.createConsumer(this.name, timeout);\n  }\n}\n\nmodule.exports = DemuxedConsumableStream;\n","const base64Chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nconst validJSONStartRegex = /^[ \\n\\r\\t]*[{\\[]/;\n\nlet arrayBufferToBase64 = function (arraybuffer) {\n  let bytes = new Uint8Array(arraybuffer);\n  let len = bytes.length;\n  let base64 = '';\n\n  for (let i = 0; i < len; i += 3) {\n    base64 += base64Chars[bytes[i] >> 2];\n    base64 += base64Chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n    base64 += base64Chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n    base64 += base64Chars[bytes[i + 2] & 63];\n  }\n\n  if ((len % 3) === 2) {\n    base64 = base64.substring(0, base64.length - 1) + '=';\n  } else if (len % 3 === 1) {\n    base64 = base64.substring(0, base64.length - 2) + '==';\n  }\n\n  return base64;\n};\n\nlet binaryToBase64Replacer = function (key, value) {\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return {\n      base64: true,\n      data: arrayBufferToBase64(value)\n    };\n  } else if (typeof Buffer !== 'undefined') {\n    if (value instanceof Buffer){\n      return {\n        base64: true,\n        data: value.toString('base64')\n      };\n    }\n    // Some versions of Node.js convert Buffers to Objects before they are passed to\n    // the replacer function - Because of this, we need to rehydrate Buffers\n    // before we can convert them to base64 strings.\n    if (value && value.type === 'Buffer' && Array.isArray(value.data)) {\n      let rehydratedBuffer;\n      if (Buffer.from) {\n        rehydratedBuffer = Buffer.from(value.data);\n      } else {\n        rehydratedBuffer = new Buffer(value.data);\n      }\n      return {\n        base64: true,\n        data: rehydratedBuffer.toString('base64')\n      };\n    }\n  }\n  return value;\n};\n\n// Decode the data which was transmitted over the wire to a JavaScript Object in a format which SC understands.\n// See encode function below for more details.\nmodule.exports.decode = function (encodedMessage) {\n  if (encodedMessage == null) {\n   return null;\n  }\n  // Leave ping or pong message as is\n  if (encodedMessage === '#1' || encodedMessage === '#2') {\n    return encodedMessage;\n  }\n  let message = encodedMessage.toString();\n\n  // Performance optimization to detect invalid JSON packet sooner.\n  if (!validJSONStartRegex.test(message)) {\n    return message;\n  }\n\n  try {\n    return JSON.parse(message);\n  } catch (err) {}\n  return message;\n};\n\n// Encode raw data (which is in the SC protocol format) into a format for\n// transfering it over the wire. In this case, we just convert it into a simple JSON string.\n// If you want to create your own custom codec, you can encode the object into any format\n// (e.g. binary ArrayBuffer or string with any kind of compression) so long as your decode\n// function is able to rehydrate that object back into its original JavaScript Object format\n// (which adheres to the SC protocol).\n// See https://github.com/SocketCluster/socketcluster/blob/master/socketcluster-protocol.md\n// for details about the SC protocol.\nmodule.exports.encode = function (rawData) {\n  // Leave ping or pong message as is\n  if (rawData === '#1' || rawData === '#2') {\n    return rawData;\n  }\n  return JSON.stringify(rawData, binaryToBase64Replacer);\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nvar K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1)\n    var proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  var buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  var valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  var b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(\n      value[Symbol.toPrimitive]('string'), encodingOrOffset, length\n    )\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  var length = byteLength(string, encoding) | 0\n  var buf = createBuffer(length)\n\n  var actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  var buf = createBuffer(length)\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    var copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  var buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    var buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        Buffer.from(buf).copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  var len = string.length\n  var mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  var strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (var i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    var len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nvar hexSliceLookupTable = (function () {\n  var alphabet = '0123456789abcdef'\n  var table = new Array(256)\n  for (var i = 0; i < 16; ++i) {\n    var i16 = i * 16\n    for (var j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n","const StreamDemux = require('stream-demux');\r\nconst AsyncStreamEmitter = require('async-stream-emitter');\r\nconst AGChannel = require('ag-channel');\r\nconst AuthEngine = require('./auth');\r\nconst formatter = require('sc-formatter');\r\nconst AGTransport = require('./transport');\r\nconst LinkedList = require('linked-list');\r\nconst cloneDeep = require('clone-deep');\r\nconst Buffer = require('buffer/').Buffer;\r\nconst wait = require('./wait');\r\n\r\nconst scErrors = require('sc-errors');\r\nconst InvalidArgumentsError = scErrors.InvalidArgumentsError;\r\nconst InvalidMessageError = scErrors.InvalidMessageError;\r\nconst SocketProtocolError = scErrors.SocketProtocolError;\r\nconst TimeoutError = scErrors.TimeoutError;\r\nconst BadConnectionError = scErrors.BadConnectionError;\r\n\r\nfunction AGClientSocket(socketOptions) {\r\n  AsyncStreamEmitter.call(this);\r\n\r\n  let defaultOptions = {\r\n    path: '/socketcluster/',\r\n    secure: false,\r\n    protocolScheme: null,\r\n    socketPath: null,\r\n    autoConnect: true,\r\n    autoReconnect: true,\r\n    autoSubscribeOnConnect: true,\r\n    connectTimeout: 20000,\r\n    ackTimeout: 10000,\r\n    timestampRequests: false,\r\n    timestampParam: 't',\r\n    binaryType: 'arraybuffer',\r\n    batchOnHandshake: false,\r\n    batchOnHandshakeDuration: 100,\r\n    batchInterval: 50,\r\n    protocolVersion: 2,\r\n    wsOptions: {},\r\n    cloneData: false\r\n  };\r\n  let opts = Object.assign(defaultOptions, socketOptions);\r\n\r\n  if (opts.authTokenName == null) {\r\n    opts.authTokenName = this._generateAuthTokenNameFromURI(opts);\r\n  }\r\n\r\n  this.id = null;\r\n  this.version = opts.version || null;\r\n  this.protocolVersion = opts.protocolVersion;\r\n  this.state = this.CLOSED;\r\n  this.authState = this.UNAUTHENTICATED;\r\n  this.signedAuthToken = null;\r\n  this.authToken = null;\r\n  this.pendingReconnect = false;\r\n  this.pendingReconnectTimeout = null;\r\n  this.preparingPendingSubscriptions = false;\r\n  this.clientId = opts.clientId;\r\n  this.wsOptions = opts.wsOptions;\r\n\r\n  this.connectTimeout = opts.connectTimeout;\r\n  this.ackTimeout = opts.ackTimeout;\r\n  this.channelPrefix = opts.channelPrefix || null;\r\n  this.authTokenName = opts.authTokenName;\r\n\r\n  // pingTimeout will be connectTimeout at the start, but it will\r\n  // be updated with values provided by the 'connect' event\r\n  opts.pingTimeout = opts.connectTimeout;\r\n  this.pingTimeout = opts.pingTimeout;\r\n  this.pingTimeoutDisabled = !!opts.pingTimeoutDisabled;\r\n\r\n  let maxTimeout = Math.pow(2, 31) - 1;\r\n\r\n  let verifyDuration = (propertyName) => {\r\n    if (this[propertyName] > maxTimeout) {\r\n      throw new InvalidArgumentsError(\r\n        `The ${propertyName} value provided exceeded the maximum amount allowed`\r\n      );\r\n    }\r\n  };\r\n\r\n  verifyDuration('connectTimeout');\r\n  verifyDuration('ackTimeout');\r\n  verifyDuration('pingTimeout');\r\n\r\n  this.connectAttempts = 0;\r\n\r\n  this.isBatching = false;\r\n  this.batchOnHandshake = opts.batchOnHandshake;\r\n  this.batchOnHandshakeDuration = opts.batchOnHandshakeDuration;\r\n\r\n  this._batchingIntervalId = null;\r\n  this._outboundBuffer = new LinkedList();\r\n  this._channelMap = {};\r\n\r\n  this._channelEventDemux = new StreamDemux();\r\n  this._channelDataDemux = new StreamDemux();\r\n\r\n  this._receiverDemux = new StreamDemux();\r\n  this._procedureDemux = new StreamDemux();\r\n\r\n  this.options = opts;\r\n\r\n  this._cid = 1;\r\n\r\n  this.options.callIdGenerator = () => {\r\n    return this._cid++;\r\n  };\r\n\r\n  if (this.options.autoReconnect) {\r\n    if (this.options.autoReconnectOptions == null) {\r\n      this.options.autoReconnectOptions = {};\r\n    }\r\n\r\n    // Add properties to the this.options.autoReconnectOptions object.\r\n    // We assign the reference to a reconnectOptions variable to avoid repetition.\r\n    let reconnectOptions = this.options.autoReconnectOptions;\r\n    if (reconnectOptions.initialDelay == null) {\r\n      reconnectOptions.initialDelay = 10000;\r\n    }\r\n    if (reconnectOptions.randomness == null) {\r\n      reconnectOptions.randomness = 10000;\r\n    }\r\n    if (reconnectOptions.multiplier == null) {\r\n      reconnectOptions.multiplier = 1.5;\r\n    }\r\n    if (reconnectOptions.maxDelay == null) {\r\n      reconnectOptions.maxDelay = 60000;\r\n    }\r\n  }\r\n\r\n  if (this.options.subscriptionRetryOptions == null) {\r\n    this.options.subscriptionRetryOptions = {};\r\n  }\r\n\r\n  if (this.options.authEngine) {\r\n    this.auth = this.options.authEngine;\r\n  } else {\r\n    this.auth = new AuthEngine();\r\n  }\r\n\r\n  if (this.options.codecEngine) {\r\n    this.codec = this.options.codecEngine;\r\n  } else {\r\n    // Default codec engine\r\n    this.codec = formatter;\r\n  }\r\n\r\n  if (this.options.protocol) {\r\n    let protocolOptionError = new InvalidArgumentsError(\r\n      'The protocol option does not affect socketcluster-client - ' +\r\n      'If you want to utilize SSL/TLS, use the secure option instead'\r\n    );\r\n    this._onError(protocolOptionError);\r\n  }\r\n\r\n  this.options.query = opts.query || {};\r\n  if (typeof this.options.query === 'string') {\r\n    let searchParams = new URLSearchParams(this.options.query);\r\n    let queryObject = {};\r\n    for (let [key, value] of searchParams.entries()) {\r\n      let currentValue = queryObject[key];\r\n      if (currentValue == null) {\r\n        queryObject[key] = value;\r\n      } else {\r\n        if (!Array.isArray(currentValue)) {\r\n          queryObject[key] = [currentValue];\r\n        }\r\n        queryObject[key].push(value);\r\n      }\r\n    }\r\n    this.options.query = queryObject;\r\n  }\r\n\r\n  if (this.options.autoConnect) {\r\n    this.connect();\r\n  }\r\n}\r\n\r\nAGClientSocket.prototype = Object.create(AsyncStreamEmitter.prototype);\r\n\r\nAGClientSocket.CONNECTING = AGClientSocket.prototype.CONNECTING = AGTransport.prototype.CONNECTING;\r\nAGClientSocket.OPEN = AGClientSocket.prototype.OPEN = AGTransport.prototype.OPEN;\r\nAGClientSocket.CLOSED = AGClientSocket.prototype.CLOSED = AGTransport.prototype.CLOSED;\r\n\r\nAGClientSocket.AUTHENTICATED = AGClientSocket.prototype.AUTHENTICATED = 'authenticated';\r\nAGClientSocket.UNAUTHENTICATED = AGClientSocket.prototype.UNAUTHENTICATED = 'unauthenticated';\r\n\r\nAGClientSocket.SUBSCRIBED = AGClientSocket.prototype.SUBSCRIBED = AGChannel.SUBSCRIBED;\r\nAGClientSocket.PENDING = AGClientSocket.prototype.PENDING = AGChannel.PENDING;\r\nAGClientSocket.UNSUBSCRIBED = AGClientSocket.prototype.UNSUBSCRIBED = AGChannel.UNSUBSCRIBED;\r\n\r\nAGClientSocket.ignoreStatuses = scErrors.socketProtocolIgnoreStatuses;\r\nAGClientSocket.errorStatuses = scErrors.socketProtocolErrorStatuses;\r\n\r\nObject.defineProperty(AGClientSocket.prototype, 'isBufferingBatch', {\r\n  get: function () {\r\n    return this.transport.isBufferingBatch;\r\n  }\r\n});\r\n\r\nAGClientSocket.prototype.uri = function () {\r\n  return AGTransport.computeURI(this.options);\r\n};\r\n\r\nAGClientSocket.prototype.getBackpressure = function () {\r\n  return Math.max(\r\n    this.getAllListenersBackpressure(),\r\n    this.getAllReceiversBackpressure(),\r\n    this.getAllProceduresBackpressure(),\r\n    this.getAllChannelsBackpressure()\r\n  );\r\n};\r\n\r\nAGClientSocket.prototype._generateAuthTokenNameFromURI = function (options) {\r\n  let authHostString = options.host ? `.${options.host}` : `.${options.hostname || 'localhost'}${options.port ? `:${options.port}` : ''}`;\r\n  return `socketcluster.authToken${authHostString}`;\r\n}\r\n\r\nAGClientSocket.prototype._setAuthToken = function (data) {\r\n  this._changeToAuthenticatedState(data.token);\r\n\r\n  (async () => {\r\n    try {\r\n      await this.auth.saveToken(this.authTokenName, data.token, {});\r\n    } catch (err) {\r\n      this._onError(err);\r\n    }\r\n  })();\r\n};\r\n\r\nAGClientSocket.prototype._removeAuthToken = function (data) {\r\n  (async () => {\r\n    let oldAuthToken;\r\n    try {\r\n      oldAuthToken = await this.auth.removeToken(this.authTokenName);\r\n    } catch (err) {\r\n      // Non-fatal error - Do not close the connection\r\n      this._onError(err);\r\n      return;\r\n    }\r\n    this.emit('removeAuthToken', {oldAuthToken});\r\n  })();\r\n\r\n  this._changeToUnauthenticatedStateAndClearTokens();\r\n};\r\n\r\nAGClientSocket.prototype._privateDataHandlerMap = {\r\n  '#publish': function (data) {\r\n    if (typeof data.channel !== 'string') return;\r\n    let undecoratedChannelName = this._undecorateChannelName(data.channel);\r\n    let isSubscribed = this.isSubscribed(undecoratedChannelName, true);\r\n\r\n    if (isSubscribed) {\r\n      this._channelDataDemux.write(undecoratedChannelName, data.data);\r\n    }\r\n  },\r\n  '#kickOut': function (data) {\r\n    if (typeof data.channel !== 'string') return;\r\n    let undecoratedChannelName = this._undecorateChannelName(data.channel);\r\n    let channel = this._channelMap[undecoratedChannelName];\r\n    if (channel) {\r\n      this.emit('kickOut', {\r\n        channel: undecoratedChannelName,\r\n        message: data.message\r\n      });\r\n      this._channelEventDemux.write(`${undecoratedChannelName}/kickOut`, {message: data.message});\r\n      this._triggerChannelUnsubscribe(channel);\r\n    }\r\n  },\r\n  '#setAuthToken': function (data) {\r\n    if (data) {\r\n      this._setAuthToken(data);\r\n    }\r\n  },\r\n  '#removeAuthToken': function (data) {\r\n    this._removeAuthToken(data);\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._privateRPCHandlerMap = {\r\n  '#setAuthToken': function (data, request) {\r\n    if (data) {\r\n      this._setAuthToken(data);\r\n\r\n      request.end();\r\n    } else {\r\n      let error = new InvalidMessageError('No token data provided by #setAuthToken event');\r\n      delete error.stack;\r\n      request.error(error);\r\n    }\r\n  },\r\n  '#removeAuthToken': function (data, request) {\r\n    this._removeAuthToken(data);\r\n    request.end();\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype.getState = function () {\r\n  return this.state;\r\n};\r\n\r\nAGClientSocket.prototype.getBytesReceived = function () {\r\n  return this.transport.getBytesReceived();\r\n};\r\n\r\nAGClientSocket.prototype.deauthenticate = async function () {\r\n  (async () => {\r\n    let oldAuthToken;\r\n    try {\r\n      oldAuthToken = await this.auth.removeToken(this.authTokenName);\r\n    } catch (err) {\r\n      this._onError(err);\r\n      return;\r\n    }\r\n    this.emit('removeAuthToken', {oldAuthToken});\r\n  })();\r\n\r\n  if (this.state !== this.CLOSED) {\r\n    this.transmit('#removeAuthToken');\r\n  }\r\n  this._changeToUnauthenticatedStateAndClearTokens();\r\n  await wait(0);\r\n};\r\n\r\nAGClientSocket.prototype.connect = function (socketOptions) {\r\n  if (socketOptions) {\r\n    if (this.state !== this.CLOSED) {\r\n      this.disconnect(\r\n        1000,\r\n        'Socket was disconnected by the client to initiate a new connection'\r\n      );\r\n    }\r\n    this.options = {\r\n      ...this.options,\r\n      ...socketOptions\r\n    };\r\n    if (this.options.authTokenName == null) {\r\n      this.options.authTokenName = this._generateAuthTokenNameFromURI(this.options);\r\n    }\r\n  }\r\n  if (this.state === this.CLOSED) {\r\n    this.pendingReconnect = false;\r\n    this.pendingReconnectTimeout = null;\r\n    clearTimeout(this._reconnectTimeoutRef);\r\n\r\n    this.state = this.CONNECTING;\r\n    this.emit('connecting', {});\r\n\r\n    if (this.transport) {\r\n      this.transport.clearAllListeners();\r\n    }\r\n\r\n    let transportHandlers = {\r\n      onOpen: (value) => {\r\n        this.state = this.OPEN;\r\n        this._onOpen(value);\r\n      },\r\n      onOpenAbort: (value) => {\r\n        if (this.state !== this.CLOSED) {\r\n          this.state = this.CLOSED;\r\n          this._destroy(value.code, value.reason, true);\r\n        }\r\n      },\r\n      onClose: (value) => {\r\n        if (this.state !== this.CLOSED) {\r\n          this.state = this.CLOSED;\r\n          this._destroy(value.code, value.reason);\r\n        }\r\n      },\r\n      onEvent: (value) => {\r\n        this.emit(value.event, value.data);\r\n      },\r\n      onError: (value) => {\r\n        this._onError(value.error);\r\n      },\r\n      onInboundInvoke: (value) => {\r\n        this._onInboundInvoke(value);\r\n      },\r\n      onInboundTransmit: (value) => {\r\n        this._onInboundTransmit(value.event, value.data);\r\n      }\r\n    };\r\n\r\n    this.transport = new AGTransport(this.auth, this.codec, this.options, this.wsOptions, transportHandlers);\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype.reconnect = function (code, reason) {\r\n  this.disconnect(code, reason);\r\n  this.connect();\r\n};\r\n\r\nAGClientSocket.prototype.disconnect = function (code, reason) {\r\n  code = code || 1000;\r\n\r\n  if (typeof code !== 'number') {\r\n    throw new InvalidArgumentsError('If specified, the code argument must be a number');\r\n  }\r\n\r\n  let isConnecting = this.state === this.CONNECTING;\r\n  if (isConnecting || this.state === this.OPEN) {\r\n    this.state = this.CLOSED;\r\n    this._destroy(code, reason, isConnecting);\r\n    this.transport.close(code, reason);\r\n  } else {\r\n    this.pendingReconnect = false;\r\n    this.pendingReconnectTimeout = null;\r\n    clearTimeout(this._reconnectTimeoutRef);\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._changeToUnauthenticatedStateAndClearTokens = function () {\r\n  if (this.authState !== this.UNAUTHENTICATED) {\r\n    let oldAuthState = this.authState;\r\n    let oldAuthToken = this.authToken;\r\n    let oldSignedAuthToken = this.signedAuthToken;\r\n    this.authState = this.UNAUTHENTICATED;\r\n    this.signedAuthToken = null;\r\n    this.authToken = null;\r\n\r\n    let stateChangeData = {\r\n      oldAuthState,\r\n      newAuthState: this.authState\r\n    };\r\n    this.emit('authStateChange', stateChangeData);\r\n    this.emit('deauthenticate', {oldSignedAuthToken, oldAuthToken});\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._changeToAuthenticatedState = function (signedAuthToken) {\r\n  this.signedAuthToken = signedAuthToken;\r\n  this.authToken = this._extractAuthTokenData(signedAuthToken);\r\n\r\n  if (this.authState !== this.AUTHENTICATED) {\r\n    let oldAuthState = this.authState;\r\n    this.authState = this.AUTHENTICATED;\r\n    let stateChangeData = {\r\n      oldAuthState,\r\n      newAuthState: this.authState,\r\n      signedAuthToken: signedAuthToken,\r\n      authToken: this.authToken\r\n    };\r\n    if (!this.preparingPendingSubscriptions) {\r\n      this.processPendingSubscriptions();\r\n    }\r\n\r\n    this.emit('authStateChange', stateChangeData);\r\n  }\r\n  this.emit('authenticate', {signedAuthToken, authToken: this.authToken});\r\n};\r\n\r\nAGClientSocket.prototype.decodeBase64 = function (encodedString) {\r\n  return Buffer.from(encodedString, 'base64').toString('utf8');\r\n};\r\n\r\nAGClientSocket.prototype.encodeBase64 = function (decodedString) {\r\n  return Buffer.from(decodedString, 'utf8').toString('base64');\r\n};\r\n\r\nAGClientSocket.prototype._extractAuthTokenData = function (signedAuthToken) {\r\n  if (typeof signedAuthToken !== 'string') return null;\r\n  let tokenParts = signedAuthToken.split('.');\r\n  let encodedTokenData = tokenParts[1];\r\n  if (encodedTokenData != null) {\r\n    let tokenData = encodedTokenData;\r\n    try {\r\n      tokenData = this.decodeBase64(tokenData);\r\n      return JSON.parse(tokenData);\r\n    } catch (e) {\r\n      return tokenData;\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nAGClientSocket.prototype.getAuthToken = function () {\r\n  return this.authToken;\r\n};\r\n\r\nAGClientSocket.prototype.getSignedAuthToken = function () {\r\n  return this.signedAuthToken;\r\n};\r\n\r\n// Perform client-initiated authentication by providing an encrypted token string.\r\nAGClientSocket.prototype.authenticate = async function (signedAuthToken) {\r\n  let authStatus;\r\n\r\n  try {\r\n    authStatus = await this.invoke('#authenticate', signedAuthToken);\r\n  } catch (err) {\r\n    if (err.name !== 'BadConnectionError' && err.name !== 'TimeoutError') {\r\n      // In case of a bad/closed connection or a timeout, we maintain the last\r\n      // known auth state since those errors don't mean that the token is invalid.\r\n      this._changeToUnauthenticatedStateAndClearTokens();\r\n    }\r\n    await wait(0);\r\n    throw err;\r\n  }\r\n\r\n  if (authStatus && authStatus.isAuthenticated != null) {\r\n    // If authStatus is correctly formatted (has an isAuthenticated property),\r\n    // then we will rehydrate the authError.\r\n    if (authStatus.authError) {\r\n      authStatus.authError = scErrors.hydrateError(authStatus.authError);\r\n    }\r\n  } else {\r\n    // Some errors like BadConnectionError and TimeoutError will not pass a valid\r\n    // authStatus object to the current function, so we need to create it ourselves.\r\n    authStatus = {\r\n      isAuthenticated: this.authState,\r\n      authError: null\r\n    };\r\n  }\r\n\r\n  if (authStatus.isAuthenticated) {\r\n    this._changeToAuthenticatedState(signedAuthToken);\r\n  } else {\r\n    this._changeToUnauthenticatedStateAndClearTokens();\r\n  }\r\n\r\n  (async () => {\r\n    try {\r\n      await this.auth.saveToken(this.authTokenName, signedAuthToken, {});\r\n    } catch (err) {\r\n      this._onError(err);\r\n    }\r\n  })();\r\n\r\n  await wait(0);\r\n  return authStatus;\r\n};\r\n\r\nAGClientSocket.prototype._tryReconnect = function (initialDelay) {\r\n  let exponent = this.connectAttempts++;\r\n  let reconnectOptions = this.options.autoReconnectOptions;\r\n  let timeout;\r\n\r\n  if (initialDelay == null || exponent > 0) {\r\n    let initialTimeout = Math.round(reconnectOptions.initialDelay + (reconnectOptions.randomness || 0) * Math.random());\r\n\r\n    timeout = Math.round(initialTimeout * Math.pow(reconnectOptions.multiplier, exponent));\r\n  } else {\r\n    timeout = initialDelay;\r\n  }\r\n\r\n  if (timeout > reconnectOptions.maxDelay) {\r\n    timeout = reconnectOptions.maxDelay;\r\n  }\r\n\r\n  clearTimeout(this._reconnectTimeoutRef);\r\n\r\n  this.pendingReconnect = true;\r\n  this.pendingReconnectTimeout = timeout;\r\n  this._reconnectTimeoutRef = setTimeout(() => {\r\n    this.connect();\r\n  }, timeout);\r\n};\r\n\r\nAGClientSocket.prototype._onOpen = function (status) {\r\n  if (this.isBatching) {\r\n    this._startBatching();\r\n  } else if (this.batchOnHandshake) {\r\n    this._startBatching();\r\n    setTimeout(() => {\r\n      if (!this.isBatching) {\r\n        this._stopBatching();\r\n      }\r\n    }, this.batchOnHandshakeDuration);\r\n  }\r\n  this.preparingPendingSubscriptions = true;\r\n\r\n  if (status) {\r\n    this.id = status.id;\r\n    this.pingTimeout = status.pingTimeout;\r\n    if (status.isAuthenticated) {\r\n      this._changeToAuthenticatedState(status.authToken);\r\n    } else {\r\n      this._changeToUnauthenticatedStateAndClearTokens();\r\n    }\r\n  } else {\r\n    // This can happen if auth.loadToken (in transport.js) fails with\r\n    // an error - This means that the signedAuthToken cannot be loaded by\r\n    // the auth engine and therefore, we need to unauthenticate the client.\r\n    this._changeToUnauthenticatedStateAndClearTokens();\r\n  }\r\n\r\n  this.connectAttempts = 0;\r\n\r\n  if (this.options.autoSubscribeOnConnect) {\r\n    this.processPendingSubscriptions();\r\n  }\r\n\r\n  // If the user invokes the callback while in autoSubscribeOnConnect mode, it\r\n  // won't break anything.\r\n  this.emit('connect', {\r\n    ...status,\r\n    processPendingSubscriptions: () => {\r\n      this.processPendingSubscriptions();\r\n    }\r\n  });\r\n\r\n  if (this.state === this.OPEN) {\r\n    this._flushOutboundBuffer();\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._onError = function (error) {\r\n  this.emit('error', {error});\r\n};\r\n\r\nAGClientSocket.prototype._suspendSubscriptions = function () {\r\n  Object.keys(this._channelMap).forEach((channelName) => {\r\n    let channel = this._channelMap[channelName];\r\n    this._triggerChannelUnsubscribe(channel, true);\r\n  });\r\n};\r\n\r\nAGClientSocket.prototype._abortAllPendingEventsDueToBadConnection = function (failureType, code, reason) {\r\n  let currentNode = this._outboundBuffer.head;\r\n  let nextNode;\r\n\r\n  while (currentNode) {\r\n    nextNode = currentNode.next;\r\n    let eventObject = currentNode.data;\r\n    clearTimeout(eventObject.timeout);\r\n    delete eventObject.timeout;\r\n    currentNode.detach();\r\n    currentNode = nextNode;\r\n\r\n    let callback = eventObject.callback;\r\n\r\n    if (callback) {\r\n      delete eventObject.callback;\r\n      let errorMessage = `Event ${eventObject.event} was aborted due to a bad connection`;\r\n      let error = new BadConnectionError(errorMessage, failureType, code, reason);\r\n\r\n      callback.call(eventObject, error, eventObject);\r\n    }\r\n    // Cleanup any pending response callback in the transport layer too.\r\n    if (eventObject.cid) {\r\n      this.transport.cancelPendingResponse(eventObject.cid);\r\n    }\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._destroy = function (code, reason, openAbort) {\r\n  this.id = null;\r\n  this._cancelBatching();\r\n\r\n  if (this.transport) {\r\n    this.transport.clearAllListeners();\r\n  }\r\n\r\n  this.pendingReconnect = false;\r\n  this.pendingReconnectTimeout = null;\r\n  clearTimeout(this._reconnectTimeoutRef);\r\n\r\n  this._suspendSubscriptions();\r\n\r\n  if (openAbort) {\r\n    this.emit('connectAbort', {code, reason});\r\n  } else {\r\n    this.emit('disconnect', {code, reason});\r\n  }\r\n  this.emit('close', {code, reason});\r\n\r\n  if (!AGClientSocket.ignoreStatuses[code]) {\r\n    let closeMessage;\r\n    if (typeof reason === 'string') {\r\n      closeMessage = 'Socket connection closed with status code ' + code + ' and reason: ' + reason;\r\n    } else {\r\n      closeMessage = 'Socket connection closed with status code ' + code;\r\n    }\r\n    let err = new SocketProtocolError(AGClientSocket.errorStatuses[code] || closeMessage, code);\r\n    this._onError(err);\r\n  }\r\n\r\n  this._abortAllPendingEventsDueToBadConnection(openAbort ? 'connectAbort' : 'disconnect', code, reason);\r\n\r\n  // Try to reconnect\r\n  // on server ping timeout (4000)\r\n  // or on client pong timeout (4001)\r\n  // or on close without status (1005)\r\n  // or on handshake failure (4003)\r\n  // or on handshake rejection (4008)\r\n  // or on socket hung up (1006)\r\n  if (this.options.autoReconnect) {\r\n    if (code === 4000 || code === 4001 || code === 1005) {\r\n      // If there is a ping or pong timeout or socket closes without\r\n      // status, don't wait before trying to reconnect - These could happen\r\n      // if the client wakes up after a period of inactivity and in this case we\r\n      // want to re-establish the connection as soon as possible.\r\n      this._tryReconnect(0);\r\n\r\n      // Codes 4500 and above will be treated as permanent disconnects.\r\n      // Socket will not try to auto-reconnect.\r\n    } else if (code !== 1000 && code < 4500) {\r\n      this._tryReconnect();\r\n    }\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._onInboundTransmit = function (event, data) {\r\n  let handler = this._privateDataHandlerMap[event];\r\n  if (handler) {\r\n    handler.call(this, data || {});\r\n  } else {\r\n    this._receiverDemux.write(event, data);\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._onInboundInvoke = function (request) {\r\n  let {procedure, data} = request;\r\n  let handler = this._privateRPCHandlerMap[procedure];\r\n  if (handler) {\r\n    handler.call(this, data, request);\r\n  } else {\r\n    this._procedureDemux.write(procedure, request);\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype.decode = function (message) {\r\n  return this.transport.decode(message);\r\n};\r\n\r\nAGClientSocket.prototype.encode = function (object) {\r\n  return this.transport.encode(object);\r\n};\r\n\r\nAGClientSocket.prototype._flushOutboundBuffer = function () {\r\n  let currentNode = this._outboundBuffer.head;\r\n  let nextNode;\r\n\r\n  while (currentNode) {\r\n    nextNode = currentNode.next;\r\n    let eventObject = currentNode.data;\r\n    // For an eventObject which does not have a callback (no response expected),\r\n    // the timeout can be cleared immediately as soon as the object is transmitted.\r\n    if (!eventObject.callback) {\r\n      clearTimeout(eventObject.timeout);\r\n      delete eventObject.timeout;\r\n    }\r\n    currentNode.detach();\r\n    this.transport.transmitObject(eventObject);\r\n    currentNode = nextNode;\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._handleEventAckTimeout = function (eventObject, eventNode) {\r\n  if (eventNode) {\r\n    eventNode.detach();\r\n  }\r\n  delete eventObject.timeout;\r\n\r\n  let callback = eventObject.callback;\r\n  if (callback) {\r\n    delete eventObject.callback;\r\n    let error = new TimeoutError(`Event response for ${eventObject.event} event timed out`);\r\n    callback.call(eventObject, error, eventObject);\r\n  }\r\n  // Cleanup any pending response callback in the transport layer too.\r\n  if (eventObject.cid) {\r\n    this.transport.cancelPendingResponse(eventObject.cid);\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._processOutboundEvent = function (event, data, options, expectResponse) {\r\n  options = options || {};\r\n\r\n  if (this.transport && this.transport.isStale()) {\r\n    this.disconnect(\r\n      1000,\r\n      'Stale socket was disconnected by the client to initiate a new connection'\r\n    );\r\n  }\r\n  if (this.state === this.CLOSED) {\r\n    this.connect();\r\n  }\r\n  let eventObject = {\r\n    event\r\n  };\r\n\r\n  let promise;\r\n\r\n  if (expectResponse) {\r\n    promise = new Promise((resolve, reject) => {\r\n      eventObject.callback = (err, data) => {\r\n        if (err) {\r\n          reject(err);\r\n          return;\r\n        }\r\n        resolve(data);\r\n      };\r\n    });\r\n  } else {\r\n    promise = Promise.resolve();\r\n  }\r\n\r\n  let eventNode = new LinkedList.Item();\r\n\r\n  if (this.options.cloneData) {\r\n    eventObject.data = cloneDeep(data);\r\n  } else {\r\n    eventObject.data = data;\r\n  }\r\n  eventNode.data = eventObject;\r\n\r\n  let ackTimeout = options.ackTimeout == null ? this.ackTimeout : options.ackTimeout;\r\n\r\n  // The timeout should always be set, including for events which do not expect\r\n  // a response because they may sit on the _outboundBuffer for some time and \r\n  // in-order processing should still be guaranteed.\r\n  eventObject.timeout = setTimeout(() => {\r\n    this._handleEventAckTimeout(eventObject, eventNode);\r\n  }, ackTimeout);\r\n\r\n  this._outboundBuffer.append(eventNode);\r\n  if (this.state === this.OPEN) {\r\n    this._flushOutboundBuffer();\r\n  }\r\n  return promise;\r\n};\r\n\r\nAGClientSocket.prototype.send = function (data) {\r\n  this.transport.send(data);\r\n};\r\n\r\nAGClientSocket.prototype.transmit = function (event, data, options) {\r\n  return this._processOutboundEvent(event, data, options);\r\n};\r\n\r\nAGClientSocket.prototype.invoke = function (event, data, options) {\r\n  return this._processOutboundEvent(event, data, options, true);\r\n};\r\n\r\nAGClientSocket.prototype.transmitPublish = function (channelName, data) {\r\n  let pubData = {\r\n    channel: this._decorateChannelName(channelName),\r\n    data\r\n  };\r\n  return this.transmit('#publish', pubData);\r\n};\r\n\r\nAGClientSocket.prototype.invokePublish = function (channelName, data) {\r\n  let pubData = {\r\n    channel: this._decorateChannelName(channelName),\r\n    data\r\n  };\r\n  return this.invoke('#publish', pubData);\r\n};\r\n\r\nAGClientSocket.prototype._triggerChannelSubscribe = function (channel, subscriptionOptions) {\r\n  let channelName = channel.name;\r\n\r\n  if (channel.state !== AGChannel.SUBSCRIBED) {\r\n    let oldChannelState = channel.state;\r\n    channel.state = AGChannel.SUBSCRIBED;\r\n\r\n    let stateChangeData = {\r\n      oldChannelState,\r\n      newChannelState: channel.state,\r\n      subscriptionOptions\r\n    };\r\n    this._channelEventDemux.write(`${channelName}/subscribeStateChange`, stateChangeData);\r\n    this._channelEventDemux.write(`${channelName}/subscribe`, {\r\n      subscriptionOptions\r\n    });\r\n    this.emit('subscribeStateChange', {\r\n      channel: channelName,\r\n      ...stateChangeData\r\n    });\r\n    this.emit('subscribe', {\r\n      channel: channelName,\r\n      subscriptionOptions\r\n    });\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._triggerChannelSubscribeFail = function (err, channel, subscriptionOptions) {\r\n  let channelName = channel.name;\r\n  let meetsAuthRequirements = !channel.options.waitForAuth || this.authState === this.AUTHENTICATED;\r\n  let hasChannel = !!this._channelMap[channelName];\r\n\r\n  if (hasChannel && meetsAuthRequirements) {\r\n    delete this._channelMap[channelName];\r\n\r\n    this._channelEventDemux.write(`${channelName}/subscribeFail`, {\r\n      error: err,\r\n      subscriptionOptions\r\n    });\r\n    this.emit('subscribeFail', {\r\n      error: err,\r\n      channel: channelName,\r\n      subscriptionOptions: subscriptionOptions\r\n    });\r\n  }\r\n};\r\n\r\n// Cancel any pending subscribe callback\r\nAGClientSocket.prototype._cancelPendingSubscribeCallback = function (channel) {\r\n  if (channel._pendingSubscriptionCid != null) {\r\n    this.transport.cancelPendingResponse(channel._pendingSubscriptionCid);\r\n    delete channel._pendingSubscriptionCid;\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._decorateChannelName = function (channelName) {\r\n  if (this.channelPrefix) {\r\n    channelName = this.channelPrefix + channelName;\r\n  }\r\n  return channelName;\r\n};\r\n\r\nAGClientSocket.prototype._undecorateChannelName = function (decoratedChannelName) {\r\n  if (this.channelPrefix && decoratedChannelName.indexOf(this.channelPrefix) === 0) {\r\n    return decoratedChannelName.replace(this.channelPrefix, '');\r\n  }\r\n  return decoratedChannelName;\r\n};\r\n\r\nAGClientSocket.prototype.startBatch = function () {\r\n  this.transport.startBatch();\r\n};\r\n\r\nAGClientSocket.prototype.flushBatch = function () {\r\n  this.transport.flushBatch();\r\n};\r\n\r\nAGClientSocket.prototype.cancelBatch = function () {\r\n  this.transport.cancelBatch();\r\n};\r\n\r\nAGClientSocket.prototype._startBatching = function () {\r\n  if (this._batchingIntervalId != null) {\r\n    return;\r\n  }\r\n  this.startBatch();\r\n  this._batchingIntervalId = setInterval(() => {\r\n    this.flushBatch();\r\n    this.startBatch();\r\n  }, this.options.batchInterval);\r\n};\r\n\r\nAGClientSocket.prototype.startBatching = function () {\r\n  this.isBatching = true;\r\n  this._startBatching();\r\n};\r\n\r\nAGClientSocket.prototype._stopBatching = function () {\r\n  if (this._batchingIntervalId != null) {\r\n    clearInterval(this._batchingIntervalId);\r\n  }\r\n  this._batchingIntervalId = null;\r\n  this.flushBatch();\r\n};\r\n\r\nAGClientSocket.prototype.stopBatching = function () {\r\n  this.isBatching = false;\r\n  this._stopBatching();\r\n};\r\n\r\nAGClientSocket.prototype._cancelBatching = function () {\r\n  if (this._batchingIntervalId != null) {\r\n    clearInterval(this._batchingIntervalId);\r\n  }\r\n  this._batchingIntervalId = null;\r\n  this.cancelBatch();\r\n};\r\n\r\nAGClientSocket.prototype.cancelBatching = function () {\r\n  this.isBatching = false;\r\n  this._cancelBatching();\r\n};\r\n\r\nAGClientSocket.prototype._trySubscribe = function (channel) {\r\n  let meetsAuthRequirements = !channel.options.waitForAuth || this.authState === this.AUTHENTICATED;\r\n\r\n  // We can only ever have one pending subscribe action at any given time on a channel\r\n  if (\r\n    this.state === this.OPEN &&\r\n    !this.preparingPendingSubscriptions &&\r\n    channel._pendingSubscriptionCid == null &&\r\n    meetsAuthRequirements\r\n  ) {\r\n\r\n    let options = {\r\n      noTimeout: true\r\n    };\r\n\r\n    let subscriptionOptions = {};\r\n    if (channel.options.waitForAuth) {\r\n      options.waitForAuth = true;\r\n      subscriptionOptions.waitForAuth = options.waitForAuth;\r\n    }\r\n    if (channel.options.data) {\r\n      subscriptionOptions.data = channel.options.data;\r\n    }\r\n\r\n    channel._pendingSubscriptionCid = this.transport.invokeRaw(\r\n      '#subscribe',\r\n      {\r\n        channel: this._decorateChannelName(channel.name),\r\n        ...subscriptionOptions\r\n      },\r\n      options,\r\n      (err) => {\r\n        if (err) {\r\n          if (err.name === 'BadConnectionError') {\r\n            // In case of a failed connection, keep the subscription\r\n            // as pending; it will try again on reconnect.\r\n            return;\r\n          }\r\n          delete channel._pendingSubscriptionCid;\r\n          this._triggerChannelSubscribeFail(err, channel, subscriptionOptions);\r\n        } else {\r\n          delete channel._pendingSubscriptionCid;\r\n          this._triggerChannelSubscribe(channel, subscriptionOptions);\r\n        }\r\n      }\r\n    );\r\n    this.emit('subscribeRequest', {\r\n      channel: channel.name,\r\n      subscriptionOptions\r\n    });\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype.subscribe = function (channelName, options) {\r\n  options = options || {};\r\n  let channel = this._channelMap[channelName];\r\n\r\n  let sanitizedOptions = {\r\n    waitForAuth: !!options.waitForAuth\r\n  };\r\n\r\n  if (options.priority != null) {\r\n    sanitizedOptions.priority = options.priority;\r\n  }\r\n  if (options.data !== undefined) {\r\n    sanitizedOptions.data = options.data;\r\n  }\r\n\r\n  if (!channel) {\r\n    channel = {\r\n      name: channelName,\r\n      state: AGChannel.PENDING,\r\n      options: sanitizedOptions\r\n    };\r\n    this._channelMap[channelName] = channel;\r\n    this._trySubscribe(channel);\r\n  } else if (options) {\r\n    channel.options = sanitizedOptions;\r\n  }\r\n\r\n  let channelIterable = new AGChannel(\r\n    channelName,\r\n    this,\r\n    this._channelEventDemux,\r\n    this._channelDataDemux\r\n  );\r\n\r\n  return channelIterable;\r\n};\r\n\r\nAGClientSocket.prototype._triggerChannelUnsubscribe = function (channel, setAsPending) {\r\n  let channelName = channel.name;\r\n\r\n  this._cancelPendingSubscribeCallback(channel);\r\n\r\n  if (channel.state === AGChannel.SUBSCRIBED) {\r\n    let stateChangeData = {\r\n      oldChannelState: channel.state,\r\n      newChannelState: setAsPending ? AGChannel.PENDING : AGChannel.UNSUBSCRIBED\r\n    };\r\n    this._channelEventDemux.write(`${channelName}/subscribeStateChange`, stateChangeData);\r\n    this._channelEventDemux.write(`${channelName}/unsubscribe`, {});\r\n    this.emit('subscribeStateChange', {\r\n      channel: channelName,\r\n      ...stateChangeData\r\n    });\r\n    this.emit('unsubscribe', {channel: channelName});\r\n  }\r\n\r\n  if (setAsPending) {\r\n    channel.state = AGChannel.PENDING;\r\n  } else {\r\n    delete this._channelMap[channelName];\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._tryUnsubscribe = function (channel) {\r\n  if (this.state === this.OPEN) {\r\n    let options = {\r\n      noTimeout: true\r\n    };\r\n    // If there is a pending subscribe action, cancel the callback\r\n    this._cancelPendingSubscribeCallback(channel);\r\n\r\n    // This operation cannot fail because the TCP protocol guarantees delivery\r\n    // so long as the connection remains open. If the connection closes,\r\n    // the server will automatically unsubscribe the client and thus complete\r\n    // the operation on the server side.\r\n    let decoratedChannelName = this._decorateChannelName(channel.name);\r\n    this.transport.transmit('#unsubscribe', decoratedChannelName, options);\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype.unsubscribe = function (channelName) {\r\n  let channel = this._channelMap[channelName];\r\n\r\n  if (channel) {\r\n    this._triggerChannelUnsubscribe(channel);\r\n    this._tryUnsubscribe(channel);\r\n  }\r\n};\r\n\r\n// ---- Receiver logic ----\r\n\r\nAGClientSocket.prototype.receiver = function (receiverName) {\r\n  return this._receiverDemux.stream(receiverName);\r\n};\r\n\r\nAGClientSocket.prototype.closeReceiver = function (receiverName) {\r\n  this._receiverDemux.close(receiverName);\r\n};\r\n\r\nAGClientSocket.prototype.closeAllReceivers = function () {\r\n  this._receiverDemux.closeAll();\r\n};\r\n\r\nAGClientSocket.prototype.killReceiver = function (receiverName) {\r\n  this._receiverDemux.kill(receiverName);\r\n};\r\n\r\nAGClientSocket.prototype.killAllReceivers = function () {\r\n  this._receiverDemux.killAll();\r\n};\r\n\r\nAGClientSocket.prototype.killReceiverConsumer = function (consumerId) {\r\n  this._receiverDemux.killConsumer(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getReceiverConsumerStats = function (consumerId) {\r\n  return this._receiverDemux.getConsumerStats(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getReceiverConsumerStatsList = function (receiverName) {\r\n  return this._receiverDemux.getConsumerStatsList(receiverName);\r\n};\r\n\r\nAGClientSocket.prototype.getAllReceiversConsumerStatsList = function () {\r\n  return this._receiverDemux.getConsumerStatsListAll();\r\n};\r\n\r\nAGClientSocket.prototype.getReceiverBackpressure = function (receiverName) {\r\n  return this._receiverDemux.getBackpressure(receiverName);\r\n};\r\n\r\nAGClientSocket.prototype.getAllReceiversBackpressure = function () {\r\n  return this._receiverDemux.getBackpressureAll();\r\n};\r\n\r\nAGClientSocket.prototype.getReceiverConsumerBackpressure = function (consumerId) {\r\n  return this._receiverDemux.getConsumerBackpressure(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.hasReceiverConsumer = function (receiverName, consumerId) {\r\n  return this._receiverDemux.hasConsumer(receiverName, consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.hasAnyReceiverConsumer = function (consumerId) {\r\n  return this._receiverDemux.hasConsumerAll(consumerId);\r\n};\r\n\r\n// ---- Procedure logic ----\r\n\r\nAGClientSocket.prototype.procedure = function (procedureName) {\r\n  return this._procedureDemux.stream(procedureName);\r\n};\r\n\r\nAGClientSocket.prototype.closeProcedure = function (procedureName) {\r\n  this._procedureDemux.close(procedureName);\r\n};\r\n\r\nAGClientSocket.prototype.closeAllProcedures = function () {\r\n  this._procedureDemux.closeAll();\r\n};\r\n\r\nAGClientSocket.prototype.killProcedure = function (procedureName) {\r\n  this._procedureDemux.kill(procedureName);\r\n};\r\n\r\nAGClientSocket.prototype.killAllProcedures = function () {\r\n  this._procedureDemux.killAll();\r\n};\r\n\r\nAGClientSocket.prototype.killProcedureConsumer = function (consumerId) {\r\n  this._procedureDemux.killConsumer(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getProcedureConsumerStats = function (consumerId) {\r\n  return this._procedureDemux.getConsumerStats(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getProcedureConsumerStatsList = function (procedureName) {\r\n  return this._procedureDemux.getConsumerStatsList(procedureName);\r\n};\r\n\r\nAGClientSocket.prototype.getAllProceduresConsumerStatsList = function () {\r\n  return this._procedureDemux.getConsumerStatsListAll();\r\n};\r\n\r\nAGClientSocket.prototype.getProcedureBackpressure = function (procedureName) {\r\n  return this._procedureDemux.getBackpressure(procedureName);\r\n};\r\n\r\nAGClientSocket.prototype.getAllProceduresBackpressure = function () {\r\n  return this._procedureDemux.getBackpressureAll();\r\n};\r\n\r\nAGClientSocket.prototype.getProcedureConsumerBackpressure = function (consumerId) {\r\n  return this._procedureDemux.getConsumerBackpressure(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.hasProcedureConsumer = function (procedureName, consumerId) {\r\n  return this._procedureDemux.hasConsumer(procedureName, consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.hasAnyProcedureConsumer = function (consumerId) {\r\n  return this._procedureDemux.hasConsumerAll(consumerId);\r\n};\r\n\r\n// ---- Channel logic ----\r\n\r\nAGClientSocket.prototype.channel = function (channelName) {\r\n  let currentChannel = this._channelMap[channelName];\r\n\r\n  let channelIterable = new AGChannel(\r\n    channelName,\r\n    this,\r\n    this._channelEventDemux,\r\n    this._channelDataDemux\r\n  );\r\n\r\n  return channelIterable;\r\n};\r\n\r\nAGClientSocket.prototype.closeChannel = function (channelName) {\r\n  this.channelCloseOutput(channelName);\r\n  this.channelCloseAllListeners(channelName);\r\n};\r\n\r\nAGClientSocket.prototype.closeAllChannelOutputs = function () {\r\n  this._channelDataDemux.closeAll();\r\n};\r\n\r\nAGClientSocket.prototype.closeAllChannelListeners = function () {\r\n  this._channelEventDemux.closeAll();\r\n};\r\n\r\nAGClientSocket.prototype.closeAllChannels = function () {\r\n  this.closeAllChannelOutputs();\r\n  this.closeAllChannelListeners();\r\n};\r\n\r\nAGClientSocket.prototype.killChannel = function (channelName) {\r\n  this.channelKillOutput(channelName);\r\n  this.channelKillAllListeners(channelName);\r\n};\r\n\r\nAGClientSocket.prototype.killAllChannelOutputs = function () {\r\n  this._channelDataDemux.killAll();\r\n};\r\n\r\nAGClientSocket.prototype.killAllChannelListeners = function () {\r\n  this._channelEventDemux.killAll();\r\n};\r\n\r\nAGClientSocket.prototype.killAllChannels = function () {\r\n  this.killAllChannelOutputs();\r\n  this.killAllChannelListeners();\r\n};\r\n\r\nAGClientSocket.prototype.killChannelOutputConsumer = function (consumerId) {\r\n  this._channelDataDemux.killConsumer(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.killChannelListenerConsumer = function (consumerId) {\r\n  this._channelEventDemux.killConsumer(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getChannelOutputConsumerStats = function (consumerId) {\r\n  return this._channelDataDemux.getConsumerStats(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getChannelListenerConsumerStats = function (consumerId) {\r\n  return this._channelEventDemux.getConsumerStats(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getAllChannelOutputsConsumerStatsList = function () {\r\n  return this._channelDataDemux.getConsumerStatsListAll();\r\n};\r\n\r\nAGClientSocket.prototype.getAllChannelListenersConsumerStatsList = function () {\r\n  return this._channelEventDemux.getConsumerStatsListAll();\r\n};\r\n\r\nAGClientSocket.prototype.getChannelBackpressure = function (channelName) {\r\n  return Math.max(\r\n    this.channelGetOutputBackpressure(channelName),\r\n    this.channelGetAllListenersBackpressure(channelName)\r\n  );\r\n};\r\n\r\nAGClientSocket.prototype.getAllChannelOutputsBackpressure = function () {\r\n  return this._channelDataDemux.getBackpressureAll();\r\n};\r\n\r\nAGClientSocket.prototype.getAllChannelListenersBackpressure = function () {\r\n  return this._channelEventDemux.getBackpressureAll();\r\n};\r\n\r\nAGClientSocket.prototype.getAllChannelsBackpressure = function () {\r\n  return Math.max(\r\n    this.getAllChannelOutputsBackpressure(),\r\n    this.getAllChannelListenersBackpressure()\r\n  );\r\n};\r\n\r\nAGClientSocket.prototype.getChannelListenerConsumerBackpressure = function (consumerId) {\r\n  return this._channelEventDemux.getConsumerBackpressure(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getChannelOutputConsumerBackpressure = function (consumerId) {\r\n  return this._channelDataDemux.getConsumerBackpressure(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.hasAnyChannelOutputConsumer = function (consumerId) {\r\n  return this._channelDataDemux.hasConsumerAll(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.hasAnyChannelListenerConsumer = function (consumerId) {\r\n  return this._channelEventDemux.hasConsumerAll(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getChannelState = function (channelName) {\r\n  let channel = this._channelMap[channelName];\r\n  if (channel) {\r\n    return channel.state;\r\n  }\r\n  return AGChannel.UNSUBSCRIBED;\r\n};\r\n\r\nAGClientSocket.prototype.getChannelOptions = function (channelName) {\r\n  let channel = this._channelMap[channelName];\r\n  if (channel) {\r\n    return {...channel.options};\r\n  }\r\n  return {};\r\n};\r\n\r\nAGClientSocket.prototype._getAllChannelStreamNames = function (channelName) {\r\n  let streamNamesLookup = this._channelEventDemux.getConsumerStatsListAll()\r\n  .filter((stats) => {\r\n    return stats.stream.indexOf(`${channelName}/`) === 0;\r\n  })\r\n  .reduce((accumulator, stats) => {\r\n    accumulator[stats.stream] = true;\r\n    return accumulator;\r\n  }, {});\r\n  return Object.keys(streamNamesLookup);\r\n};\r\n\r\nAGClientSocket.prototype.channelCloseOutput = function (channelName) {\r\n  this._channelDataDemux.close(channelName);\r\n};\r\n\r\nAGClientSocket.prototype.channelCloseListener = function (channelName, eventName) {\r\n  this._channelEventDemux.close(`${channelName}/${eventName}`);\r\n};\r\n\r\nAGClientSocket.prototype.channelCloseAllListeners = function (channelName) {\r\n  let listenerStreams = this._getAllChannelStreamNames(channelName)\r\n  .forEach((streamName) => {\r\n    this._channelEventDemux.close(streamName);\r\n  });\r\n};\r\n\r\nAGClientSocket.prototype.channelKillOutput = function (channelName) {\r\n  this._channelDataDemux.kill(channelName);\r\n};\r\n\r\nAGClientSocket.prototype.channelKillListener = function (channelName, eventName) {\r\n  this._channelEventDemux.kill(`${channelName}/${eventName}`);\r\n};\r\n\r\nAGClientSocket.prototype.channelKillAllListeners = function (channelName) {\r\n  let listenerStreams = this._getAllChannelStreamNames(channelName)\r\n  .forEach((streamName) => {\r\n    this._channelEventDemux.kill(streamName);\r\n  });\r\n};\r\n\r\nAGClientSocket.prototype.channelGetOutputConsumerStatsList = function (channelName) {\r\n  return this._channelDataDemux.getConsumerStatsList(channelName);\r\n};\r\n\r\nAGClientSocket.prototype.channelGetListenerConsumerStatsList = function (channelName, eventName) {\r\n  return this._channelEventDemux.getConsumerStatsList(`${channelName}/${eventName}`);\r\n};\r\n\r\nAGClientSocket.prototype.channelGetAllListenersConsumerStatsList = function (channelName) {\r\n  return this._getAllChannelStreamNames(channelName)\r\n  .map((streamName) => {\r\n    return this._channelEventDemux.getConsumerStatsList(streamName);\r\n  })\r\n  .reduce((accumulator, statsList) => {\r\n    statsList.forEach((stats) => {\r\n      accumulator.push(stats);\r\n    });\r\n    return accumulator;\r\n  }, []);\r\n};\r\n\r\nAGClientSocket.prototype.channelGetOutputBackpressure = function (channelName) {\r\n  return this._channelDataDemux.getBackpressure(channelName);\r\n};\r\n\r\nAGClientSocket.prototype.channelGetListenerBackpressure = function (channelName, eventName) {\r\n  return this._channelEventDemux.getBackpressure(`${channelName}/${eventName}`);\r\n};\r\n\r\nAGClientSocket.prototype.channelGetAllListenersBackpressure = function (channelName) {\r\n  let listenerStreamBackpressures = this._getAllChannelStreamNames(channelName)\r\n  .map((streamName) => {\r\n    return this._channelEventDemux.getBackpressure(streamName);\r\n  });\r\n  return Math.max(...listenerStreamBackpressures.concat(0));\r\n};\r\n\r\nAGClientSocket.prototype.channelHasOutputConsumer = function (channelName, consumerId) {\r\n  return this._channelDataDemux.hasConsumer(channelName, consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.channelHasListenerConsumer = function (channelName, eventName, consumerId) {\r\n  return this._channelEventDemux.hasConsumer(`${channelName}/${eventName}`, consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.channelHasAnyListenerConsumer = function (channelName, consumerId) {\r\n  return this._getAllChannelStreamNames(channelName)\r\n  .some((streamName) => {\r\n    return this._channelEventDemux.hasConsumer(streamName, consumerId);\r\n  });\r\n};\r\n\r\nAGClientSocket.prototype.subscriptions = function (includePending) {\r\n  let subs = [];\r\n  Object.keys(this._channelMap).forEach((channelName) => {\r\n    if (includePending || this._channelMap[channelName].state === AGChannel.SUBSCRIBED) {\r\n      subs.push(channelName);\r\n    }\r\n  });\r\n  return subs;\r\n};\r\n\r\nAGClientSocket.prototype.isSubscribed = function (channelName, includePending) {\r\n  let channel = this._channelMap[channelName];\r\n  if (includePending) {\r\n    return !!channel;\r\n  }\r\n  return !!channel && channel.state === AGChannel.SUBSCRIBED;\r\n};\r\n\r\nAGClientSocket.prototype.processPendingSubscriptions = function () {\r\n  this.preparingPendingSubscriptions = false;\r\n  let pendingChannels = [];\r\n\r\n  Object.keys(this._channelMap).forEach((channelName) => {\r\n    let channel = this._channelMap[channelName];\r\n    if (channel.state === AGChannel.PENDING) {\r\n      pendingChannels.push(channel);\r\n    }\r\n  });\r\n\r\n  pendingChannels.sort((a, b) => {\r\n    let ap = a.options.priority || 0;\r\n    let bp = b.options.priority || 0;\r\n    if (ap > bp) {\r\n      return -1;\r\n    }\r\n    if (ap < bp) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  });\r\n\r\n  pendingChannels.forEach((channel) => {\r\n    this._trySubscribe(channel);\r\n  });\r\n};\r\n\r\nmodule.exports = AGClientSocket;\r\n","let globalScope;\r\nif (typeof WorkerGlobalScope !== 'undefined') {\r\n  globalScope = self;\r\n} else {\r\n  globalScope = typeof window !== 'undefined' && window || (function() { return this; })();\r\n}\r\n\r\nconst WebSocket = globalScope.WebSocket || globalScope.MozWebSocket;\r\n\r\n/**\r\n * WebSocket constructor.\r\n *\r\n * The third `opts` options object gets ignored in web browsers, since it's\r\n * non-standard, and throws a TypeError if passed to the constructor.\r\n * See: https://github.com/einaros/ws/issues/227\r\n *\r\n * @param {String} uri\r\n * @param {Array} protocols (optional)\r\n * @param {Object} opts (optional)\r\n * @api public\r\n */\r\n\r\nfunction ws(uri, protocols, opts) {\r\n  let instance;\r\n  if (protocols) {\r\n    instance = new WebSocket(uri, protocols);\r\n  } else {\r\n    instance = new WebSocket(uri);\r\n  }\r\n  return instance;\r\n}\r\n\r\nif (WebSocket) ws.prototype = WebSocket.prototype;\r\n\r\nmodule.exports = WebSocket ? ws : null;\r\n","'use strict';\n\n/**\n * Module dependenices\n */\n\nconst clone = require('shallow-clone');\nconst typeOf = require('kind-of');\nconst isPlainObject = require('is-plain-object');\n\nfunction cloneDeep(val, instanceClone) {\n  switch (typeOf(val)) {\n    case 'object':\n      return cloneObjectDeep(val, instanceClone);\n    case 'array':\n      return cloneArrayDeep(val, instanceClone);\n    default: {\n      return clone(val);\n    }\n  }\n}\n\nfunction cloneObjectDeep(val, instanceClone) {\n  if (typeof instanceClone === 'function') {\n    return instanceClone(val);\n  }\n  if (instanceClone || isPlainObject(val)) {\n    const res = new val.constructor();\n    for (let key in val) {\n      res[key] = cloneDeep(val[key], instanceClone);\n    }\n    return res;\n  }\n  return val;\n}\n\nfunction cloneArrayDeep(val, instanceClone) {\n  const res = new val.constructor(val.length);\n  for (let i = 0; i < val.length; i++) {\n    res[i] = cloneDeep(val[i], instanceClone);\n  }\n  return res;\n}\n\n/**\n * Expose `cloneDeep`\n */\n\nmodule.exports = cloneDeep;\n","const ConsumableStream = require('consumable-stream');\n\nclass AGChannel extends ConsumableStream {\n  constructor(name, client, eventDemux, dataDemux) {\n    super();\n    this.PENDING = AGChannel.PENDING;\n    this.SUBSCRIBED = AGChannel.SUBSCRIBED;\n    this.UNSUBSCRIBED = AGChannel.UNSUBSCRIBED;\n\n    this.name = name;\n    this.client = client;\n\n    this._eventDemux = eventDemux;\n    this._dataStream = dataDemux.stream(this.name);\n  }\n\n  createConsumer(timeout) {\n    return this._dataStream.createConsumer(timeout);\n  }\n\n  listener(eventName) {\n    return this._eventDemux.stream(`${this.name}/${eventName}`);\n  }\n\n  close() {\n    this.client.closeChannel(this.name);\n  }\n\n  kill() {\n    this.client.killChannel(this.name);\n  }\n\n  killOutputConsumer(consumerId) {\n    if (this.hasOutputConsumer(consumerId)) {\n      this.client.killChannelOutputConsumer(consumerId);\n    }\n  }\n\n  killListenerConsumer(consumerId) {\n    if (this.hasAnyListenerConsumer(consumerId)) {\n      this.client.killChannelListenerConsumer(consumerId);\n    }\n  }\n\n  getOutputConsumerStats(consumerId) {\n    if (this.hasOutputConsumer(consumerId)) {\n      return this.client.getChannelOutputConsumerStats(consumerId);\n    }\n    return undefined;\n  }\n\n  getListenerConsumerStats(consumerId) {\n    if (this.hasAnyListenerConsumer(consumerId)) {\n      return this.client.getChannelListenerConsumerStats(consumerId);\n    }\n    return undefined;\n  }\n\n  getBackpressure() {\n    return this.client.getChannelBackpressure(this.name);\n  }\n\n  getListenerConsumerBackpressure(consumerId) {\n    if (this.hasAnyListenerConsumer(consumerId)) {\n      return this.client.getChannelListenerConsumerBackpressure(consumerId);\n    }\n    return 0;\n  }\n\n  getOutputConsumerBackpressure(consumerId) {\n    if (this.hasOutputConsumer(consumerId)) {\n      return this.client.getChannelOutputConsumerBackpressure(consumerId);\n    }\n    return 0;\n  }\n\n  closeOutput() {\n    this.client.channelCloseOutput(this.name);\n  }\n\n  closeListener(eventName) {\n    this.client.channelCloseListener(this.name, eventName);\n  }\n\n  closeAllListeners() {\n    this.client.channelCloseAllListeners(this.name);\n  }\n\n  killOutput() {\n    this.client.channelKillOutput(this.name);\n  }\n\n  killListener(eventName) {\n    this.client.channelKillListener(this.name, eventName);\n  }\n\n  killAllListeners() {\n    this.client.channelKillAllListeners(this.name);\n  }\n\n  getOutputConsumerStatsList() {\n    return this.client.channelGetOutputConsumerStatsList(this.name);\n  }\n\n  getListenerConsumerStatsList(eventName) {\n    return this.client.channelGetListenerConsumerStatsList(this.name, eventName);\n  }\n\n  getAllListenersConsumerStatsList() {\n    return this.client.channelGetAllListenersConsumerStatsList(this.name);\n  }\n\n  getOutputBackpressure() {\n    return this.client.channelGetOutputBackpressure(this.name);\n  }\n\n  getListenerBackpressure(eventName) {\n    return this.client.channelGetListenerBackpressure(this.name, eventName);\n  }\n\n  getAllListenersBackpressure() {\n    return this.client.channelGetAllListenersBackpressure(this.name);\n  }\n\n  hasOutputConsumer(consumerId) {\n    return this.client.channelHasOutputConsumer(this.name, consumerId);\n  }\n\n  hasListenerConsumer(eventName, consumerId) {\n    return this.client.channelHasListenerConsumer(this.name, eventName, consumerId);\n  }\n\n  hasAnyListenerConsumer(consumerId) {\n    return this.client.channelHasAnyListenerConsumer(this.name, consumerId);\n  }\n\n  get state() {\n    return this.client.getChannelState(this.name);\n  }\n\n  set state(value) {\n    throw new Error('Cannot directly set channel state');\n  }\n\n  get options() {\n    return this.client.getChannelOptions(this.name);\n  }\n\n  set options(value) {\n    throw new Error('Cannot directly set channel options');\n  }\n\n  subscribe(options) {\n    this.client.subscribe(this.name, options);\n  }\n\n  unsubscribe() {\n    this.client.unsubscribe(this.name);\n  }\n\n  isSubscribed(includePending) {\n    return this.client.isSubscribed(this.name, includePending);\n  }\n\n  transmitPublish(data) {\n    return this.client.transmitPublish(this.name, data);\n  }\n\n  invokePublish(data) {\n    return this.client.invokePublish(this.name, data);\n  }\n}\n\nAGChannel.PENDING = 'pending';\nAGChannel.SUBSCRIBED = 'subscribed';\nAGChannel.UNSUBSCRIBED = 'unsubscribed';\n\nmodule.exports = AGChannel;\n","const AGClientSocket = require('./lib/clientsocket');\nconst factory = require('./lib/factory');\nconst version = '20.0.1';\n\nmodule.exports.factory = factory;\nmodule.exports.AGClientSocket = AGClientSocket;\n\nmodule.exports.create = function (options) {\n  return factory.create({...options, version});\n};\n\nmodule.exports.version = version;\n","const AGRequest = require('ag-request');\nconst WebSocket = require('ws');\n\nconst createWebSocket = function (uri, options) {\n  return new WebSocket(uri, [], options);\n};\n\nconst scErrors = require('sc-errors');\nconst TimeoutError = scErrors.TimeoutError;\nconst BadConnectionError = scErrors.BadConnectionError;\n\nfunction AGTransport(authEngine, codecEngine, options, wsOptions, handlers) {\n  this.state = this.CLOSED;\n  this.auth = authEngine;\n  this.codec = codecEngine;\n  this.options = options;\n  this.wsOptions = wsOptions;\n  this.protocolVersion = options.protocolVersion;\n  this.connectTimeout = options.connectTimeout;\n  this.pingTimeout = options.pingTimeout;\n  this.pingTimeoutDisabled = !!options.pingTimeoutDisabled;\n  this.callIdGenerator = options.callIdGenerator;\n  this.authTokenName = options.authTokenName;\n  this.isBufferingBatch = false;\n\n  this._pingTimeoutTicker = null;\n  this._callbackMap = {};\n  this._batchBuffer = [];\n  this.lastPingTimestamp = Date.now();\n\n  if (!handlers) {\n    handlers = {};\n  }\n\n  this._onOpenHandler = handlers.onOpen || function () {};\n  this._onOpenAbortHandler = handlers.onOpenAbort || function () {};\n  this._onCloseHandler = handlers.onClose || function () {};\n  this._onEventHandler = handlers.onEvent || function () {};\n  this._onErrorHandler = handlers.onError || function () {};\n  this._onInboundInvokeHandler  = handlers.onInboundInvoke || function () {};\n  this._onInboundTransmitHandler = handlers.onInboundTransmit || function () {};\n\n  // Open the connection.\n\n  this.state = this.CONNECTING;\n  let uri = this.uri();\n\n  let wsSocket = createWebSocket(uri, wsOptions);\n  wsSocket.binaryType = this.options.binaryType;\n\n  this.socket = wsSocket;\n\n  wsSocket.onopen = () => {\n    this._onOpen();\n  };\n\n  wsSocket.onclose = async (event) => {\n    let code;\n    if (event.code == null) {\n      // This is to handle an edge case in React Native whereby\n      // event.code is undefined when the mobile device is locked.\n      // Note that this condition may also apply to an abnormal close\n      // (no close control frame) which would normally be a 1006.\n      code = 1005;\n    } else {\n      code = event.code;\n    }\n    this._destroy(code, event.reason);\n  };\n\n  wsSocket.onmessage = (message, flags) => {\n    this._onMessage(message.data);\n  };\n\n  wsSocket.onerror = (error) => {\n    // The onclose event will be called automatically after the onerror event\n    // if the socket is connected - Otherwise, if it's in the middle of\n    // connecting, we want to close it manually with a 1006 - This is necessary\n    // to prevent inconsistent behavior when running the client in Node.js\n    // vs in a browser.\n    if (this.state === this.CONNECTING) {\n      this._destroy(1006);\n    }\n  };\n\n  this._connectTimeoutRef = setTimeout(() => {\n    this._destroy(4007);\n    this.socket.close(4007);\n  }, this.connectTimeout);\n\n  if (this.protocolVersion === 1) {\n    this._handlePing = (message) => {\n      if (message === '#1') {\n        this._resetPingTimeout();\n        if (this.socket.readyState === this.socket.OPEN) {\n          this.send('#2');\n        }\n        return true;\n      }\n      return false;\n    };\n  } else {\n    this._handlePing = (message) => {\n      if (message === '') {\n        this._resetPingTimeout();\n        if (this.socket.readyState === this.socket.OPEN) {\n          this.send('');\n        }\n        return true;\n      }\n      return false;\n    };\n  }\n}\n\nAGTransport.CONNECTING = AGTransport.prototype.CONNECTING = 'connecting';\nAGTransport.OPEN = AGTransport.prototype.OPEN = 'open';\nAGTransport.CLOSED = AGTransport.prototype.CLOSED = 'closed';\n\nAGTransport.computeURI = function (options) {\n  let query = options.query || {};\n  let scheme;\n  if (options.protocolScheme == null) {\n    scheme = options.secure ? 'wss' : 'ws';\n  } else {\n    scheme = options.protocolScheme;\n  }\n\n  if (options.timestampRequests) {\n    query[options.timestampParam] = (new Date()).getTime();\n  }\n\n  let searchParams = new URLSearchParams();\n  for (let [key, value] of Object.entries(query)) {\n    if (Array.isArray(value)) {\n      for (let item of value) {\n        searchParams.append(key, item);\n      }\n    } else {\n      searchParams.set(key, value);\n    }\n  }\n\n  query = searchParams.toString();\n\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  let host;\n  let path;\n  if (options.socketPath == null) {\n    if (options.host) {\n      host = options.host;\n    } else {\n      let port = '';\n\n      if (options.port && ((scheme === 'wss' && options.port !== 443)\n        || (scheme === 'ws' && options.port !== 80))) {\n        port = ':' + options.port;\n      }\n      host = options.hostname + port;\n    }\n    path = options.path;\n  } else {\n    host = options.socketPath;\n    path = `:${options.path}`;\n  }\n  return scheme + '://' + host + path + query;\n};\n\nAGTransport.prototype.uri = function () {\n  return AGTransport.computeURI(this.options);\n};\n\nAGTransport.prototype._onOpen = async function () {\n  clearTimeout(this._connectTimeoutRef);\n  this._resetPingTimeout();\n\n  let status;\n\n  try {\n    status = await this._handshake();\n  } catch (err) {\n    if (err.statusCode == null) {\n      err.statusCode = 4003;\n    }\n    this._onError(err);\n    this._destroy(err.statusCode, err.toString());\n    this.socket.close(err.statusCode);\n    return;\n  }\n\n  this.state = this.OPEN;\n  if (status) {\n    this.pingTimeout = status.pingTimeout;\n  }\n  this._resetPingTimeout();\n  this._onOpenHandler(status);\n};\n\nAGTransport.prototype._handshake = async function () {\n  let token = await this.auth.loadToken(this.authTokenName);\n  // Don't wait for this.state to be 'open'.\n  // The underlying WebSocket (this.socket) is already open.\n  let options = {\n    force: true\n  };\n  let status = await this.invoke('#handshake', {authToken: token}, options);\n  if (status) {\n    // Add the token which was used as part of authentication attempt\n    // to the status object.\n    status.authToken = token;\n    if (status.authError) {\n      status.authError = scErrors.hydrateError(status.authError);\n    }\n  }\n  return status;\n};\n\nAGTransport.prototype._abortAllPendingEventsDueToBadConnection = function (failureType, code, reason) {\n  Object.keys(this._callbackMap || {}).forEach((i) => {\n    let eventObject = this._callbackMap[i];\n    delete this._callbackMap[i];\n\n    clearTimeout(eventObject.timeout);\n    delete eventObject.timeout;\n\n    let errorMessage = `Event ${eventObject.event} was aborted due to a bad connection`;\n    let badConnectionError = new BadConnectionError(errorMessage, failureType, code, reason);\n\n    let callback = eventObject.callback;\n    if (callback) {\n      delete eventObject.callback;\n\n      callback.call(eventObject, badConnectionError, eventObject);\n    }\n  });\n};\n\nAGTransport.prototype._destroy = function (code, reason) {\n  if (!reason && scErrors.socketProtocolErrorStatuses[code]) {\n    reason = scErrors.socketProtocolErrorStatuses[code];\n  }\n  delete this.socket.onopen;\n  delete this.socket.onclose;\n  delete this.socket.onmessage;\n  delete this.socket.onerror;\n\n  clearTimeout(this._connectTimeoutRef);\n  clearTimeout(this._pingTimeoutTicker);\n\n  if (this.state === this.OPEN) {\n    this.state = this.CLOSED;\n    this._abortAllPendingEventsDueToBadConnection('disconnect', code, reason);\n    this._onCloseHandler({code, reason});\n  } else if (this.state === this.CONNECTING) {\n    this.state = this.CLOSED;\n    this._abortAllPendingEventsDueToBadConnection('connectAbort', code, reason);\n    this._onOpenAbortHandler({code, reason});\n  } else if (this.state === this.CLOSED) {\n    this._abortAllPendingEventsDueToBadConnection('connectAbort', code, reason);\n  }\n};\n\nAGTransport.prototype._processInboundPacket = function (packet, message) {\n  if (packet && typeof packet.event === 'string') {\n    if (typeof packet.cid === 'number') {\n      let request = new AGRequest(this, packet.cid, packet.event, packet.data);\n      this._onInboundInvokeHandler(request);\n    } else {\n      this._onInboundTransmitHandler({...packet});\n    }\n  } else if (packet && typeof packet.rid === 'number') {\n    let eventObject = this._callbackMap[packet.rid];\n    if (eventObject) {\n      clearTimeout(eventObject.timeout);\n      delete eventObject.timeout;\n      delete this._callbackMap[packet.rid];\n\n      if (eventObject.callback) {\n        let rehydratedError = scErrors.hydrateError(packet.error);\n        eventObject.callback(rehydratedError, packet.data);\n      }\n    }\n  } else {\n    this._onEventHandler({event: 'raw', data: {message}});\n  }\n};\n\nAGTransport.prototype._onMessage = function (message) {\n  this._onEventHandler({event: 'message', data: {message}});\n\n  if (this._handlePing(message)) {\n    return;\n  }\n\n  let packet = this.decode(message);\n\n  if (Array.isArray(packet)) {\n    let len = packet.length;\n    for (let i = 0; i < len; i++) {\n      this._processInboundPacket(packet[i], message);\n    }\n  } else {\n    this._processInboundPacket(packet, message);\n  }\n};\n\nAGTransport.prototype._onError = function (error) {\n  this._onErrorHandler({error});\n};\n\nAGTransport.prototype.isStale = function () {\n  if (this.pingTimeoutDisabled) return false;\n  return Date.now() - this.lastPingTimestamp >= this.pingTimeout;\n};\n\nAGTransport.prototype._resetPingTimeout = function () {\n  this.lastPingTimestamp = Date.now();\n\n  if (this.pingTimeoutDisabled) {\n    return;\n  }\n\n  clearTimeout(this._pingTimeoutTicker);\n  this._pingTimeoutTicker = setTimeout(() => {\n    this._destroy(4000);\n    this.socket.close(4000);\n  }, this.pingTimeout);\n};\n\nAGTransport.prototype.clearAllListeners = function () {\n  this._onOpenHandler = function () {};\n  this._onOpenAbortHandler = function () {};\n  this._onCloseHandler = function () {};\n  this._onEventHandler = function () {};\n  this._onErrorHandler = function () {};\n  this._onInboundInvokeHandler  = function () {};\n  this._onInboundTransmitHandler = function () {};\n};\n\nAGTransport.prototype.startBatch = function () {\n  this.isBufferingBatch = true;\n  this._batchBuffer = [];\n};\n\nAGTransport.prototype.flushBatch = function () {\n  this.isBufferingBatch = false;\n  if (!this._batchBuffer.length) {\n    return;\n  }\n  let serializedBatch = this.serializeObject(this._batchBuffer);\n  this._batchBuffer = [];\n  this.send(serializedBatch);\n};\n\nAGTransport.prototype.cancelBatch = function () {\n  this.isBufferingBatch = false;\n  this._batchBuffer = [];\n};\n\nAGTransport.prototype.getBytesReceived = function () {\n  return this.socket.bytesReceived;\n};\n\nAGTransport.prototype.close = function (code, reason) {\n  if (this.state === this.OPEN || this.state === this.CONNECTING) {\n    code = code || 1000;\n    this._destroy(code, reason);\n    this.socket.close(code, reason);\n  }\n};\n\nAGTransport.prototype.transmitObject = function (eventObject) {\n  let simpleEventObject = {\n    event: eventObject.event,\n    data: eventObject.data\n  };\n\n  if (eventObject.callback) {\n    simpleEventObject.cid = eventObject.cid = this.callIdGenerator();\n    this._callbackMap[eventObject.cid] = eventObject;\n  }\n\n  this.sendObject(simpleEventObject);\n\n  return eventObject.cid || null;\n};\n\nAGTransport.prototype._handleEventAckTimeout = function (eventObject) {\n  if (eventObject.cid) {\n    delete this._callbackMap[eventObject.cid];\n  }\n  delete eventObject.timeout;\n\n  let callback = eventObject.callback;\n  if (callback) {\n    delete eventObject.callback;\n    let error = new TimeoutError(`Event response for ${eventObject.event} event timed out`);\n    callback.call(eventObject, error, eventObject);\n  }\n};\n\nAGTransport.prototype.transmit = function (event, data, options) {\n  let eventObject = {\n    event,\n    data\n  };\n\n  if (this.state === this.OPEN || options.force) {\n    this.transmitObject(eventObject);\n  }\n  return Promise.resolve();\n};\n\nAGTransport.prototype.invokeRaw = function (event, data, options, callback) {\n  let eventObject = {\n    event,\n    data,\n    callback\n  };\n\n  if (!options.noTimeout) {\n    eventObject.timeout = setTimeout(() => {\n      this._handleEventAckTimeout(eventObject);\n    }, this.options.ackTimeout);\n  }\n  let cid = null;\n  if (this.state === this.OPEN || options.force) {\n    cid = this.transmitObject(eventObject);\n  }\n  return cid;\n};\n\nAGTransport.prototype.invoke = function (event, data, options) {\n  return new Promise((resolve, reject) => {\n    this.invokeRaw(event, data, options, (err, data) => {\n      if (err) {\n        reject(err);\n        return;\n      }\n      resolve(data);\n    });\n  });\n};\n\nAGTransport.prototype.cancelPendingResponse = function (cid) {\n  delete this._callbackMap[cid];\n};\n\nAGTransport.prototype.decode = function (message) {\n  return this.codec.decode(message);\n};\n\nAGTransport.prototype.encode = function (object) {\n  return this.codec.encode(object);\n};\n\nAGTransport.prototype.send = function (data) {\n  if (this.socket.readyState !== this.socket.OPEN) {\n    this._destroy(1005);\n  } else {\n    this.socket.send(data);\n  }\n};\n\nAGTransport.prototype.serializeObject = function (object) {\n  let str;\n  try {\n    str = this.encode(object);\n  } catch (error) {\n    this._onError(error);\n    return null;\n  }\n  return str;\n};\n\nAGTransport.prototype.sendObject = function (object) {\n  if (this.isBufferingBatch) {\n    this._batchBuffer.push(object);\n    return;\n  }\n  let str = this.serializeObject(object);\n  if (str != null) {\n    this.send(str);\n  }\n};\n\nmodule.exports = AGTransport;\n"],"names":["exports","read","buffer","offset","isLE","mLen","nBytes","e","m","eLen","eMax","eBias","nBits","i","d","s","NaN","Infinity","Math","pow","write","value","c","rt","abs","isNaN","floor","log","LN2","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","uuid","test","byteToHex","push","toString","substr","arr","arguments","length","undefined","toLowerCase","TypeError","_nodeId","_clockseq","_lastMSecs","_lastNSecs","options","buf","b","Array","node","clockseq","seedBytes","random","msecs","Date","now","nsecs","dt","tl","tmh","n","v","parseInt","slice","name","version","hashfunc","generateUUID","namespace","str","unescape","encodeURIComponent","bytes","charCodeAt","stringToBytes","set","err","DNS","URL","getOutputLength","inputLength8","safeAdd","x","y","lsw","md5cmn","q","a","t","num","cnt","md5ff","md5gg","md5hh","md5ii","v35","msg","input","output","length32","hexTab","hex","charAt","md5ToHexEncodedArray","len","olda","oldb","oldc","oldd","wordsToMd5","length8","Uint32Array","bytesToWords","rnds","f","z","ROTL","K","H","isArray","prototype","call","l","N","ceil","M","_i","j","_i2","W","_t","_t2","T","ConsumableStream","next","timeout","asyncIterator","this","createConsumer","result","return","once","done","error","Promise","Symbol","module","List","Item","ListItem","ListPrototype","ListItemPrototype","IterPrototype","Iter","$iterator","iterator","tail","head","of","appendAll","from","items","toArray","item","prepend","self","append","detach","errorMessage","list","size","prev","current","index","iter","Object","ctorName","val","constructor","type","isBuffer","callee","message","indexOf","isArguments","toDateString","getDate","setDate","isDate","stackTraceLimit","isError","RegExp","flags","ignoreCase","multiline","global","isRegexp","throw","isGeneratorObj","replace","StreamDemux","AsyncStreamEmitter","_listenerDemux","emit","eventName","data","listener","stream","closeListener","close","closeAllListeners","closeAll","removeListener","unstream","getListenerConsumerStats","consumerId","getConsumerStats","getListenerConsumerStatsList","getConsumerStatsList","getAllListenersConsumerStatsList","getConsumerStatsListAll","getListenerConsumerCount","getConsumerCount","getAllListenersConsumerCount","getConsumerCountAll","killListener","kill","killAllListeners","killAll","killListenerConsumer","killConsumer","getListenerBackpressure","getBackpressure","getAllListenersBackpressure","getBackpressureAll","getListenerConsumerBackpressure","getConsumerBackpressure","hasListenerConsumer","hasConsumer","hasAnyListenerConsumer","hasConsumerAll","AGClientSocket","InvalidArgumentsError","getPort","isSecureDefault","isSecure","secure","port","location","create","host","match","hostname","protocol","opts","clientId","v4","assign","AuthEngine","_internalStorage","isLocalStorageEnabled","_checkLocalStorageEnabled","localStorage","setItem","removeItem","saveToken","token","resolve","removeToken","loadPromise","loadToken","getItem","valueOf","typeOf","deep","Number","Map","Set","Buffer","allocUnsafe","copy","cloneBuffer","cloneSymbol","res","byteLength","cloneArrayBuffer","byteOffset","cloneTypedArray","exec","re","source","lastIndex","cloneRegExp","Consumer","super","_nextConsumerId","generateConsumerId","removeConsumerCallback","_consumers","tailNode","_write","dataNode","consumer","values","writeToConsumer","closeConsumer","keys","get","maxBackpressure","backpressure","has","setConsumer","currentNode","removeConsumer","delete","getStats","consumerStats","getConsumerList","id","startNode","_backpressure","isAlive","stats","_resetBackpressure","applyBackpressure","packet","releaseBackpressure","clearActiveTimeout","clearTimeout","_timeoutId","_resolve","_killPacket","_destroy","_waitForNextItem","reject","timeoutId","delay","promise","setTimeout","wait","killPacket","isObject","isObjectObject","o","ctor","prot","hasOwnProperty","scErrors","InvalidActionError","socket","procedureName","procedure","sent","_respond","responseData","sendObject","end","rid","dehydrateError","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","Arr","_byteLength","curByte","revLookup","fromByteArray","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","lookup","join","code","start","duration","object","objects","paths","derez","path","nu","Boolean","String","$ref","apply","JSON","stringify","WritableConsumableStream","DemuxedConsumableStream","streams","streamName","entries","map","allStatsList","statsList","reduce","max","some","sum","decycle","isStrict","AuthTokenExpiredError","expiry","captureStackTrace","stack","AuthTokenInvalidError","AuthTokenNotBeforeError","date","AuthTokenError","AuthError","SilentMiddlewareBlockedError","InvalidOptionsError","InvalidMessageError","SocketProtocolError","ServerProtocolError","HTTPServerError","ResourceLimitError","TimeoutError","BadConnectionError","reason","socketProtocolIgnoreStatuses","BrokerError","ProcessExitError","UnknownError","socketProtocolErrorStatuses","dehydratedError","hydrateError","hydratedError","streamDemux","_streamDemux","base64Chars","validJSONStartRegex","arrayBufferToBase64","arraybuffer","base64","substring","binaryToBase64Replacer","key","ArrayBuffer","rehydratedBuffer","decode","encodedMessage","parse","encode","rawData","ieee754","customInspectSymbol","K_MAX_LENGTH","createBuffer","RangeError","setPrototypeOf","arg","encodingOrOffset","string","encoding","isEncoding","actual","fromString","isView","arrayView","isInstance","fromArrayBuffer","fromArrayLike","fromArrayView","SharedArrayBuffer","obj","checked","numberIsNaN","fromObject","toPrimitive","assertSize","array","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","found","hexWrite","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","min","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","foo","typedArraySupport","console","defineProperty","enumerable","poolSize","alloc","fill","allocUnsafeSlow","_isBuffer","compare","concat","pos","swap16","swap32","swap64","toLocaleString","equals","inspect","trim","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","hexSliceLookupTable","checkOffset","ext","checkInt","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","INVALID_BASE64_RE","leadSurrogate","split","base64clean","src","dst","alphabet","table","i16","AGChannel","formatter","AGTransport","LinkedList","cloneDeep","socketOptions","protocolScheme","socketPath","autoConnect","autoReconnect","autoSubscribeOnConnect","connectTimeout","ackTimeout","timestampRequests","timestampParam","binaryType","batchOnHandshake","batchOnHandshakeDuration","batchInterval","protocolVersion","wsOptions","cloneData","authTokenName","_generateAuthTokenNameFromURI","state","CLOSED","authState","UNAUTHENTICATED","signedAuthToken","authToken","pendingReconnect","pendingReconnectTimeout","preparingPendingSubscriptions","channelPrefix","pingTimeout","pingTimeoutDisabled","maxTimeout","verifyDuration","propertyName","connectAttempts","isBatching","_batchingIntervalId","_outboundBuffer","_channelMap","_channelEventDemux","_channelDataDemux","_receiverDemux","_procedureDemux","_cid","callIdGenerator","autoReconnectOptions","reconnectOptions","initialDelay","randomness","multiplier","maxDelay","subscriptionRetryOptions","authEngine","auth","codecEngine","codec","protocolOptionError","_onError","query","searchParams","URLSearchParams","queryObject","currentValue","connect","CONNECTING","OPEN","AUTHENTICATED","SUBSCRIBED","PENDING","UNSUBSCRIBED","ignoreStatuses","errorStatuses","transport","isBufferingBatch","uri","computeURI","getAllReceiversBackpressure","getAllProceduresBackpressure","getAllChannelsBackpressure","_setAuthToken","_changeToAuthenticatedState","_removeAuthToken","oldAuthToken","_changeToUnauthenticatedStateAndClearTokens","_privateDataHandlerMap","channel","undecoratedChannelName","_undecorateChannelName","isSubscribed","_triggerChannelUnsubscribe","_privateRPCHandlerMap","request","getState","getBytesReceived","deauthenticate","async","transmit","disconnect","_reconnectTimeoutRef","clearAllListeners","transportHandlers","onOpen","_onOpen","onOpenAbort","onClose","onEvent","event","onError","onInboundInvoke","_onInboundInvoke","onInboundTransmit","_onInboundTransmit","reconnect","isConnecting","oldAuthState","oldSignedAuthToken","stateChangeData","newAuthState","_extractAuthTokenData","processPendingSubscriptions","decodeBase64","encodedString","encodeBase64","decodedString","encodedTokenData","tokenData","getAuthToken","getSignedAuthToken","authenticate","authStatus","invoke","isAuthenticated","authError","_tryReconnect","exponent","initialTimeout","round","status","_startBatching","_stopBatching","_flushOutboundBuffer","_suspendSubscriptions","forEach","channelName","_abortAllPendingEventsDueToBadConnection","failureType","nextNode","eventObject","callback","cid","cancelPendingResponse","openAbort","_cancelBatching","closeMessage","handler","transmitObject","_handleEventAckTimeout","eventNode","_processOutboundEvent","expectResponse","isStale","send","transmitPublish","pubData","_decorateChannelName","invokePublish","_triggerChannelSubscribe","subscriptionOptions","oldChannelState","newChannelState","_triggerChannelSubscribeFail","meetsAuthRequirements","waitForAuth","_cancelPendingSubscribeCallback","_pendingSubscriptionCid","decoratedChannelName","startBatch","flushBatch","cancelBatch","setInterval","startBatching","clearInterval","stopBatching","cancelBatching","_trySubscribe","noTimeout","invokeRaw","subscribe","sanitizedOptions","priority","setAsPending","_tryUnsubscribe","unsubscribe","receiver","receiverName","closeReceiver","closeAllReceivers","killReceiver","killAllReceivers","killReceiverConsumer","getReceiverConsumerStats","getReceiverConsumerStatsList","getAllReceiversConsumerStatsList","getReceiverBackpressure","getReceiverConsumerBackpressure","hasReceiverConsumer","hasAnyReceiverConsumer","closeProcedure","closeAllProcedures","killProcedure","killAllProcedures","killProcedureConsumer","getProcedureConsumerStats","getProcedureConsumerStatsList","getAllProceduresConsumerStatsList","getProcedureBackpressure","getProcedureConsumerBackpressure","hasProcedureConsumer","hasAnyProcedureConsumer","closeChannel","channelCloseOutput","channelCloseAllListeners","closeAllChannelOutputs","closeAllChannelListeners","closeAllChannels","killChannel","channelKillOutput","channelKillAllListeners","killAllChannelOutputs","killAllChannelListeners","killAllChannels","killChannelOutputConsumer","killChannelListenerConsumer","getChannelOutputConsumerStats","getChannelListenerConsumerStats","getAllChannelOutputsConsumerStatsList","getAllChannelListenersConsumerStatsList","getChannelBackpressure","channelGetOutputBackpressure","channelGetAllListenersBackpressure","getAllChannelOutputsBackpressure","getAllChannelListenersBackpressure","getChannelListenerConsumerBackpressure","getChannelOutputConsumerBackpressure","hasAnyChannelOutputConsumer","hasAnyChannelListenerConsumer","getChannelState","getChannelOptions","_getAllChannelStreamNames","streamNamesLookup","filter","accumulator","channelCloseListener","channelKillListener","channelGetOutputConsumerStatsList","channelGetListenerConsumerStatsList","channelGetAllListenersConsumerStatsList","channelGetListenerBackpressure","listenerStreamBackpressures","channelHasOutputConsumer","channelHasListenerConsumer","channelHasAnyListenerConsumer","subscriptions","includePending","subs","pendingChannels","sort","ap","bp","globalScope","WorkerGlobalScope","window","WebSocket","MozWebSocket","ws","protocols","instance","clone","isPlainObject","instanceClone","cloneObjectDeep","cloneArrayDeep","client","eventDemux","dataDemux","_eventDemux","_dataStream","killOutputConsumer","hasOutputConsumer","getOutputConsumerStats","getOutputConsumerBackpressure","closeOutput","killOutput","getOutputConsumerStatsList","getOutputBackpressure","factory","AGRequest","handlers","_pingTimeoutTicker","_callbackMap","_batchBuffer","lastPingTimestamp","_onOpenHandler","_onOpenAbortHandler","_onCloseHandler","_onEventHandler","_onErrorHandler","_onInboundInvokeHandler","_onInboundTransmitHandler","wsSocket","createWebSocket","onopen","onclose","onmessage","_onMessage","onerror","_connectTimeoutRef","_handlePing","_resetPingTimeout","readyState","scheme","getTime","_handshake","statusCode","force","badConnectionError","_processInboundPacket","rehydratedError","serializedBatch","serializeObject","bytesReceived","simpleEventObject"],"ignoreList":[],"sourceRoot":""}