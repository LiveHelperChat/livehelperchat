/*! For license information please see index.js.LICENSE.txt */
(function(){var __webpack_modules__={5236:function(t,e,i){"use strict";var n=i(9795),s=[],r=[],o=n.makeRequestCallFromTimer((function(){if(r.length)throw r.shift()}));function a(t){var e;(e=s.length?s.pop():new u).task=t,n(e)}function u(){this.task=null}t.exports=a,u.prototype.call=function(){try{this.task.call()}catch(t){a.onerror?a.onerror(t):(r.push(t),o())}finally{this.task=null,s[s.length]=this}}},9795:function(t,e,i){"use strict";function n(t){r.length||s(),r[r.length]=t}t.exports=n;var s,r=[],o=0;function a(){for(;o<r.length;){var t=o;if(o+=1,r[t].call(),o>1024){for(var e=0,i=r.length-o;e<i;e++)r[e]=r[e+o];r.length-=o,o=0}}r.length=0,o=0}var u,l,c,h=void 0!==i.g?i.g:self,d=h.MutationObserver||h.WebKitMutationObserver;function p(t){return function(){var e=setTimeout(n,0),i=setInterval(n,50);function n(){clearTimeout(e),clearInterval(i),t()}}}"function"==typeof d?(u=1,l=new d(a),c=document.createTextNode(""),l.observe(c,{characterData:!0}),s=function(){u=-u,c.data=u}):s=p(a),n.requestFlush=s,n.makeRequestCallFromTimer=p},239:function(t,e,i){"use strict";i.d(e,{V:function(){return h}});var n=i(3029),s=i(9530),r=i(388),o=i(3954),a=i(5501),u=i(6213),l=i(7912);function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(c=function(){return!!t})()}var h=function(t){function e(t,i,s,a,u){var l,h,d,p;return(0,n.A)(this,e),h=this,d=e,p=[t,i,s,a,u],d=(0,o.A)(d),(l=(0,r.A)(h,c()?Reflect.construct(d,p||[],(0,o.A)(h).constructor):d.apply(h,p))).bodyId="",l}return(0,a.A)(e,t),(0,s.A)(e,[{key:"constructUIIframe",value:function(t,e,i,n,s){if(void 0===e&&(e="ltr"),void 0===i&&(i="en"),void 0===n&&(n=""),this.elmDomDoc=l.q.getDocument(this.elmDom),null===this.elmDomDoc)return null;try{this.elmDomDoc.getElementsByTagName("head")[0].innerHTML='<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="googlebot" content="notranslate" />'+(!0!==s?'<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />':"")+n,""!=this.bodyId&&(this.elmDomDoc.body.id=this.bodyId);var r=this.elmDomDoc.getElementsByTagName("html")[0];r.setAttribute("lang",i),r.setAttribute("dir",e);var o=document.implementation.createDocumentType("html","","");this.elmDomDoc.doctype?this.elmDomDoc.replaceChild(o,this.elmDomDoc.doctype):this.elmDomDoc.insertBefore(o,this.elmDomDoc.childNodes[0])}catch(t){console.log(t)}this.insertCssFile(t),this.insertContent()}},{key:"insertContent",value:function(){this.elmDomDoc.body.innerHTML=this.tmpl}}])}(u.H)},6213:function(t,e,i){"use strict";i.d(e,{H:function(){return u}});var n=i(3029),s=i(9530),r=i(7912),o=i(3940),a=i(5107),u=function(){return(0,s.A)((function t(e,i,s,r,o){(0,n.A)(this,t);var a=this;this.elementId=e||"",this.style=i||"",this.tagName=r||"div",this.tmpl="",this.elmDom=null,this.elmDomDoc=o||document,this.attributes={},this.classNames=[],this.elementId&&(this.attributes.id=this.elementId),s&&Object.keys(s).forEach((function(t){a.attributes[t]=s[t]}))}),[{key:"constructUI",value:function(t){return this.elmDomDoc=t||this.elmDomDoc,this.elmDom=r.q.initElement(this.elmDomDoc,this.tagName,this.attributes,this.style,this.tmpl),this.elmDom.className+=this.classNames.join(" "),this.elmDom}},{key:"restyle",value:function(t,e){e&&(this.elmDom?this.elmDom.style.cssText+=";"+t+":"+e:this.style+=";"+t+":"+e)}},{key:"attachUserEventListener",value:function(t,e,i,n){var s;(s=i?this.getElementById(i):this.elmDom)&&(1<(i=t.split(" ")).length?i.forEach((function(t){a.s.listen(s,t,e,t+n)})):a.s.listen(s,t,e,n))}},{key:"getElementById",value:function(t){return this.elmDom&&this.elmDomDoc?this.elmDomDoc.getElementById(t):null}},{key:"hide",value:function(){this.restyle("display","none !important")}},{key:"show",value:function(){this.restyle("display","block !important")}},{key:"insertCssFile",value:function(t,e){var i=this.elmDomDoc.getElementsByTagName("head")[0],n=this.elmDomDoc.createDocumentFragment(),s=r.q.initElement(this.elmDomDoc,"style",{type:"text/css"}),a=this.elmDomDoc.createTextNode(e?t:o.W.ResetStyle+""+t);n.appendChild(s),i.appendChild(n),s.styleSheet?s.styleSheet.cssText=a.nodeValue:s.appendChild(a)}},{key:"insertCssRemoteFile",value:function(t){var e=null;if(t.id&&t.href&&null!==(e=this.elmDomDoc.getElementById(t.id)))e.href=t.href;else{var i=this.elmDomDoc.getElementsByTagName("head")[0],n=this.elmDomDoc.createDocumentFragment(),s=this.elmDomDoc.createElement("link");for(var r in s.rel="stylesheet",s.crossOrigin="*",t)s[r]=t[r];n.appendChild(s),i.appendChild(n)}}},{key:"insertJSFile",value:function(t,e,i,n){var s=this.elmDomDoc.getElementsByTagName("head")[0],r=this.elmDomDoc.createDocumentFragment(),o=this.elmDomDoc.createElement("script");o.type="text/javascript",void 0!==e&&!0!==e||(o.async=!0),o.crossOrigin="*",o.src=t,i&&(o.onload=i),n&&Object.keys(n).forEach((function(t){o.setAttribute(t,n[t])})),r.appendChild(o),s.appendChild(r)}},{key:"massRestyle",value:function(t){for(var e in t)t.hasOwnProperty(e)&&this.restyle(e,t[e])}}])}()},4223:function(t,e,i){"use strict";i.d(e,{X:function(){return r}});var n=i(3029),s=i(9530),r=new(function(){return(0,s.A)((function t(){(0,n.A)(this,t),this.isNotificationsSubscribed=!1,this.applicationServerPublicKey=null,this.eventEmitter=null}),[{key:"setPublicKey",value:function(t,e){this.applicationServerPublicKey=t,this.eventEmitter=e}},{key:"sendNotification",value:function(){var t=this,e=this.applicationServerPublicKey,i=null;if("serviceWorker"in navigator&&"PushManager"in window)if("Notification"in window){if("granted"===Notification.permission);else if("denied"!==Notification.permission)Notification.requestPermission((function(t){"granted"===t||alert("Sorry but you have denied notification!")}));else if("denied"===Notification.permission)return void alert("Sorry but you have denied notification!");t=this,navigator.serviceWorker.register("/sw.lhc.js?v=2").then((function(n){(i=n).pushManager.getSubscription().then((function(n){var s;t.isNotificationsSubscribed=!(null===n),t.isNotificationsSubscribed,s=function(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(e),n=new Uint8Array(i.length),s=0;s<i.length;++s)n[s]=i.charCodeAt(s);return n}(e),i.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:s}).then((function(e){(function(e){if(null!==e){var i=e.getKey("p256dh"),n=e.getKey("auth"),s=(PushManager.supportedContentEncodings||["aesgcm"])[0],r=JSON.stringify({endpoint:e.endpoint,publicKey:i?btoa(String.fromCharCode.apply(null,new Uint8Array(i))):null,authToken:n?btoa(String.fromCharCode.apply(null,new Uint8Array(n))):null,contentEncoding:s});t.eventEmitter.emitEvent("subcribedEvent",[{payload:r}])}})(e),t.isNotificationsSubscribed=!0}))}))}))}else alert("This browser does not support desktop notification");else alert("This browser does not support desktop notification")}}])}())},7912:function(t,e,i){"use strict";i.d(e,{q:function(){return r}});var n=i(3029),s=i(9530),r=new(function(){return(0,s.A)((function t(){(0,n.A)(this,t)}),[{key:"initElement",value:function(t,e,i,n,s){var r;for(r in t=t.createElement(e),i=i||{})t[r]=i[r];return s&&"iframe"!==e&&(t.innerHTML=s),n&&(t.style.cssText=n),t}},{key:"getDocument",value:function(t){return t.contentWindow?t.contentWindow.document:t.contentDocument?t.contentDocument:t.document?t.document:null}},{key:"removeById",value:function(t){var e=null;return!!(e=document.getElementById(t))&&e.parentNode.removeChild(e)}},{key:"getTzOffset",value:function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){Date.prototype.stdTimezoneOffset=function(){var t=new Date(this.getFullYear(),0,1),e=new Date(this.getFullYear(),6,1);return Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())},Date.prototype.dst=function(){return this.getTimezoneOffset()<this.stdTimezoneOffset()};var t=new Date;return(t.dst()?t.getTimezoneOffset():t.getTimezoneOffset()-60)/60*-1}}},{key:"getAbstractStyle",value:function(t){return["outline:                    "+(t.outline?t.outline:"none")+" !important; ","visibility:                 "+(t.visibility?t.visibility:"visible")+" !important; ","resize:                     "+(t.resize?t.resize:"none")+" !important; ","box-shadow:                 "+(t.boxshadow?t.boxshadow:"none")+" ; ","overflow:                   "+(t.overflow?t.overflow:"visible")+" ; ","background                  : "+(t.background?t.background:"none")+" !important; ","opacity                     : "+(t.opacity?t.opacity:"1")+" !important; ","filter                      : alpha(opacity="+(t.opacity?100*t.opacity:"100")+") !important; ","-ms-filter                  : progid:DXImageTransform.Microsoft.Alpha(Opacity"+(t.opacity?t.opacity:"1")+") !important; ","-moz-opacity                : "+(t.opacity?t.opacity:"1")+" !important; ","-khtml-opacity              : "+(t.opacity?t.opacity:"1")+" !important; ","top                         : "+(t.top?t.top:"auto")+"; ","color-scheme                : light; ","right                       : "+(t.right?t.right:"auto")+"; ","bottom                      : "+(t.bottom?t.bottom:"auto")+"; ","left                        : "+(t.left?t.left:"auto")+"; ","position                    : "+(t.position?t.position:"absolute")+" !important; ","border                      : "+(t.border?t.border:"0")+" !important; ","min-height                  : "+(t.minheight?t.minheight:"auto")+"; ","min-width                   : "+(t.minwidth?t.minwidth:"auto")+"; ","max-height                  : "+(t.maxheight?t.maxheight:"none")+"; ","max-width                   : "+(t.maxwidth?t.maxwidth:"none")+"; ","padding                     : "+(t.padding?t.padding:"0")+" !important; ","margin                      : "+(t.margin?t.margin:"0")+" !important; ","-moz-transition-property    : "+(t.transition?t.transition:"none")+" !important; ","-webkit-transition-property : "+(t.transition?t.transition:"none")+" !important; ","-o-transition-property      : "+(t.transition?t.transition:"none")+" !important; ","transition-property         : "+(t.transition?t.transition:"none")+" !important; ","transform                   : "+(t.transform?t.transform:"none")+" !important; ","-webkit-transform           : "+(t.transform?t.transform:"none")+" !important; ","-ms-transform               : "+(t.transform?t.transform:"none")+" !important; ","width                       : "+(t.width?t.width:"auto")+" ; ","height                      : "+(t.height?t.height:"auto")+" ; ","display                     : "+(t.display?t.display:"block")+" !important; ","z-index                     : "+(t.zindex?t.zindex:"none")+" ; ","background-color            : "+(t.backgroundcolor?t.backgroundcolor:"transparent")+" !important; ","cursor                      : "+(t.cursor?t.cursor:"auto")+" !important; ","float                       : "+(t.float?t.float:"none")+" !important; ","border-radius               : "+(t.borderRadius?t.borderRadius:"unset")+"; "].join("").replace(/\s/gm,"")}},{key:"hasClass",value:function(t,e){if(null!==t)return t.classList?t.classList.contains(e):!!t.className.match(RegExp("(\\s|^)"+e+"(\\s|$)"))}},{key:"addClass",value:function(t,e){null!==t&&(t.classList?t.classList.add(e):this.hasClass(t,e)||(t.className+=" "+e))}},{key:"removeClass",value:function(t,e){null!==t&&(t.classList?t.classList.remove(e):this.hasClass(t,e)&&(t.className=t.className.replace(RegExp("(\\s|^)"+e+"(\\s|$)")," ")))}},{key:"makeScreenshot",value:function(t,e){var i=this;if("undefined"==typeof html2canvas){var n=document.getElementsByTagName("head")[0],s=document.createElement("script");s.setAttribute("type","text/javascript"),s.setAttribute("src",t),n.appendChild(s),s.onreadystatechange=s.onload=function(){i.makeScreenshot(t,e)}}else try{html2canvas(document.body).then((function(t){var i=new XMLHttpRequest;i.open("POST",e,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send("data="+encodeURIComponent(t.toDataURL()))}))}catch(t){console.log(t)}}},{key:"makeQuery",value:function(t){var e,i=[];for(e in t)""!=t[e]&&null!=t[e]&&t.hasOwnProperty(e)&&i.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return i.join("&")}},{key:"makeRequest",value:function(t,e,i){var n=new XMLHttpRequest,s=t+"?"+this.makeQuery(e.params);return n.open("GET",s,!0),n.onreadystatechange=function(){if(4==n.readyState&&0!=n.status)try{i(JSON.parse(n.responseText))}catch(t){throw t.message+="\n"+s+"\n["+n.status+"]\n"+n.responseText,t}},n.send(),{type:"xhr",req:n}}},{key:"insertCssRemoteFile",value:function(t){var e=null;if(t.id&&t.href&&null!==(e=document.getElementById(t.id)))e.href=t.href;else{var i=document.getElementsByTagName("head")[0],n=document.createDocumentFragment(),s=document.createElement("link");for(var r in s.rel="stylesheet",s.crossOrigin="*",t)s[r]=t[r];n.appendChild(s),i.appendChild(n)}}}])}())},3940:function(t,e,i){"use strict";i.d(e,{W:function(){return n}});var n={ResetStyle:"html,body,div,span,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,abbr,address,cite,code,del,dfn,em,img,ins,kbd,q,samp,small,strong,sub,sup,var,b,i,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,figcaption,figure,footer,header,hgroup,menu,nav,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}nav ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}a{margin:0;padding:0;font-size:100%;vertical-align:baseline;background:transparent}ins{background-color:#ff9;color:#000;text-decoration:none}mark{background-color:#ff9;color:#000;font-style:italic;font-weight:bold}del{text-decoration:line-through}abbr[title],dfn[title]{border-bottom:1px dotted;cursor:help}table{border-collapse:collapse;border-spacing:0}hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}input,select{vertical-align:middle}html,body{height: 100% !important;\n        min-height: 100% !important;\n        max-height: 100% !important;\n        width: 100% !important;\n        min-width: 100% !important;\n        max-width: 100% !important;}body{display: flex;flex-direction: column;background:transparent;font:13px Helvetica,Arial,sans-serif;position:relative}.clear{clear:both}.clearfix:after{content:'';display:block;height:0;clear:both;visibility:hidden}"}},2378:function(t,e,i){"use strict";i.d(e,{e:function(){return o}});var n=i(9530),s=i(3029),r=i(6213),o=(0,n.A)((function t(e,i){(0,s.A)(this,t),this.cont=new r.H((e||"lhc")+"_container_v2","border: 0 none !important; padding: 0 !important; margin: 0 !important; z-index: 999999999 !important; overflow : visible !important; min-width: 0 !important; min-height: 0 !important; max-width: none !important; max-height: none !important; width : auto !important; height : auto !important;"),this.cont.constructUI(),i&&document.getElementById(i).appendChild(this.cont.elmDom)||document.body.appendChild(this.cont.elmDom)}))},8726:function(t,e,i){"use strict";i.d(e,{Q:function(){return a}});var n=i(3029),s=i(9530),r=i(239),o=i(7912),a=function(){return(0,s.A)((function t(e){(0,n.A)(this,t),this.attributes={},this.width="350",this.height="520",this.bottom="30",this.right="30",this.units="px",this.originalCSS="",this.bottom_override=!1,this.is_invitation=!1,this.is_loaded=!1,this.cont=new r.V((e||"lhc")+"_widget_v2",o.q.getAbstractStyle({zindex:"2147483640",width:"95px",height:"95px",position:"fixed",display:"none",maxheight:"95px",maxwidth:"95px",minheight:"95px",minwidth:"95px"}),{role:"presentation",translate:"no"},"iframe"),this.isLoaded=!1,this.loadStatus={main:!1,css:!1,theme:!1,font_status:!1,font_preload:!0,css_preload:!0}}),[{key:"resize",value:function(){var t={height:this.height+this.units,"min-height":this.height+this.units,"max-height":this.height+this.units,width:this.width+this.units,"min-width":this.width+this.units,"max-width":this.width+this.units,bottom:"px"==this.units?this.bottom+"px":"0px"};"middle_right"!=this.attributes.position_placement&&"middle_left"!=this.attributes.position_placement||1!=this.bottom_override||(t.bottom="calc(50% + 20px)"),"middle_left"==this.attributes.position_placement||"bottom_left"==this.attributes.position_placement||"full_height_left"==this.attributes.position_placement?t.left="px"==this.units?this.right+"px":"0px":t.right="px"==this.units?this.right+"px":"0px","full_height_right"!=this.attributes.position_placement&&"full_height_left"!=this.attributes.position_placement||this.bottom_override||(t["min-height"]="100%",t["max-height"]="100%",t.height="100%",t.bottom="0px","full_height_left"==this.attributes.position_placement?t.left="0px":t.right="0px"),"embed"==this.attributes.mode&&(t["max-width"]="100%",t["min-width"]="100%",t.width="100%",t.position=(this.attributes.fscreen?"fixed":"relative")+"!important",t.bottom="auto",t.right="auto"),this.cont.massRestyle(t);var e=null;this.cont.elmDomDoc&&(e=this.cont.elmDomDoc.getElementById("root"))&&e&&("full_height_left"==this.attributes.position_placement||"full_height_right"==this.attributes.position_placement?e.classList.add("lhc-full-height"):e.classList.contains("lhc-full-height")&&e.classList.remove("lhc-full-height"),this.cont.elmDomDoc.getElementById("id-invitation-height")?e.classList.add("lhc-invitation-view"):e.classList.remove("lhc-invitation-view"))}},{key:"checkLoadStatus",value:function(){0==this.is_loaded&&1==this.loadStatus.css&&1==this.loadStatus.theme&&1==this.loadStatus.font_status&&1==this.loadStatus.font_preload&&1==this.loadStatus.css_preload&&(this.is_loaded=!0,this.loadApp())}},{key:"checkLoadApp",value:function(){this.attributes.wloaded.next(!0)}},{key:"makeContent",value:function(){if(this.cont.bodyId="chat-widget",this.cont.tmpl='<div id="root" class="container-fluid d-flex flex-column flex-grow-1 fade-in '+(!0===this.attributes.isMobile?"lhc-mobile":"lhc-desktop")+(this.attributes.fscreen?" lhc-fscreen":"")+("full_height_left"==this.attributes.position_placement||"full_height_right"==this.attributes.position_placement?" lhc-full-height":"")+'"></div>',null===this.cont.constructUIIframe("",this.attributes.staticJS.dir,this.attributes.staticJS.cl,this.attributes.hhtml,!this.attributes.viewport_enabled))return this.isLoaded=!0,null;this.cont.elmDom.className=!0===this.attributes.isMobile?"notranslate lhc-mobile lhc-mode-"+this.attributes.mode:"notranslate lhc-desktop lhc-mode-"+this.attributes.mode,this.attributes.cont_ss&&(this.originalCSS=this.cont.elmDom.style.cssText)}},{key:"init",value:function(t,e){var i=this;if(this.attributes=t,null===this.makeContent())return null;!this.attributes.userSession.getSessionAttributes().id&&e||this.bootstrap(),this.toggleVisibilityWrap=function(t){i.toggleVisibility(t)},t.widgetStatus.subscribe(this.toggleVisibilityWrap),this.monitorDimensionsWrap=function(t){i.monitorDimensions(t)},"px"==t.widgetDimesions.valueInternal.units&&0==this.attributes.isMobile&&"embed"!=this.attributes.mode&&(this.screenAttributesUpdate=function(){if(!0!==i.is_invitation||!1!==t.full_invitation){var e=i.cont.elmDomDoc.body,n=i.cont.elmDomDoc.documentElement,s=Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight,t.widgetDimesions.value.height);window.innerHeight<s+60+(!0===i.attributes.clinst?70:0)?t.widgetDimesions.nextPropertySilent("height_soverride",window.innerHeight-60-(!0===i.attributes.clinst?70:0)):t.widgetDimesions.nextPropertySilent("height_soverride",null),window.innerWidth<t.widgetDimesions.valueInternal.width+60?t.widgetDimesions.nextPropertySilent("width_soverride",window.innerWidth-60):t.widgetDimesions.nextPropertySilent("width_soverride",null),t.widgetDimesions.callListeners()}},this.screenAttributesUpdate(),window.addEventListener("resize",this.screenAttributesUpdate)),t.widgetDimesions.subscribe(this.monitorDimensionsWrap),t.eventEmitter.addListener("reloadWidget",(function(){i.isLoaded=!1,i.makeContent(),t.eventEmitter.emitEvent("widgetHeight",[{reset_height:!0}]),i.toggleVisibility(t.widgetStatus.valueInternal)}))}},{key:"resizeTrigger",value:function(){this.screenAttributesUpdate&&this.screenAttributesUpdate()}},{key:"bootstrap",value:function(){var t=this;!0!==this.isLoaded&&(this.isLoaded=!0,this.attributes.staticJS.fontCSS&&this.cont.insertCssRemoteFile({rel:"stylesheet",crossOrigin:"anonymous",href:this.attributes.staticJS.fontCSS}),this.attributes.staticJS.font_status&&this.cont.insertCssRemoteFile({onload:function(){t.loadStatus.font_status=!0,t.checkLoadStatus()},as:"font",rel:"preload",type:"font/woff",crossOrigin:"anonymous",href:this.attributes.staticJS.font_status}),this.attributes.staticJS.font_preload&&(this.loadStatus.font_preload=!1,this.attributes.staticJS.font_preload.forEach((function(e){t.cont.insertCssRemoteFile({onload:function(){t.loadStatus.font_preload=!0,t.checkLoadStatus()},as:"font",rel:"preload",type:"font/woff",crossOrigin:"anonymous",href:e})}))),this.attributes.staticJS.css_preload&&(this.loadStatus.css_preload=!1,this.attributes.staticJS.css_preload.forEach((function(e){t.cont.insertCssRemoteFile({onload:function(){t.loadStatus.css_preload=!0,t.checkLoadStatus()},as:"style",crossOrigin:null,rel:"preload",href:e})}))),this.attributes.theme?(this.loadStatus.theme=!1,this.cont.insertCssRemoteFile({onload:function(){t.loadStatus.theme=!0,t.checkLoadStatus()},crossOrigin:"anonymous",href:this.attributes.LHC_API.args.lhc_base_url+"/widgetrestapi/theme/"+this.attributes.theme+"?v="+this.attributes.theme_v},!0)):this.loadStatus.theme=!0,this.cont.insertCssRemoteFile({onload:function(){t.loadStatus.css=!0,t.checkLoadStatus()},crossOrigin:"anonymous",href:this.attributes.staticJS.widget_css},!0),1==this.attributes.isMobile&&"widget"==this.attributes.mode&&this.cont.insertCssRemoteFile({crossOrigin:"anonymous",href:this.attributes.staticJS.widget_mobile_css}),"embed"==this.attributes.mode&&(this.cont.insertCssRemoteFile({crossOrigin:"anonymous",href:this.attributes.staticJS.embed_css}),this.attributes.staticJS.page_css&&o.q.insertCssRemoteFile({crossOrigin:"anonymous",id:"lhc-theme-page",href:this.attributes.LHC_API.args.lhc_base_url+"/widgetrestapi/themepage/"+this.attributes.theme+"?v="+this.attributes.theme_v})))}},{key:"loadApp",value:function(){var t=this;this.cont.insertJSFile(this.attributes.staticJS.vendor,!1,(function(){t.cont.insertJSFile(t.attributes.staticJS.app,!1,(function(){t.loadStatus.main=!0,t.checkLoadApp()}),{scope:t.attributes.prefixLowercase})}),{scope:this.attributes.prefixLowercase}),this.attributes.staticJS.ex_js&&this.attributes.staticJS.ex_js.length>0&&this.attributes.staticJS.ex_js.forEach((function(e){t.cont.insertJSFile(e,!1)}))}},{key:"toggleVisibility",value:function(t){0==t?this.hide():this.show()}},{key:"monitorDimensions",value:function(t){this.width=t.width_override||t.width_soverride||t.width,this.height=t.height_soverride||t.height_override||t.height,this.bottom=t.bottom_override?t.bottom_override+(t.wbottom?t.wbottom:0):30+(!0===this.attributes.clinst?70:0)+(t.wbottom?t.wbottom:0),this.right=t.right_override?t.right_override+(t.wright_inv?t.wright_inv:0):30+(t.wright?t.wright:0),this.units=t.width_override||t.height_override||t.bottom_override||t.right_override?"px":t.units,this.resize(),this.bottom_override=!!t.bottom_override}},{key:"hide",value:function(){this.cont.hide()}},{key:"widgetRendered",value:function(){this.attributes.cont_ss&&(!1===this.is_invitation||!0===this.is_invitation&&this.attributes.full_invitation)&&(this.cont.elmDom.style.cssText+=this.attributes.cont_ss)}},{key:"hideInvitation",value:function(){this.is_invitation=!1,this.attributes.cont_ss&&(this.cont.elmDom.style.cssText+=this.attributes.cont_ss)}},{key:"showInvitation",value:function(){this.is_invitation=!0,this.attributes.cont_ss&&!this.attributes.full_invitation&&(this.cont.elmDom.style.cssText=this.originalCSS),this.show()}},{key:"show",value:function(){!1===this.isLoaded&&this.bootstrap(),this.cont.show()}}])}()},4310:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{O:function(){return mainWidgetPopup}});var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3029),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9530),mainWidgetPopup=function(){function mainWidgetPopup(){(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.A)(this,mainWidgetPopup),this.attributes={},this.width=null,this.height=null,this.units="px",this.freeup()}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__.A)(mainWidgetPopup,[{key:"freeup",value:function(){this.cont={}}},{key:"parseOptions",value:function(){var t=new Array,e="";if(void 0!==this.attributes){if(void 0!==this.attributes.LHCChatOptions.attr&&this.attributes.LHCChatOptions.attr.length>0)for(var i in this.attributes.LHCChatOptions.attr)void 0!==this.attributes.LHCChatOptions.attr[i]&&void 0!==this.attributes.LHCChatOptions.attr[i].type&&t.push("name[]="+encodeURIComponent(this.attributes.LHCChatOptions.attr[i].name)+"&encattr[]="+(void 0!==this.attributes.LHCChatOptions.attr[i].encrypted&&1==this.attributes.LHCChatOptions.attr[i].encrypted?"t":"f")+"&value[]="+encodeURIComponent(this.attributes.LHCChatOptions.attr[i].value)+"&type[]="+encodeURIComponent(this.attributes.LHCChatOptions.attr[i].type)+"&size[]="+encodeURIComponent(this.attributes.LHCChatOptions.attr[i].size)+"&req[]="+(void 0!==this.attributes.LHCChatOptions.attr[i].req&&1==this.attributes.LHCChatOptions.attr[i].req?"t":"f")+"&sh[]="+(void 0===this.attributes.LHCChatOptions.attr[i].show||"on"!=this.attributes.LHCChatOptions.attr[i].show&&"off"!=this.attributes.LHCChatOptions.attr[i].show?"b":this.attributes.LHCChatOptions.attr[i].show));if(void 0!==this.attributes.LHCChatOptions.attr_prefill&&this.attributes.LHCChatOptions.attr_prefill.length>0)for(var i in this.attributes.LHCChatOptions.attr_prefill)void 0!==this.attributes.LHCChatOptions.attr_prefill[i]&&void 0!==this.attributes.LHCChatOptions.attr_prefill[i].name&&t.push("prefill["+this.attributes.LHCChatOptions.attr_prefill[i].name+"]="+encodeURIComponent(this.attributes.LHCChatOptions.attr_prefill[i].value));if(void 0!==this.attributes.LHCChatOptions.attr_prefill_admin&&this.attributes.LHCChatOptions.attr_prefill_admin.length>0)for(var i in this.attributes.LHCChatOptions.attr_prefill_admin)void 0!==this.attributes.LHCChatOptions.attr_prefill_admin[i]&&t.push("value_items_admin["+this.attributes.LHCChatOptions.attr_prefill_admin[i].index+"]="+encodeURIComponent(this.attributes.LHCChatOptions.attr_prefill_admin[i].value));t.length>0&&(e="&"+t.join("&"))}return e}},{key:"init",value:function(t,e,i){if(this.cont.elementReferrerPopup&&!1===this.cont.elementReferrerPopup.closed)void 0!==i&&"undefined"!==i.event&&i.event.preventDefault(),this.cont.elementReferrerPopup.focus();else{this.attributes=t;var n={static_chat:this.attributes.userSession.getSessionAttributes()},s="";n.static_chat.id&&n.static_chat.hash&&(s=s+"/(id)/"+n.static_chat.id+"/(hash)/"+n.static_chat.hash),null!==this.attributes.theme&&(s=s+"/(theme)/"+this.attributes.theme),null!==n.static_chat.vid&&!0===this.attributes.storageHandler.cookieEnabled&&(s=s+"/(vid)/"+n.static_chat.vid),this.attributes.isMobile&&(s+="/(mobile)/true"),this.attributes.department.length>0&&(s=s+"/(department)/"+this.attributes.department.join("/")),""!=this.attributes.identifier&&(s=s+"/(identifier)/"+this.attributes.identifier),this.attributes.operator&&(s=s+"/(operator)/"+this.attributes.operator),this.attributes.survey&&(s=s+"/(survey)/"+this.attributes.survey),this.attributes.bot_id&&(s=s+"/(bot)/"+this.attributes.bot_id),this.attributes.trigger_id&&(s=s+"/(trigger)/"+this.attributes.trigger_id),this.attributes.subject_id&&(s=s+"/(subject)/"+this.attributes.subject_id),this.attributes.priority&&(s=s+"/(priority)/"+this.attributes.priority),"lhc"!=this.attributes.prefixLowercase&&(s=s+"/(scope)/"+this.attributes.prefixLowercase),s=s+"/(sound)/"+(1==this.attributes.toggleSound.value?1:0),this.attributes.proactive.invitation&&(s=s+"/(inv)/"+this.attributes.proactive.invitation,"popup"==this.attributes.mode&&this.attributes.storageHandler.setSessionStorage(this.attributes.prefixStorage+"_invt",1));var r=this.attributes.storageHandler.getLocalStorage(this.attributes.prefixStorage+"_dfs");r&&(s=s+"/(fs)/"+parseInt(r)),!0===this.attributes.leaveMessage&&(s+="/(leaveamessage)/true"),s=null!==this.attributes.userSession.getSessionReferrer()&&""!=this.attributes.userSession.getSessionReferrer()?s+"?ses_ref="+this.attributes.userSession.getSessionReferrer()+this.parseOptions():s+"?"+this.parseOptions();var o=void 0!==window.screenLeft?window.screenLeft:window.screenX,a=void 0!==window.screenTop?window.screenTop:window.screenY,u=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,l=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,c=u/window.screen.availWidth,h=(u-parseInt(this.attributes.popupDimesnions.pwidth))/2/c+o,d=(l-parseInt(this.attributes.popupDimesnions.pheight))/2/c+a,p="scrollbars=yes,menubar=1,resizable=1,width="+this.attributes.popupDimesnions.pwidth+",height="+this.attributes.popupDimesnions.pheight+",top="+d+",left="+h,m=window.open("",this.attributes.prefixStorage+"_popup_v2",p),f=!1,_=!1;try{!m||m.closed||void 0===m.closed||"about:blank"===m.location.href?(m=this.cont.elementReferrerPopup=window.open(this.attributes.base_url+this.attributes.lang+"chat/start"+s,this.attributes.prefixStorage+"_popup_v2",p),_=!0):f=!0}catch(t){f=!0}if(!m||m.closed||void 0===m.closed)try{this.attributes.viewHandler.cont.shadowRoot.getElementById("status-icon").href=this.attributes.base_url+this.attributes.lang+"chat/start"+s,this.attributes.viewHandler.cont.shadowRoot.getElementById("status-icon").click()}catch(t){alert("You have disabled popups!")}else 1==_?(void 0!==e&&!1===this.attributes.kcw&&e.sendChildEvent("endedChat",[{sender:"endButton"}]),void 0!==i&&"undefined"!==i.event&&i.event.preventDefault()):!0===f&&(this.cont.elementReferrerPopup=m,m.focus(),void 0!==i&&"undefined"!==i.event&&i.event.preventDefault())}}},{key:"getAttributesToSent",value:function getAttributesToSent(){var js_vars=this.attributes.jsVars.value,js_args={},currentVar=null;for(var index in js_vars)try{currentVar=eval(js_vars[index].var),null!=currentVar&&""!==currentVar&&(js_args[js_vars[index].id]=currentVar)}catch(t){}return js_args}},{key:"sendParameters",value:function(t){this.cont.elementReferrerPopup&&!1===this.cont.elementReferrerPopup.closed&&t.sendChildEvent("jsVars",[this.getAttributesToSent()])}}])}()},376:function(t,e,i){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}i.d(e,{P:function(){return f}});var s=i(3029),r=i(9530),o=i(388),a=i(3954),u=i(5501),l=i(3662);function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(c=function(){return!!t})()}function h(t){var e="function"==typeof Map?new Map:void 0;return h=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return function(t,e,i){if(c())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var s=new(t.bind.apply(t,n));return i&&(0,l.A)(s,i.prototype),s}(t,arguments,(0,a.A)(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),(0,l.A)(i,t)},h(t)}i(3940);var d=i(7912);function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(p=function(){return!!t})()}var m=function(t){function e(){var t,i,n,r;return(0,s.A)(this,e),i=this,n=e,n=(0,a.A)(n),(t=(0,o.A)(i,p()?Reflect.construct(n,[],(0,a.A)(i).constructor):n.apply(i,r))).attachShadow({mode:"open"}),t._ee=null,t}return(0,u.A)(e,t),(0,r.A)(e,[{key:"ee",set:function(t){this._ee=t}},{key:"dispatchEventStatus",value:function(t,e,i){this._ee&&this._ee(t,e,i)}},{key:"show",value:function(){this.style.setProperty("display","block","important"),this.resize()}},{key:"hide",value:function(){this.style.setProperty("display","none","important")}},{key:"connectedCallback",value:function(){var t=document.createElement("style");t.textContent="html,body,div,span,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,abbr,address,cite,code,del,dfn,em,img,ins,kbd,q,samp,small,strong,sub,sup,var,b,i,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,figcaption,figure,footer,header,hgroup,menu,nav,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}nav ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,a{margin:0;padding:0;font-size:100%;vertical-align:baseline;background:transparent}ins{background-color:#ff9;color:#000;text-decoration:none}mark{background-color:#ff9;color:#000;font-style:italic;font-weight:bold}del{text-decoration:line-through}abbr[title],dfn[title]{border-bottom:1px dotted;cursor:help}table{border-collapse:collapse;border-spacing:0}hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}input,select{vertical-align:middle}:root{cursor : pointer; height: 100% !important;min-height: 100% !important;max-height: 100% !important;width: 100% !important;min-width: 100% !important;max-width: 100% !important;}body{display: flex;flex-direction: column;background:transparent;font:13px Helvetica,Arial,sans-serif;position:relative}.clear{clear:both}.clearfix:after{content:'';display:block;height:0;clear:both;visibility:hidden}",this.style="-webkit-tap-highlight-color: transparent;-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;    user-select: none;outline: none;  box-shadow: none;user-select:none;cursor:pointer;box-shadow: none; overflow: visible; color-scheme: light;    min-height: 95px; min-width: 95px; max-height: 95px; max-width: 95px; width: 95px; height: 95px; z-index: 2147483640;    border-radius: unset; outline: none !important; visibility: visible !important; resize: none !important; background: none transparent !important;    opacity: 1 !important; position: fixed !important; border: 0px !important; padding: 0px !important; margin: 0px !important;    float: none !important;display: none !important;transition-property: transform !important;transition-timing-function: cubic-bezier(0.165, 0.84, 0.44, 1) !important;    transform: translate3d(0px,"+this.getAttribute("vertical-y")+"px,0px) !important;transition-duration: 800ms !important;"+("top"==this.getAttribute("vertical-placement")?"bottom:auto;":"top:auto;")+("right"==this.getAttribute("horizontal-placement")?"left:auto;":"right:auto;")+this.getAttribute("horizontal-placement")+":"+this.getAttribute("horizontal-space")+"px;"+this.getAttribute("vertical-placement")+":"+this.getAttribute("vertical-space")+this.getAttribute("vertical-unit"),this.shadowRoot.appendChild(t)}},{key:"massRestyle",value:function(t){for(var e in t)t.hasOwnProperty(e)&&this.restyle(e,t[e])}},{key:"restyle",value:function(t,e){this.style[t]=e}},{key:"setContent",value:function(t){var e=document.createElement("div");e.innerHTML=t,this.shadowRoot.appendChild(e.firstChild)}},{key:"resize",value:function(){var t,e,i=this.getBoundingClientRect();if(0!=i.height){var n=parseInt(this.getAttribute("vertical-space"));if(i.top-n<0){var s=window.getComputedStyle(this),r=new DOMMatrixReadOnly(s.transform);e=r.m42,t=r.m41,this.style.transform="translate3d("+t+"px, "+(e+Math.abs(i.top-n))+"px, 0px)",this.dispatchEventStatus("move_finish",{x:0,y:e-(i.bottom+n-(window.innerHeight||document.documentElement.clientHeight)),bottom:this.style.bottom,top:this.style.top,left:this.style.left,right:this.style.right})}else if(i.bottom+n>(window.innerHeight||document.documentElement.clientHeight)){var o=window.getComputedStyle(this),a=new DOMMatrixReadOnly(o.transform);e=a.m42,t=a.m41,this.style.transform="translate3d("+t+"px, "+(e-(i.bottom+n-(window.innerHeight||document.documentElement.clientHeight)))+"px, 0px)",this.dispatchEventStatus("move_finish",{x:0,y:e-(i.bottom+n-(window.innerHeight||document.documentElement.clientHeight)),bottom:this.style.bottom,top:this.style.top,left:this.style.left,right:this.style.right})}}}},{key:"attachEvents",value:function(){var t,e,i,n,s,r=this,o=!1,a=!1,u="true"===this.getAttribute("drag-enabled");try{"px"===this.getAttribute("vertical-unit")&&(window.addEventListener("resize",l,!1),screen.orientation.addEventListener("change",l))}catch(t){console.log(t)}function l(){r.resize()}function c(t){!0===o&&(a=!0),document.removeEventListener("mousemove",h,!1),document.removeEventListener("mouseup",c,!1),!0===o&&p(t,!1),o=!1}function h(s){o=!0;var a=t+s.pageX-i,u=e+s.pageY-n;r.style.transform="translate3d("+a+"px, "+u+"px, 0px)",r.dispatchEventStatus("move",{x:a,y:u,bottom:r.style.bottom,top:r.style.top,left:r.style.left,right:r.style.right})}function d(t){this.removeEventListener("touchmove",m,!1),window.removeEventListener("touchend",d,!1),!0===o&&p(t,!0),o=!1}function p(i,o){var a=r.getBoundingClientRect(),u=!1,l=!1,c=!1;a.top-parseInt(r.getAttribute("vertical-space"))<0?("auto"===r.style.top&&(r.style.top=r.getAttribute("vertical-space")+r.getAttribute("vertical-unit"),r.style.bottom="auto",l=!0),u=!0):a.bottom+parseInt(r.getAttribute("vertical-space"))>(window.innerHeight||document.documentElement.clientHeight)&&("auto"===r.style.bottom&&(r.style.top="auto",r.style.bottom=r.getAttribute("vertical-space")+r.getAttribute("vertical-unit"),c=!0),u=!0);var h=e+(!1===o?i.pageY:s.pageY)-n,d=window.getComputedStyle(r),p=new DOMMatrixReadOnly(d.transform);t=p.m41,!0===l?h=a.top-parseInt(r.getAttribute("vertical-space")):!0===c&&(h=-1*((window.innerHeight||document.documentElement.clientHeight)-a.top-a.height-parseInt(r.getAttribute("vertical-space"))));var m=!0===u?0:e+(!1===o?i.pageY:s.pageY)-n;!1===u&&(a.top+a.height/2>(window.innerHeight||document.documentElement.clientHeight)/2?"auto"===r.style.bottom&&(r.style.top="auto",r.style.bottom=r.getAttribute("vertical-space")+r.getAttribute("vertical-unit"),h=m=-1*((window.innerHeight||document.documentElement.clientHeight)-a.top-a.height-parseInt(r.getAttribute("vertical-space")))):"auto"===r.style.top&&(r.style.top=r.getAttribute("vertical-space")+r.getAttribute("vertical-unit"),r.style.bottom="auto",h=m=a.top-parseInt(r.getAttribute("vertical-space"))));var f,_="auto"==r.style.left;a.left+a.width/2>(window.innerWidth||document.documentElement.clientWidth)/2?(!1===_&&(r.style.right=r.getAttribute("horizontal-space")+"px",r.style.left="auto"),f=!_):(!0===_&&(r.style.left=r.getAttribute("horizontal-space")+"px",r.style.right="auto"),f=_),f&&(t=_?a.left-parseInt(r.getAttribute("horizontal-space")):-1*(document.documentElement.clientWidth-a.left-a.width-parseInt(r.getAttribute("horizontal-space")))),r.style.transform="translate3d("+t+"px, "+h+"px, 0px)",r.dispatchEventStatus("move",{x:t,y:h,bottom:r.style.bottom,top:r.style.top,left:r.style.left,right:r.style.right}),setTimeout((function(){r.style.transitionDuration="800ms",r.style.transform="translate3d(0px, "+m+"px, 0px)",r.dispatchEventStatus("move_finish",{x:0,y:m,bottom:r.style.bottom,top:r.style.top,left:r.style.left,right:r.style.right})}),20)}function m(a){a.preventDefault(),o=!0;var u=a.touches,l=t+u[0].pageX-i,c=e+u[0].pageY-n;this.style.transform="translate3d("+l+"px, "+c+"px, 0px)",s=u[0],r.dispatchEventStatus("move",{x:l,y:c,bottom:r.style.bottom,top:r.style.top,left:r.style.left,right:r.style.right})}!0===u&&"px"===this.getAttribute("vertical-unit")&&this.addEventListener("mousedown",(function(s){s.preventDefault(),this.style.transitionDuration="0ms",i=s.pageX,n=s.pageY;var r=window.getComputedStyle(this),o=new DOMMatrixReadOnly(r.transform);e=o.m42,t=o.m41,document.addEventListener("mousemove",h,!1),document.addEventListener("mouseup",c,!1)}),!1),!0===u&&"px"===this.getAttribute("vertical-unit")&&this.addEventListener("touchstart",(function(s){this.style.transitionDuration="0ms";var r=s.touches;i=r[0].pageX,n=r[0].pageY;var o=window.getComputedStyle(this),a=new DOMMatrixReadOnly(o.transform);e=a.m42,t=a.m41,this.addEventListener("touchmove",m,!1),window.addEventListener("touchend",d,!1)}),!1),this.addEventListener("click",(function(t){!0===a?(a=!1,this.dispatchEventStatus("click",{status:!1},t)):this.dispatchEventStatus("click",{status:!0},t)}))}},{key:"insertCssRemoteFile",value:function(t){var e=null;if(t.id&&t.href&&null!==(e=this.shadowRoot.getElementById(t.id)))e.href=t.href;else{var i=this.shadowRoot,n=document.createElement("link");for(var s in n.rel="stylesheet",n.crossOrigin="*",t)n[s]=t[s];i.appendChild(n)}}}])}(h(HTMLElement)),f=function(){return(0,r.A)((function t(e,i){var r=this;(0,s.A)(this,t),this.attributes={},this.controlMode=!1,this.showDelay=null,this.statusDelayProcessed=!1;var o=(e||"lhc")+"-"+i+"-status-widget";customElements.get(o)||customElements.define(o,m),this.cont=document.createElement(o),Object.entries({id:(e||"lhc")+"_status_widget_v2","vertical-placement":"bottom","horizontal-placement":"right","horizontal-space":"0","vertical-space":"0","vertical-unit":"px","vertical-y":0,"drag-enabled":!1,role:"presentation",translate:"no"}).forEach((function(t){var e,i,s=(i=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,s,r,o,a=[],u=!0,l=!1;try{if(r=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;u=!1}else for(;!(u=(n=r.call(i)).done)&&(a.push(n.value),a.length!==e);u=!0);}catch(t){l=!0,s=t}finally{try{if(!u&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,i)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=s[0],a=s[1];return r.cont.setAttribute(o,a)})),this.cont.style="display: none",this.loadStatus={main:!1,theme:!1,font:!0,widget:!1,shidden:!1},this.lload=!1,this.unread_counter=0}),[{key:"toggleOfflineIcon",value:function(t){var e=this.cont.shadowRoot.getElementById("status-icon");t?(this.attributes.leaveMessage||this.show(),d.q.removeClass(e,"offline-status")):this.attributes.leaveMessage?d.q.addClass(e,"offline-status"):this.hide()}},{key:"checkLoadStatus",value:function(){if(1==this.loadStatus.theme&&1==this.loadStatus.main&&1==this.loadStatus.font&&1==this.loadStatus.widget&&0==this.loadStatus.shidden){var t=this.cont.shadowRoot.getElementById("lhc_status_container");t&&(t.style.display=""),this.attributes.sload.next(!0)}}},{key:"init",value:function(t,e){var i=this;this.attributes=t;var n={top:"auto",left:"auto",bottom:10+this.attributes.widgetDimesions.value.sbottom+"px",right:10+this.attributes.widgetDimesions.value.sright+"px"};if(this.cont.setAttribute("vertical-space",10+this.attributes.widgetDimesions.value.sbottom),this.cont.setAttribute("horizontal-space",10+this.attributes.widgetDimesions.value.sright),"bottom_left"==t.position_placement||"full_height_left"==t.position_placement?n={right:"auto",top:"auto",bottom:10+this.attributes.widgetDimesions.value.sbottom+"px",left:10+this.attributes.widgetDimesions.value.sright+"px"}:"middle_right"==t.position_placement?(n={left:"auto",top:"auto",bottom:"calc(50% - 45px)",right:10+this.attributes.widgetDimesions.value.sright+"px"},this.cont.setAttribute("vertical-unit","%")):"middle_left"==t.position_placement&&(n={right:"auto",top:"auto",bottom:"calc(50% - 45px)",left:10+this.attributes.widgetDimesions.value.sright+"px"},this.cont.setAttribute("vertical-unit","%")),this.cont.setAttribute("drag-enabled",t.drag_enabled),!0===t.drag_enabled){var s=t.storageHandler.getSessionStorage(this.attributes.prefixStorage+"_pos");if(null!==s){var r=JSON.parse(s);n.bottom=r.bottom,n.top=r.top,n.left=r.left,n.right=r.right,n.transform="translateY("+r.y+"px)",t.status_position.next(r)}}this.cont.massRestyle(n),this.cont.setContent('<div id="lhc_status_container" class="notranslate '+(!0===this.attributes.isMobile?"lhc-mobile":"lhc-desktop")+'" style="display: none;pointer-events: none;""><i style="display: none" title="New messages" id="unread-msg-number">!</i><a aria-label="Show or hide widget" href="#" tabindex="0" target="_blank" id="status-icon" class="offline-status"></a></div>'),this.cont.className=!0===this.attributes.isMobile?"notranslate lhc-mobile":"notranslate lhc-desktop",this.cont.attachEvents();var o=this;if(this.lload=!!e,!0===this.lload?this.loadStatus.widget=!0:t.wloaded.subscribe((function(t){t&&(i.loadStatus.widget=!0,i.checkLoadStatus())})),t.shidden.subscribe((function(t){t?i.attributes.userSession.getSessionAttributes().id||1==i.attributes.widgetStatus.value||(i.loadStatus.shidden=!0,i.hide()):(i.loadStatus.shidden=!1,i.checkLoadStatus(),i.show())})),this.cont.ee=function(e,i,n){"click"==e&&1==i.status?(!1===t.onlineStatus.value&&t.eventEmitter.emitEvent("offlineClickAction"),!1===t.onlineStatus.value&&null!==t.offline_redirect?(document.location=t.offline_redirect,n.preventDefault()):1==o.controlMode?(t.eventEmitter.emitEvent("closeWidget",[{sender:"closeButton",mode:"control"}]),n.preventDefault()):(t.eventEmitter.emitEvent("showWidget",[{event:n}]),t.eventEmitter.emitEvent("clickAction"))):"move_finish"==e&&(t.storageHandler.setSessionStorage(t.prefixStorage+"_pos",JSON.stringify(i)),t.status_position.next(i))},this.attributes.staticJS.fontCSS&&this.cont.insertCssRemoteFile({crossOrigin:"anonymous",href:this.attributes.staticJS.fontCSS}),this.attributes.staticJS.font_status){var a=document.getElementsByTagName("head")[0],u=document.createDocumentFragment(),l=d.q.initElement(document,"style",{type:"text/css"}),c=document.createTextNode("@font-face {\n            font-family: 'MaterialIconsLHC';\n            font-style: normal;\n            font-weight: 400;\n            src: url('"+this.attributes.staticJS.font_status.replace(".woff2",".eot")+"');\n            src: url('"+this.attributes.staticJS.font_status+"') format('woff2'), url('"+this.attributes.staticJS.font_status.replace(".woff2",".woff")+"') format('woff'), url('"+this.attributes.staticJS.font_status.replace(".woff2",".ttf")+"') format('truetype');\n            font-display: swap\n            }");u.appendChild(l),a.appendChild(u),l.styleSheet?l.styleSheet.cssText=c.nodeValue:l.appendChild(c),d.q.insertCssRemoteFile({onload:function(){i.loadStatus.font=!0,i.checkLoadStatus()},as:"font",rel:"preload",type:"font/woff",crossOrigin:"anonymous",href:this.attributes.staticJS.font_status})}this.attributes.theme?(this.loadStatus.theme=!1,this.cont.insertCssRemoteFile({onload:function(){i.loadStatus.theme=!0,i.checkLoadStatus()},id:"lhc-theme-status",crossOrigin:"anonymous",href:this.attributes.LHC_API.args.lhc_base_url+"/widgetrestapi/themestatus/"+this.attributes.theme+"?v="+this.attributes.theme_v},!0)):this.loadStatus.theme=!0,this.cont.insertCssRemoteFile({onload:function(){i.loadStatus.main=!0,i.checkLoadStatus()},crossOrigin:"anonymous",href:this.attributes.staticJS.status_css}),this.attributes.staticJS.page_css&&d.q.insertCssRemoteFile({crossOrigin:"anonymous",id:"lhc-theme-page",href:this.attributes.LHC_API.args.lhc_base_url+"/widgetrestapi/themepage/"+this.attributes.theme+"?v="+this.attributes.theme_v}),t.onlineStatus.subscribe((function(t){return i.toggleOfflineIcon(t)})),t.widgetStatus.subscribe((function(t){if("popup"!==i.attributes.mode){var e=i.attributes.userSession.getSessionAttributes();1==t||!i.attributes.leaveMessage&&0==i.attributes.onlineStatus.value&&!e.id?i.hide():i.show()}})),"popup"===this.attributes.mode&&this.show();var h=t.storageHandler.getSessionStorage(this.attributes.prefixStorage+"_unr");t.eventEmitter.addListener("unread_message",(function(t){var e=t&&t.otm;e&&(e=parseInt(e),e+=i.unread_counter),i.attributes.unread_counter.next(e),i.showUnreadIndicator(e)})),null!==h&&(t.eventEmitter.emitEvent("unread_message",[{otm:h,init:!0}]),null===h||isNaN(h)||(this.unread_counter=parseInt(h))),t.eventEmitter.addListener("reloadWidget",(function(){i.attributes.theme>0&&i.cont.insertCssRemoteFile({crossOrigin:"anonymous",id:"lhc-theme-status",href:i.attributes.LHC_API.args.lhc_base_url+"/widgetrestapi/themestatus/"+i.attributes.theme+"?v="+Date.now()},!0),d.q.insertCssRemoteFile({crossOrigin:"anonymous",id:"lhc-theme-page",href:i.attributes.LHC_API.args.lhc_base_url+"/widgetrestapi/themepage/"+i.attributes.theme+"?v="+Date.now()})}))}},{key:"hide",value:function(){if(this.removeUnreadIndicator(),!0===this.attributes.clinst&&0==this.attributes.isMobile){var t=this.attributes.userSession.getSessionAttributes();if((1==this.attributes.leaveMessage||1==this.attributes.onlineStatus.value||t.id)&&(("api"!=this.attributes.position||"api"==this.attributes.position&&!0!==this.attributes.hide_status&&(t.id&&t.hash||1==this.attributes.widgetStatus.value))&&(!0!==this.attributes.hide_status||t.id&&t.hash)&&this.cont.show(),!0!==this.attributes.hide_status||t.id&&t.hash||1==this.attributes.widgetStatus.value)){if(1==this.attributes.widgetStatus.value){this.controlMode=!0;var e=this.cont.shadowRoot.getElementById("status-icon");d.q.addClass(e,"close-status")}return}}clearTimeout(this.showDelay),this.statusDelayProcessed=!0,this.cont.hide()}},{key:"showUnreadIndicator",value:function(t){var e=t||"!",i=this.cont.shadowRoot.getElementById("lhc_status_container");d.q.addClass(i,"has-uread-message");var n=this.cont.shadowRoot.getElementById("unread-msg-number");n&&(n.innerText=e),this.attributes.storageHandler&&this.attributes.storageHandler.setSessionStorage(this.attributes.prefixStorage+"_unr",e)}},{key:"removeUnreadIndicator",value:function(){var t=this.cont.shadowRoot.getElementById("lhc_status_container");d.q.removeClass(t,"has-uread-message"),this.attributes.storageHandler&&this.attributes.storageHandler.removeSessionStorage(this.attributes.prefixStorage+"_unr"),this.attributes.eventEmitter.emitEvent("remove_unread_indicator",[]),this.attributes.unread_counter.next(0),this.unread_counter=0}},{key:"show",value:function(){var t=this;if(!1===this.attributes.hideOffline){var e=this.attributes.userSession.getSessionAttributes();if(!0===this.attributes.clinst&&0==this.attributes.isMobile&&1!=this.attributes.widgetStatus.value){var i=this.cont.shadowRoot.getElementById("status-icon");d.q.removeClass(i,"close-status"),this.controlMode=!1}if("api"!=this.attributes.position||"api"==this.attributes.position&&!0!==this.attributes.hide_status&&e.id&&e.hash){clearTimeout(this.showDelay);var n=this.attributes.userSession.getSessionAttributes();this.showDelay=setTimeout((function(){t.cont.show(),t.statusDelayProcessed=!0}),1==this.statusDelayProcessed||n.id&&n.hash?0:this.attributes.status_delay)}else!0===this.attributes.clinst&&1!=this.attributes.widgetStatus.value&&this.cont.hide()}else this.cont.hide()}}])}()},4551:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{_:function(){return chatEventsHandler}});var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3029),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9530),chatEventsHandler=function(){function chatEventsHandler(t){(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.A)(this,chatEventsHandler),this.attributes=t}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__.A)(chatEventsHandler,[{key:"getJSVarsValues",value:function getJSVarsValues(jsVars){var js_args={};if(jsVars.length>0){var currentVar=null;for(var index in jsVars)try{currentVar=eval("window."+jsVars[index].var),null!=currentVar&&""!==currentVar&&(js_args[jsVars[index].id]=currentVar)}catch(t){}return js_args}return js_args}},{key:"getInitAttributes",value:function(){var t={onlineStatus:this.attributes.onlineStatus.value,toggleSound:this.attributes.toggleSound.value,widgetStatus:this.attributes.widgetStatus.value,jsVars:this.getJSVarsValues(this.attributes.jsVars.value),isMobile:this.attributes.isMobile,department:this.attributes.department,product:this.attributes.product,theme:this.attributes.theme,theme_v:this.attributes.theme_v,base_url:this.attributes.base_url,mode:this.attributes.mode,captcha:this.attributes.captcha,staticJS:this.attributes.staticJS,static_chat:this.attributes.userSession.getSessionAttributes(),domain_lhc:this.attributes.domain_lhc,leave_message:this.attributes.leaveMessage,scope_prefix:this.attributes.prefixLowercase,position_placement:this.attributes.position_placement,position_placement_original:this.attributes.position_placement_original};if(1==this.attributes.fresh&&(t.static_chat.id&&delete t.static_chat.id,t.static_chat.hash&&delete t.static_chat.hash),""!=this.attributes.bot_id&&(t.bot_id=this.attributes.bot_id),""!=this.attributes.trigger_id&&(t.trigger_id=this.attributes.trigger_id),""!=this.attributes.subject_id&&(t.subject_id=this.attributes.subject_id),""!=this.attributes.priority&&(t.priority=this.attributes.priority),null!==this.attributes.phash&&(t.phash=this.attributes.phash),null!==this.attributes.survey&&(t.survey=this.attributes.survey),null!==this.attributes.pvhash&&(t.pvhash=this.attributes.pvhash),null!==this.attributes.operator&&(t.operator=this.attributes.operator),null!==this.attributes.profile_pic&&(t.profile_pic=this.attributes.profile_pic),""!=this.attributes.lang&&(t.lang=this.attributes.lang),this.attributes.proactive.invitation&&(t.proactive=this.attributes.proactive),null!==this.attributes.dep_default&&(t.dep_default=this.attributes.dep_default),this.attributes.LHCChatOptions&&this.attributes.LHCChatOptions.attr){var e=this.attributes.LHCChatOptions.attr,i=[];e.forEach((function(t,e){i.push({show:void 0===t.show||"on"!=t.show&&"off"!=t.show?"b":t.show,value:t.value,index:e,name:t.name,class:"form-control form-control-sm",type:t.type,identifier:"additional_"+e,placeholder:"",width:t.size||6,encrypted:t.encrypted||!1,required:t.req||!1,label:t.name})})),t.CUSTOM_FIELDS=i}if(this.attributes.LHCChatOptions&&this.attributes.LHCChatOptions.attr_prefill){e=this.attributes.LHCChatOptions.attr_prefill;var n=[];e.forEach((function(t){"email"==t.name?n.push({Email:t.value}):"username"==t.name?n.push({Username:t.value}):"phone"==t.name?n.push({Phone:t.value}):"question"==t.name&&n.push({Question:t.value})})),n=n.concat(this.attributes.userSession.getPrefillVars()),t.attr_prefill=n}else t.attr_prefill=this.attributes.userSession.getPrefillVars();if(this.attributes.LHCChatOptions&&this.attributes.LHCChatOptions.attr_prefill_admin){e=this.attributes.LHCChatOptions.attr_prefill_admin;var s=[];e.forEach((function(t){s.push({value:t.value,index:t.index})})),t.attr_prefill_admin=s}return null!==this.attributes.userSession.getSessionReferrer()&&(t.ses_ref=this.attributes.userSession.getSessionReferrer()),t}},{key:"sendChildCommand",value:function(t){this.attributes.mainWidget.cont.elmDom&&this.attributes.mainWidget.cont.elmDom.contentWindow&&this.attributes.mainWidget.cont.elmDom.contentWindow.postMessage(t,this.attributes.isIE?"*":"/"),this.attributes.popupWidget.cont.elementReferrerPopup&&!1===this.attributes.popupWidget.cont.elementReferrerPopup.closed&&this.attributes.popupWidget.cont.elementReferrerPopup.postMessage(t,"*")}},{key:"sendReadyEvent",value:function(t){var e=this.getInitAttributes();!0!==t&&this.attributes.mainWidget.cont.elmDom&&this.attributes.mainWidget.cont.elmDom.contentWindow&&this.attributes.mainWidget.cont.elmDom.contentWindow.postMessage("lhc_init:"+JSON.stringify(e),this.attributes.isIE?"*":"/")}},{key:"sendChildEvent",value:function(t,e,i){void 0===i&&(i="lhc_event"),this.sendChildCommand(i+":"+t+"::"+JSON.stringify(e))}}])}()},5107:function(t,e,i){"use strict";i.d(e,{s:function(){return r}});var n=i(3029),s=i(9530),r=new(function(){return(0,s.A)((function t(){(0,n.A)(this,t),this.events={}}),[{key:"attachEvent",value:function(t,e,i){var n=this,s=function(e){i.call(t,n.getEvent(e))};return t.attachEvent("on"+e,s),s}},{key:"unlisten",value:function(t){var e;this.events[t]&&(e=this.events[t],this.events[t]=null,this.removeEventHandler(e.element,e.eventName,e.eventListener))}},{key:"listen",value:function(t,e,i,n){var s;if(n){if(this.events[n]&&(s=this.events[n],this.events[n]=null,this.removeEventHandler(s.element,s.eventName,s.eventListener)),t.addEventListener)t.addEventListener(e,i,!1);else{if(!document.attachEvent)return null;i=this.attachEvent(t,e,i)}return this.events[n]={element:t,eventName:e,eventListener:i},i}}},{key:"removeEventHandler",value:function(t,e,i){document.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent("on"+e,i)}},{key:"getEvent",value:function(t){var e=t||_this.event;if(!e)for(t=this.getEvent.caller;t&&(!(e=t.arguments[0])||Event!=e.constructor);)t=t.caller;return e}}])}())},5353:function(t,e,i){"use strict";i.d(e,{K:function(){return r}});var n=i(3029),s=i(9530),r=function(){return(0,s.A)((function t(e,i){(0,n.A)(this,t),this.valueInternal=e,this.listeners=[],this.params=i||{}}),[{key:"value",get:function(){return this.valueInternal},set:function(t){this.next(t)}},{key:"next",value:function(t){this.valueInternal=t,this.callListeners()}},{key:"nextPropertySilent",value:function(t,e){this.valueInternal[t]=e}},{key:"nextProperty",value:function(t,e){this.valueInternal[t]=e,this.callListeners()}},{key:"callListeners",value:function(){var t=this;this.listeners.forEach((function(e){e&&"function"==typeof e&&e(t.valueInternal)}))}},{key:"unsubscribe",value:function(t){-1!==this.listeners.indexOf(t)&&this.listeners.splice(this.listeners.indexOf(t),1)}},{key:"subscribe",value:function(t,e){this.listeners.push(t),this.params.ignore_sub||e||t(this.valueInternal)}}])}()},7715:function(t,e,i){"use strict";i.d(e,{u:function(){return r}});var n=i(3029),s=i(9530),r=function(){return(0,s.A)((function t(e,i,s,r){(0,n.A)(this,t),this.window=e,this.cookieEnabled=!1,this.cookiesSupportChecked=!1,1==r&&this.checkCookiesSupport(),this.domain=i,this.secureCookie=!1,this.cookiePerPage=!1,this.prefix=s||"lhc"}),[{key:"checkCookiesSupport",value:function(){if(!0===this.cookiesSupportChecked)return this.cookieEnabled;this.cookiesSupportChecked=!0;try{this.hasSessionStorage=!!this.window.sessionStorage}catch(t){this.hasSessionStorage=!1}try{this.hasLocalStorage=!!this.window.localStorage}catch(t){this.hasLocalStorage=!1}try{document.cookie="cookietest=1; SameSite=Lax",this.cookieEnabled=-1!==document.cookie.indexOf("cookietest="),document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT; SameSite=Lax"}catch(t){}return this.cookieEnabled}},{key:"setCookieDomain",value:function(t){this.domain=t}},{key:"setCookiePerPage",value:function(t){this.cookiePerPage=t}},{key:"getCookieDomain",value:function(){return this.domain?"."+this.domain:null}},{key:"setSecureCookie",value:function(t){this.secureCookie=t}},{key:"setHTTPCookie",value:function(t,e,i,n){if(!1!==this.cookieEnabled){var s="";i||((i=new Date).setTime(i.getTime()+15552e6),s="; expires="+i.toGMTString()),document.cookie=t+"="+e+s+(!1===this.cookiePerPage?"; path=/":!0===this.cookiePerPage?"":"; path="+this.cookiePerPage)+(this.secureCookie?";secure":"")+(n?";domain="+n:"")+";SameSite=Lax"}}},{key:"getHTTPCookie",value:function(t){if(!1===this.cookieEnabled)return[];var e,i,n=[],s=t+"=",r=document.cookie.split(";");for(t=0,e=r.length;t<e;t++){for(i=r[t];" "===i.charAt(0);)i=i.substring(1,i.length);0===i.indexOf(s)&&n.push(i.substring(s.length,i.length))}if(2==n.length){var o=window.location.hostname||document.location.host,a=s+"0;expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";o&&(document.cookie=a,document.cookie=a+"; domain=."+o)}return n}},{key:"setSessionStorage",value:function(t,e){if(this.hasSessionStorage&&sessionStorage.setItem)try{sessionStorage.setItem(t,e)}catch(t){}}},{key:"removeSessionStorage",value:function(t){if(this.hasSessionStorage&&sessionStorage.removeItem)try{sessionStorage.removeItem(t)}catch(t){}}},{key:"getSessionStorage",value:function(t){return this.hasSessionStorage&&sessionStorage.getItem?sessionStorage.getItem(t):null}},{key:"setLocalStorage",value:function(t,e){if(this.hasLocalStorage&&localStorage.setItem)try{localStorage.setItem(t,e)}catch(t){}}},{key:"getLocalStorage",value:function(t){return this.hasLocalStorage&&localStorage.getItem?localStorage.getItem(t):null}},{key:"removeLocalStorage",value:function(t){if(this.hasLocalStorage&&localStorage.removeItem)try{localStorage.removeItem(t)}catch(t){}}},{key:"setSessionReferer",value:function(t){this.getSessionStorage(this.prefix+"_ref")||this.setSessionStorage(this.prefix+"_ref",t)}},{key:"getSessionReferrer",value:function(){return this.getSessionStorage(this.prefix+"_ref")}},{key:"getSessionInformation",value:function(){var t;return this.sessionInformation&&(t=this.sessionInformation),t||(t=this.getHTTPCookie(this.prefix+"_per")[0]),this.parseSessionInformation(t)}},{key:"getStoreValue",value:function(t){var e=[];return Object.keys(t).forEach((function(i){var n=t[i];e.push(i+"|"+n)})),e.join("|")}},{key:"storeSessionInformation",value:function(t){this.setHTTPCookie(this.prefix+"_per",this.getStoreValue(t),!1,this.getCookieDomain()),this.sessionInformation=t}},{key:"parseSessionInformation",value:function(t){if(t&&-1!==t.indexOf("|")){for(var e={},i=t.split("|"),n=0;n<i.length/2;n++)e[i[2*n]]=i[2*n+1];return e}return t?JSON.parse(unescape(t)):{}}}])}()},4083:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{k:function(){return userSession}});var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3029),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9530),userSession=function(){function userSession(){(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.A)(this,userSession),this.vid=null,this.hnh=null,this.withCredentials=!1,this.attributes={},this.ref=null,this.id=null,this.hash=null,this.ws=null,this.sd=null,this.jsVars=[],this.updateVarsTimeout=null,this.JSON={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(t){return String(t).evalJSON()}||$.parseJSON||$.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||$.toJSON}}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__.A)(userSession,[{key:"setAttributes",value:function(t){this.attributes=t}},{key:"setSessionReferrer",value:function(t){this.ref=t}},{key:"getSessionReferrer",value:function(){return this.ref}},{key:"getVID",value:function(){return this.vid}},{key:"setVID",value:function(t){this.vid=t}},{key:"setSessionInformation",value:function(t){this.vid=t.vid||null,this.hnh=t.hnh||null,this.hash=t.hash||null,this.id=t.id||null,this.ws=t.ws||null,this.sd=t.sd||null}},{key:"getSessionAttributes",value:function(){var t={};return null!==this.vid&&(t.vid=this.vid),null!==this.hnh&&(t.hnh=this.hnh),null!==this.id&&(t.id=this.id),null!==this.hash&&(t.hash=this.hash),null!==this.ws&&(t.ws=this.ws),null!==this.sd&&(t.sd=this.sd),t}},{key:"setupVarsMonitoring",value:function(t,e){var i=this;this.jsVars=t;try{if(null!==this.attributes.lhc_var){var n={set:function(t,n,s){return t[n]=s,clearTimeout(i.updateVarsTimeout),i.updateVarsTimeout=setTimeout((function(){i.updateJSVars(t,e)}),1e3),!0}};this.attributes.lhc_var=new Proxy(this.attributes.lhc_var,n),this.attributes.LHC_API.args.lhc_var?this.attributes.LHC_API.args.lhc_var=this.attributes.lhc_var:lhc_var&&(lhc_var=this.attributes.lhc_var),this.updateJSVars(this.attributes.lhc_var)}else if("undefined"!=typeof LHCChatOptions&&void 0!==LHCChatOptions.attr_prefill){var s={};LHCChatOptions.attr_prefill.forEach((function(t){t.name&&t.value&&(s["prefill_"+t.name]=t.value)}));var r=new XMLHttpRequest;r.open("POST",this.attributes.LHC_API.args.lhc_base_url+"/chat/updatejsvars"+this.getAppendVariables(),!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send("data="+encodeURIComponent(this.JSON.stringify(s)))}}catch(t){console.log(t)}}},{key:"getPrefillVars",value:function(){var t=[];if(this.jsVars.length>0){var e=this.getVars();for(var i in this.jsVars)if(this.jsVars[i].type&&e[this.jsVars[i].id]){var n={};n[this.jsVars[i].type]=e[this.jsVars[i].id],t.push(n)}}return t}},{key:"getVars",value:function getVars(){if(this.jsVars.length>0){var js_args={},currentVar=null;for(var index in this.jsVars)try{if(this.jsVars[index].cookie){this.withCredentials=!0;continue}currentVar=-1!==this.jsVars[index].var.indexOf("lhc_var.")?void 0!==this.attributes.lhc_var[this.jsVars[index].var.replace("lhc_var.","")]?this.attributes.lhc_var[this.jsVars[index].var.replace("lhc_var.","")]:null:eval(this.jsVars[index].var),null!=currentVar&&""!==currentVar&&(js_args[this.jsVars[index].id]=currentVar)}catch(t){}return js_args}return null}},{key:"getAppendVariables",value:function(){var t="";return null!==this.vid&&(t=t+"/(vid)/"+this.vid),null!==this.hash&&null!==this.id&&(t=t+"/(hash)/"+this.id+"_"+this.hash),t}},{key:"updateChatStatus",value:function(t){var e={};e.lhc_vars=this.getVars(),t&&(e.user_vars=t);var i=new XMLHttpRequest;i.open("POST",this.attributes.LHC_API.args.lhc_base_url+"chat/updatejsvars/(userinit)/true"+this.getAppendVariables(),!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),1==this.withCredentials&&(i.withCredentials=!0),i.send("data="+encodeURIComponent(this.JSON.stringify(e))+"&host="+window.location.origin)}},{key:"updateJSVars",value:function(t,e){var i=this.getVars(t),n=new XMLHttpRequest;n.open("POST",this.attributes.LHC_API.args.lhc_base_url+"/chat/updatejsvars"+this.getAppendVariables(),!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),1==this.withCredentials&&(n.withCredentials=!0),n.send("data="+encodeURIComponent(this.JSON.stringify(i))+"&host="+window.location.origin),void 0!==e&&null===this.hash&&null===this.id&&e(i,this.getPrefillVars())}},{key:"setChatInformation",value:function(t,e){this.id=t.id,this.hash=t.hash,null===this.id||e||(this.hnh=Math.round(Date.now()/1e3))}}])}()},2437:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return b}});var n=/iPhone/i,s=/iPod/i,r=/iPad/i,o=/\biOS-universal(?:.+)Mac\b/i,a=/\bAndroid(?:.+)Mobile\b/i,u=/Android/i,l=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,c=/Silk/i,h=/Windows Phone/i,d=/\bWindows(?:.+)ARM\b/i,p=/BlackBerry/i,m=/BB10/i,f=/Opera Mini/i,_=/\b(CriOS|Chrome)(?:.+)Mobile/i,g=/Mobile(?:.+)Firefox\b/i,v=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream};function b(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var i=e.userAgent,b=i.split("[FBAN");void 0!==b[1]&&(i=b[0]),void 0!==(b=i.split("Twitter"))[1]&&(i=b[0]);var w=function(t){return function(e){return e.test(t)}}(i),y={apple:{phone:w(n)&&!w(h),ipod:w(s),tablet:!w(n)&&(w(r)||v(e))&&!w(h),universal:w(o),device:(w(n)||w(s)||w(r)||w(o)||v(e))&&!w(h)},amazon:{phone:w(l),tablet:!w(l)&&w(c),device:w(l)||w(c)},android:{phone:!w(h)&&w(l)||!w(h)&&w(a),tablet:!w(h)&&!w(l)&&!w(a)&&(w(c)||w(u)),device:!w(h)&&(w(l)||w(c)||w(a)||w(u))||w(/\bokhttp\b/i)},windows:{phone:w(h),tablet:w(d),device:w(h)||w(d)},other:{blackberry:w(p),blackberry10:w(m),opera:w(f),firefox:w(g),chrome:w(_),device:w(p)||w(m)||w(f)||w(g)||w(_)},any:!1,phone:!1,tablet:!1};return y.any=y.apple.device||y.android.device||y.windows.device||y.other.device,y.phone=y.apple.phone||y.android.phone||y.windows.phone,y.tablet=y.apple.tablet||y.android.tablet||y.windows.tablet,y}},918:function(t,e,i){"use strict";t.exports=i(7706)},9551:function(t,e,i){"use strict";var n=i(9795);function s(){}var r=null,o={};function a(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("Promise constructor's argument is not a function");this._x=0,this._y=0,this._z=null,this._A=null,t!==s&&p(t,this)}function u(t,e){for(;3===t._y;)t=t._z;if(a._B&&a._B(t),0===t._y)return 0===t._x?(t._x=1,void(t._A=e)):1===t._x?(t._x=2,void(t._A=[t._A,e])):void t._A.push(e);!function(t,e){n((function(){var i=1===t._y?e.onFulfilled:e.onRejected;if(null!==i){var n=function(t,e){try{return t(e)}catch(t){return r=t,o}}(i,t._z);n===o?c(e.promise,r):l(e.promise,n)}else 1===t._y?l(e.promise,t._z):c(e.promise,t._z)}))}(t,e)}function l(t,e){if(e===t)return c(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"==typeof e||"function"==typeof e)){var i=function(t){try{return t.then}catch(t){return r=t,o}}(e);if(i===o)return c(t,r);if(i===t.then&&e instanceof a)return t._y=3,t._z=e,void h(t);if("function"==typeof i)return void p(i.bind(e),t)}t._y=1,t._z=e,h(t)}function c(t,e){t._y=2,t._z=e,a._C&&a._C(t,e),h(t)}function h(t){if(1===t._x&&(u(t,t._A),t._A=null),2===t._x){for(var e=0;e<t._A.length;e++)u(t,t._A[e]);t._A=null}}function d(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}function p(t,e){var i=!1,n=function(t){try{t((function(t){i||(i=!0,l(e,t))}),(function(t){i||(i=!0,c(e,t))}))}catch(t){return r=t,o}}(t);i||n!==o||(i=!0,c(e,r))}t.exports=a,a._B=null,a._C=null,a._D=s,a.prototype.then=function(t,e){if(this.constructor!==a)return function(t,e,i){return new t.constructor((function(n,r){var o=new a(s);o.then(n,r),u(t,new d(e,i,o))}))}(this,t,e);var i=new a(s);return u(this,new d(t,e,i)),i}},5556:function(t,e,i){"use strict";var n=i(9551);t.exports=n,n.prototype.done=function(t,e){(arguments.length?this.then.apply(this,arguments):this).then(null,(function(t){setTimeout((function(){throw t}),0)}))}},8635:function(t,e,i){"use strict";var n=i(9551);t.exports=n;var s=c(!0),r=c(!1),o=c(null),a=c(void 0),u=c(0),l=c("");function c(t){var e=new n(n._D);return e._y=1,e._z=t,e}n.resolve=function(t){if(t instanceof n)return t;if(null===t)return o;if(void 0===t)return a;if(!0===t)return s;if(!1===t)return r;if(0===t)return u;if(""===t)return l;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new n(e.bind(t))}catch(t){return new n((function(e,i){i(t)}))}return c(t)};var h=function(t){return"function"==typeof Array.from?(h=Array.from,Array.from(t)):(h=function(t){return Array.prototype.slice.call(t)},Array.prototype.slice.call(t))};function d(t){return{status:"fulfilled",value:t}}function p(t){return{status:"rejected",reason:t}}function m(t){if(t&&("object"==typeof t||"function"==typeof t)){if(t instanceof n&&t.then===n.prototype.then)return t.then(d,p);var e=t.then;if("function"==typeof e)return new n(e.bind(t)).then(d,p)}return d(t)}function f(t){if("function"==typeof AggregateError)return new AggregateError(t,"All promises were rejected");var e=new Error("All promises were rejected");return e.name="AggregateError",e.errors=t,e}n.all=function(t){var e=h(t);return new n((function(t,i){if(0===e.length)return t([]);var s=e.length;function r(o,a){if(a&&("object"==typeof a||"function"==typeof a)){if(a instanceof n&&a.then===n.prototype.then){for(;3===a._y;)a=a._z;return 1===a._y?r(o,a._z):(2===a._y&&i(a._z),void a.then((function(t){r(o,t)}),i))}var u=a.then;if("function"==typeof u)return void new n(u.bind(a)).then((function(t){r(o,t)}),i)}e[o]=a,0==--s&&t(e)}for(var o=0;o<e.length;o++)r(o,e[o])}))},n.allSettled=function(t){return n.all(h(t).map(m))},n.reject=function(t){return new n((function(e,i){i(t)}))},n.race=function(t){return new n((function(e,i){h(t).forEach((function(t){n.resolve(t).then(e,i)}))}))},n.prototype.catch=function(t){return this.then(null,t)},n.any=function(t){return new n((function(e,i){var s=h(t),r=!1,o=[];function a(t){r||(r=!0,e(t))}function u(t){o.push(t),o.length===s.length&&i(f(o))}0===s.length?i(f(o)):s.forEach((function(t){n.resolve(t).then(a,u)}))}))}},4293:function(t,e,i){"use strict";var n=i(9551);t.exports=n,n.prototype.finally=function(t){return this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))}))}},7706:function(t,e,i){"use strict";t.exports=i(9551),i(5556),i(4293),i(8635),i(9791),i(1727)},9791:function(t,e,i){"use strict";var n=i(9551),s=i(5236);t.exports=n,n.denodeify=function(t,e){return"number"==typeof e&&e!==1/0?function(t,e){for(var i=[],s=0;s<e;s++)i.push("a"+s);var o=["return function ("+i.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(i).concat([r]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],o)(n,t)}(t,e):function(t){for(var e=Math.max(t.length-1,3),i=[],s=0;s<e;s++)i.push("a"+s);var o=["return function ("+i.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+e+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+r+";","var res;","switch (argLength) {",i.concat(["extra"]).map((function(t,e){return"case "+e+":res = fn.call("+["self"].concat(i.slice(0,e)).concat("cb").join(",")+");break;"})).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],o)(n,t)}(t)};var r="function (err, res) {if (err) { rj(err); } else { rs(res); }}";n.nodeify=function(t){return function(){var e=Array.prototype.slice.call(arguments),i="function"==typeof e[e.length-1]?e.pop():null,r=this;try{return t.apply(this,arguments).nodeify(i,r)}catch(t){if(null==i)return new n((function(e,i){i(t)}));s((function(){i.call(r,t)}))}}},n.prototype.nodeify=function(t,e){if("function"!=typeof t)return this;this.then((function(i){s((function(){t.call(e,null,i)}))}),(function(i){s((function(){t.call(e,i)}))}))}},1727:function(t,e,i){"use strict";var n=i(9551);t.exports=n,n.enableSynchronous=function(){n.prototype.isPending=function(){return 0==this.getState()},n.prototype.isFulfilled=function(){return 1==this.getState()},n.prototype.isRejected=function(){return 2==this.getState()},n.prototype.getValue=function(){if(3===this._y)return this._z.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._z},n.prototype.getReason=function(){if(3===this._y)return this._z.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._z},n.prototype.getState=function(){return 3===this._y?this._z.getState():-1===this._y||-2===this._y?0:this._y}},n.disableSynchronous=function(){n.prototype.isPending=void 0,n.prototype.isFulfilled=void 0,n.prototype.isRejected=void 0,n.prototype.getValue=void 0,n.prototype.getReason=void 0,n.prototype.getState=void 0}},2210:function(t,e,i){var n;!function(e){"use strict";function s(){}var r=s.prototype,o=e.EventEmitter;function a(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function u(t){return function(){return this[t].apply(this,arguments)}}function l(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&l(t.listener)}r.getListeners=function(t){var e,i,n=this._getEvents();if(t instanceof RegExp)for(i in e={},n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i]);else e=n[t]||(n[t]=[]);return e},r.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},r.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&((e={})[t]=i),e||i},r.addListener=function(t,e){if(!l(e))throw new TypeError("listener must be a function");var i,n=this.getListenersAsObject(t),s="object"==typeof e;for(i in n)n.hasOwnProperty(i)&&-1===a(n[i],e)&&n[i].push(s?e:{listener:e,once:!1});return this},r.on=u("addListener"),r.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},r.once=u("addOnceListener"),r.defineEvent=function(t){return this.getListeners(t),this},r.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},r.removeListener=function(t,e){var i,n,s=this.getListenersAsObject(t);for(n in s)s.hasOwnProperty(n)&&-1!==(i=a(s[n],e))&&s[n].splice(i,1);return this},r.off=u("removeListener"),r.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},r.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},r.manipulateListeners=function(t,e,i){var n,s,r=t?this.removeListener:this.addListener,o=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)r.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(s=e[n])&&("function"==typeof s?r.call(this,n,s):o.call(this,n,s));return this},r.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if(t instanceof RegExp)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},r.removeAllListeners=u("removeEvent"),r.emitEvent=function(t,e){var i,n,s,r,o=this.getListenersAsObject(t);for(r in o)if(o.hasOwnProperty(r))for(i=o[r].slice(0),s=0;s<i.length;s++)!0===(n=i[s]).once&&this.removeListener(t,n.listener),n.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},r.trigger=u("emitEvent"),r.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},r.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},r._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},r._getEvents=function(){return this._events||(this._events={})},s.noConflict=function(){return e.EventEmitter=o,s},void 0===(n=function(){return s}.call(e,i,e,t))||(t.exports=n)}("undefined"!=typeof window?window:this||{})},3029:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.d(e,{A:function(){return n}})},9530:function(t,e,i){"use strict";i.d(e,{A:function(){return o}});var n=i(2284);function s(t){var e=function(t){if("object"!=(0,n.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,"string");if("object"!=(0,n.A)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,n.A)(e)?e:e+""}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function o(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}},3954:function(t,e,i){"use strict";function n(t){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}i.d(e,{A:function(){return n}})},5501:function(t,e,i){"use strict";i.d(e,{A:function(){return s}});var n=i(3662);function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&(0,n.A)(t,e)}},388:function(t,e,i){"use strict";i.d(e,{A:function(){return s}});var n=i(2284);function s(t,e){if(e&&("object"==(0,n.A)(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}},3662:function(t,e,i){"use strict";function n(t,e){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},n(t,e)}i.d(e,{A:function(){return n}})},2284:function(t,e,i){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}i.d(e,{A:function(){return n}})}},__webpack_module_cache__={},inProgress,dataWebpackPrefix;function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var i=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(i.exports,i,i.exports,__webpack_require__),i.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=function(t,e){for(var i in e)__webpack_require__.o(e,i)&&!__webpack_require__.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},__webpack_require__.f={},__webpack_require__.e=function(t){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(e,i){return __webpack_require__.f[i](t,e),e}),[]))},__webpack_require__.u=function(t){return{118:"87ba4186ae122eba5ab7",121:"c4d56967822ecb6c3713",249:"b6b69283a90cd229bc47",468:"01aceef32eb0234e512e",546:"5691f733268b28546257",603:"a92366215ad3e9b74e1c",618:"dfd57fc42ff1cea8ec54",793:"02b1551411b78ca6411f",853:"0e823b694cb68910a583"}[t]+".js"},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},inProgress={},dataWebpackPrefix="LiveHelperChat:",__webpack_require__.l=function(t,e,i,n){if(inProgress[t])inProgress[t].push(e);else{var s,r;if(void 0!==i)for(var o=document.getElementsByTagName("script"),a=0;a<o.length;a++){var u=o[a];if(u.getAttribute("src")==t||u.getAttribute("data-webpack")==dataWebpackPrefix+i){s=u;break}}s||(r=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,__webpack_require__.nc&&s.setAttribute("nonce",__webpack_require__.nc),s.setAttribute("data-webpack",dataWebpackPrefix+i),s.src=t,0!==s.src.indexOf(window.location.origin+"/")&&(s.crossOrigin="anonymous")),inProgress[t]=[e];var l=function(e,i){s.onerror=s.onload=null,clearTimeout(c);var n=inProgress[t];if(delete inProgress[t],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((function(t){return t(i)})),e)return e(i)},c=setTimeout(l.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=l.bind(null,s.onerror),s.onload=l.bind(null,s.onload),r&&document.head.appendChild(s)}},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.p="./",function(){var t={792:0};__webpack_require__.f.j=function(e,i){var n=__webpack_require__.o(t,e)?t[e]:void 0;if(0!==n)if(n)i.push(n[2]);else{var s=new Promise((function(i,s){n=t[e]=[i,s]}));i.push(n[2]=s);var r=__webpack_require__.p+__webpack_require__.u(e),o=new Error;__webpack_require__.l(r,(function(i){if(__webpack_require__.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var s=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.src;o.message="Loading chunk "+e+" failed.\n("+s+": "+r+")",o.name="ChunkLoadError",o.type=s,o.request=r,n[1](o)}}),"chunk-"+e,e)}};var e=function(e,i){var n,s,r=i[0],o=i[1],a=i[2],u=0;if(r.some((function(e){return 0!==t[e]}))){for(n in o)__webpack_require__.o(o,n)&&(__webpack_require__.m[n]=o[n]);a&&a(__webpack_require__)}for(e&&e(i);u<r.length;u++)s=r[u],__webpack_require__.o(t,s)&&t[s]&&t[s][0](),t[s]=0},i=self.webpackChunkLiveHelperChat=self.webpackChunkLiveHelperChat||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var __webpack_exports__={};!function(){"use strict";var t=__webpack_require__(2284);!function(e){var i,n=document.currentScript||(i=document.getElementsByTagName("script"))[i.length-1],s=n.getAttribute("scope")||"LHC";if(!/google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex|Chrome-Lighthouse/i.test(navigator.userAgent)){if(!e[s+"_API"]){if(!e.LHC_API)return;e[s+"_API"]=e.LHC_API}var r={log:function(t,i,n,r,o){var a;(a={}).message=t||"",a.message+="\n"+e.navigator.userAgent,a.location=location&&location.href?location.href:"",a.file=i||"",a.line=n||"",a.column=o||"",a.stack=r?JSON.stringify(r):"",a.stack=a.stack.replace(/(\r\n|\n|\r)/gm,"");var u=new XMLHttpRequest;u.open("POST",e[s+"_API"].args.lhc_base_url+"audit/logjserror",!0),u.setRequestHeader("Content-type","application/x-www-form-urlencoded"),u.send("data="+encodeURIComponent(JSON.stringify(a)))}};try{window.addEventListener("error",(function(t){r&&-1!==t.filename.indexOf(e[s+"_API"].args.lhc_base_url.replace("index.php/"))&&r.log(t.message,t.filename,t.lineNumber||t.lineno,t.error.stack,t.colno)})),e["$_"+s+"_Instance"]=null,e["$_"+s+"_Debug"]=!1,e["$_"+s]=e["$_"+s]||{},function(i,o){i.loaded=!1,i.connected=!1,i.ready=!1,i.version=238;var a=__webpack_require__(2437).default(e.navigator.userAgent).phone;i.isMobile=a;var u=function(){e.Promise||(e.Promise=__webpack_require__(918));var u=__webpack_require__(5353).K,l=__webpack_require__(2210),c=__webpack_require__(376).P,h=__webpack_require__(8726).Q,d=__webpack_require__(4310).O,p=__webpack_require__(2378).e,m=__webpack_require__(7912).q,f=__webpack_require__(4083).k,_=__webpack_require__(7715).u,g=__webpack_require__(4223).X,v=__webpack_require__(4551)._;o.args=o.args||{},void 0!==o.args.mobile_view&&(i.isMobile=a=o.args.mobile_view);var b=s.toLowerCase(),w=b&&o.args.scope_storage?b:"lhc",y=void 0===o.args.cookie_enabled||o.args.cookie_enabled,S=o.args.mode||"widget";!1===(_=new _(e,o.args.domain||null,w,y)).cookieEnabled&&"widget"==S&&(o.args.orig={},o.args.orig.mode=o.args.mode,o.args.orig.proactive=o.args.proactive,o.args.orig.check_messages=o.args.check_messages,o.args.mode="popup",o.args.proactive=!1,o.args.check_messages=!1),o.args.cookie_per_page&&_.setCookiePerPage(o.args.cookie_per_page);var k=document.referrer?document.referrer.substr(document.referrer.indexOf("://")+1):"",E=document.location?encodeURIComponent(window.location.href.substring(window.location.protocol.length)):"";_.setSessionReferer(k),k=k?encodeURIComponent(k):"";var x="";_.getLocalStorage(w+"_lng")&&(x=o.args.lang=_.getLocalStorage(w+"_lng")),o.args.lang&&(o.args.lang=o.args.lang.replace("/","")+"/");var C={terminated:!1,viewport_enabled:!0,prefixLowercase:b,prefixStorage:w,prefixScope:s,cookie_enabled:y,LHC_API:o,viewHandler:null,msgSnippet:null,drag_enabled:o.args.drag_enabled||!1,react_attr:o.args.react_attr||null,hide_parent:o.args.hide_parent||!1,hide_iframe:o.args.hide_iframe||!1,animate_nh:o.args.animate_nh||!1,hide_status:o.args.hide_status||null,mainWidget:new h(b),popupWidget:new d,chatNotifications:g,jsVars:new u(!0),onlineStatus:new u(!0),wloaded:new u(!1),sload:new u(!1),status_position:new u(null),shidden:new u(o.args.hide_status||!1),msgsnippet_status:new u(!1),unread_counter:new u(0),eventEmitter:new l,hideOffline:!1,offline:o.args.offline||null,fscreen:o.args.fscreen||!1,isMobile:a,isIE:-1!=navigator.userAgent.toUpperCase().indexOf("TRIDENT/")||-1!=navigator.userAgent.toUpperCase().indexOf("MSIE")||"function"!=typeof Object.assign,fresh:o.args.fresh||!1,popupDimesnions:{pheight:o.args.pheight||520,pwidth:o.args.pwidth||500},leaveMessage:o.args.leaveamessage||null,department:o.args.department||[],dep_default:o.args.dep_default||null,product:o.args.product||[],theme:void 0!==o.args.theme?"object"===(0,t.A)(o.args.theme)?o.args.theme.join(","):o.args.theme:null,theme_v:null,domain:o.args.domain||null,domain_lhc:null,instance_id:0,broadcasChannel:new BroadcastChannel(w+"_wchannel"),profile_pic:o.args.profile_pic||null,position:o.args.position||"bottom_right",position_placement:o.args.position_placement||"bottom_right",position_placement_original:o.args.position_placement||"bottom_right",base_url:o.args.lhc_base_url,mode:o.args.mode||"widget",tag:o.args.tag||"",status_delay:o.args.status_delay||0,proactive:{},captcha:null,focused:!0,clinst:!1,kcw:o.args.kcw||!1,offline_redirect:o.args.offline_redirect||null,identifier:o.args.identifier||"",proactive_interval:null,lang:o.args.lang||"",langOverride:x,subject_id:o.args.subject_id||"",bot_id:o.args.bot_id||"",trigger_id:o.args.trigger_id||"",priority:o.args.priority||null,events:o.args.events||[],conversion:o.args.conversion||"",hhtml:o.args.hhtml||"",survey:o.args.survey||null,operator:o.args.operator||null,phash:o.args.phash||null,pvhash:o.args.pvhash||null,userSession:new f,storageHandler:_,staticJS:{},nh:null,full_invitation:!1,init_calls:[],childCommands:[],childExtCommands:[],lhc_var:o.args.lhc_var||("undefined"!=typeof lhc_var?lhc_var:null),loadcb:o.args.loadcb||null,LHCChatOptions:e[s+"ChatOptions"]||{}};C.widgetDimesions=new u({sright:o.args.sright||0,sbottom:o.args.sbottom||0,wright_inv:0,wbottom:0,wright:0,width:a||C.fscreen?100:o.args.wwidth||350,height:a||C.fscreen?100:o.args.wheight||520,units:a||C.fscreen?"%":"px",position_placement:C.position_placement});var L=new v(C);if(i.eventListener=C.eventEmitter,i.attributes=C,C.userSession.setAttributes(C),C.userSession.setSessionInformation(C.storageHandler.getSessionInformation()),C.userSession.setSessionReferrer(_.getSessionReferrer()),C.widgetStatus=new u("1"==C.userSession.ws||o.args.mode&&"embed"==o.args.mode),C.toggleSound=new u(!("1"==C.userSession.sd),{ignore_sub:!0}),"widget"==C.mode||"popup"==C.mode){var A=new p(C.prefixLowercase,o.args.pnode||null);C.viewHandler=new c(C.prefixLowercase,i.version),A.cont.elmDom.appendChild(C.viewHandler.cont,!0),"widget"!=C.mode&&"popup"!=C.mode||A.cont.elmDom.appendChild(C.mainWidget.cont.constructUI(),!0)}else{var D=document.getElementById(C.prefixLowercase+"_status_container_page");null!==D?(D.appendChild(C.mainWidget.cont.constructUI()),D.style.height=(o.args.wheight||520)+"px"):C.position="api"}function O(){return{cd:!1===_.cookieEnabled?1:null,vid:o.args.UUID||C.userSession.getVID(),hnh:C.userSession.hnh,tz:m.getTzOffset(),r:k,l:E,dt:encodeURIComponent(document.title),ie:C.isIE,dep:C.department.join(","),idnt:C.identifier,tag:C.tag,theme:C.theme,mode:C.mode,pos:C.position,off:C.offline}}function P(t){__webpack_require__.e(468).then(__webpack_require__.bind(__webpack_require__,2468)).then((function(e){var i=new e.needhelpWidget(C.prefixLowercase);A.cont.elmDom.appendChild(i.cont.constructUI(),!0),i.init(C,t)}))}function I(){__webpack_require__.e(853).then(__webpack_require__.bind(__webpack_require__,5853)).then((function(t){t.proactiveChat.setParams({interval:C.proactive_interval},C,L)}))}m.makeRequest(o.args.lhc_base_url+C.lang+"widgetrestapi/settings",{params:O()},(function(t){if(i.version===t.wv||null!==document.getElementById(C.prefixLowercase+"-js-reload"))(t.terminate||!C.leaveMessage&&!1===t.chat_ui.leaveamessage&&!1===t.isOnline)&&(o.args.offline_redirect&&"embed"==C.mode&&(document.location=o.args.offline_redirect),t.terminate)||((C.hide_parent||C.hide_iframe||t.chat_ui&&(t.chat_ui.hide_iframe||t.chat_ui.hide_parent))&&window.location!=window.parent.location&&!1===window.parent.closed&&window.parent.postMessage("lhc::started","*"),C.leaveMessage=C.leaveMessage||t.chat_ui.leaveamessage,t.department&&(C.department=t.department),__webpack_require__.p=t.chunks_location+"/",t.secure_cookie&&C.storageHandler.setSecureCookie(!0),t.domain&&C.storageHandler.setCookieDomain(t.domain),t.siteaccess&&(C.lang=t.siteaccess),t.static&&(C.staticJS=t.static),t.pdim&&(C.popupDimesnions=t.pdim),t.survey_id&&(C.survey=t.survey_id),t.domain_lhc&&(C.domain_lhc=t.domain_lhc),t.cont_css&&(C.cont_ss=t.cont_css),t.wposition&&(o.args.position_placement=C.position_placement=t.wposition),t.core_position&&(o.args.position=C.position=t.core_position),C.captcha={hash:t.hash,ts:t.hash_ts},C.userSession.setVID(t.vid),C.storageHandler.storeSessionInformation(C.userSession.getSessionAttributes()),C.hideOffline=t.hideOffline,C.onlineStatus.next(t.isOnline),t.theme&&(C.theme=t.theme,C.theme_v=t.theme_v),t.chat_ui&&(t.chat_ui.hide_parent&&(C.hide_parent=!0),(t.chat_ui.fscreen&&"embed"==C.mode||C.fscreen)&&(C.widgetDimesions.nextProperty("width",100),C.widgetDimesions.nextProperty("height",100),C.widgetDimesions.nextProperty("units","%"),C.fscreen=a=C.isMobile=!0),t.chat_ui.wheight&&!a&&C.widgetDimesions.nextProperty("height",t.chat_ui.wheight),t.chat_ui.wwidth&&!a&&C.widgetDimesions.nextProperty("width",t.chat_ui.wwidth),t.chat_ui.hhtml&&(C.hhtml=t.chat_ui.hhtml),t.chat_ui.status_delay&&(C.status_delay=t.chat_ui.status_delay),t.chat_ui.kcw&&(C.kcw=!0),t.chat_ui.clinst&&(C.clinst=!0),t.chat_ui.drag_enabled&&(C.drag_enabled=!0),t.chat_ui.animate_nh&&(C.animate_nh=!0),t.chat_ui.viewport&&(C.viewport_enabled=2!=t.chat_ui.viewport&&1==t.chat_ui.viewport&&!0===a),t.chat_ui.wbottom&&C.widgetDimesions.nextProperty("wbottom",t.chat_ui.wbottom),t.chat_ui.sbottom&&C.widgetDimesions.nextProperty("sbottom",t.chat_ui.sbottom),t.chat_ui.sright&&C.widgetDimesions.nextProperty("sright",t.chat_ui.sright),t.chat_ui.wright&&C.widgetDimesions.nextProperty("wright",t.chat_ui.wright),t.chat_ui.wright_inv&&C.widgetDimesions.nextProperty("wright_inv",t.chat_ui.wright_inv),t.chat_ui.mobile_popup&&a&&(C.mode="popup"),t.chat_ui.sound_enabled&&null===_.getSessionStorage(w+"_sound")&&C.toggleSound.next(!0),t.instance_id&&(C.instance_id=t.instance_id),t.chat_ui.check_status&&__webpack_require__.e(603).then(__webpack_require__.bind(__webpack_require__,7603)).then((function(e){e.activityMonitoring.setParams({timeout:t.chat_ui.check_status,track_mouse:t.chat_ui.track_mouse,track_activity:t.chat_ui.track_activity},C)})),t.ga&&__webpack_require__.e(546).then(__webpack_require__.bind(__webpack_require__,6546)).then((function(e){e.analyticEvents.setParams({ga:t.ga},C)}))),null!==_.getSessionStorage(w+"_pos_placement")&&(C.position_placement=_.getSessionStorage(w+"_pos_placement")),t.nh&&!1===C.fresh&&"api"!=C.position&&(C.nh=t.nh,"widget"!=C.mode&&"popup"!=C.mode||(t.nh.ap||null===C.userSession.id)&&P(t.nh)),t.js_vars&&(C.jsVars.next(t.js_vars),t.js_vars.length>0&&C.userSession.setupVarsMonitoring(t.js_vars,(function(t,e){L.sendChildEvent("jsVars",[t,e])}))),"widget"!=C.mode&&"popup"!=C.mode||C.viewHandler.init(C,t.ll),"api"==C.position&&"embed"==C.mode||C.mainWidget.init(C,t.ll),"widget"!=C.mode&&"popup"!=C.mode||A.cont.show(),C.loadcb&&C.loadcb(C),t.init_calls&&(C.init_calls=t.init_calls),C.proactive_interval=t.chat_ui.proactive_interval,t.disable_proactive||"widget"!=C.mode&&"popup"!=C.mode&&"embed"!=C.mode||void 0!==o.args.proactive&&!0!==o.args.proactive||null!==C.storageHandler.getSessionStorage(w+"_invt")||I(),C.init_calls.length>0&&C.init_calls.forEach((function(t){"nodeJSChat"==t.extension&&Promise.all([__webpack_require__.e(118),__webpack_require__.e(249)]).then(__webpack_require__.bind(__webpack_require__,9249)).then((function(e){e.nodeJSChat.setParams(t.params,C,L)}))})));else{if(t.terminate)return;C.userSession.setVID(t.vid),C.terminated=!0,m.removeById(C.prefixLowercase+"_container_v2"),m.removeById(C.prefixLowercase+"_status_widget_v2");var e=document.createElement("script");e.type=n.type,e.id=C.prefixLowercase+"-js-reload",e.async=!0,n.getAttribute("scope")&&e.setAttribute("scope",n.getAttribute("scope")),e.src=n.getAttribute("src")+"&r="+(new Date).getHours()+(new Date).getMinutes();var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(e,s)}})),C.broadcasChannel.addEventListener("message",(function(t){"wstatus"===t.data.action?t.data.value!=C.widgetStatus.value&&C.widgetStatus.next(t.data.value):"chat_started"===t.data.action&&null===C.userSession.id&&t.data.data.id&&L.sendChildEvent("reopenNotification",[{id:t.data.data.id,hash:t.data.data.hash}])})),C.eventEmitter.addListener("closeWidget",(function(t){C.widgetStatus.next(!1),L.sendChildEvent("closedWidget",[t])})),C.eventEmitter.addListener("sendChildEvent",(function(t){void 0!==t.boot?C.mainWidget.bootstrap():1==C.mainWidget.isLoaded&&1==i.loaded?L.sendChildEvent(t.cmd,[t.arg]):C.childCommands.push(t)})),C.eventEmitter.addListener("sendChildExtEvent",(function(t){void 0!==t.boot?C.mainWidget.bootstrap():1==C.mainWidget.isLoaded&&1==i.loaded?L.sendChildEvent(t.cmd,[t.arg],"lhc_load_ext"):C.childExtCommands.push(t)})),C.eventEmitter.addListener("toggleSound",(function(){var t=!C.toggleSound.value;C.toggleSound.next(t)})),C.eventEmitter.addListener("enableCookies",(function(){if(!0===_.checkCookiesSupport()){var t=C.userSession.getSessionAttributes();void 0!==t.hnh&&delete t.hnh,C.storageHandler.storeSessionInformation(t),void 0!==o.args.orig&&(C.mode=o.args.mode=o.args.orig.mode,o.args.proactive=o.args.orig.proactive,o.args.check_messages=o.args.orig.check_messages,m.makeRequest(o.args.lhc_base_url+C.lang+"widgetrestapi/settings",{params:O()},(function(t){C.eventEmitter.emitEvent("sendChildEvent",[{cmd:"attr_set",arg:{type:"attr_set",attr:["mode"],data:C.mode}}]),"widget"==C.mode&&null!==C.nh&&P(C.nh),"widget"!=C.mode&&"popup"!=C.mode||void 0!==o.args.proactive&&!0!==o.args.proactive||null!==C.storageHandler.getSessionStorage(w+"_invt")||I()})))}})),C.eventEmitter.addListener("endChatCookies",(function(t){(!1===C.kcw||t&&1==t.force)&&(C.userSession.setChatInformation({id:null,hash:null}),C.storageHandler.storeSessionInformation(C.userSession.getSessionAttributes()),C.proactive={})})),C.eventEmitter.addListener("widgetRendered",(function(t){"widget"!=C.mode&&"embed"!=C.mode||C.mainWidget.widgetRendered()})),C.eventEmitter.addListener("endChat",(function(t){C.userSession.setChatInformation({id:null,hash:null}),C.storageHandler.storeSessionInformation(C.userSession.getSessionAttributes()),C.proactive={},"popup"==C.mode||t&&t.show_start||C.widgetStatus.next(!1),C.viewHandler&&(C.viewHandler.removeUnreadIndicator(),C.eventEmitter.emitEvent("hide_msg_snippet")),C.widgetDimesions.nextProperty("height_override",null),L.sendChildEvent("endedChat",[{sender:"endButton",survey:C.survey}]),("embed"==C.mode||t&&t.show_start)&&C.eventEmitter.emitEvent("showWidget",[{sender:"closeButton"}]),"popup"==C.mode&&C.popupWidget.freeup()})),C.eventEmitter.addListener("showWidget",(function(t){C.mainWidget.hideInvitation(),C.widgetStatus.next(!0),"popup"==C.mode?(C.popupWidget.init(C,L,t),C.viewHandler.removeUnreadIndicator(),C.mainWidget.hide()):void 0!==t&&void 0!==t.event&&t.event.preventDefault(),L.sendChildEvent("shownWidget",[{sender:"closeButton"}])})),C.eventEmitter.addListener("addTag",(function(t){C.tag=""!=C.tag?C.tag+","+t:t,C.eventEmitter.emitEvent("tagAdded")})),C.eventEmitter.addListener("addEvent",(function(t){C.events=t,C.eventEmitter.emitEvent("eventAdded")})),C.eventEmitter.addListener("addConversion",(function(t){C.conversion=t,C.eventEmitter.emitEvent("conversionAdded")})),C.eventEmitter.addListener("openPopup",(function(){C.popupWidget.init(C,L),C.viewHandler.removeUnreadIndicator(),L.sendChildEvent("shownWidget",[{sender:"closeButton"}]),C.widgetStatus.next(!1)})),C.eventEmitter.addListener("chatStarted",(function(t,e){C.widgetDimesions.nextProperty("height_override",null),"popup"===e&&!0!==C.kcw||C.userSession.setChatInformation(t,C.nh&&C.nh.ap),"popup"==e&&C.mainWidget.hide(),!1!==C.fresh||"popup"===e&&!0!==C.kcw||C.storageHandler.storeSessionInformation(C.userSession.getSessionAttributes()),C.broadcasChannel.postMessage({action:"chat_started",data:t,mode:e})})),C.eventEmitter.addListener("subscribeEvent",(function(t){C.chatNotifications.setPublicKey(t.pk,C.eventEmitter),C.chatNotifications.sendNotification()})),C.eventEmitter.addListener("subcribedEvent",(function(t){L.sendChildEvent("subcribedEvent",[t])})),C.widgetStatus.subscribe((function(t){"popup"!==C.mode&&("embed"!==C.mode&&(C.userSession.ws=t?"1":null,C.storageHandler.storeSessionInformation(C.userSession.getSessionAttributes())),C.broadcasChannel.postMessage({action:"wstatus",value:t}),L.sendChildEvent("widgetStatus",[t]))})),C.toggleSound.subscribe((function(t){C.userSession.sd=t?null:"1",C.storageHandler.storeSessionInformation(C.userSession.getSessionAttributes())})),C.onlineStatus.subscribe((function(t){L.sendChildEvent("onlineStatus",[t])})),C.eventEmitter.addListener("screenshot",(function(t){m.makeScreenshot(C.staticJS.screenshot,t)})),C.eventEmitter.addListener("screenshare",(function(t){__webpack_require__.e(121).then(__webpack_require__.bind(__webpack_require__,4121)).then((function(e){e.screenShare.setParams(t||{},C,L)}))})),C.eventEmitter.addListener("location",(function(t){document.location=t})),C.eventEmitter.addListener("terminated",(function(t){C.terminated=!0,m.removeById(C.prefixLowercase+"_container_v2"),m.removeById(C.prefixLowercase+"_status_widget_v2")})),C.eventEmitter.addListener("showInvitation",(function(t){C.widgetDimesions.nextProperty("bottom_override",75),C.widgetDimesions.nextProperty("right_override",75),C.mainWidget.showInvitation()})),C.eventEmitter.addListener("hideAction",(function(t){C.mainWidget.hide()})),C.eventEmitter.addListener("showAction",(function(t){C.mainWidget.show()})),C.eventEmitter.addListener("zoomImage",(function(t){__webpack_require__.e(618).then(__webpack_require__.bind(__webpack_require__,8618)).then((function(e){e.zoomImage.setParams(t||{},C,L)}))})),C.eventEmitter.addListener("hideInvitation",(function(t){C.mainWidget.hideInvitation(),t.full?(C.full_invitation=!0,C.eventEmitter.emitEvent("showWidget",[{sender:"closeButton"}]),C.eventEmitter.emitEvent("fullInvitation",[t])):(C.full_invitation=!1,C.eventEmitter.emitEvent("cancelInvitation",[])),C.mainWidget.resizeTrigger()})),C.eventEmitter.addListener("msgSnippet",(function(t){if("widget"==C.mode&&!1===C.widgetStatus.value){if(t.full_widget)return void C.eventEmitter.emitEvent("showWidget",[{sender:"closeButton"}]);"api"==C.position&&C.viewHandler&&C.viewHandler.show(),__webpack_require__.e(793).then(__webpack_require__.bind(__webpack_require__,9793)).then((function(e){C.msgSnippet?C.msgSnippet.showSnippet(t,!0):(C.msgSnippet=new e.msgSnippetWidget(C.prefixLowercase),A.cont.elmDom.appendChild(C.msgSnippet.cont.constructUI(),!0),C.msgSnippet.init(C,t)),C.eventEmitter.emitEvent("unread_message",[{otm:1}])}))}})),C.eventEmitter.addListener("unread_message",(function(t){t&&t.msg_body&&!C.msgSnippet&&__webpack_require__.e(793).then(__webpack_require__.bind(__webpack_require__,9793)).then((function(e){C.msgSnippet||(C.msgSnippet=new e.msgSnippetWidget(C.prefixLowercase),A.cont.elmDom.appendChild(C.msgSnippet.cont.constructUI(),!0),C.msgSnippet.init(C,t))}))})),C.eventEmitter.addListener("change_language",(function(t){C.lang=t.lng.replace("/","")+"/"})),C.originalTitle=document.title,C.blinkInterval=null,C.titleChanged=!1,C.eventEmitter.addListener("unread_message_title",(function(t){clearInterval(C.blinkInterval),0==t.status?C.blinkInterval=setInterval((function(){Math.round((new Date).getTime()/1e3)%2&&!1===C.titleChanged?(C.originalTitle=document.title,document.title=" "+document.title,C.titleChanged=!0):(!0===C.titleChanged&&(document.title=C.originalTitle),C.titleChanged=!1)}),1e3):(C.focused=!0,!0===C.titleChanged&&(document.title=C.originalTitle,C.titleChanged=!1))})),C.eventEmitter.addListener("widgetHeight",(function(t){if(t.position_placement)return C.position_placement=t.position_placement,C.widgetDimesions.nextProperty("position_placement",C.position_placement),void _.setSessionStorage(w+"_pos_placement",C.position_placement);if(t.reset_height)return C.widgetDimesions.nextProperty("height_override",null),C.widgetDimesions.nextProperty("bottom_override",null),C.widgetDimesions.nextProperty("right_override",null),void C.widgetDimesions.nextProperty("width_override",null);if(t.force_height||t.force_width||t.force_bottom||t.force_right)return t.force_height&&C.widgetDimesions.nextProperty("height_override",t.force_height),t.force_width&&C.widgetDimesions.nextProperty("width_override",t.force_width),t.force_right&&C.widgetDimesions.nextProperty("right_override",t.force_right),void(t.force_bottom&&C.widgetDimesions.nextProperty("bottom_override",t.force_bottom));if("widget"==C.mode&&0==C.isMobile){var i=document,n=i.documentElement,s=i.getElementsByTagName("body")[0],r=e.innerHeight||n.clientHeight||s.clientHeight;parseInt(t.height)>C.widgetDimesions.value.height?(C.widgetDimesions.nextProperty("height_override",parseInt(t.height)),C.mainWidget.resizeTrigger()):C.widgetDimesions.value.height_override&&C.widgetDimesions.value.height_override>r&&C.widgetDimesions.nextProperty("height_override",null)}}));var H=!1;try{H="serviceWorker"in navigator}catch(t){}if(!0===H)try{navigator.serviceWorker.addEventListener("message",(function(t){try{void 0!==t.data.lhc_ch&&void 0!==t.data.lhc_cid&&(C.widgetStatus.next(!0),"popup"==C.mode?(C.userSession.setChatInformation({id:t.data.lhc_cid,hash:t.data.lhc_ch}),C.eventEmitter.emitEvent("unread_message")):(L.sendChildEvent("shownWidget",[{sender:"closeButton"}]),L.sendChildEvent("reopenNotification",[{id:t.data.lhc_cid,hash:t.data.lhc_ch}])))}catch(t){if(!r)throw Error("lhc : "+t.message);r.log(t.message,"index.js",t.lineNumber||t.line,t.stack)}}))}catch(t){}var j=function(e){if(!0===C.terminated||"string"!=typeof e.data||e.data.indexOf(C.prefixLowercase+"::"))return"object"===(0,t.A)(e.data)&&"string"==typeof e.data.action&&"lhc_set_var"===e.data.action?void Object.keys(e.data).forEach((function(t){"action"!==t&&"undefined"!=typeof lhc_var&&(lhc_var[t]=e.data[t])})):void 0;var n=e.data.split("::");if(void 0!==e.origin&&"about:"!=e.origin){var s=e.origin.replace("http://","").replace("https://","").replace(/:(\d+)$/,"");if(s!==document.domain&&C.domain_lhc!==s&&-1===["started","isstarted","addTag","showWidget"].indexOf(n[1]))return}if("ready"==n[1]){L.sendReadyEvent("true"==n[2]),C.storageHandler.getSessionStorage(w+"_screenshare")&&C.eventEmitter.emitEvent("screenshare",[{auto_start:!0}]);var r=function(t){var e="focus"===t.type;C.focused=e,L.sendChildEvent("focus_changed",[{status:e}])};window.addEventListener("focus",r),window.addEventListener("blur",r),window.addEventListener("pageshow",r),window.addEventListener("pagehide",r),i.loaded=!0,L.sendChildEvent("ext_modules",[C.staticJS.ex_cb_js]),C.childExtCommands.forEach((function(t){L.sendChildEvent(t.cmd,[t.arg],"lhc_load_ext")})),C.childCommands.forEach((function(t){L.sendChildEvent(t.cmd,[t.arg])})),null!==C.react_attr&&C.react_attr.forEach((function(t){L.sendChildEvent("attr_set",[{type:"attr_set",attr:t.k,data:t.v}])}))}else"ready_popup"==n[1]?(C.popupWidget.sendParameters(L),C.popupWidget.attributes=C,e.source.postMessage("lhc_event:jsVars::"+JSON.stringify([C.popupWidget.getAttributesToSent()]),e.origin)):"isstarted"==n[1]?C.eventEmitter.emitEvent("terminated",[]):"started"==n[1]?C.hide_parent?C.eventEmitter.emitEvent("terminated",[]):e.source.postMessage("lhc::isstarted","*"):C.eventEmitter.emitEvent(n[1],JSON.parse(n[2]))};window.addEventListener?window.addEventListener("message",j,!1):window.attachEvent?window.attachEvent("onmessage",j):document.attachEvent&&document.attachEvent("onmessage",j)},l=function(){!0!==i.ready&&document.body&&(i.ready=!0,i.init=u,o.args.before_init&&o.args.before_init(i),o.args.manual_init||u())},c=__webpack_require__(5107).s;l(),!i.ready||(c.listen(document,"DOMContentLoaded",(function(){l()}),"domloaded"),c.listen(document,"readystatechange",(function(){("complete"===document.readyState||"interactive"===document.readyState&&document.body)&&l()}),"domstatechange"),c.listen(e,"load",(function(){l()}),"windowload"))}.call(this,e["$_"+s],e[s+"_API"])}catch(t){if(!r)throw Error("lhc : "+t.message);r.log(t.message,"index.js",t.lineNumber||t.line,t.stack)}}}(window)}(),this.LiveHelperChat=__webpack_exports__.LiveHelperChatDefault})();
//# sourceMappingURL=index.js.map