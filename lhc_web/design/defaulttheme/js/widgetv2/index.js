this.LiveHelperChat=function(t){function e(e){for(var i,r,o=e[0],s=e[1],a=0,l=[];a<o.length;a++)r=o[a],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&l.push(n[r][0]),n[r]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);for(u&&u(e);l.length;)l.shift()()}var i={},n={0:0};function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(t){var e=[],i=n[t];if(0!==i)if(i)e.push(i[2]);else{var o=new Promise((function(e,r){i=n[t]=[e,r]}));e.push(i[2]=o);var s,a=document.createElement("script");a.charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.src=function(t){return r.p+""+{1:"a071687e4bf34a01f24b",2:"474771f18872e02f0f4f",3:"11630b3ec2e9677722da",4:"ff57538a87c094205778",5:"e3bcef27ca38421e0a08",6:"df7162c037df932c9827",7:"09ca01c86ead48274f68"}[t]+".js"}(t);var u=new Error;s=function(e){a.onerror=a.onload=null,clearTimeout(l);var i=n[t];if(0!==i){if(i){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",u.name="ChunkLoadError",u.type=r,u.request=o,i[1](u)}n[t]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:a})}),12e4);a.onerror=a.onload=s,document.head.appendChild(a)}return Promise.all(e)},r.m=t,r.c=i,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="./",r.oe=function(t){throw console.error(t),t};var o=window.webpackJsonpLiveHelperChat=window.webpackJsonpLiveHelperChat||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var a=0;a<o.length;a++)e(o[a]);var u=s;return r(r.s=8)}([function(t,e,i){"use strict";var n=i(5);function r(){}var o=null,s={};function a(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("Promise constructor's argument is not a function");this._h=0,this._i=0,this._j=null,this._k=null,t!==r&&f(t,this)}function u(t,e){for(;3===t._i;)t=t._j;if(a._l&&a._l(t),0===t._i)return 0===t._h?(t._h=1,void(t._k=e)):1===t._h?(t._h=2,void(t._k=[t._k,e])):void t._k.push(e);!function(t,e){n((function(){var i=1===t._i?e.onFulfilled:e.onRejected;if(null!==i){var n=function(t,e){try{return t(e)}catch(t){return o=t,s}}(i,t._j);n===s?c(e.promise,o):l(e.promise,n)}else 1===t._i?l(e.promise,t._j):c(e.promise,t._j)}))}(t,e)}function l(t,e){if(e===t)return c(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"==typeof e||"function"==typeof e)){var i=function(t){try{return t.then}catch(t){return o=t,s}}(e);if(i===s)return c(t,o);if(i===t.then&&e instanceof a)return t._i=3,t._j=e,void h(t);if("function"==typeof i)return void f(i.bind(e),t)}t._i=1,t._j=e,h(t)}function c(t,e){t._i=2,t._j=e,a._m&&a._m(t,e),h(t)}function h(t){if(1===t._h&&(u(t,t._k),t._k=null),2===t._h){for(var e=0;e<t._k.length;e++)u(t,t._k[e]);t._k=null}}function d(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}function f(t,e){var i=!1,n=function(t,e,i){try{t(e,i)}catch(t){return o=t,s}}(t,(function(t){i||(i=!0,l(e,t))}),(function(t){i||(i=!0,c(e,t))}));i||n!==s||(i=!0,c(e,o))}t.exports=a,a._l=null,a._m=null,a._n=r,a.prototype.then=function(t,e){if(this.constructor!==a)return function(t,e,i){return new t.constructor((function(n,o){var s=new a(r);s.then(n,o),u(t,new d(e,i,s))}))}(this,t,e);var i=new a(r);return u(this,new d(t,e,i)),i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var r=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,[{key:"initElement",value:function(t,e,i,n,r){var o;for(o in t=t.createElement(e),i=i||{})t[o]=i[o];return r&&"iframe"!==e&&(t.innerHTML=r),n&&(t.style.cssText=n),t}},{key:"getDocument",value:function(t){return t.contentWindow?t.contentWindow.document:t.contentDocument?t.contentDocument:t.document?t.document:null}},{key:"removeById",value:function(t){return!!(EObj=document.getElementById(t))&&EObj.parentNode.removeChild(EObj)}},{key:"getTzOffset",value:function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){Date.prototype.stdTimezoneOffset=function(){var t=new Date(this.getFullYear(),0,1),e=new Date(this.getFullYear(),6,1);return Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())},Date.prototype.dst=function(){return this.getTimezoneOffset()<this.stdTimezoneOffset()};var t=new Date;return(t.dst()?t.getTimezoneOffset():t.getTimezoneOffset()-60)/60*-1}}},{key:"getAbstractStyle",value:function(t){return["outline:                    "+(t.outline?t.outline:"none")+" !important; ","visibility:                 "+(t.visibility?t.visibility:"visible")+" !important; ","resize:                     "+(t.resize?t.resize:"none")+" !important; ","box-shadow:                 "+(t.boxshadow?t.boxshadow:"none")+" ; ","overflow:                   "+(t.overflow?t.overflow:"visible")+" ; ","background                  : "+(t.background?t.background:"none")+" !important; ","opacity                     : "+(t.opacity?t.opacity:"1")+" !important; ","filter                      : alpha(opacity="+(t.opacity?100*t.opacity:"100")+") !important; ","-ms-filter                  : progid:DXImageTransform.Microsoft.Alpha(Opacity"+(t.opacity?t.opacity:"1")+") !important; ","-moz-opacity                : "+(t.opacity?t.opacity:"1")+" !important; ","-khtml-opacity              : "+(t.opacity?t.opacity:"1")+" !important; ","top                         : "+(t.top?t.top:"auto")+"; ","right                       : "+(t.right?t.right:"auto")+"; ","bottom                      : "+(t.bottom?t.bottom:"auto")+"; ","left                        : "+(t.left?t.left:"auto")+"; ","position                    : "+(t.position?t.position:"absolute")+" !important; ","border                      : "+(t.border?t.border:"0")+" !important; ","min-height                  : "+(t.minheight?t.minheight:"auto")+"; ","min-width                   : "+(t.minwidth?t.minwidth:"auto")+"; ","max-height                  : "+(t.maxheight?t.maxheight:"none")+"; ","max-width                   : "+(t.maxwidth?t.maxwidth:"none")+"; ","padding                     : "+(t.padding?t.padding:"0")+" !important; ","margin                      : "+(t.margin?t.margin:"0")+" !important; ","-moz-transition-property    : "+(t.transition?t.transition:"none")+" !important; ","-webkit-transition-property : "+(t.transition?t.transition:"none")+" !important; ","-o-transition-property      : "+(t.transition?t.transition:"none")+" !important; ","transition-property         : "+(t.transition?t.transition:"none")+" !important; ","transform                   : "+(t.transform?t.transform:"none")+" !important; ","-webkit-transform           : "+(t.transform?t.transform:"none")+" !important; ","-ms-transform               : "+(t.transform?t.transform:"none")+" !important; ","width                       : "+(t.width?t.width:"auto")+" ; ","height                      : "+(t.height?t.height:"auto")+" ; ","display                     : "+(t.display?t.display:"block")+" !important; ","z-index                     : "+(t.zindex?t.zindex:"none")+" !important; ","background-color            : "+(t.backgroundcolor?t.backgroundcolor:"transparent")+" !important; ","cursor                      : "+(t.cursor?t.cursor:"auto")+" !important; ","float                       : "+(t.float?t.float:"none")+" !important; ","border-radius               : "+(t.borderRadius?t.borderRadius:"unset")+"; "].join("").replace(/\s/gm,"")}},{key:"hasClass",value:function(t,e){return t.classList?t.classList.contains(e):!!t.className.match(RegExp("(\\s|^)"+e+"(\\s|$)"))}},{key:"addClass",value:function(t,e){t.classList?t.classList.add(e):this.hasClass(t,e)||(t.className+=" "+e)}},{key:"removeClass",value:function(t,e){t.classList?t.classList.remove(e):this.hasClass(t,e)&&(t.className=t.className.replace(RegExp("(\\s|^)"+e+"(\\s|$)")," "))}},{key:"makeScreenshot",value:function(t,e){var i=this;if("undefined"==typeof html2canvas){var n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",t),n.appendChild(r),r.onreadystatechange=r.onload=function(){i.makeScreenshot(t,e)}}else try{html2canvas(document.body,{onrendered:function(t){var i=new XMLHttpRequest;i.open("POST",e,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send("data="+encodeURIComponent(t.toDataURL()))}})}catch(t){}}},{key:"makeQuery",value:function(t){var e,i=[];for(e in t)""!=t[e]&&null!=t[e]&&t.hasOwnProperty(e)&&i.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return i.join("&")}},{key:"makeRequest",value:function(t,e,i){var n=new XMLHttpRequest;return n.open("GET",t+"?"+this.makeQuery(e.params),!0),n.onreadystatechange=function(){4==n.readyState&&i(JSON.parse(n.responseText))},n.send(),{type:"xhr",req:n}}},{key:"insertCssRemoteFile",value:function(t){var e=document.getElementsByTagName("head")[0],i=document.createDocumentFragment(),n=document.createElement("link");for(var r in n.rel="stylesheet",n.crossOrigin="*",t)n[r]=t[r];i.appendChild(n),e.appendChild(i)}}]),t}());e.helperFunctions=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var r=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events={}}return n(t,[{key:"attachEvent",value:function(t,e,i){var n=this,r=function(e){i.call(t,n.getEvent(e))};return t.attachEvent("on"+e,r),r}},{key:"unlisten",value:function(t){var e;this.events[t]&&(e=this.events[t],this.events[t]=null,this.removeEventHandler(e.element,e.eventName,e.eventListener))}},{key:"listen",value:function(t,e,i,n){var r;if(n){if(this.events[n]&&(r=this.events[n],this.events[n]=null,this.removeEventHandler(r.element,r.eventName,r.eventListener)),t.addEventListener)t.addEventListener(e,i,!1);else{if(!document.attachEvent)return null;i=this.attachEvent(t,e,i)}return this.events[n]={element:t,eventName:e,eventListener:i},i}}},{key:"removeEventHandler",value:function(t,e,i){document.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent("on"+e,i)}},{key:"getEvent",value:function(t){var e=t||_this.event;if(!e)for(t=this.getEvent.caller;t&&(!(e=t.arguments[0])||Event!=e.constructor);)t=t.caller;return e}}]),t}());e.domEventsHandler=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={ResetStyle:"html,body,div,span,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,abbr,address,cite,code,del,dfn,em,img,ins,kbd,q,samp,small,strong,sub,sup,var,b,i,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,figcaption,figure,footer,header,hgroup,menu,nav,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}nav ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}a{margin:0;padding:0;font-size:100%;vertical-align:baseline;background:transparent}ins{background-color:#ff9;color:#000;text-decoration:none}mark{background-color:#ff9;color:#000;font-style:italic;font-weight:bold}del{text-decoration:line-through}abbr[title],dfn[title]{border-bottom:1px dotted;cursor:help}table{border-collapse:collapse;border-spacing:0}hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}input,select{vertical-align:middle}html,body{height: 100% !important;\n        min-height: 100% !important;\n        max-height: 100% !important;\n        width: 100% !important;\n        min-width: 100% !important;\n        max-width: 100% !important;}body{display: flex;flex-direction: column;background:transparent;font:13px Helvetica,Arial,sans-serif;position:relative}.clear{clear:both}.clearfix:after{content:'';display:block;height:0;clear:both;visibility:hidden}"};e.settings=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UIConstructorIframe=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(6),o=i(1);e.UIConstructorIframe=function(t){function e(t,i,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n,r,o));return s.bodyId="",s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"constructUIIframe",value:function(t,e,i,n){void 0===e&&(e="ltr"),void 0===i&&(i="en"),void 0===n&&(n=""),this.elmDomDoc=o.helperFunctions.getDocument(this.elmDom),this.elmDomDoc.open(),this.elmDomDoc.writeln('<!DOCTYPE html><html dir="'+e+'" lang="'+i+'"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />'+n+"</head><body"+(""!=this.bodyId?' id="'+this.bodyId+'" ':"")+"></body></html>"),this.elmDomDoc.close(),this.insertCssFile(t),this.insertContent()}},{key:"insertContent",value:function(){this.elmDomDoc.body.innerHTML=this.tmpl}}]),e}(r.UIConsturctor)},function(t,e,i){"use strict";(function(e){function i(t){r.length||(n(),!0),r[r.length]=t}t.exports=i;var n,r=[],o=0;function s(){for(;o<r.length;){var t=o;if(o+=1,r[t].call(),o>1024){for(var e=0,i=r.length-o;e<i;e++)r[e]=r[e+o];r.length-=o,o=0}}r.length=0,o=0,!1}var a,u,l,c=void 0!==e?e:self,h=c.MutationObserver||c.WebKitMutationObserver;function d(t){return function(){var e=setTimeout(n,0),i=setInterval(n,50);function n(){clearTimeout(e),clearInterval(i),t()}}}"function"==typeof h?(a=1,u=new h(s),l=document.createTextNode(""),u.observe(l,{characterData:!0}),n=function(){a=-a,l.data=a}):n=d(s),i.requestFlush=n,i.makeRequestCallFromTimer=d}).call(this,i(7))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UIConsturctor=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(1),o=i(3),s=i(2);e.UIConsturctor=function(){function t(e,i,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var s=this;this.elementId=e||"",this.style=i||"",this.tagName=r||"div",this.tmpl="",this.elmDom=null,this.elmDomDoc=o||document,this.attributes={},this.classNames=[],this.elementId&&(this.attributes.id=this.elementId),n&&Object.keys(n).forEach((function(t){s.attributes[t]=n[t]}))}return n(t,[{key:"constructUI",value:function(t){return this.elmDomDoc=t||this.elmDomDoc,this.elmDom=r.helperFunctions.initElement(this.elmDomDoc,this.tagName,this.attributes,this.style,this.tmpl),this.elmDom.className+=this.classNames.join(" "),this.elmDom}},{key:"restyle",value:function(t,e){e&&(this.elmDom?this.elmDom.style.cssText+=";"+t+":"+e:this.style+=";"+t+":"+e)}},{key:"attachUserEventListener",value:function(t,e,i,n){var r;(r=i?this.getElementById(i):this.elmDom)&&(1<(i=t.split(" ")).length?i.forEach((function(t){s.domEventsHandler.listen(r,t,e,t+n)})):s.domEventsHandler.listen(r,t,e,n))}},{key:"getElementById",value:function(t){return this.elmDom?this.elmDomDoc.getElementById(t):null}},{key:"hide",value:function(){this.restyle("display","none !important")}},{key:"show",value:function(){this.restyle("display","block !important")}},{key:"insertCssFile",value:function(t,e){var i=this.elmDomDoc.getElementsByTagName("head")[0],n=this.elmDomDoc.createDocumentFragment(),s=r.helperFunctions.initElement(this.elmDomDoc,"style",{type:"text/css"}),a=this.elmDomDoc.createTextNode(e?t:o.settings.ResetStyle+""+t);n.appendChild(s),i.appendChild(n),s.styleSheet?s.styleSheet.cssText=a.nodeValue:s.appendChild(a)}},{key:"insertCssRemoteFile",value:function(t){var e=this.elmDomDoc.getElementsByTagName("head")[0],i=this.elmDomDoc.createDocumentFragment(),n=this.elmDomDoc.createElement("link");for(var r in n.rel="stylesheet",n.crossOrigin="*",t)n[r]=t[r];i.appendChild(n),e.appendChild(i)}},{key:"insertJSFile",value:function(t,e){var i=this.elmDomDoc.getElementsByTagName("head")[0],n=this.elmDomDoc.createDocumentFragment(),r=this.elmDomDoc.createElement("script");r.type="text/javascript",void 0!==e&&!0!==e||(r.async=!0),r.crossOrigin="*",r.src=t,n.appendChild(r),i.appendChild(n)}},{key:"massRestyle",value:function(t){for(var e in t)t.hasOwnProperty(e)&&this.restyle(e,t[e])}}]),t}()},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";!function(t){t.LHC_API&&!/google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex|Chrome-Lighthouse/i.test(navigator.userAgent)&&(t.$_LHC_Instance=null,t.$_LHC_Debug=!1,t.$_LHC=t.$_LHC||{},function(e){e.loaded=!1,e.connected=!1,e.ready=!1,e.version=4;var n=function(){if(!0!==e.ready){document.body&&(e.ready=!0),t.Promise||(t.Promise=i(9));var n=i(17).monitoredVariable,r=i(18),o=i(19).statusWidget,s=i(20).mainWidget,a=i(21).mainWidgetPopup,u=i(22).containerChat,l=i(1).helperFunctions,c=i(23).userSession,h=i(24).storageHandler,d=i(25).chatNotifications,f=i(26).chatEventsHandler,p=i(27).default(t.navigator.userAgent).any;LHC_API.args=LHC_API.args||{};h=new h(t,LHC_API.args.domain||null);LHC_API.args.cookie_per_page&&h.setCookiePerPage(LHC_API.args.cookie_per_page);var m=document.referrer?document.referrer.substr(document.referrer.indexOf("://")+1):"",v=document.location?encodeURIComponent(window.location.href.substring(window.location.protocol.length)):"";h.setSessionReferer(m),m=m?encodeURIComponent(m):"",LHC_API.args.lang&&(LHC_API.args.lang=LHC_API.args.lang.replace("/","")+"/");var g={viewHandler:null,mainWidget:new s,popupWidget:new a,chatNotifications:d,jsVars:new n(!0),onlineStatus:new n(!0),widgetStatus:new n("true"===h.getSessionStorage("LHC_WS")||LHC_API.args.mode&&"embed"==LHC_API.args.mode),eventEmitter:new r,toggleSound:new n("true"===h.getSessionStorage("LHC_SOUND"),{ignore_sub:!0}),hideOffline:!1,isMobile:p,isIE:-1!=navigator.userAgent.toUpperCase().indexOf("TRIDENT/")||-1!=navigator.userAgent.toUpperCase().indexOf("MSIE"),fresh:LHC_API.args.fresh||!1,widgetDimesions:new n({wright_inv:0,wbottom:0,wright:0,width:p?100:LHC_API.args.wwidth||350,height:p?100:LHC_API.args.wheight||520,units:p?"%":"px"}),popupDimesnions:{pheight:LHC_API.args.pheight||520,pwidth:LHC_API.args.pwidth||500},leaveMessage:LHC_API.args.leaveamessage||null,department:LHC_API.args.department||[],product:LHC_API.args.product||[],theme:LHC_API.args.theme||null,theme_v:null,domain:LHC_API.args.domain||null,domain_lhc:null,position:LHC_API.args.position||"bottom_right",base_url:LHC_API.args.lhc_base_url,mode:LHC_API.args.mode||"widget",tag:LHC_API.args.tag||"",proactive:{},captcha:null,focused:!0,clinst:!1,offline_redirect:LHC_API.args.offline_redirect||null,identifier:LHC_API.args.identifier||"",proactive_interval:null,lang:LHC_API.args.lang||"",bot_id:LHC_API.args.bot_id||"",priority:LHC_API.args.priority||"",events:LHC_API.args.events||[],hhtml:LHC_API.args.hhtml||"",survey:LHC_API.args.survey||null,operator:LHC_API.args.operator||null,phash:LHC_API.args.phash||null,pvhash:LHC_API.args.pvhash||null,userSession:new c,storageHandler:h,staticJS:{},init_calls:[],childCommands:[],childExtCommands:[],loadcb:LHC_API.args.loadcb||null,LHCChatOptions:t.LHCChatOptions?t.LHCChatOptions:{}},b=new f(g);if(e.eventListener=g.eventEmitter,g.userSession.setSessionInformation(g.storageHandler.getSessionInformation()),g.userSession.setSessionReferrer(h.getSessionReferrer()),"widget"==g.mode||"popup"==g.mode){var y=new u;g.viewHandler=new o,y.cont.elmDom.appendChild(g.viewHandler.cont.constructUI(),!0),"widget"!=g.mode&&"popup"!=g.mode||y.cont.elmDom.appendChild(g.mainWidget.cont.constructUI(),!0)}else{var _=document.getElementById("lhc_status_container_page");null!==_?(_.appendChild(g.mainWidget.cont.constructUI()),_.style.height=(LHC_API.args.wheight||520)+"px"):g.position="api"}l.makeRequest(LHC_API.args.lhc_base_url+g.lang+"widgetrestapi/settings",{params:{vid:LHC_API.args.UUID||g.userSession.getVID(),hnh:g.userSession.hnh,tz:l.getTzOffset(),r:m,l:v,dt:encodeURIComponent(document.title),ie:g.isIE,dep:g.department.join(","),idnt:g.identifier,tag:g.tag,theme:g.theme}},(function(t){(t.terminate||!g.leaveMessage&&!1===t.chat_ui.leaveamessage&&!1===t.isOnline)&&(LHC_API.args.offline_redirect&&"embed"==g.mode&&(document.location=LHC_API.args.offline_redirect),t.terminate)||(g.leaveMessage=g.leaveMessage||t.chat_ui.leaveamessage,t.department&&(g.department=t.department),i.p=t.chunks_location+"/",t.secure_cookie&&g.storageHandler.setSecureCookie(!0),t.domain&&g.storageHandler.setCookieDomain(t.domain),t.siteaccess&&(g.lang=t.siteaccess),t.static&&(g.staticJS=t.static),t.domain_lhc&&(g.domain_lhc=t.domain_lhc),t.cont_css&&(g.cont_ss=t.cont_css),g.captcha={hash:t.hash,ts:t.hash_ts},g.userSession.setVID(t.vid),g.storageHandler.storeSessionInformation(g.userSession.getSessionAttributes()),g.hideOffline=t.hideOffline,g.onlineStatus.next(t.isOnline),t.theme&&(g.theme=t.theme,g.theme_v=t.theme_v),t.chat_ui&&(t.chat_ui.wheight&&!p&&g.widgetDimesions.nextProperty("height",t.chat_ui.wheight),t.chat_ui.hhtml&&(g.hhtml=t.chat_ui.hhtml),t.chat_ui.clinst&&(g.clinst=!0),t.chat_ui.wwidth&&!p&&g.widgetDimesions.nextProperty("width",t.chat_ui.wwidth),t.chat_ui.wbottom&&!p&&g.widgetDimesions.nextProperty("wbottom",t.chat_ui.wbottom),t.chat_ui.wright&&!p&&g.widgetDimesions.nextProperty("wright",t.chat_ui.wright),t.chat_ui.wright_inv&&!p&&g.widgetDimesions.nextProperty("wright_inv",t.chat_ui.wright_inv),t.chat_ui.mobile_popup&&p&&(g.mode="popup"),t.chat_ui.sound_enabled&&null===h.getSessionStorage("LHC_SOUND")&&g.toggleSound.next(!0),t.chat_ui.check_status&&i.e(3).then(i.t.bind(null,28,7)).then((function(e){e.activityMonitoring.setParams({timeout:t.chat_ui.check_status,track_mouse:t.chat_ui.track_mouse,track_activity:t.chat_ui.track_activity},g)})),t.ga&&i.e(4).then(i.t.bind(null,29,7)).then((function(e){e.analyticEvents.setParams({ga:t.ga},g)}))),"widget"==g.mode&&t.nh&&!1===g.fresh&&"api"!=g.position&&null===g.userSession.id&&i.e(2).then(i.t.bind(null,30,7)).then((function(e){var i=new e.needhelpWidget;y.cont.elmDom.appendChild(i.cont.constructUI(),!0),i.init(g,t.nh)})),t.js_vars&&(g.jsVars.next(t.js_vars),t.js_vars.length>0&&g.userSession.setupVarsMonitoring(t.js_vars,(function(t){b.sendChildEvent("jsVars",[t])}))),"widget"!=g.mode&&"popup"!=g.mode||g.viewHandler.init(g),"api"==g.position&&"embed"==g.mode||g.mainWidget.init(g,t.ll),"widget"!=g.mode&&"popup"!=g.mode||y.cont.show(),g.loadcb&&g.loadcb(g),t.init_calls&&(g.init_calls=t.init_calls),g.proactive_interval=t.chat_ui.proactive_interval,"widget"!=g.mode&&"popup"!=g.mode||void 0!==LHC_API.args.proactive&&!0!==LHC_API.args.proactive||null!==g.storageHandler.getSessionStorage("LHC_invt")||i.e(6).then(i.t.bind(null,31,7)).then((function(t){t.proactiveChat.setParams({interval:g.proactive_interval},g,b)})),g.init_calls.length>0&&g.init_calls.forEach((function(t){"nodeJSChat"==t.extension&&Promise.all([i.e(1),i.e(5)]).then(i.t.bind(null,32,7)).then((function(e){e.nodeJSChat.setParams(t.params,g,b)}))})))})),g.eventEmitter.addListener("closeWidget",(function(){g.widgetStatus.next(!1),b.sendChildEvent("closedWidget",[{sender:"closeButton"}])})),g.eventEmitter.addListener("sendChildEvent",(function(t){void 0!==t.boot?g.mainWidget.bootstrap():1==g.mainWidget.isLoaded&&1==e.loaded?b.sendChildEvent(t.cmd,[t.arg]):g.childCommands.push(t)})),g.eventEmitter.addListener("sendChildExtEvent",(function(t){void 0!==t.boot?g.mainWidget.bootstrap():1==g.mainWidget.isLoaded&&1==e.loaded?b.sendChildEvent(t.cmd,[t.arg],"lhc_load_ext"):g.childExtCommands.push(t)})),g.eventEmitter.addListener("toggleSound",(function(){var t=!g.toggleSound.value;g.toggleSound.next(t)})),g.eventEmitter.addListener("endChatCookies",(function(){g.userSession.setChatInformation({id:null,hash:null}),g.storageHandler.storeSessionInformation(g.userSession.getSessionAttributes()),g.proactive={}})),g.eventEmitter.addListener("endChat",(function(t){g.userSession.setChatInformation({id:null,hash:null}),g.storageHandler.storeSessionInformation(g.userSession.getSessionAttributes()),g.proactive={},"popup"==g.mode||t.show_start||g.widgetStatus.next(!1),g.widgetDimesions.nextProperty("height_override",null),b.sendChildEvent("endedChat",[{sender:"endButton"}]),("embed"==g.mode||t.show_start)&&g.eventEmitter.emitEvent("showWidget",[{sender:"closeButton"}]),"popup"==g.mode&&g.popupWidget.freeup()})),g.eventEmitter.addListener("showWidget",(function(){g.mainWidget.hideInvitation(),g.widgetStatus.next(!0),"popup"==g.mode&&(g.popupWidget.init(g),g.viewHandler.removeUnreadIndicator(),g.mainWidget.hide()),b.sendChildEvent("shownWidget",[{sender:"closeButton"}])})),g.eventEmitter.addListener("addTag",(function(t){g.tag=""!=g.tag?g.tag+","+t:t,g.eventEmitter.emitEvent("tagAdded")})),g.eventEmitter.addListener("addEvent",(function(t){g.events=t,g.eventEmitter.emitEvent("eventAdded")})),g.eventEmitter.addListener("openPopup",(function(){b.sendChildEvent("endedChat",[{sender:"endButton"}]),g.popupWidget.init(g),g.viewHandler.removeUnreadIndicator(),b.sendChildEvent("shownWidget",[{sender:"closeButton"}]),g.widgetStatus.next(!1)})),g.eventEmitter.addListener("chatStarted",(function(t,e){g.widgetDimesions.nextProperty("height_override",null),"popup"!==e?g.userSession.setChatInformation(t):"popup"==e&&g.mainWidget.hide(),!1===g.fresh&&"popup"!==e&&g.storageHandler.storeSessionInformation(g.userSession.getSessionAttributes())})),g.eventEmitter.addListener("subscribeEvent",(function(t){g.chatNotifications.setPublicKey(t.pk,g.eventEmitter),g.chatNotifications.sendNotification()})),g.eventEmitter.addListener("subcribedEvent",(function(t){b.sendChildEvent("subcribedEvent",[t])})),g.widgetStatus.subscribe((function(t){"popup"!==g.mode&&(g.storageHandler.setSessionStorage("LHC_WS",t),b.sendChildEvent("widgetStatus",[t]))})),g.toggleSound.subscribe((function(t){g.storageHandler.setSessionStorage("LHC_SOUND",t)})),g.onlineStatus.subscribe((function(t){b.sendChildEvent("onlineStatus",[t])})),g.eventEmitter.addListener("screenshot",(function(t){l.makeScreenshot(g.staticJS.screenshot,t)})),g.eventEmitter.addListener("screenshare",(function(t){i.e(7).then(i.t.bind(null,33,7)).then((function(e){e.screenShare.setParams(t||{},g,b)}))})),g.eventEmitter.addListener("location",(function(t){document.location=t})),g.eventEmitter.addListener("showInvitation",(function(t){g.widgetDimesions.nextProperty("bottom_override",75),g.widgetDimesions.nextProperty("right_override",75),g.mainWidget.showInvitation()})),g.eventEmitter.addListener("hideInvitation",(function(t){g.mainWidget.hideInvitation(),t.full?(g.eventEmitter.emitEvent("showWidget",[{sender:"closeButton"}]),g.eventEmitter.emitEvent("fullInvitation",[t])):g.eventEmitter.emitEvent("cancelInvitation",[])})),g.originalTitle=document.title,g.blinkInterval=null,g.eventEmitter.addListener("unread_message_title",(function(t){clearInterval(g.blinkInterval),0==t.status?g.blinkInterval=setInterval((function(){document.title=Math.round((new Date).getTime()/1e3)%2?"ðŸ’¬ "+g.originalTitle:g.originalTitle}),1e3):(g.focused=!0,document.title=g.originalTitle)})),g.eventEmitter.addListener("widgetHeight",(function(e){if(e.reset_height)return g.widgetDimesions.nextProperty("height_override",null),g.widgetDimesions.nextProperty("bottom_override",null),g.widgetDimesions.nextProperty("right_override",null),void g.widgetDimesions.nextProperty("width_override",null);if(e.force_height||e.force_width)return e.force_height&&g.widgetDimesions.nextProperty("height_override",e.force_height),void(e.force_width&&g.widgetDimesions.nextProperty("width_override",e.force_width));if("widget"==g.mode&&0==g.isMobile){var i=document,n=i.documentElement,r=i.getElementsByTagName("body")[0],o=t.innerHeight||n.clientHeight||r.clientHeight;parseInt(e.height)>g.widgetDimesions.value.height&&o>parseInt(e.height)?g.widgetDimesions.nextProperty("height_override",parseInt(e.height)):g.widgetDimesions.value.height_override&&g.widgetDimesions.value.height_override>o&&g.widgetDimesions.nextProperty("height_override",null)}})),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",(function(t){void 0!==t.data.lhc_ch&&void 0!==t.data.lhc_cid&&(g.widgetStatus.next(!0),"popup"==g.mode?(g.userSession.setChatInformation({id:t.data.lhc_cid,hash:t.data.lhc_ch}),g.eventEmitter.emitEvent("unread_message")):(b.sendChildEvent("shownWidget",[{sender:"closeButton"}]),b.sendChildEvent("reopenNotification",[{id:t.data.lhc_cid,hash:t.data.lhc_ch}])))}));var w=function(t){if("string"==typeof t.data&&!t.data.indexOf("lhc::")){var i=t.data.split("::");if(void 0!==t.origin){var n=t.origin.replace("http://","").replace("https://","").replace(/:(\d+)$/,"");if(n!==document.domain&&g.domain_lhc!==n)return}if("ready"==i[1]){b.sendReadyEvent("true"==i[2]),g.storageHandler.getSessionStorage("LHC_screenshare")&&g.eventEmitter.emitEvent("screenshare",[{auto_start:!0}]);var r=function(t){var e="focus"===t.type;g.focused=e,b.sendChildEvent("focus_changed",[{status:e}])};window.addEventListener("focus",r),window.addEventListener("blur",r),window.addEventListener("pageshow",r),window.addEventListener("pagehide",r),e.loaded=!0,b.sendChildEvent("ext_modules",[g.staticJS.ex_cb_js]),g.childExtCommands.forEach((function(t){b.sendChildEvent(t.cmd,[t.arg],"lhc_load_ext")})),g.childCommands.forEach((function(t){b.sendChildEvent(t.cmd,[t.arg])}))}else"ready_popup"==i[1]?g.popupWidget.sendParameters(b):g.eventEmitter.emitEvent(i[1],JSON.parse(i[2]))}};window.addEventListener?window.addEventListener("message",w,!1):window.attachEvent?window.attachEvent("onmessage",w):document.attachEvent&&document.attachEvent("onmessage",w)}},r=i(2).domEventsHandler;n(),!e.ready||(r.listen(document,"DOMContentLoaded",(function(){n()}),"domloaded"),r.listen(document,"readystatechange",(function(){("complete"===document.readyState||"interactive"===document.readyState&&document.body)&&n()}),"domstatechange"),r.listen(t,"load",(function(){n()}),"windowload"))}.call(this,window.$_LHC))}(window)},function(t,e,i){"use strict";t.exports=i(10)},function(t,e,i){"use strict";t.exports=i(0),i(11),i(12),i(13),i(14),i(16)},function(t,e,i){"use strict";var n=i(0);t.exports=n,n.prototype.done=function(t,e){var i=arguments.length?this.then.apply(this,arguments):this;i.then(null,(function(t){setTimeout((function(){throw t}),0)}))}},function(t,e,i){"use strict";var n=i(0);t.exports=n,n.prototype.finally=function(t){return this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))}))}},function(t,e,i){"use strict";var n=i(0);t.exports=n;var r=c(!0),o=c(!1),s=c(null),a=c(void 0),u=c(0),l=c("");function c(t){var e=new n(n._n);return e._i=1,e._j=t,e}n.resolve=function(t){if(t instanceof n)return t;if(null===t)return s;if(void 0===t)return a;if(!0===t)return r;if(!1===t)return o;if(0===t)return u;if(""===t)return l;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new n(e.bind(t))}catch(t){return new n((function(e,i){i(t)}))}return c(t)},n.all=function(t){var e=Array.prototype.slice.call(t);return new n((function(t,i){if(0===e.length)return t([]);var r=e.length;function o(s,a){if(a&&("object"==typeof a||"function"==typeof a)){if(a instanceof n&&a.then===n.prototype.then){for(;3===a._i;)a=a._j;return 1===a._i?o(s,a._j):(2===a._i&&i(a._j),void a.then((function(t){o(s,t)}),i))}var u=a.then;if("function"==typeof u)return void new n(u.bind(a)).then((function(t){o(s,t)}),i)}e[s]=a,0==--r&&t(e)}for(var s=0;s<e.length;s++)o(s,e[s])}))},n.reject=function(t){return new n((function(e,i){i(t)}))},n.race=function(t){return new n((function(e,i){t.forEach((function(t){n.resolve(t).then(e,i)}))}))},n.prototype.catch=function(t){return this.then(null,t)}},function(t,e,i){"use strict";var n=i(0),r=i(15);t.exports=n,n.denodeify=function(t,e){return"number"==typeof e&&e!==1/0?function(t,e){for(var i=[],r=0;r<e;r++)i.push("a"+r);var s=["return function ("+i.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(i).concat([o]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],s)(n,t)}(t,e):function(t){for(var e=Math.max(t.length-1,3),i=[],r=0;r<e;r++)i.push("a"+r);var s=["return function ("+i.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+e+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+o+";","var res;","switch (argLength) {",i.concat(["extra"]).map((function(t,e){return"case "+e+":res = fn.call("+["self"].concat(i.slice(0,e)).concat("cb").join(",")+");break;"})).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],s)(n,t)}(t)};var o="function (err, res) {if (err) { rj(err); } else { rs(res); }}";n.nodeify=function(t){return function(){var e=Array.prototype.slice.call(arguments),i="function"==typeof e[e.length-1]?e.pop():null,o=this;try{return t.apply(this,arguments).nodeify(i,o)}catch(t){if(null==i)return new n((function(e,i){i(t)}));r((function(){i.call(o,t)}))}}},n.prototype.nodeify=function(t,e){if("function"!=typeof t)return this;this.then((function(i){r((function(){t.call(e,null,i)}))}),(function(i){r((function(){t.call(e,i)}))}))}},function(t,e,i){"use strict";var n=i(5),r=[],o=[],s=n.makeRequestCallFromTimer((function(){if(o.length)throw o.shift()}));function a(t){var e;(e=r.length?r.pop():new u).task=t,n(e)}function u(){this.task=null}t.exports=a,u.prototype.call=function(){try{this.task.call()}catch(t){a.onerror?a.onerror(t):(o.push(t),s())}finally{this.task=null,r[r.length]=this}}},function(t,e,i){"use strict";var n=i(0);t.exports=n,n.enableSynchronous=function(){n.prototype.isPending=function(){return 0==this.getState()},n.prototype.isFulfilled=function(){return 1==this.getState()},n.prototype.isRejected=function(){return 2==this.getState()},n.prototype.getValue=function(){if(3===this._i)return this._j.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._j},n.prototype.getReason=function(){if(3===this._i)return this._j.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._j},n.prototype.getState=function(){return 3===this._i?this._j.getState():-1===this._i||-2===this._i?0:this._i}},n.disableSynchronous=function(){n.prototype.isPending=void 0,n.prototype.isFulfilled=void 0,n.prototype.isRejected=void 0,n.prototype.getValue=void 0,n.prototype.getReason=void 0,n.prototype.getState=void 0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.monitoredVariable=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.valueInternal=e,this.listeners=[],this.params=i||{}}return n(t,[{key:"next",value:function(t){this.valueInternal=t,this.callListeners()}},{key:"nextProperty",value:function(t,e){this.valueInternal[t]=e,this.callListeners()}},{key:"callListeners",value:function(){var t=this;this.listeners.forEach((function(e){e&&"function"==typeof e&&e(t.valueInternal)}))}},{key:"unsubscribe",value:function(t){-1!==this.listeners.indexOf(t)&&this.listeners.splice(this.listeners.indexOf(t),1)}},{key:"subscribe",value:function(t){this.listeners.push(t),this.params.ignore_sub||t(this.valueInternal)}},{key:"value",get:function(){return this.valueInternal},set:function(t){this.next(t)}}]),t}()},function(t,e,i){var n;
/*!
 * EventEmitter v5.2.9 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */!function(e){"use strict";function r(){}var o=r.prototype,s=e.EventEmitter;function a(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function u(t){return function(){return this[t].apply(this,arguments)}}o.getListeners=function(t){var e,i,n=this._getEvents();if(t instanceof RegExp)for(i in e={},n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i]);else e=n[t]||(n[t]=[]);return e},o.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},o.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&((e={})[t]=i),e||i},o.addListener=function(t,e){if(!function t(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&t(e.listener)}(e))throw new TypeError("listener must be a function");var i,n=this.getListenersAsObject(t),r="object"==typeof e;for(i in n)n.hasOwnProperty(i)&&-1===a(n[i],e)&&n[i].push(r?e:{listener:e,once:!1});return this},o.on=u("addListener"),o.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},o.once=u("addOnceListener"),o.defineEvent=function(t){return this.getListeners(t),this},o.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},o.removeListener=function(t,e){var i,n,r=this.getListenersAsObject(t);for(n in r)r.hasOwnProperty(n)&&-1!==(i=a(r[n],e))&&r[n].splice(i,1);return this},o.off=u("removeListener"),o.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},o.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},o.manipulateListeners=function(t,e,i){var n,r,o=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)o.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(r=e[n])&&("function"==typeof r?o.call(this,n,r):s.call(this,n,r));return this},o.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if(t instanceof RegExp)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},o.removeAllListeners=u("removeEvent"),o.emitEvent=function(t,e){var i,n,r,o,s=this.getListenersAsObject(t);for(o in s)if(s.hasOwnProperty(o))for(i=s[o].slice(0),r=0;r<i.length;r++)!0===(n=i[r]).once&&this.removeListener(t,n.listener),n.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},o.trigger=u("emitEvent"),o.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},o.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},o._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},o._getEvents=function(){return this._events||(this._events={})},r.noConflict=function(){return e.EventEmitter=s,r},void 0===(n=function(){return r}.call(e,i,e,t))||(t.exports=n)}("undefined"!=typeof window?window:this||{})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.statusWidget=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=(i(3),i(4)),o=i(1);e.statusWidget=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.attributes={},this.controlMode=!1,this.cont=new r.UIConstructorIframe("lhc_status_widget_v2",o.helperFunctions.getAbstractStyle({zindex:"2147483640",width:"95px",height:"95px",position:"fixed",display:"none",bottom:"10px",right:"10px",maxheight:"95px",maxwidth:"95px",minheight:"95px",minwidth:"95px"}),null,"iframe"),this.loadStatus={main:!1,theme:!1}}return n(t,[{key:"toggleOfflineIcon",value:function(t){var e=this.cont.getElementById("status-icon");t?(this.attributes.leaveMessage||this.show(),o.helperFunctions.removeClass(e,"offline-status")):this.attributes.leaveMessage?o.helperFunctions.addClass(e,"offline-status"):this.hide()}},{key:"checkLoadStatus",value:function(){1==this.loadStatus.theme&&1==this.loadStatus.main&&(this.cont.getElementById("lhc_status_container").style.display="")}},{key:"init",value:function(t){var e=this;this.attributes=t,this.cont.tmpl='<div id="lhc_status_container" class="'+(!0===this.attributes.isMobile?"lhc-mobile":"lhc-desktop")+'" style="display: none"><i title="New messages" id="unread-msg-number">!</i><i id="status-icon" class="offline-status" href="#"></i></div>',this.cont.constructUIIframe(""),this.cont.elmDom.className=!0===this.attributes.isMobile?"lhc-mobile":"lhc-desktop";var i=this;this.cont.attachUserEventListener("click",(function(e){!1===t.onlineStatus.value&&null!==t.offline_redirect?document.location=t.offline_redirect:1==i.controlMode?t.eventEmitter.emitEvent("closeWidget",[{sender:"closeButton"}]):(t.eventEmitter.emitEvent("showWidget",[]),t.eventEmitter.emitEvent("clickAction"))}),"lhc_status_container","minifiedclick"),this.attributes.staticJS.fontCSS&&this.cont.insertCssRemoteFile({crossOrigin:"anonymous",href:this.attributes.staticJS.fontCSS}),this.attributes.staticJS.font_status&&this.cont.insertCssRemoteFile({as:"font",rel:"preload",type:"font/woff",crossOrigin:"anonymous",href:this.attributes.staticJS.font_status}),this.attributes.theme>0?(this.loadStatus.theme=!1,this.cont.insertCssRemoteFile({onload:function(){e.loadStatus.theme=!0,e.checkLoadStatus()},crossOrigin:"anonymous",href:LHC_API.args.lhc_base_url+"/widgetrestapi/themestatus/"+this.attributes.theme+"?v="+this.attributes.theme_v},!0)):this.loadStatus.theme=!0,this.cont.insertCssRemoteFile({onload:function(){e.loadStatus.main=!0,e.checkLoadStatus()},crossOrigin:"anonymous",href:this.attributes.staticJS.status_css}),this.attributes.staticJS.page_css&&o.helperFunctions.insertCssRemoteFile({crossOrigin:"anonymous",href:LHC_API.args.lhc_base_url+"/widgetrestapi/themepage/"+this.attributes.theme+"?v="+this.attributes.theme_v}),t.onlineStatus.subscribe((function(t){return e.toggleOfflineIcon(t)})),"popup"!==this.attributes.mode?t.widgetStatus.subscribe((function(t){var i=e.attributes.userSession.getSessionAttributes();1==t||!e.attributes.leaveMessage&&0==e.attributes.onlineStatus.value&&!i.id?e.hide():e.show()})):this.show(),t.eventEmitter.addListener("unread_message",(function(){e.showUnreadIndicator()})),"1"==t.storageHandler.getSessionStorage("LHC_UNR")&&this.showUnreadIndicator()}},{key:"hide",value:function(){if(this.removeUnreadIndicator(),!0===this.attributes.clinst&&0==this.attributes.isMobile){var t=this.attributes.userSession.getSessionAttributes();if(1==this.attributes.leaveMessage||1==this.attributes.onlineStatus.value||t.id){("api"!=this.attributes.position||"api"==this.attributes.position&&t.id&&t.hash)&&this.cont.show(),this.controlMode=!0;var e=this.cont.getElementById("status-icon");return void o.helperFunctions.addClass(e,"close-status")}}this.cont.hide()}},{key:"showUnreadIndicator",value:function(){var t=this.cont.getElementById("lhc_status_container");o.helperFunctions.addClass(t,"has-uread-message"),this.attributes.storageHandler.setSessionStorage("LHC_UNR","1")}},{key:"removeUnreadIndicator",value:function(){var t=this.cont.getElementById("lhc_status_container");o.helperFunctions.removeClass(t,"has-uread-message"),this.attributes.storageHandler.removeSessionStorage("LHC_UNR")}},{key:"show",value:function(){if(!1===this.attributes.hideOffline){var t=this.attributes.userSession.getSessionAttributes();if(!0===this.attributes.clinst&&0==this.attributes.isMobile){var e=this.cont.getElementById("status-icon");o.helperFunctions.removeClass(e,"close-status"),this.controlMode=!1}("api"!=this.attributes.position||"api"==this.attributes.position&&t.id&&t.hash)&&this.cont.show()}else this.cont.hide()}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mainWidget=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(4),o=i(1);e.mainWidget=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.attributes={},this.width="350",this.height="520",this.bottom="30",this.right="30",this.units="px",this.originalCSS="",this.cont=new r.UIConstructorIframe("lhc_widget_v2",o.helperFunctions.getAbstractStyle({zindex:"2147483640",width:"95px",height:"95px",position:"fixed",display:"none",bottom:"10px",right:"10px",maxheight:"95px",maxwidth:"95px",minheight:"95px",minwidth:"95px"}),null,"iframe"),this.isLoaded=!1}return n(t,[{key:"resize",value:function(){var t={height:this.height+this.units+" !important","min-height":this.height+this.units+" !important","max-height":this.height+this.units+" !important",width:this.width+this.units+" !important","min-width":this.width+this.units+" !important","max-width":this.width+this.units+" !important",bottom:"px"==this.units?this.bottom+"px":"0px",right:"px"==this.units?this.right+"px":"0px"};"embed"==this.attributes.mode&&(t["max-width"]="100%",t["min-width"]="100%",t.width="100%",t.position="relative",t.bottom="auto",t.right="auto"),this.cont.massRestyle(t)}},{key:"init",value:function(t,e){var i=this;this.attributes=t,this.cont.bodyId="chat-widget",this.cont.tmpl='<div id="root" class="container-fluid d-flex flex-column flex-grow-1 overflow-auto fade-in '+(!0===this.attributes.isMobile?"lhc-mobile":"lhc-desktop")+'"></div>',this.cont.constructUIIframe("",this.attributes.staticJS.dir,this.attributes.staticJS.cl,this.attributes.hhtml),this.cont.elmDom.className=!0===this.attributes.isMobile?"lhc-mobile":"lhc-desktop",this.attributes.cont_ss&&(this.originalCSS=this.cont.elmDom.style.cssText,this.cont.elmDom.style.cssText+=this.attributes.cont_ss),!this.attributes.userSession.getSessionAttributes().id&&e||this.bootstrap(),this.toggleVisibilityWrap=function(t){i.toggleVisibility(t)},t.widgetStatus.subscribe(this.toggleVisibilityWrap),this.monitorDimensionsWrap=function(t){i.monitorDimensions(t)},t.widgetDimesions.subscribe(this.monitorDimensionsWrap)}},{key:"bootstrap",value:function(){var t=this;!0!==this.isLoaded&&(this.isLoaded=!0,this.attributes.staticJS.fontCSS&&this.cont.insertCssRemoteFile({rel:"stylesheet",crossOrigin:"anonymous",href:this.attributes.staticJS.fontCSS}),this.attributes.staticJS.font_widget&&this.cont.insertCssRemoteFile({as:"font",rel:"preload",type:"font/woff2",crossOrigin:"anonymous",href:this.attributes.staticJS.font_widget}),this.attributes.theme>0&&this.cont.insertCssRemoteFile({crossOrigin:"anonymous",href:LHC_API.args.lhc_base_url+"/widgetrestapi/theme/"+this.attributes.theme+"?v="+this.attributes.theme_v},!0),this.cont.insertCssRemoteFile({crossOrigin:"anonymous",href:this.attributes.staticJS.widget_css},!0),1==this.attributes.isMobile&&"widget"==this.attributes.mode&&this.cont.insertCssRemoteFile({crossOrigin:"anonymous",href:this.attributes.staticJS.widget_mobile_css}),"embed"==this.attributes.mode&&this.cont.insertCssRemoteFile({crossOrigin:"anonymous",href:this.attributes.staticJS.embed_css}),this.cont.insertJSFile(this.attributes.staticJS.app,!1),this.attributes.staticJS.ex_js&&this.attributes.staticJS.ex_js.length>0&&this.attributes.staticJS.ex_js.forEach((function(e){t.cont.insertJSFile(e,!1)})))}},{key:"toggleVisibility",value:function(t){0==t?this.hide():this.show()}},{key:"monitorDimensions",value:function(t){this.width=t.width_override||t.width,this.height=t.height_override||t.height,this.bottom=t.bottom_override?t.bottom_override+(t.wbottom?t.wbottom:0):30+(!0===this.attributes.clinst?70:0)+(t.wbottom?t.wbottom:0),this.right=t.right_override?t.right_override+(t.wright_inv?t.wright_inv:0):30+(t.wright?t.wright:0),this.units=t.width_override||t.height_override||t.bottom_override||t.right_override?"px":t.units,this.resize()}},{key:"hide",value:function(){this.cont.hide()}},{key:"hideInvitation",value:function(){this.attributes.cont_ss&&(this.cont.elmDom.style.cssText+=this.attributes.cont_ss)}},{key:"showInvitation",value:function(){this.attributes.cont_ss&&(this.cont.elmDom.style.cssText=this.originalCSS),this.show()}},{key:"show",value:function(){!1===this.isLoaded&&this.bootstrap(),this.cont.show()}}]),t}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var mainWidgetPopup=exports.mainWidgetPopup=function(){function mainWidgetPopup(){_classCallCheck(this,mainWidgetPopup),this.attributes={},this.width=null,this.height=null,this.units="px",this.freeup()}return _createClass(mainWidgetPopup,[{key:"freeup",value:function(){this.cont={}}},{key:"parseOptions",value:function(){var t=new Array,e="";if("undefined"!=typeof LHCChatOptions){if(void 0!==LHCChatOptions.attr&&LHCChatOptions.attr.length>0)for(var i in LHCChatOptions.attr)void 0!==LHCChatOptions.attr[i]&&void 0!==LHCChatOptions.attr[i].type&&t.push("name[]="+encodeURIComponent(LHCChatOptions.attr[i].name)+"&encattr[]="+(void 0!==LHCChatOptions.attr[i].encrypted&&1==LHCChatOptions.attr[i].encrypted?"t":"f")+"&value[]="+encodeURIComponent(LHCChatOptions.attr[i].value)+"&type[]="+encodeURIComponent(LHCChatOptions.attr[i].type)+"&size[]="+encodeURIComponent(LHCChatOptions.attr[i].size)+"&req[]="+(void 0!==LHCChatOptions.attr[i].req&&1==LHCChatOptions.attr[i].req?"t":"f")+"&sh[]="+(void 0===LHCChatOptions.attr[i].show||"on"!=LHCChatOptions.attr[i].show&&"off"!=LHCChatOptions.attr[i].show?"b":LHCChatOptions.attr[i].show));if(void 0!==LHCChatOptions.attr_prefill&&LHCChatOptions.attr_prefill.length>0)for(var i in LHCChatOptions.attr_prefill)void 0!==LHCChatOptions.attr_prefill[i]&&void 0!==LHCChatOptions.attr_prefill[i].name&&t.push("prefill["+LHCChatOptions.attr_prefill[i].name+"]="+encodeURIComponent(LHCChatOptions.attr_prefill[i].value));if(void 0!==LHCChatOptions.attr_prefill_admin&&LHCChatOptions.attr_prefill_admin.length>0)for(var i in LHCChatOptions.attr_prefill_admin)void 0!==LHCChatOptions.attr_prefill_admin[i]&&t.push("value_items_admin["+LHCChatOptions.attr_prefill_admin[i].index+"]="+encodeURIComponent(LHCChatOptions.attr_prefill_admin[i].value));t.length>0&&(e="&"+t.join("&"))}return e}},{key:"init",value:function(t){if(this.cont.elementReferrerPopup&&!1===this.cont.elementReferrerPopup.closed)this.cont.elementReferrerPopup.focus();else{this.attributes=t;var e={static_chat:this.attributes.userSession.getSessionAttributes()},i="";e.static_chat.id&&e.static_chat.hash&&(i=i+"/(id)/"+e.static_chat.id+"/(hash)/"+e.static_chat.hash),null!==this.attributes.theme&&(i=i+"/(theme)/"+this.attributes.theme),null!==e.static_chat.vid&&(i=i+"/(vid)/"+e.static_chat.vid),this.attributes.isMobile&&(i+="/(mobile)/true"),this.attributes.department.length>0&&(i=i+"/(department)/"+this.attributes.department.join("/")),""!=this.attributes.identifier&&(i=i+"/(identifier)/"+this.attributes.identifier),null!==this.attributes.operator&&(i=i+"/(operator)/"+this.attributes.operator),null!==this.attributes.survey&&(i=i+"/(survey)/"+this.attributes.survey),null!==this.attributes.priority&&(i=i+"/(priority)/"+this.attributes.priority),i=i+"/(sound)/"+(1==this.attributes.toggleSound.value?1:0),this.attributes.proactive.invitation&&(i=i+"/(inv)/"+this.attributes.proactive.invitation,"popup"==this.attributes.mode&&this.attributes.storageHandler.setSessionStorage("LHC_invt",1)),i=null!==this.attributes.userSession.getSessionReferrer()&&""!=this.attributes.userSession.getSessionReferrer()?i+"?ses_ref="+this.attributes.userSession.getSessionReferrer()+this.parseOptions():i+"?"+this.parseOptions(),this.cont.elementReferrerPopup=window.open(this.attributes.base_url+this.attributes.lang+"chat/start"+i,"lhc_popup_v2","scrollbars=yes,menubar=1,resizable=1,width="+this.attributes.popupDimesnions.pwidth+",height="+this.attributes.popupDimesnions.pheight)}}},{key:"sendParameters",value:function sendParameters(chatEvents){if(this.cont.elementReferrerPopup&&!1===this.cont.elementReferrerPopup.closed){var js_vars=this.attributes.jsVars.value,js_args={},currentVar=null;for(var index in js_vars)try{currentVar=eval(js_vars[index].var),null!=currentVar&&""!==currentVar&&(js_args[js_vars[index].id]=currentVar)}catch(t){}chatEvents.sendChildEvent("jsVars",[js_args])}}}]),mainWidgetPopup}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.containerChat=void 0;var n=i(6);e.containerChat=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cont=new n.UIConsturctor("lhc_container_v2","border: 0 none !important; padding: 0 !important; margin: 0 !important; z-index: 999999999 !important; overflow : visible !important; min-width: 0 !important; min-height: 0 !important; max-width: none !important; max-height: none !important; width : auto !important; height : auto !important;"),this.cont.constructUI(),document.body.appendChild(this.cont.elmDom)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var userSession=exports.userSession=function(){function userSession(){_classCallCheck(this,userSession),this.vid=null,this.hnh=null,this.ref=null,this.id=null,this.hash=null,this.jsVars=[],this.updateVarsTimeout=null,this.JSON={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(t){return String(t).evalJSON()}||$.parseJSON||$.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||$.toJSON}}return _createClass(userSession,[{key:"setSessionReferrer",value:function(t){this.ref=t}},{key:"getSessionReferrer",value:function(){return this.ref}},{key:"getVID",value:function(){return this.vid}},{key:"setVID",value:function(t){this.vid=t}},{key:"setSessionInformation",value:function(t){this.vid=t.vid||null,this.hnh=t.hnh||null,this.hash=t.hash||null,this.id=t.id||null}},{key:"getSessionAttributes",value:function(){var t={};return null!==this.vid&&(t.vid=this.vid),null!==this.hnh&&(t.hnh=this.hnh),null!==this.id&&(t.id=this.id),null!==this.hash&&(t.hash=this.hash),t}},{key:"setupVarsMonitoring",value:function(t,e){var i=this;this.jsVars=t;try{if("undefined"!=typeof lhc_var)lhc_var=new Proxy(lhc_var,{set:function(t,n,r){return t[n]=r,clearTimeout(i.updateVarsTimeout),i.updateVarsTimeout=setTimeout((function(){i.updateJSVars(t,e)}),1e3),!0}}),this.updateJSVars(lhc_var)}catch(t){console.log(t)}}},{key:"getVars",value:function getVars(){if(this.jsVars.length>0){var js_args={},currentVar=null;for(var index in this.jsVars)try{currentVar=eval(this.jsVars[index].var),null!=currentVar&&""!==currentVar&&(js_args[this.jsVars[index].id]=currentVar)}catch(t){}return js_args}return null}},{key:"getAppendVariables",value:function(){var t="";return null!==this.vid&&(t=t+"/(vid)/"+this.vid),null!==this.hash&&null!==this.id&&(t=t+"/(hash)/"+this.id+"_"+this.hash),t}},{key:"updateJSVars",value:function(t,e){var i=this.getVars(t),n=new XMLHttpRequest;n.open("POST",LHC_API.args.lhc_base_url+"/chat/updatejsvars"+this.getAppendVariables(),!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send("data="+encodeURIComponent(this.JSON.stringify(i))),void 0!==e&&null===this.hash&&null===this.id&&e(i)}},{key:"setChatInformation",value:function(t){this.id=t.id,this.hash=t.hash,this.hnh=Math.round(Date.now()/1e3)}}]),userSession}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.storageHandler=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.window=e,this.hasSessionStorage=!!this.window.sessionStorage,this.domain=i,this.secureCookie=!1,this.cookiePerPage=!1}return n(t,[{key:"setCookieDomain",value:function(t){this.domain=t}},{key:"setCookiePerPage",value:function(t){this.cookiePerPage=t}},{key:"getCookieDomain",value:function(){return this.domain?"."+this.domain:null}},{key:"setSecureCookie",value:function(t){this.secureCookie=t}},{key:"setHTTPCookie",value:function(t,e,i,n){var r="";i||((i=new Date).setTime(i.getTime()+15552e6),r="; expires="+i.toGMTString()),document.cookie=t+"="+e+r+(!1===this.cookiePerPage?"; path=/":!0===this.cookiePerPage?"":"; path="+this.cookiePerPage)+(this.secureCookie?";secure":"")+(n?";domain="+n:"")+";SameSite=Lax"}},{key:"getHTTPCookie",value:function(t){var e,i,n=[],r=t+"=",o=document.cookie.split(";");for(t=0,e=o.length;t<e;t++){for(i=o[t];" "===i.charAt(0);)i=i.substring(1,i.length);0===i.indexOf(r)&&n.push(i.substring(r.length,i.length))}if(2==n.length){var s=window.location.hostname||document.location.host,a=r+"0;expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";s&&(document.cookie=a,document.cookie=a+"; domain=."+s)}return n}},{key:"setSessionStorage",value:function(t,e){if(this.hasSessionStorage&&sessionStorage.setItem)try{sessionStorage.setItem(t,e)}catch(t){}}},{key:"removeSessionStorage",value:function(t){if(this.hasSessionStorage&&sessionStorage.removeItem)try{sessionStorage.removeItem(t)}catch(t){}}},{key:"getSessionStorage",value:function(t){return this.hasSessionStorage&&sessionStorage.getItem?sessionStorage.getItem(t):null}},{key:"setSessionReferer",value:function(t){this.getSessionStorage("lhc_ref")||this.setSessionStorage("lhc_ref",t)}},{key:"getSessionReferrer",value:function(){return this.getSessionStorage("lhc_ref")}},{key:"getSessionInformation",value:function(){var t;return this.sessionInformation&&(t=this.sessionInformation),t||(t=this.getHTTPCookie("lhc_per")[0]),this.parseSessionInformation(t)}},{key:"getStoreValue",value:function(t){var e=[];return Object.keys(t).forEach((function(i){var n=t[i];e.push(i+"|"+n)})),e.join("|")}},{key:"storeSessionInformation",value:function(t){this.setHTTPCookie("lhc_per",this.getStoreValue(t),!1,this.getCookieDomain()),this.sessionInformation=t}},{key:"parseSessionInformation",value:function(t){if(t&&-1!==t.indexOf("|")){for(var e={},i=t.split("|"),n=0;n<i.length/2;n++)e[i[2*n]]=i[2*n+1];return e}return t?JSON.parse(unescape(t)):{}}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var r=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.isNotificationsSubscribed=!1,this.applicationServerPublicKey=null,this.eventEmitter=null}return n(t,[{key:"setPublicKey",value:function(t,e){this.applicationServerPublicKey=t,this.eventEmitter=e}},{key:"sendNotification",value:function(){var t=this,e=this.applicationServerPublicKey,i=null;if("serviceWorker"in navigator&&"PushManager"in window)if("Notification"in window){if("granted"===Notification.permission);else if("denied"!==Notification.permission)Notification.requestPermission((function(t){"granted"===t||alert("Sorry but you have denied notification!")}));else if("denied"===Notification.permission)return void alert("Sorry but you have denied notification!");t=this;navigator.serviceWorker.register("/sw.lhc.js?v=2").then((function(e){(i=e).pushManager.getSubscription().then((function(e){t.isNotificationsSubscribed=!(null===e),t.isNotificationsSubscribed,r()}))}))}else alert("This browser does not support desktop notification");else alert("This browser does not support desktop notification");function n(e,i){if(null!==e){var n=e.getKey("p256dh"),r=e.getKey("auth"),o=(PushManager.supportedContentEncodings||["aesgcm"])[0],s=JSON.stringify({endpoint:e.endpoint,publicKey:n?btoa(String.fromCharCode.apply(null,new Uint8Array(n))):null,authToken:r?btoa(String.fromCharCode.apply(null,new Uint8Array(r))):null,contentEncoding:o});t.eventEmitter.emitEvent("subcribedEvent",[{payload:s}])}}function r(){var r=function(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(e),n=new Uint8Array(i.length),r=0;r<i.length;++r)n[r]=i.charCodeAt(r);return n}(e);i.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:r}).then((function(e){n(e),t.isNotificationsSubscribed=!0}))}}}]),t}());e.chatNotifications=r},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var chatEventsHandler=function(){function chatEventsHandler(t){_classCallCheck(this,chatEventsHandler),this.attributes=t}return _createClass(chatEventsHandler,[{key:"getJSVarsValues",value:function getJSVarsValues(jsVars){var js_args={};if(jsVars.length>0){var currentVar=null;for(var index in jsVars)try{currentVar=eval("window."+jsVars[index].var),null!=currentVar&&""!==currentVar&&(js_args[jsVars[index].id]=currentVar)}catch(t){}return js_args}return js_args}},{key:"getInitAttributes",value:function(){var t={onlineStatus:this.attributes.onlineStatus.value,toggleSound:this.attributes.toggleSound.value,widgetStatus:this.attributes.widgetStatus.value,jsVars:this.getJSVarsValues(this.attributes.jsVars.value),isMobile:this.attributes.isMobile,department:this.attributes.department,product:this.attributes.product,theme:this.attributes.theme,base_url:this.attributes.base_url,mode:this.attributes.mode,captcha:this.attributes.captcha,staticJS:this.attributes.staticJS,static_chat:this.attributes.userSession.getSessionAttributes(),domain_lhc:this.attributes.domain_lhc};if(1==this.attributes.fresh&&(t.static_chat.id&&delete t.static_chat.id,t.static_chat.hash&&delete t.static_chat.hash),""!=this.attributes.bot_id&&(t.bot_id=this.attributes.bot_id),""!=this.attributes.priority&&(t.priority=this.attributes.priority),null!==this.attributes.phash&&(t.phash=this.attributes.phash),null!==this.attributes.survey&&(t.survey=this.attributes.survey),null!==this.attributes.pvhash&&(t.pvhash=this.attributes.pvhash),null!==this.attributes.operator&&(t.operator=this.attributes.operator),""!=this.attributes.lang&&(t.lang=this.attributes.lang),this.attributes.proactive.invitation&&(t.proactive=this.attributes.proactive),window.LHCChatOptions&&window.LHCChatOptions.attr){var e=window.LHCChatOptions.attr,i=[];e.forEach((function(t,e){i.push({show:void 0===t.show||"on"!=t.show&&"off"!=t.show?"b":t.show,value:t.value,index:e,name:t.name,class:"form-control form-control-sm",type:t.type,identifier:"additional_"+e,placeholder:"",width:t.size||6,encrypted:t.encrypted||!1,required:t.req||!1,label:t.name})})),t.CUSTOM_FIELDS=i}if(window.LHCChatOptions&&window.LHCChatOptions.attr_prefill){e=window.LHCChatOptions.attr_prefill;var n=[];e.forEach((function(t){"email"==t.name?n.push({Email:t.value}):"username"==t.name?n.push({Username:t.value}):"phone"==t.name?n.push({Phone:t.value}):"question"==t.name&&n.push({Question:t.value})})),t.attr_prefill=n}if(window.LHCChatOptions&&window.LHCChatOptions.attr_prefill_admin){e=window.LHCChatOptions.attr_prefill_admin;var r=[];e.forEach((function(t){r.push({value:t.value,index:t.index})})),t.attr_prefill_admin=r}return null!==this.attributes.userSession.getSessionReferrer()&&(t.ses_ref=this.attributes.userSession.getSessionReferrer()),t}},{key:"sendChildCommand",value:function(t){this.attributes.mainWidget.cont.elmDom&&this.attributes.mainWidget.cont.elmDom.contentWindow&&this.attributes.mainWidget.cont.elmDom.contentWindow.postMessage(t,"/"),this.attributes.popupWidget.cont.elementReferrerPopup&&!1===this.attributes.popupWidget.cont.elementReferrerPopup.closed&&this.attributes.popupWidget.cont.elementReferrerPopup.postMessage(t,"*")}},{key:"sendReadyEvent",value:function(t){var e=this.getInitAttributes();!0!==t&&this.attributes.mainWidget.cont.elmDom&&this.attributes.mainWidget.cont.elmDom.contentWindow&&this.attributes.mainWidget.cont.elmDom.contentWindow.postMessage("lhc_init:"+JSON.stringify(e),"/")}},{key:"sendChildEvent",value:function(t,e,i){void 0===i&&(i="lhc_event"),this.sendChildCommand(i+":"+t+"::"+JSON.stringify(e))}}]),chatEventsHandler}();exports.chatEventsHandler=chatEventsHandler},function(t,e,i){"use strict";i.r(e);const n=/iPhone/i,r=/iPod/i,o=/iPad/i,s=/\bAndroid(?:.+)Mobile\b/i,a=/Android/i,u=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,l=/Silk/i,c=/Windows Phone/i,h=/\bWindows(?:.+)ARM\b/i,d=/BlackBerry/i,f=/BB10/i,p=/Opera Mini/i,m=/\b(CriOS|Chrome)(?:.+)Mobile/i,v=/Mobile(?:.+)Firefox\b/i;function g(t,e){return t.test(e)}function b(t){let e=(t=t||("undefined"!=typeof navigator?navigator.userAgent:"")).split("[FBAN");void 0!==e[1]&&(t=e[0]),e=t.split("Twitter"),void 0!==e[1]&&(t=e[0]);const i={apple:{phone:g(n,t)&&!g(c,t),ipod:g(r,t),tablet:!g(n,t)&&g(o,t)&&!g(c,t),device:(g(n,t)||g(r,t)||g(o,t))&&!g(c,t)},amazon:{phone:g(u,t),tablet:!g(u,t)&&g(l,t),device:g(u,t)||g(l,t)},android:{phone:!g(c,t)&&g(u,t)||!g(c,t)&&g(s,t),tablet:!g(c,t)&&!g(u,t)&&!g(s,t)&&(g(l,t)||g(a,t)),device:!g(c,t)&&(g(u,t)||g(l,t)||g(s,t)||g(a,t))||g(/\bokhttp\b/i,t)},windows:{phone:g(c,t),tablet:g(h,t),device:g(c,t)||g(h,t)},other:{blackberry:g(d,t),blackberry10:g(f,t),opera:g(p,t),firefox:g(v,t),chrome:g(m,t),device:g(d,t)||g(f,t)||g(p,t)||g(v,t)||g(m,t)},any:!1,phone:!1,tablet:!1};return i.any=i.apple.device||i.android.device||i.windows.device||i.other.device,i.phone=i.apple.phone||i.android.phone||i.windows.phone,i.tablet=i.apple.tablet||i.android.tablet||i.windows.tablet,i}i.d(e,"default",(function(){return b}))}]).LiveHelperChatDefault;