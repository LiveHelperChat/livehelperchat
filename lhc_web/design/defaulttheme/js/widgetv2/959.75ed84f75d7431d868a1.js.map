{"version":3,"file":"959.75ed84f75d7431d868a1.js","mappings":"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","sources":["webpack://LHCReactAPP/./src/components/MailModal.js"],"sourcesContent":["import React, { PureComponent } from 'react';\nimport axios from \"axios\";\nimport { withTranslation } from 'react-i18next';\n\nclass MailModal extends PureComponent {\n\n    state = {\n        mail: null,\n        success: '',\n        errors: null,\n        sending: false\n    };\n\n    constructor(props) {\n        super(props);\n        this.sendMail = this.sendMail.bind(this);\n        this.emailRef = React.createRef();\n    }\n\n    sendMail(event) {\n\n        this.setState({'sending' : true});\n\n        axios.post(window.lhcChat['base_url'] + \"widgetrestapi/sendmailsettings/\" + this.props.chatId + '/' + this.props.chatHash + '/(action)/send', JSON.stringify({email:this.state.mail}), {headers : {'Content-Type': 'application/x-www-form-urlencoded'}}).then((response) => {\n            if (response.data.error == false) {\n                this.props.toggle();\n            } else {\n                this.setState({'sending' : false});\n                this.setState({'errors' : response.data.result});\n            }\n        });\n\n        if (event)\n            event.preventDefault();\n    }\n\n    componentDidMount() {\n        axios.get(window.lhcChat['base_url'] + 'widgetrestapi/sendmailsettings/' + this.props.chatId + '/' + this.props.chatHash)\n        .then((response) => {\n            this.setState({'mail' : response.data});\n            if (this.emailRef.current) {\n                this.emailRef.current.focus();\n            }\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n\n    dismissModal = () => {\n        this.props.toggle()\n    }\n\n    render() {\n        const { t } = this.props;\n\n        return (\n            <React.Fragment>\n                {this.state.mail !== null && <React.Fragment>\n                <div className=\"fade modal-backdrop show\"></div>\n                <div role=\"dialog\" id=\"dialog-content\" aria-modal=\"true\" className=\"fade modal show d-block mail-send-modal\" tabIndex=\"-1\">\n                    <div className=\"modal-dialog modal-lg\">\n                        <div className=\"modal-content\">\n                            <div className=\"modal-header\"> <h4 className=\"modal-title\" id=\"myModalLabel\"><span className=\"material-icons\">&#xf11a;</span>{t('button.mail')}</h4>\n                                <button type=\"button\" className=\"btn-close float-end\" data-bs-dismiss=\"modal\" onClick={this.dismissModal} aria-label=\"Close\"></button>\n                            </div>\n                            <div className=\"modal-body\">\n                                <div className=\"row\">\n                                    <div className=\"col-12\">\n                                        {this.state.errors && <div className=\"mb-0\" dangerouslySetInnerHTML={{__html:this.state.errors}}></div>}\n                                        <div className=\"mb-0\">\n                                            <form onSubmit={this.sendMail}>\n                                                <p className=\"mail-explain\">\n                                                    {t('button.email_explain')}\n                                                </p>\n                                                <div className=\"form-group\">\n                                                    <label className=\"text-muted\">{t('button.email')}</label>\n                                                    <input className=\"form-control form-group form-control-sm\" ref={this.emailRef} required=\"required\" type=\"email\" defaultValue={this.state.mail} onChange={(e) => this.setState({'mail' : e.target.value})} placeholder={t('chat.enter_email')} title={t('chat.enter_email')} />\n                                                </div>\n                                                <div className=\"row\">\n                                                    <div className=\"col-5\">\n                                                        <button type=\"submit\" disabled={this.state.sending || this.state.mail == ''} className=\"btn btn-primary w-100 btn-sm\">{t('button.send')}</button>\n                                                    </div>\n                                                    <div className=\"col-2\"></div>\n                                                    <div className=\"col-5\">\n                                                        <button type=\"button\" className=\"btn text-muted btn-link btn-sm w-100\" onClick={this.dismissModal}>{t('button.cancel')}</button>\n                                                    </div>\n                                                </div>\n                                            </form>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n               </div>\n               </React.Fragment>}\n            </React.Fragment>\n        )\n    }\n}\n\nexport default withTranslation()(MailModal);\n"],"names":["MailModal","PureComponent","constructor","props","super","_defineProperty","mail","success","errors","sending","this","toggle","sendMail","bind","emailRef","React","event","setState","axios","post","window","lhcChat","chatId","chatHash","JSON","stringify","email","state","headers","then","response","data","error","result","preventDefault","componentDidMount","get","current","focus","catch","err","console","log","render","t","className","role","id","tabIndex","type","onClick","dismissModal","dangerouslySetInnerHTML","__html","onSubmit","ref","required","defaultValue","onChange","e","target","value","placeholder","title","disabled","withTranslation"],"ignoreList":[],"sourceRoot":""}