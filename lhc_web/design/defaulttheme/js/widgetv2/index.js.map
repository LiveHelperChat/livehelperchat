{"version":3,"file":"index.js","mappings":"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","sources":["webpack://LiveHelperChat/./src/lib/UIConstructorIframe.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/construct.js","webpack://LiveHelperChat/./src/lib/widgets/statusWidget.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://LiveHelperChat/./node_modules/promise/index.js","webpack://LiveHelperChat/./node_modules/promise/lib/synchronous.js","webpack://LiveHelperChat/./node_modules/wolfy87-eventemitter/EventEmitter.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://LiveHelperChat/./src/lib/widgets/containerChat.js","webpack://LiveHelperChat/./node_modules/ismobilejs/esm/isMobile.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://LiveHelperChat/./src/lib/settings.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://LiveHelperChat/./src/util/userSession.js","webpack://LiveHelperChat/./src/lib/chatNotifications.js","webpack://LiveHelperChat/./node_modules/promise/lib/finally.js","webpack://LiveHelperChat/./src/lib/widgets/mainWidgetPopup.js","webpack://LiveHelperChat/./src/util/chatEventsHandler.js","webpack://LiveHelperChat/./src/util/domEventsHandler.js","webpack://LiveHelperChat/./node_modules/asap/browser-asap.js","webpack://LiveHelperChat/./src/util/monitoredVariable.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://LiveHelperChat/./node_modules/promise/lib/done.js","webpack://LiveHelperChat/./src/lib/UIConsturctor.js","webpack://LiveHelperChat/./node_modules/promise/lib/index.js","webpack://LiveHelperChat/./src/util/storageHandler.js","webpack://LiveHelperChat/./src/lib/helperFunctions.js","webpack://LiveHelperChat/./node_modules/promise/lib/es6-extensions.js","webpack://LiveHelperChat/./src/lib/widgets/mainWidget.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://LiveHelperChat/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://LiveHelperChat/./node_modules/promise/lib/core.js","webpack://LiveHelperChat/./node_modules/promise/lib/node-extensions.js","webpack://LiveHelperChat/./node_modules/asap/browser-raw.js","webpack://LiveHelperChat/webpack/bootstrap","webpack://LiveHelperChat/webpack/runtime/load script","webpack://LiveHelperChat/webpack/runtime/compat get default export","webpack://LiveHelperChat/webpack/runtime/define property getters","webpack://LiveHelperChat/webpack/runtime/ensure chunk","webpack://LiveHelperChat/webpack/runtime/get javascript chunk filename","webpack://LiveHelperChat/webpack/runtime/global","webpack://LiveHelperChat/webpack/runtime/hasOwnProperty shorthand","webpack://LiveHelperChat/webpack/runtime/make namespace object","webpack://LiveHelperChat/webpack/runtime/publicPath","webpack://LiveHelperChat/webpack/runtime/jsonp chunk loading","webpack://LiveHelperChat/./src/index.js"],"sourcesContent":["import {UIConsturctor} from './UIConsturctor';\nimport {helperFunctions} from './helperFunctions';\n\nexport class UIConstructorIframe extends UIConsturctor {\n\n    constructor(elementId, style, attributes, tagname, documentRef) {\n        super(elementId, style, attributes, tagname, documentRef);\n        this.bodyId = '';\n    }\n\n    constructUIIframe(style, dir, cl, header, disableViewPort) {\n\n        if (typeof dir === 'undefined'){\n            dir = 'ltr';\n        }\n\n        if (typeof cl === 'undefined'){\n            cl = 'en';\n        }\n\n        if (typeof header === 'undefined'){\n            header = '';\n        }\n\n        this.elmDomDoc = helperFunctions.getDocument(this.elmDom);\n        if (this.elmDomDoc === null) return null;\n\n        try {\n            this.elmDomDoc.getElementsByTagName(\"head\")[0].innerHTML = '<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /><meta name=\"googlebot\" content=\"notranslate\" />'+(disableViewPort !== true ? '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\" />' : '')+header;\n\n            if (this.bodyId != '') {\n                this.elmDomDoc.body.id = this.bodyId;\n            }\n\n            var html = this.elmDomDoc.getElementsByTagName(\"html\")[0];\n            html.setAttribute(\"lang\", cl);\n            html.setAttribute(\"dir\", dir);\n\n            var nodeDoctype = document.implementation.createDocumentType(\n                'html',\n                '',\n                ''\n            );\n\n            if (this.elmDomDoc.doctype) {\n                this.elmDomDoc.replaceChild(nodeDoctype, this.elmDomDoc.doctype);\n            } else {\n                this.elmDomDoc.insertBefore(nodeDoctype, this.elmDomDoc.childNodes[0]);\n            }\n\n        } catch (e) {\n            console.log(e);\n        }\n\n        this.insertCssFile(style);\n        this.insertContent();\n    };\n\n    insertContent () {\n        this.elmDomDoc.body.innerHTML = this.tmpl\n    };\n};\n\n","function _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nexport { _arrayLikeToArray as default };","function _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct = function _isNativeReflectConstruct() {\n    return !!t;\n  })();\n}\nexport { _isNativeReflectConstruct as default };","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeFunction from \"./isNativeFunction.js\";\nimport construct from \"./construct.js\";\nfunction _wrapNativeSuper(t) {\n  var r = \"function\" == typeof Map ? new Map() : void 0;\n  return _wrapNativeSuper = function _wrapNativeSuper(t) {\n    if (null === t || !isNativeFunction(t)) return t;\n    if (\"function\" != typeof t) throw new TypeError(\"Super expression must either be null or a function\");\n    if (void 0 !== r) {\n      if (r.has(t)) return r.get(t);\n      r.set(t, Wrapper);\n    }\n    function Wrapper() {\n      return construct(t, arguments, getPrototypeOf(this).constructor);\n    }\n    return Wrapper.prototype = Object.create(t.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: !1,\n        writable: !0,\n        configurable: !0\n      }\n    }), setPrototypeOf(Wrapper, t);\n  }, _wrapNativeSuper(t);\n}\nexport { _wrapNativeSuper as default };","function _isNativeFunction(t) {\n  try {\n    return -1 !== Function.toString.call(t).indexOf(\"[native code]\");\n  } catch (n) {\n    return \"function\" == typeof t;\n  }\n}\nexport { _isNativeFunction as default };","import isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _construct(t, e, r) {\n  if (isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments);\n  var o = [null];\n  o.push.apply(o, e);\n  var p = new (t.bind.apply(t, o))();\n  return r && setPrototypeOf(p, r.prototype), p;\n}\nexport { _construct as default };","import {settings} from '../settings.js';\nimport {helperFunctions} from '../helperFunctions';\n\nclass LHCStatusWidget extends HTMLElement {\n    constructor() {\n        super();\n\n        // Create a shadow root\n        this.attachShadow({mode: 'open'});\n        this._ee = null;\n    }\n\n    set ee(ee) {\n        this._ee = ee;\n    }\n\n    dispatchEventStatus(event,data, e)\n    {\n        if (this._ee) {\n            this._ee(event, data, e);\n        }\n    }\n\n    show() {\n        this.style.setProperty(\"display\",\"block\",\"important\");\n        window.orientation === undefined && this.resize();\n    }\n\n    hide() {\n        this.style.setProperty(\"display\",\"none\",\"important\");\n    }\n\n    connectedCallback() {\n\n        // Create a button element and add it to the shadow DOM\n        let style = document.createElement('style');\n        style.textContent = `html,body,div,span,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,abbr,address,cite,code,del,dfn,em,img,ins,kbd,q,samp,small,strong,sub,sup,var,b,i,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,figcaption,figure,footer,header,hgroup,menu,nav,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}nav ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,a{margin:0;padding:0;font-size:100%;vertical-align:baseline;background:transparent}ins{background-color:#ff9;color:#000;text-decoration:none}mark{background-color:#ff9;color:#000;font-style:italic;font-weight:bold}del{text-decoration:line-through}abbr[title],dfn[title]{border-bottom:1px dotted;cursor:help}table{border-collapse:collapse;border-spacing:0}hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}input,select{vertical-align:middle}:root{cursor : pointer; height: 100% !important;min-height: 100% !important;max-height: 100% !important;width: 100% !important;min-width: 100% !important;max-width: 100% !important;}body{display: flex;flex-direction: column;background:transparent;font:13px Helvetica,Arial,sans-serif;position:relative}.clear{clear:both}.clearfix:after{content:\\'\\';display:block;height:0;clear:both;visibility:hidden}`;\n        this.style = \"-webkit-tap-highlight-color: transparent;-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;\" +\n            \"    user-select: none;outline: none;  box-shadow: none;user-select:none;cursor:pointer;box-shadow: none; overflow: visible; color-scheme: light;\" +\n            \"    min-height: 95px; min-width: 95px; max-height: 95px; max-width: 95px; width: 95px; height: 95px; z-index: 2147483640;\" +\n            \"    border-radius: unset; outline: none !important; visibility: visible !important; resize: none !important; background: none transparent !important;\" +\n            \"    opacity: 1 !important; position: fixed !important; border: 0px !important; padding: 0px !important; margin: 0px !important;\" +\n            \"    float: none !important;display: none !important;transition-property: transform !important;transition-timing-function: cubic-bezier(0.165, 0.84, 0.44, 1) !important;\" +\n            \"    transform: translate3d(0px,\" + this.getAttribute(\"vertical-y\") + \"px,0px) !important;transition-duration: 800ms !important;\"+\n            (this.getAttribute(\"vertical-placement\") == \"top\" ? \"bottom:auto;\" : \"top:auto;\") +\n            (this.getAttribute(\"horizontal-placement\") == \"right\" ? \"left:auto;\" : \"right:auto;\") +\n            this.getAttribute(\"horizontal-placement\")+\":\"+this.getAttribute(\"horizontal-space\")+\"px;\"+\n            this.getAttribute(\"vertical-placement\")+\":\"+this.getAttribute(\"vertical-space\")+this.getAttribute(\"vertical-unit\");\n\n        this.shadowRoot.appendChild(style);\n    }\n\n    massRestyle(a) {\n        for (var b in a) a.hasOwnProperty(b) && this.restyle(b, a[b])\n    }\n\n    restyle(attr, style) {\n        this.style[attr] = style;\n    };\n\n    setContent(content) {\n        let contentShadow = document.createElement('div');\n        contentShadow.innerHTML = content;\n        this.shadowRoot.appendChild(contentShadow.firstChild);\n    }\n\n    resize() {\n        var initX, initY;\n        const rect = this.getBoundingClientRect();\n\n        if (rect.height == 0) {\n            return;\n        }\n\n        let verticalSpace = parseInt(this.getAttribute('vertical-space'));\n        if (rect.top - verticalSpace < 0) {\n            const style = window.getComputedStyle(this)\n            const matrix = new DOMMatrixReadOnly(style.transform)\n            initY = matrix.m42;\n            initX = matrix.m41;\n            this.style.transform = \"translate3d(\" + initX + \"px, \" + (initY + Math.abs(rect.top - verticalSpace)) + \"px, 0px)\";\n            this.dispatchEventStatus('move_finish', {\"x\" : 0, \"y\": (initY - ((rect.bottom + verticalSpace) - (window.innerHeight || document.documentElement.clientHeight))), \"bottom\": this.style.bottom, \"top\": this.style.top, \"left\": this.style.left, \"right\": this.style.right});\n        } else if (rect.bottom + verticalSpace > (window.innerHeight || document.documentElement.clientHeight)) {\n            const style = window.getComputedStyle(this)\n            const matrix = new DOMMatrixReadOnly(style.transform)\n            initY = matrix.m42;\n            initX = matrix.m41;\n            this.style.transform = \"translate3d(\" + initX + \"px, \" + (initY - ((rect.bottom + verticalSpace) - (window.innerHeight || document.documentElement.clientHeight))) + \"px, 0px)\";\n            this.dispatchEventStatus('move_finish', {\"x\" : 0, \"y\": (initY - ((rect.bottom + verticalSpace) - (window.innerHeight || document.documentElement.clientHeight))), \"bottom\": this.style.bottom, \"top\": this.style.top, \"left\": this.style.left, \"right\": this.style.right});\n        }\n    }\n\n    attachEvents() {\n        var object = this,\n            initX, initY, firstX, firstY, objectMoved = false, lastTouch, moveAction = false, dragEnabled = this.getAttribute(\"drag-enabled\") === \"true\";\n\n        try {\n            if (dragEnabled === true && this.getAttribute('vertical-unit') === 'px') {\n                if (window.orientation !== undefined) {\n                    screen.orientation.addEventListener(\"change\", resize);\n                } else {\n                    window.addEventListener('resize', resize, false);\n                }\n            }\n        } catch (e) {\n            console.log(e);\n        }\n\n        dragEnabled === true && this.getAttribute('vertical-unit') === 'px' && this.addEventListener('mousedown', function (e) {\n            e.preventDefault();\n            this.style.transitionDuration = \"0ms\";\n\n            firstX = e.pageX;\n            firstY = e.pageY;\n\n            const style = window.getComputedStyle(this)\n            const matrix = new DOMMatrixReadOnly(style.transform)\n            initY = matrix.m42;\n            initX = matrix.m41;\n\n            document.addEventListener('mousemove', dragIt, false);\n            document.addEventListener('mouseup', mouseUp, false);\n        }, false);\n\n        dragEnabled === true && this.getAttribute('vertical-unit') === 'px' && this.addEventListener('touchstart', function (e) {\n\n            // If we uncomment click event will be ignored on our component\n            // It has to stay commented out\n            // e.preventDefault();\n            this.style.transitionDuration = \"0ms\";\n\n            var touch = e.touches;\n            firstX = touch[0].pageX;\n            firstY = touch[0].pageY;\n\n            const style = window.getComputedStyle(this)\n            const matrix = new DOMMatrixReadOnly(style.transform)\n            initY = matrix.m42;\n            initX = matrix.m41;\n\n            this.addEventListener('touchmove', swipeIt, false);\n            window.addEventListener('touchend', touchEnd, false);\n        }, false);\n\n        function resize() {\n            object.resize();\n        }\n\n        function mouseUp(e) {\n\n            if (objectMoved === true) {\n                moveAction = true;\n            }\n\n            document.removeEventListener('mousemove', dragIt, false);\n            document.removeEventListener('mouseup', mouseUp, false);\n\n            if (objectMoved === true) {\n                verifyPosition(e, false);\n            }\n\n            objectMoved = false;\n        }\n\n        function dragIt(e) {\n            objectMoved = true;\n            let XPos =  (initX + e.pageX - firstX), YPos = (initY + e.pageY - firstY) ;\n            object.style.transform = \"translate3d(\" + XPos + \"px, \" + YPos + \"px, 0px)\";\n            object.dispatchEventStatus('move', {\"x\" : XPos, \"y\": YPos, \"bottom\": object.style.bottom, \"top\": object.style.top, \"left\": object.style.left, \"right\": object.style.right});\n        }\n\n        function touchEnd(e) {\n\n            this.removeEventListener('touchmove', swipeIt, false);\n            window.removeEventListener('touchend', touchEnd, false);\n\n            if (objectMoved === true) {\n                verifyPosition(e, true);\n            }\n\n            objectMoved = false;\n        }\n\n        function verifyPosition(e, isMobile) {\n\n            const rect = object.getBoundingClientRect();\n\n            let resetVertical = false, switchVerticalTop = false, switchVerticalBottom = false;\n\n            if (rect.top - parseInt(object.getAttribute('vertical-space')) < 0) {\n                if (object.style.top === \"auto\") {\n                    object.style.top = object.getAttribute('vertical-space')+object.getAttribute(\"vertical-unit\");\n                    object.style.bottom = \"auto\";\n                    switchVerticalTop = true;\n                }\n                resetVertical = true;\n            } else if (rect.bottom + parseInt(object.getAttribute('vertical-space')) > (window.innerHeight || document.documentElement.clientHeight)) {\n                if (object.style.bottom === \"auto\") {\n                    object.style.top = \"auto\";\n                    object.style.bottom = object.getAttribute('vertical-space')+object.getAttribute(\"vertical-unit\");\n                    switchVerticalBottom = true;\n                }\n                resetVertical = true;\n            }\n\n            let posYHistory = initY + (isMobile === false ? e.pageY : lastTouch.pageY) - firstY;\n\n            const style = window.getComputedStyle(object);\n            const matrix = new DOMMatrixReadOnly(style.transform);\n            initX = matrix.m41;\n\n            if (switchVerticalTop === true) {\n                posYHistory = rect.top - parseInt(object.getAttribute('vertical-space'));\n            } else if (switchVerticalBottom === true) {\n                posYHistory = ((window.innerHeight || document.documentElement.clientHeight) - rect.top - rect.height - parseInt(object.getAttribute('vertical-space'))) * -1;\n            }\n\n            let posY = resetVertical === true ? 0 : (initY + (isMobile === false ? e.pageY : lastTouch.pageY) - firstY);\n\n            if (resetVertical === false) {\n                if (rect.top + (rect.height / 2) > (window.innerHeight || document.documentElement.clientHeight) / 2) { // Bottom\n                    // Need to switch to bottom position\n                    if (object.style.bottom === \"auto\") {\n                        object.style.top = \"auto\";\n                        object.style.bottom = object.getAttribute('vertical-space')+object.getAttribute(\"vertical-unit\");\n                        posYHistory = posY = ((window.innerHeight || document.documentElement.clientHeight) - rect.top - rect.height - parseInt(object.getAttribute('vertical-space'))) * -1;\n                    }\n                } else { // Top\n                    if (object.style.top === \"auto\") {\n                        object.style.top = object.getAttribute('vertical-space')+object.getAttribute(\"vertical-unit\");\n                        object.style.bottom = \"auto\";\n                        posYHistory = posY = rect.top - parseInt(object.getAttribute('vertical-space'));\n                    }\n                }\n            }\n\n            let is_right_side = object.style.left == \"auto\";\n            let need_reposition;\n\n            if (rect.left + (rect.width / 2) > (window.innerWidth || document.documentElement.clientWidth) / 2) {\n                if (is_right_side === false) {\n                    object.style.right = object.getAttribute('horizontal-space')+\"px\";\n                    object.style.left = \"auto\";\n                }\n                need_reposition = !is_right_side;\n            } else {\n                if (is_right_side === true) {\n                    object.style.left = object.getAttribute('horizontal-space')+\"px\";\n                    object.style.right = \"auto\";\n                }\n                need_reposition = is_right_side;\n            }\n\n            if (need_reposition) {\n                if (is_right_side) {\n                    initX = rect.left - parseInt(object.getAttribute('horizontal-space'));\n                } else {\n                    initX = ((document.documentElement.clientWidth - rect.left - rect.width - parseInt(object.getAttribute('horizontal-space'))) * -1);\n                }\n            }\n\n            object.style.transform = \"translate3d(\" + initX + \"px, \" + posYHistory + \"px, 0px)\";\n\n            object.dispatchEventStatus('move', {\"x\" : initX, \"y\": posYHistory, \"bottom\": object.style.bottom, \"top\": object.style.top, \"left\": object.style.left, \"right\": object.style.right});\n\n            // Does not work properly on apple Safari :(\n            /*window.requestAnimationFrame(function () {*/\n            /*object.style.transitionDuration = \"800ms\";\n            object.style.transform = \"translate3d(0px, \" + posY + \"px, 0px)\";*/\n            /*});*/\n\n            setTimeout(function(){\n                object.style.transitionDuration = \"800ms\";\n                object.style.transform = \"translate3d(0px, \" + posY + \"px, 0px)\";\n                object.dispatchEventStatus('move_finish', {\"x\" : 0, \"y\": posY, \"bottom\": object.style.bottom, \"top\": object.style.top, \"left\": object.style.left, \"right\": object.style.right});\n            },20)\n        }\n\n        function swipeIt(e) {\n            // This one has to be present otherwise while dragging\n            // Page will refresh\n            e.preventDefault();\n            objectMoved = true;\n            var contact = e.touches;\n            let XPos = (initX + contact[0].pageX - firstX), YPos = (initY + contact[0].pageY - firstY);\n            this.style.transform = \"translate3d(\" + XPos + \"px, \" + YPos + \"px, 0px)\";\n            lastTouch = contact[0];\n            object.dispatchEventStatus('move', {\"x\" : XPos, \"y\": YPos, \"bottom\": object.style.bottom, \"top\": object.style.top, \"left\": object.style.left, \"right\": object.style.right});\n        }\n\n        this.addEventListener('click', function (e) {\n            // On desktop we should not trigger if widget location was changed as it was\n            // Drag and drop action performed by visitor\n            if (moveAction === true) {\n                moveAction = false;\n                this.dispatchEventStatus('click',{'status': false}, e);\n            } else {\n                this.dispatchEventStatus('click',{'status': true}, e);\n            }\n        });\n\n        // this.getAttribute('vertical-unit') === 'px' && resize();\n    }\n\n    insertCssRemoteFile(attr) {\n\n        var elm = null;\n\n        if (attr.id && attr.href && (elm = this.shadowRoot.getElementById(attr.id)) !== null) {\n            elm.href = attr.href\n            return;\n        }\n\n        var d = this.shadowRoot,\n            e = document.createElement('link');\n\n        e.rel = \"stylesheet\";\n        e.crossOrigin = \"*\";\n\n        for (var b in attr) e[b] = attr[b];\n        d.appendChild(e);\n    }\n\n}\n\nexport class statusWidget{\n    constructor(prefix, version) {\n\n        this.attributes = {};\n        this.controlMode = false;\n        this.showDelay = null;\n        this.statusDelayProcessed = false;\n\n        // Define the custom element\n        let componentId = (prefix || 'lhc') + '-' + version + '-status-widget';\n\n        if (!customElements.get(componentId)) {\n            customElements.define(componentId, LHCStatusWidget);\n        }\n\n        this.cont = document.createElement(componentId);\n\n        Object.entries({\n            \"id\" : (prefix || 'lhc')+'_status_widget_v2',\n            \"vertical-placement\" : \"bottom\",\n            \"horizontal-placement\" : \"right\",\n            \"horizontal-space\" : \"0\",\n            \"vertical-space\" : \"0\",\n            \"vertical-unit\" : \"px\",\n            \"vertical-y\" : 0,\n            \"drag-enabled\" : false,\n            \"role\" : \"presentation\",\n            \"translate\" : \"no\"\n        }).forEach(([k, v]) => this.cont.setAttribute(k, v));\n\n        this.cont.style = \"display: none\";\n\n        this.loadStatus = {main : false, theme: false, font: true, widget : false, shidden: false};\n        this.lload = false;\n        this.unread_counter = 0;\n    }\n\n    toggleOfflineIcon(onlineStatus) {\n\n        var icon = this.cont.shadowRoot.getElementById(\"status-icon\");\n\n        if (onlineStatus) {\n            if (!this.attributes.leaveMessage) {\n                this.show();\n            }\n            helperFunctions.removeClass(icon, \"offline-status\");\n        } else {\n            if (!this.attributes.leaveMessage) {\n                this.hide();\n            } else {\n                helperFunctions.addClass(icon, \"offline-status\");\n            }\n        }\n    }\n\n    checkLoadStatus() {\n        if (this.loadStatus['theme'] == true && this.loadStatus['main'] == true && this.loadStatus['font'] == true && this.loadStatus['widget'] == true && this.loadStatus['shidden'] == false) {\n            var elm = this.cont.shadowRoot.getElementById('lhc_status_container');\n            elm && (elm.style.display = \"\");\n            this.attributes.sload.next(true);\n        }\n    }\n\n    init(attributes, lload) {\n\n        this.attributes = attributes;\n\n        var placement = {top: \"auto\", left:\"auto\", bottom: (10+this.attributes.widgetDimesions.value.sbottom) + \"px\", right: (10+this.attributes.widgetDimesions.value.sright) + \"px\"};\n\n        this.cont.setAttribute(\"vertical-space\",(10+this.attributes.widgetDimesions.value.sbottom));\n        this.cont.setAttribute(\"horizontal-space\",(10+this.attributes.widgetDimesions.value.sright));\n\n        if (attributes.position_placement == 'bottom_left' || attributes.position_placement == 'full_height_left') {\n            placement = { right: \"auto\", top: \"auto\",bottom: (10+this.attributes.widgetDimesions.value.sbottom) + \"px\", left: (10+this.attributes.widgetDimesions.value.sright) + \"px\"};\n        } else if (attributes.position_placement == 'middle_right') {\n            placement = {left:\"auto\",top:\"auto\",bottom: \"calc(50% - 45px)\",right: (10+this.attributes.widgetDimesions.value.sright) + \"px\"};\n            this.cont.setAttribute('vertical-unit','%');\n        } else if (attributes.position_placement == 'middle_left') {\n            placement = {right: \"auto\", top:\"auto\",bottom: \"calc(50% - 45px)\",left: (10+this.attributes.widgetDimesions.value.sright) + \"px\"};\n            this.cont.setAttribute('vertical-unit','%');\n        }\n\n        this.cont.setAttribute(\"drag-enabled\",attributes.drag_enabled);\n\n        if (attributes.drag_enabled === true) {\n            let positionPrevious = attributes.storageHandler.getSessionStorage(this.attributes['prefixStorage']+'_pos');\n\n            if (positionPrevious !== null) {\n                let placementRestored = JSON.parse(positionPrevious);\n                placement[\"bottom\"] = placementRestored[\"bottom\"];\n                placement[\"top\"] = placementRestored[\"top\"];\n                placement[\"left\"] = placementRestored[\"left\"];\n                placement[\"right\"] = placementRestored[\"right\"];\n                placement[\"transform\"] = \"translateY(\"+placementRestored[\"y\"]+\"px)\";\n                attributes.status_position.next(placementRestored);\n            }\n        }\n\n        this.cont.massRestyle(placement);\n\n        this.cont.setContent('<div id=\"lhc_status_container\" class=\"notranslate ' + (this.attributes.isMobile === true ? 'lhc-mobile' : 'lhc-desktop') + '\" style=\"display: none;pointer-events: none;\"\"><i style=\"display: none\" title=\"New messages\" id=\"unread-msg-number\">!</i><a aria-label=\"Show or hide widget\" href=\"#\" tabindex=\"0\" target=\"_blank\" id=\"status-icon\" class=\"offline-status\"></a></div>');\n\n        this.cont.className = this.attributes.isMobile === true ? 'notranslate lhc-mobile' : 'notranslate lhc-desktop';\n\n        this.cont.attachEvents();\n\n        var _inst = this;\n\n        this.lload = !(!lload);\n\n        // If it's lazy load we have always to consider widget as loaded\n        if (this.lload === true) {\n            this.loadStatus['widget'] = true;\n        } else {\n            // We wait untill widget content loads\n            attributes.wloaded.subscribe((data) => { if (data){this.loadStatus['widget'] = true; this.checkLoadStatus()}});\n        }\n\n        attributes.shidden.subscribe((data) => {\n            if (data) {\n                const chatParams = this.attributes['userSession'].getSessionAttributes();\n                if (!chatParams['id'] && this.attributes.widgetStatus.value != true) {\n                    this.loadStatus['shidden'] = true;\n                    this.hide();\n                }\n            } else {\n                this.loadStatus['shidden'] = false;\n                this.checkLoadStatus();\n                this.show();\n            }\n        });\n\n        this.cont.ee = function(event, data, e) {\n            if (event == \"click\" && data.status == true) {\n                attributes.onlineStatus.value === false && attributes.eventEmitter.emitEvent('offlineClickAction');\n\n                if (attributes.onlineStatus.value === false && attributes.offline_redirect !== null){\n                    document.location = attributes.offline_redirect;\n                    e.preventDefault();\n                } else {\n                    if (_inst.controlMode == true) {\n                        attributes.eventEmitter.emitEvent('closeWidget', [{'sender' : 'closeButton', 'mode' : 'control'}]);\n                        e.preventDefault();\n                    } else {\n                        attributes.eventEmitter.emitEvent('showWidget', [{'event':e}]);\n                        attributes.eventEmitter.emitEvent('clickAction');\n                    }\n                }\n            } else if (event == \"move_finish\") {\n                attributes.storageHandler.setSessionStorage(attributes['prefixStorage']+'_pos',JSON.stringify(data));\n                attributes.status_position.next(data);\n            }\n        }\n\n        if (this.attributes.staticJS['fontCSS']) {\n            this.cont.insertCssRemoteFile({crossOrigin : \"anonymous\",  href : this.attributes.staticJS['fontCSS']});\n        }\n\n        if (this.attributes.staticJS['font_status']) {\n\n            let d = document.getElementsByTagName(\"head\")[0],\n                k = document.createDocumentFragment(),\n                e = helperFunctions.initElement(document, \"style\", {type: \"text/css\"}),\n                f = document.createTextNode(`@font-face {\n            font-family: 'MaterialIconsLHC';\n            font-style: normal;\n            font-weight: 400;\n            src: url('`+this.attributes.staticJS['font_status'].replace('.woff2','.eot')+`');\n            src: url('`+this.attributes.staticJS['font_status']+`') format('woff2'), url('`+this.attributes.staticJS['font_status'].replace('.woff2','.woff')+`') format('woff'), url('`+this.attributes.staticJS['font_status'].replace('.woff2','.ttf')+`') format('truetype');\n            font-display: swap\n            }`);\n            k.appendChild(e);\n            d.appendChild(k);\n            e.styleSheet ? e.styleSheet.cssText = f.nodeValue : e.appendChild(f)\n\n            helperFunctions.insertCssRemoteFile({onload: () => {this.loadStatus['font'] = true; this.checkLoadStatus()},\"as\":\"font\", rel:\"preload\", type: \"font/woff\", crossOrigin : \"anonymous\",  href : this.attributes.staticJS['font_status']});\n        }\n\n        if (this.attributes.theme) {\n            this.loadStatus['theme'] = false;\n            this.cont.insertCssRemoteFile({onload: ()=>{this.loadStatus['theme'] = true; this.checkLoadStatus()}, id: \"lhc-theme-status\", crossOrigin : \"anonymous\",  href : this.attributes.LHC_API.args.lhc_base_url + '/widgetrestapi/themestatus/' + this.attributes.theme + '?v=' + this.attributes.theme_v}, true);\n        } else {\n            this.loadStatus['theme'] = true;\n        }\n\n        this.cont.insertCssRemoteFile({onload: ()=>{this.loadStatus['main'] = true; this.checkLoadStatus()}, crossOrigin : \"anonymous\",  href : this.attributes.staticJS['status_css'] });\n\n        if (this.attributes.staticJS['page_css']) {\n            helperFunctions.insertCssRemoteFile({crossOrigin : \"anonymous\", id: \"lhc-theme-page\", href : this.attributes.LHC_API.args.lhc_base_url + '/widgetrestapi/themepage/' + this.attributes.theme + '?v=' + this.attributes.theme_v});\n        }\n\n        attributes.onlineStatus.subscribe((data) => this.toggleOfflineIcon(data));\n\n        attributes.widgetStatus.subscribe((data) => {\n            if (this.attributes.mode !== 'popup') {\n                const chatParams = this.attributes['userSession'].getSessionAttributes();\n                (data == true || (!this.attributes.leaveMessage && this.attributes.onlineStatus.value == false && !chatParams['id'])) ? this.hide() : this.show();\n            }\n        });\n\n        this.attributes.mode === 'popup' && this.show();\n        let unreadMessagesNumber = attributes.storageHandler.getSessionStorage(this.attributes['prefixStorage']+'_unr');\n\n        attributes.eventEmitter.addListener('unread_message', (data) => {\n            var unreadTotal = (data && data.otm);\n            if (unreadTotal) {\n                unreadTotal = parseInt(unreadTotal);\n                unreadTotal += this.unread_counter;\n            }\n            this.attributes.unread_counter.next(unreadTotal);\n            this.showUnreadIndicator(unreadTotal);\n        });\n\n        if (unreadMessagesNumber !== null) {\n            attributes.eventEmitter.emitEvent('unread_message',[{otm:unreadMessagesNumber, init: true}]);\n            if (unreadMessagesNumber !== null && !isNaN(unreadMessagesNumber)) {\n                this.unread_counter = parseInt(unreadMessagesNumber);\n            }\n        }\n\n        // Widget reload was called\n        // We avoid cache by using timestamp because we do not call init call.\n        // We also always insert themepage even if there is no css in it.\n        attributes.eventEmitter.addListener('reloadWidget',() => {\n            if (this.attributes.theme > 0) {\n                this.cont.insertCssRemoteFile({crossOrigin : \"anonymous\", id: \"lhc-theme-status\", href : this.attributes.LHC_API.args.lhc_base_url + '/widgetrestapi/themestatus/' + this.attributes.theme + '?v=' + Date.now()}, true);\n            }\n            helperFunctions.insertCssRemoteFile({crossOrigin : \"anonymous\", id: \"lhc-theme-page\", href : this.attributes.LHC_API.args.lhc_base_url + '/widgetrestapi/themepage/' + this.attributes.theme + '?v=' + Date.now()});\n        });\n    }\n\n    hide () {\n\n        this.removeUnreadIndicator();\n\n        if (this.attributes.clinst === true && this.attributes.isMobile == false) {\n            const chatParams = this.attributes['userSession'].getSessionAttributes();\n            if (this.attributes.leaveMessage == true || this.attributes.onlineStatus.value == true || chatParams['id']) {\n\n                if (this.attributes['position'] != 'api' || (this.attributes['position'] == 'api' && this.attributes['hide_status'] !== true && ((chatParams['id'] && chatParams['hash']) || this.attributes.widgetStatus.value == true))) {\n                    if (this.attributes['hide_status'] !== true || (chatParams['id'] && chatParams['hash'])) {\n                        this.cont.show();\n                    }\n                }\n\n                if (this.attributes['hide_status'] !== true || (chatParams['id'] && chatParams['hash']) || this.attributes.widgetStatus.value == true) {\n                    if (this.attributes.widgetStatus.value == true){\n                        this.controlMode = true;\n                        var icon = this.cont.shadowRoot.getElementById(\"status-icon\");\n                        helperFunctions.addClass(icon, \"close-status\");\n                    }\n                    return ;\n                }\n\n            }\n        }\n\n        clearTimeout(this.showDelay);\n        this.statusDelayProcessed = true;\n        this.cont.hide();\n    }\n\n    showUnreadIndicator(number){\n        var iconText = number || '!';\n        var icon = this.cont.shadowRoot.getElementById(\"lhc_status_container\");\n        helperFunctions.addClass(icon, \"has-uread-message\");\n\n        var iconValue = this.cont.shadowRoot.getElementById(\"unread-msg-number\");\n        if (iconValue) {\n            iconValue.innerText = iconText;\n        }\n\n        if (this.attributes.storageHandler)\n            this.attributes.storageHandler.setSessionStorage(this.attributes['prefixStorage']+'_unr',iconText);\n    }\n\n    removeUnreadIndicator() {\n        var icon = this.cont.shadowRoot.getElementById(\"lhc_status_container\");\n        helperFunctions.removeClass(icon, \"has-uread-message\");\n        if (this.attributes.storageHandler) {\n            this.attributes.storageHandler.removeSessionStorage(this.attributes['prefixStorage']+'_unr');\n        }\n        this.attributes.eventEmitter.emitEvent('remove_unread_indicator', []);\n        this.attributes.unread_counter.next(0);\n        this.unread_counter = 0;\n    }\n\n    show () {\n\n        if (this.attributes.hideOffline === false) {\n\n            const chatParams = this.attributes['userSession'].getSessionAttributes();\n\n            if (this.attributes.clinst === true && this.attributes.isMobile == false) {\n                if (this.attributes.widgetStatus.value != true) {\n                    var icon = this.cont.shadowRoot.getElementById(\"status-icon\");\n                    helperFunctions.removeClass(icon, \"close-status\");\n                    this.controlMode = false;\n                }\n            }\n\n            // show status icon only if we are not in api mode or chat is going now\n            if (this.attributes['position'] != 'api' || (this.attributes['position'] == 'api' && this.attributes['hide_status'] !== true && chatParams['id'] && chatParams['hash'])) {\n\n                clearTimeout(this.showDelay);\n                \n                const chatParams = this.attributes['userSession'].getSessionAttributes();\n\n                this.showDelay = setTimeout(() => {\n                    this.cont.show();\n                    this.statusDelayProcessed = true;\n                }, (this.statusDelayProcessed == true || (chatParams['id'] && chatParams['hash'])) ? 0 : this.attributes['status_delay']);\n\n            } else if (this.attributes.clinst === true) {\n                if (this.attributes.widgetStatus.value != true) {\n                    this.cont.hide();\n                }\n            }\n\n        } else {\n            this.cont.hide();\n        }\n    }\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nfunction _slicedToArray(r, e) {\n  return arrayWithHoles(r) || iterableToArrayLimit(r, e) || unsupportedIterableToArray(r, e) || nonIterableRest();\n}\nexport { _slicedToArray as default };","function _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nexport { _arrayWithHoles as default };","function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nexport { _iterableToArrayLimit as default };","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? arrayLikeToArray(r, a) : void 0;\n  }\n}\nexport { _unsupportedIterableToArray as default };","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _nonIterableRest as default };","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return assertThisInitialized(t);\n}\nexport { _possibleConstructorReturn as default };","function _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nexport { _assertThisInitialized as default };","'use strict';\n\nmodule.exports = require('./lib')\n","'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.enableSynchronous = function () {\n  Promise.prototype.isPending = function() {\n    return this.getState() == 0;\n  };\n\n  Promise.prototype.isFulfilled = function() {\n    return this.getState() == 1;\n  };\n\n  Promise.prototype.isRejected = function() {\n    return this.getState() == 2;\n  };\n\n  Promise.prototype.getValue = function () {\n    if (this._y === 3) {\n      return this._z.getValue();\n    }\n\n    if (!this.isFulfilled()) {\n      throw new Error('Cannot get a value of an unfulfilled promise.');\n    }\n\n    return this._z;\n  };\n\n  Promise.prototype.getReason = function () {\n    if (this._y === 3) {\n      return this._z.getReason();\n    }\n\n    if (!this.isRejected()) {\n      throw new Error('Cannot get a rejection reason of a non-rejected promise.');\n    }\n\n    return this._z;\n  };\n\n  Promise.prototype.getState = function () {\n    if (this._y === 3) {\n      return this._z.getState();\n    }\n    if (this._y === -1 || this._y === -2) {\n      return 0;\n    }\n\n    return this._y;\n  };\n};\n\nPromise.disableSynchronous = function() {\n  Promise.prototype.isPending = undefined;\n  Promise.prototype.isFulfilled = undefined;\n  Promise.prototype.isRejected = undefined;\n  Promise.prototype.getValue = undefined;\n  Promise.prototype.getReason = undefined;\n  Promise.prototype.getState = undefined;\n};\n","/*!\n * EventEmitter v5.2.9 - git.io/ee\n * Unlicense - http://unlicense.org/\n * Oliver Caldwell - https://oli.me.uk/\n * @preserve\n */\n\n;(function (exports) {\n    'use strict';\n\n    /**\n     * Class for managing events.\n     * Can be extended to provide event functionality in other classes.\n     *\n     * @class EventEmitter Manages event registering and emitting.\n     */\n    function EventEmitter() {}\n\n    // Shortcuts to improve speed and size\n    var proto = EventEmitter.prototype;\n    var originalGlobalValue = exports.EventEmitter;\n\n    /**\n     * Finds the index of the listener for the event in its storage array.\n     *\n     * @param {Function[]} listeners Array of listeners to search through.\n     * @param {Function} listener Method to look for.\n     * @return {Number} Index of the specified listener, -1 if not found\n     * @api private\n     */\n    function indexOfListener(listeners, listener) {\n        var i = listeners.length;\n        while (i--) {\n            if (listeners[i].listener === listener) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n\n    /**\n     * Alias a method while keeping the context correct, to allow for overwriting of target method.\n     *\n     * @param {String} name The name of the target method.\n     * @return {Function} The aliased method\n     * @api private\n     */\n    function alias(name) {\n        return function aliasClosure() {\n            return this[name].apply(this, arguments);\n        };\n    }\n\n    /**\n     * Returns the listener array for the specified event.\n     * Will initialise the event object and listener arrays if required.\n     * Will return an object if you use a regex search. The object contains keys for each matched event. So /ba[rz]/ might return an object containing bar and baz. But only if you have either defined them with defineEvent or added some listeners to them.\n     * Each property in the object response is an array of listener functions.\n     *\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\n     * @return {Function[]|Object} All listener functions for the event.\n     */\n    proto.getListeners = function getListeners(evt) {\n        var events = this._getEvents();\n        var response;\n        var key;\n\n        // Return a concatenated array of all matching events if\n        // the selector is a regular expression.\n        if (evt instanceof RegExp) {\n            response = {};\n            for (key in events) {\n                if (events.hasOwnProperty(key) && evt.test(key)) {\n                    response[key] = events[key];\n                }\n            }\n        }\n        else {\n            response = events[evt] || (events[evt] = []);\n        }\n\n        return response;\n    };\n\n    /**\n     * Takes a list of listener objects and flattens it into a list of listener functions.\n     *\n     * @param {Object[]} listeners Raw listener objects.\n     * @return {Function[]} Just the listener functions.\n     */\n    proto.flattenListeners = function flattenListeners(listeners) {\n        var flatListeners = [];\n        var i;\n\n        for (i = 0; i < listeners.length; i += 1) {\n            flatListeners.push(listeners[i].listener);\n        }\n\n        return flatListeners;\n    };\n\n    /**\n     * Fetches the requested listeners via getListeners but will always return the results inside an object. This is mainly for internal use but others may find it useful.\n     *\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\n     * @return {Object} All listener functions for an event in an object.\n     */\n    proto.getListenersAsObject = function getListenersAsObject(evt) {\n        var listeners = this.getListeners(evt);\n        var response;\n\n        if (listeners instanceof Array) {\n            response = {};\n            response[evt] = listeners;\n        }\n\n        return response || listeners;\n    };\n\n    function isValidListener (listener) {\n        if (typeof listener === 'function' || listener instanceof RegExp) {\n            return true\n        } else if (listener && typeof listener === 'object') {\n            return isValidListener(listener.listener)\n        } else {\n            return false\n        }\n    }\n\n    /**\n     * Adds a listener function to the specified event.\n     * The listener will not be added if it is a duplicate.\n     * If the listener returns true then it will be removed after it is called.\n     * If you pass a regular expression as the event name then the listener will be added to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addListener = function addListener(evt, listener) {\n        if (!isValidListener(listener)) {\n            throw new TypeError('listener must be a function');\n        }\n\n        var listeners = this.getListenersAsObject(evt);\n        var listenerIsWrapped = typeof listener === 'object';\n        var key;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key) && indexOfListener(listeners[key], listener) === -1) {\n                listeners[key].push(listenerIsWrapped ? listener : {\n                    listener: listener,\n                    once: false\n                });\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of addListener\n     */\n    proto.on = alias('addListener');\n\n    /**\n     * Semi-alias of addListener. It will add a listener that will be\n     * automatically removed after its first execution.\n     *\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addOnceListener = function addOnceListener(evt, listener) {\n        return this.addListener(evt, {\n            listener: listener,\n            once: true\n        });\n    };\n\n    /**\n     * Alias of addOnceListener.\n     */\n    proto.once = alias('addOnceListener');\n\n    /**\n     * Defines an event name. This is required if you want to use a regex to add a listener to multiple events at once. If you don't do this then how do you expect it to know what event to add to? Should it just add to every possible match for a regex? No. That is scary and bad.\n     * You need to tell it what event names should be matched by a regex.\n     *\n     * @param {String} evt Name of the event to create.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.defineEvent = function defineEvent(evt) {\n        this.getListeners(evt);\n        return this;\n    };\n\n    /**\n     * Uses defineEvent to define multiple events.\n     *\n     * @param {String[]} evts An array of event names to define.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.defineEvents = function defineEvents(evts) {\n        for (var i = 0; i < evts.length; i += 1) {\n            this.defineEvent(evts[i]);\n        }\n        return this;\n    };\n\n    /**\n     * Removes a listener function from the specified event.\n     * When passed a regular expression as the event name, it will remove the listener from all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to remove the listener from.\n     * @param {Function} listener Method to remove from the event.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeListener = function removeListener(evt, listener) {\n        var listeners = this.getListenersAsObject(evt);\n        var index;\n        var key;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key)) {\n                index = indexOfListener(listeners[key], listener);\n\n                if (index !== -1) {\n                    listeners[key].splice(index, 1);\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of removeListener\n     */\n    proto.off = alias('removeListener');\n\n    /**\n     * Adds listeners in bulk using the manipulateListeners method.\n     * If you pass an object as the first argument you can add to multiple events at once. The object should contain key value pairs of events and listeners or listener arrays. You can also pass it an event name and an array of listeners to be added.\n     * You can also pass it a regular expression to add the array of listeners to all events that match it.\n     * Yeah, this function does quite a bit. That's probably a bad thing.\n     *\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add to multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to add.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addListeners = function addListeners(evt, listeners) {\n        // Pass through to manipulateListeners\n        return this.manipulateListeners(false, evt, listeners);\n    };\n\n    /**\n     * Removes listeners in bulk using the manipulateListeners method.\n     * If you pass an object as the first argument you can remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n     * You can also pass it an event name and an array of listeners to be removed.\n     * You can also pass it a regular expression to remove the listeners from all events that match it.\n     *\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to remove from multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to remove.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeListeners = function removeListeners(evt, listeners) {\n        // Pass through to manipulateListeners\n        return this.manipulateListeners(true, evt, listeners);\n    };\n\n    /**\n     * Edits listeners in bulk. The addListeners and removeListeners methods both use this to do their job. You should really use those instead, this is a little lower level.\n     * The first argument will determine if the listeners are removed (true) or added (false).\n     * If you pass an object as the second argument you can add/remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n     * You can also pass it an event name and an array of listeners to be added/removed.\n     * You can also pass it a regular expression to manipulate the listeners of all events that match it.\n     *\n     * @param {Boolean} remove True if you want to remove listeners, false if you want to add.\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add/remove from multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to add/remove.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.manipulateListeners = function manipulateListeners(remove, evt, listeners) {\n        var i;\n        var value;\n        var single = remove ? this.removeListener : this.addListener;\n        var multiple = remove ? this.removeListeners : this.addListeners;\n\n        // If evt is an object then pass each of its properties to this method\n        if (typeof evt === 'object' && !(evt instanceof RegExp)) {\n            for (i in evt) {\n                if (evt.hasOwnProperty(i) && (value = evt[i])) {\n                    // Pass the single listener straight through to the singular method\n                    if (typeof value === 'function') {\n                        single.call(this, i, value);\n                    }\n                    else {\n                        // Otherwise pass back to the multiple function\n                        multiple.call(this, i, value);\n                    }\n                }\n            }\n        }\n        else {\n            // So evt must be a string\n            // And listeners must be an array of listeners\n            // Loop over it and pass each one to the multiple method\n            i = listeners.length;\n            while (i--) {\n                single.call(this, evt, listeners[i]);\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Removes all listeners from a specified event.\n     * If you do not specify an event then all listeners will be removed.\n     * That means every event will be emptied.\n     * You can also pass a regex to remove all events that match it.\n     *\n     * @param {String|RegExp} [evt] Optional name of the event to remove all listeners for. Will remove from every event if not passed.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeEvent = function removeEvent(evt) {\n        var type = typeof evt;\n        var events = this._getEvents();\n        var key;\n\n        // Remove different things depending on the state of evt\n        if (type === 'string') {\n            // Remove all listeners for the specified event\n            delete events[evt];\n        }\n        else if (evt instanceof RegExp) {\n            // Remove all events matching the regex.\n            for (key in events) {\n                if (events.hasOwnProperty(key) && evt.test(key)) {\n                    delete events[key];\n                }\n            }\n        }\n        else {\n            // Remove all listeners in all events\n            delete this._events;\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of removeEvent.\n     *\n     * Added to mirror the node API.\n     */\n    proto.removeAllListeners = alias('removeEvent');\n\n    /**\n     * Emits an event of your choice.\n     * When emitted, every listener attached to that event will be executed.\n     * If you pass the optional argument array then those arguments will be passed to every listener upon execution.\n     * Because it uses `apply`, your array of arguments will be passed as if you wrote them out separately.\n     * So they will not arrive within the array on the other side, they will be separate.\n     * You can also pass a regular expression to emit to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n     * @param {Array} [args] Optional array of arguments to be passed to each listener.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.emitEvent = function emitEvent(evt, args) {\n        var listenersMap = this.getListenersAsObject(evt);\n        var listeners;\n        var listener;\n        var i;\n        var key;\n        var response;\n\n        for (key in listenersMap) {\n            if (listenersMap.hasOwnProperty(key)) {\n                listeners = listenersMap[key].slice(0);\n\n                for (i = 0; i < listeners.length; i++) {\n                    // If the listener returns true then it shall be removed from the event\n                    // The function is executed either with a basic call or an apply if there is an args array\n                    listener = listeners[i];\n\n                    if (listener.once === true) {\n                        this.removeListener(evt, listener.listener);\n                    }\n\n                    response = listener.listener.apply(this, args || []);\n\n                    if (response === this._getOnceReturnValue()) {\n                        this.removeListener(evt, listener.listener);\n                    }\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of emitEvent\n     */\n    proto.trigger = alias('emitEvent');\n\n    /**\n     * Subtly different from emitEvent in that it will pass its arguments on to the listeners, as opposed to taking a single array of arguments to pass on.\n     * As with emitEvent, you can pass a regex in place of the event name to emit to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n     * @param {...*} Optional additional arguments to be passed to each listener.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.emit = function emit(evt) {\n        var args = Array.prototype.slice.call(arguments, 1);\n        return this.emitEvent(evt, args);\n    };\n\n    /**\n     * Sets the current value to check against when executing listeners. If a\n     * listeners return value matches the one set here then it will be removed\n     * after execution. This value defaults to true.\n     *\n     * @param {*} value The new value to check for when executing listeners.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.setOnceReturnValue = function setOnceReturnValue(value) {\n        this._onceReturnValue = value;\n        return this;\n    };\n\n    /**\n     * Fetches the current value to check against when executing listeners. If\n     * the listeners return value matches this one then it should be removed\n     * automatically. It will return true by default.\n     *\n     * @return {*|Boolean} The current value to check for or the default, true.\n     * @api private\n     */\n    proto._getOnceReturnValue = function _getOnceReturnValue() {\n        if (this.hasOwnProperty('_onceReturnValue')) {\n            return this._onceReturnValue;\n        }\n        else {\n            return true;\n        }\n    };\n\n    /**\n     * Fetches the events object and creates one if required.\n     *\n     * @return {Object} The events storage object.\n     * @api private\n     */\n    proto._getEvents = function _getEvents() {\n        return this._events || (this._events = {});\n    };\n\n    /**\n     * Reverts the global {@link EventEmitter} to its previous value and returns a reference to this version.\n     *\n     * @return {Function} Non conflicting EventEmitter class.\n     */\n    EventEmitter.noConflict = function noConflict() {\n        exports.EventEmitter = originalGlobalValue;\n        return EventEmitter;\n    };\n\n    // Expose the class either via AMD, CommonJS or the global object\n    if (typeof define === 'function' && define.amd) {\n        define(function () {\n            return EventEmitter;\n        });\n    }\n    else if (typeof module === 'object' && module.exports){\n        module.exports = EventEmitter;\n    }\n    else {\n        exports.EventEmitter = EventEmitter;\n    }\n}(typeof window !== 'undefined' ? window : this || {}));\n","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import {UIConsturctor} from '../UIConsturctor';\n\nexport class containerChat{\n    constructor(prefix, pnode) {\n        this.cont = new UIConsturctor((prefix || 'lhc')+'_container_v2', \"border: 0 none !important; padding: 0 !important; margin: 0 !important; z-index: 999999999 !important; overflow : visible !important; min-width: 0 !important; min-height: 0 !important; max-width: none !important; max-height: none !important; width : auto !important; height : auto !important;\");\n        this.cont.constructUI();\n        (!!pnode && document.getElementById(pnode).appendChild(this.cont.elmDom)) || document.body.appendChild(this.cont.elmDom);\n    }\n}","var appleIphone = /iPhone/i;\nvar appleIpod = /iPod/i;\nvar appleTablet = /iPad/i;\nvar appleUniversal = /\\biOS-universal(?:.+)Mac\\b/i;\nvar androidPhone = /\\bAndroid(?:.+)Mobile\\b/i;\nvar androidTablet = /Android/i;\nvar amazonPhone = /(?:SD4930UR|\\bSilk(?:.+)Mobile\\b)/i;\nvar amazonTablet = /Silk/i;\nvar windowsPhone = /Windows Phone/i;\nvar windowsTablet = /\\bWindows(?:.+)ARM\\b/i;\nvar otherBlackBerry = /BlackBerry/i;\nvar otherBlackBerry10 = /BB10/i;\nvar otherOpera = /Opera Mini/i;\nvar otherChrome = /\\b(CriOS|Chrome)(?:.+)Mobile/i;\nvar otherFirefox = /Mobile(?:.+)Firefox\\b/i;\nvar isAppleTabletOnIos13 = function (navigator) {\n    return (typeof navigator !== 'undefined' &&\n        navigator.platform === 'MacIntel' &&\n        typeof navigator.maxTouchPoints === 'number' &&\n        navigator.maxTouchPoints > 1 &&\n        typeof MSStream === 'undefined');\n};\nfunction createMatch(userAgent) {\n    return function (regex) { return regex.test(userAgent); };\n}\nexport default function isMobile(param) {\n    var nav = {\n        userAgent: '',\n        platform: '',\n        maxTouchPoints: 0\n    };\n    if (!param && typeof navigator !== 'undefined') {\n        nav = {\n            userAgent: navigator.userAgent,\n            platform: navigator.platform,\n            maxTouchPoints: navigator.maxTouchPoints || 0\n        };\n    }\n    else if (typeof param === 'string') {\n        nav.userAgent = param;\n    }\n    else if (param && param.userAgent) {\n        nav = {\n            userAgent: param.userAgent,\n            platform: param.platform,\n            maxTouchPoints: param.maxTouchPoints || 0\n        };\n    }\n    var userAgent = nav.userAgent;\n    var tmp = userAgent.split('[FBAN');\n    if (typeof tmp[1] !== 'undefined') {\n        userAgent = tmp[0];\n    }\n    tmp = userAgent.split('Twitter');\n    if (typeof tmp[1] !== 'undefined') {\n        userAgent = tmp[0];\n    }\n    var match = createMatch(userAgent);\n    var result = {\n        apple: {\n            phone: match(appleIphone) && !match(windowsPhone),\n            ipod: match(appleIpod),\n            tablet: !match(appleIphone) &&\n                (match(appleTablet) || isAppleTabletOnIos13(nav)) &&\n                !match(windowsPhone),\n            universal: match(appleUniversal),\n            device: (match(appleIphone) ||\n                match(appleIpod) ||\n                match(appleTablet) ||\n                match(appleUniversal) ||\n                isAppleTabletOnIos13(nav)) &&\n                !match(windowsPhone)\n        },\n        amazon: {\n            phone: match(amazonPhone),\n            tablet: !match(amazonPhone) && match(amazonTablet),\n            device: match(amazonPhone) || match(amazonTablet)\n        },\n        android: {\n            phone: (!match(windowsPhone) && match(amazonPhone)) ||\n                (!match(windowsPhone) && match(androidPhone)),\n            tablet: !match(windowsPhone) &&\n                !match(amazonPhone) &&\n                !match(androidPhone) &&\n                (match(amazonTablet) || match(androidTablet)),\n            device: (!match(windowsPhone) &&\n                (match(amazonPhone) ||\n                    match(amazonTablet) ||\n                    match(androidPhone) ||\n                    match(androidTablet))) ||\n                match(/\\bokhttp\\b/i)\n        },\n        windows: {\n            phone: match(windowsPhone),\n            tablet: match(windowsTablet),\n            device: match(windowsPhone) || match(windowsTablet)\n        },\n        other: {\n            blackberry: match(otherBlackBerry),\n            blackberry10: match(otherBlackBerry10),\n            opera: match(otherOpera),\n            firefox: match(otherFirefox),\n            chrome: match(otherChrome),\n            device: match(otherBlackBerry) ||\n                match(otherBlackBerry10) ||\n                match(otherOpera) ||\n                match(otherFirefox) ||\n                match(otherChrome)\n        },\n        any: false,\n        phone: false,\n        tablet: false\n    };\n    result.any =\n        result.apple.device ||\n            result.android.device ||\n            result.windows.device ||\n            result.other.device;\n    result.phone =\n        result.apple.phone || result.android.phone || result.windows.phone;\n    result.tablet =\n        result.apple.tablet || result.android.tablet || result.windows.tablet;\n    return result;\n}\n//# sourceMappingURL=isMobile.js.map","function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nexport { _classCallCheck as default };","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","var settings = {};\n\nsettings.ResetStyle = \"html,body,div,span,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,abbr,address,cite,code,del,dfn,em,img,ins,kbd,q,samp,small,strong,sub,sup,var,b,i,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,figcaption,figure,footer,header,hgroup,menu,nav,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}nav ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}a{margin:0;padding:0;font-size:100%;vertical-align:baseline;background:transparent}ins{background-color:#ff9;color:#000;text-decoration:none}mark{background-color:#ff9;color:#000;font-style:italic;font-weight:bold}del{text-decoration:line-through}abbr[title],dfn[title]{border-bottom:1px dotted;cursor:help}table{border-collapse:collapse;border-spacing:0}hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}input,select{vertical-align:middle}html,body{height: 100% !important;\\n\" +\n    \"        min-height: 100% !important;\\n\" +\n    \"        max-height: 100% !important;\\n\" +\n    \"        width: 100% !important;\\n\" +\n    \"        min-width: 100% !important;\\n\" +\n    \"        max-width: 100% !important;}body{display: flex;flex-direction: column;background:transparent;font:13px Helvetica,Arial,sans-serif;position:relative}.clear{clear:both}.clearfix:after{content:'';display:block;height:0;clear:both;visibility:hidden}\";\n\nexport {settings};","function _getPrototypeOf(t) {\n  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, _getPrototypeOf(t);\n}\nexport { _getPrototypeOf as default };","\nexport class userSession {\n\n    constructor() {\n        this.vid = null;\n        this.hnh = null;\n        this.withCredentials = false;\n\n        this.attributes = {};\n        this.ref = null;\n        this.id = null;\n        this.hash = null;\n        this.ws = null;\n        this.sd = null;\n        this.jsVars = [];\n        this.updateVarsTimeout = null;\n        this.JSON = {\n            parse: window.JSON && (window.JSON.parse || window.JSON.decode) || String.prototype.evalJSON && function(str){return String(str).evalJSON();} || $.parseJSON || $.evalJSON,\n            stringify:  Object.toJSON || window.JSON && (window.JSON.stringify || window.JSON.encode) || $.toJSON\n        };\n    }\n\n    setAttributes(attributes) {\n        this.attributes = attributes;\n    }\n\n    setSessionReferrer(ref) {\n        this.ref = ref;\n    }\n\n    getSessionReferrer() {\n        return this.ref;\n    }\n\n    getVID() {\n        return this.vid;\n    }\n\n    setVID(vid) {\n        this.vid = vid;\n    }\n\n    setSessionInformation(params) {\n        this.vid = params['vid'] || null;\n        this.hnh = params['hnh'] || null;\n        this.hash = params['hash'] || null;\n        this.id = params['id'] || null;\n        this.ws = params['ws'] || null;\n        this.sd = params['sd'] || null;\n    }\n\n    getSessionAttributes() {\n        var attr = {};\n\n        if (this.vid !== null) {\n            attr['vid'] = this.vid;\n        }\n\n        if (this.hnh !== null) {\n            attr['hnh'] = this.hnh;\n        }\n\n        if (this.id !== null) {\n            attr['id'] = this.id;\n        }\n\n        if (this.hash !== null) {\n            attr['hash'] = this.hash;\n        }\n\n        if (this.ws !== null) {\n            attr['ws'] = this.ws;\n        }\n\n        if (this.sd !== null) {\n            attr['sd'] = this.sd;\n        }\n\n        return attr\n    }\n\n    setupVarsMonitoring(jsVars, cb) {\n        this.jsVars = jsVars;\n\n        // Try to monitor variable if it's lhc_var\n        try {\n\n            if (this.attributes.lhc_var !== null)\n            {\n                var validator = {\n                    set: (obj, prop, value) => {\n                        // The default behavior to store the value\n                        obj[prop] = value;\n\n                        clearTimeout(this.updateVarsTimeout);\n                        this.updateVarsTimeout = setTimeout( () => {\n                                this.updateJSVars(obj, cb);\n                            },1000);\n                        this.attributes.ignoreVars === false && this.attributes.broadcasChannel && this.attributes.broadcasChannel.postMessage({'action':'current_vars', 'init':false, 'lhc_var': JSON.parse(JSON.stringify(obj))});\n\n                        // Indicate success\n                        return true;\n                    }\n                };\n\n                this.attributes.lhc_var = new Proxy(this.attributes.lhc_var,validator);\n\n                // Convert argument or global lhc_var to a reference\n                if (this.attributes.LHC_API.args.lhc_var) {\n                    this.attributes.LHC_API.args.lhc_var = this.attributes.lhc_var;\n                } else if (lhc_var) {\n                    lhc_var = this.attributes.lhc_var;\n                }\n\n                // Update vars initially\n                this.updateJSVars(this.attributes.lhc_var);\n                this.attributes.broadcasChannel && this.attributes.broadcasChannel.postMessage({'action':'check_vars', 'init':false, 'lhc_var': JSON.parse(JSON.stringify(this.attributes.lhc_var))});\n\n            } else if (typeof LHCChatOptions !== 'undefined' && typeof LHCChatOptions.attr_prefill !== 'undefined') {\n\n                var lhc_var_prefill = {};\n\n                LHCChatOptions.attr_prefill.forEach( (item) => {\n                    if (item.name && item.value) {\n                        lhc_var_prefill['prefill_'+item.name] = item.value;\n                    }\n                });\n\n                var xhr = new XMLHttpRequest();\n                xhr.open( \"POST\", this.attributes.LHC_API.args.lhc_base_url + '/chat/updatejsvars' + this.getAppendVariables(), true);\n                xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n                xhr.send( \"data=\" + encodeURIComponent( this.JSON.stringify(lhc_var_prefill) ) );\n            }\n\n       } catch(err) {\n            console.log(err);\n       };\n    }\n\n    getPrefillVars() {\n        let varsReturn = [];\n        if (this.jsVars.length > 0) {\n            var varsSet = this.getVars();\n            for (var jsVarData in this.jsVars) {\n                if (this.jsVars[jsVarData].type && varsSet[this.jsVars[jsVarData].id]) {\n                    var item = {};\n                    item[this.jsVars[jsVarData].type] = varsSet[this.jsVars[jsVarData].id];\n                    varsReturn.push(item);\n                }\n            }\n        }\n        return varsReturn;\n    }\n\n    getVars() {\n        if (this.jsVars.length > 0) {\n            var js_args = {};\n            var currentVar = null;\n\n            for (var index in this.jsVars) {\n                try {\n\n                    if (this.jsVars[index].cookie) {\n                        this.withCredentials = true;\n                        continue;\n                    }\n\n                    if (this.jsVars[index].var.indexOf('lhc_var.') !== -1) {\n                        currentVar = typeof this.attributes.lhc_var[this.jsVars[index].var.replace('lhc_var.','')] !== 'undefined' ? this.attributes.lhc_var[this.jsVars[index].var.replace('lhc_var.','')] : null;\n                    } else {\n                        currentVar = eval(this.jsVars[index].var);\n                    }\n\n                    if (typeof currentVar !== 'undefined' && currentVar !== null && currentVar !== '') {\n                        js_args[this.jsVars[index].id] = currentVar;\n                    }\n                } catch(err) {\n\n                }\n            }\n\n            return js_args;\n        }\n        return null;\n    }\n\n    getAppendVariables(){\n        var append = '';\n\n        if (this.vid !== null) {\n            append = append + '/(vid)/' + this.vid ;\n        }\n\n        if (this.hash !== null && this.id !== null) {\n            append = append + '/(hash)/' + this.id  + '_' + this.hash;\n        }\n\n        return append;\n    }\n\n    updateChatStatus(params) {\n        let varsJSON = {};\n        varsJSON['lhc_vars'] = this.getVars();\n\n        if (params) {\n            varsJSON['user_vars'] = params;\n        }\n\n        var xhr = new XMLHttpRequest();\n        xhr.open( \"POST\", this.attributes.LHC_API.args.lhc_base_url + 'chat/updatejsvars/(userinit)/true' + this.getAppendVariables() + (this.attributes.LHC_API.args.vars_encrypted ? '/(encrypted)/true' : ''), true);\n        xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n        if (this.withCredentials == true) {\n            xhr.withCredentials = true;\n        }\n        xhr.send( \"data=\" + encodeURIComponent( this.JSON.stringify(varsJSON) ) + \"&host=\" + window.location.origin );\n    }\n\n    updateJSVars(vars, cb) {\n\n        let varsJSON = this.getVars(vars);\n\n        var xhr = new XMLHttpRequest();\n        xhr.open( \"POST\", this.attributes.LHC_API.args.lhc_base_url + '/chat/updatejsvars' + this.getAppendVariables() + (this.attributes.LHC_API.args.vars_encrypted ? '/(encrypted)/true' : ''), true);\n        xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n        if (this.withCredentials == true) {\n            xhr.withCredentials = true;\n        }\n        xhr.send( \"data=\" + encodeURIComponent( this.JSON.stringify(varsJSON) )+\"&host=\" + window.location.origin );\n\n        if (typeof cb !== 'undefined' && this.hash === null && this.id === null) {\n            cb(varsJSON, this.getPrefillVars());\n        }\n    }\n\n    setChatInformation(data, alwaysPersistentNeedHelp) {\n        this.id = data.id;\n        this.hash = data.hash;\n        // Hide only chat starts otherwise don't touch it.\n        if (this.id !== null && !alwaysPersistentNeedHelp) {\n            this.hnh = Math.round(Date.now() / 1000);\n        }\n    }\n\n}","\nclass _chatNotifications {\n    constructor() {\n        this.isNotificationsSubscribed = false;\n        this.applicationServerPublicKey = null;\n        this.eventEmitter = null;\n    }\n\n    setPublicKey(publicKey, eventEmitter) {\n        this.applicationServerPublicKey = publicKey\n        this.eventEmitter = eventEmitter\n    }\n\n   sendNotification() {\n\n    var that = this;\n    var applicationServerPublicKey = this.applicationServerPublicKey;\n\n    var swRegistration = null;\n\n    if (!('serviceWorker' in navigator) || !('PushManager' in window)) {\n        alert(\"This browser does not support desktop notification\");\n        return;\n    }\n\n    // Let's check if the browser supports notifications\n    if (!(\"Notification\" in window)) {\n        alert(\"This browser does not support desktop notification\");\n        return;\n    }\n    // Let's check whether notification permissions have already been granted\n    else if (Notification.permission === \"granted\") {\n        // If it's okay let's create a notification\n        //\n    }\n    // Otherwise, we need to ask the user for permission\n    else if (Notification.permission !== \"denied\") {\n        Notification.requestPermission(function (permission) {\n            // If the user accepts, let's create a notification\n            if (permission !== \"granted\") {\n                alert('Sorry but you have denied notification!');\n                return;\n            }\n        });\n    } else if (Notification.permission === \"denied\") {\n        alert('Sorry but you have denied notification!');\n        return;\n    }\n\n    function urlB64ToUint8Array(base64String) {\n        var padding = '='.repeat((4 - base64String.length % 4) % 4);\n        var base64 = (base64String + padding)\n        .replace(/\\-/g, '+')\n        .replace(/_/g, '/');\n\n        var rawData = window.atob(base64);\n        var outputArray = new Uint8Array(rawData.length);\n\n        for (var i = 0; i < rawData.length; ++i) {\n            outputArray[i] = rawData.charCodeAt(i);\n        }\n        return outputArray;\n    }\n\n    function updateSubscriptionOnServer(subscription, subscribe) {\n        if (subscription === null) {\n            return;\n        }\n\n        var key = subscription.getKey('p256dh');\n        var token = subscription.getKey('auth');\n        var contentEncoding = (PushManager.supportedContentEncodings || ['aesgcm'])[0];\n\n        var payload = JSON.stringify({\n            endpoint: subscription.endpoint,\n            publicKey: key ? btoa(String.fromCharCode.apply(null, new Uint8Array(key))) : null,\n            authToken: token ? btoa(String.fromCharCode.apply(null, new Uint8Array(token))) : null,\n            contentEncoding : contentEncoding\n        });\n\n        that.eventEmitter.emitEvent('subcribedEvent', [{'payload' : payload}]);\n    }\n\n    var that = this;\n\n    function subscribeUser() {\n        var applicationServerKey = urlB64ToUint8Array(applicationServerPublicKey);\n        swRegistration.pushManager.subscribe({\n            'userVisibleOnly': true,\n            'applicationServerKey': applicationServerKey\n        }).then(function(subscription) {\n            updateSubscriptionOnServer(subscription, true);\n            that.isNotificationsSubscribed = true;\n        });\n    }\n\n    function unsubscribeUser() {\n        swRegistration.pushManager.getSubscription().then(function(subscription) {\n            if (subscription) {\n                updateSubscriptionOnServer(subscription,false);\n                return subscription.unsubscribe();\n            }\n        }).then(function() {\n            alert('You have unsubscribed!');\n            that.isNotificationsSubscribed = false;\n        });\n    }\n\n    function initializeUI() {\n        // Set the initial subscription value\n        swRegistration.pushManager.getSubscription().then(function(subscription) {\n            that.isNotificationsSubscribed = !(subscription === null);\n            if (that.isNotificationsSubscribed) {\n                subscribeUser();\n            } else {\n                subscribeUser();\n            }\n        });\n    }\n\n    // At last, if the user has denied notifications, and you\n    // want to be respectful there is no need to bother them any more.\n    navigator.serviceWorker.register('/sw.lhc.js?v=2').then(function(swReg) {\n        swRegistration = swReg;\n        initializeUI();\n    });\n\n    }\n\n};\n\nconst chatNotifications = new _chatNotifications();\nexport { chatNotifications };","'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.prototype.finally = function (f) {\n  return this.then(function (value) {\n    return Promise.resolve(f()).then(function () {\n      return value;\n    });\n  }, function (err) {\n    return Promise.resolve(f()).then(function () {\n      throw err;\n    });\n  });\n};\n","export class mainWidgetPopup {\n    constructor() {\n\n        this.attributes = {};\n\n        this.width = null;\n        this.height = null;\n        this.units = 'px';\n        this.freeup();\n    }\n\n    freeup() {\n        this.cont = {};\n    }\n\n    parseOptions() {\n        var argumentsQuery = new Array();\n        var paramsReturn = '';\n        if (typeof this.attributes != 'undefined') {\n            if (typeof this.attributes.LHCChatOptions.attr != 'undefined') {\n                if (this.attributes.LHCChatOptions.attr.length > 0) {\n                    for (var index in this.attributes.LHCChatOptions.attr) {\n                        if (typeof this.attributes.LHCChatOptions.attr[index] != 'undefined' && typeof this.attributes.LHCChatOptions.attr[index].type != 'undefined') {\n                            argumentsQuery.push('name[]=' + encodeURIComponent(this.attributes.LHCChatOptions.attr[index].name) + '&encattr[]=' + (typeof this.attributes.LHCChatOptions.attr[index].encrypted != 'undefined' && this.attributes.LHCChatOptions.attr[index].encrypted == true ? 't' : 'f') + '&value[]=' + encodeURIComponent(this.attributes.LHCChatOptions.attr[index].value) + '&type[]=' + encodeURIComponent(this.attributes.LHCChatOptions.attr[index].type) + '&size[]=' + encodeURIComponent(this.attributes.LHCChatOptions.attr[index].size) + '&req[]=' + (typeof this.attributes.LHCChatOptions.attr[index].req != 'undefined' && this.attributes.LHCChatOptions.attr[index].req == true ? 't' : 'f') + '&sh[]=' + ((typeof this.attributes.LHCChatOptions.attr[index].show != 'undefined' && (this.attributes.LHCChatOptions.attr[index].show == 'on' || this.attributes.LHCChatOptions.attr[index].show == 'off')) ? this.attributes.LHCChatOptions.attr[index].show : 'b'));\n                        }\n                    }\n                }\n            }\n\n            if (typeof this.attributes.LHCChatOptions.attr_prefill != 'undefined') {\n                if (this.attributes.LHCChatOptions.attr_prefill.length > 0) {\n                    for (var index in this.attributes.LHCChatOptions.attr_prefill) {\n                        if (typeof this.attributes.LHCChatOptions.attr_prefill[index] != 'undefined' && typeof this.attributes.LHCChatOptions.attr_prefill[index].name != 'undefined') {\n                            argumentsQuery.push('prefill[' + this.attributes.LHCChatOptions.attr_prefill[index].name + ']=' + encodeURIComponent(this.attributes.LHCChatOptions.attr_prefill[index].value));\n                        }\n                    }\n                }\n            }\n\n            if (typeof this.attributes.LHCChatOptions.attr_prefill_admin != 'undefined') {\n                if (this.attributes.LHCChatOptions.attr_prefill_admin.length > 0) {\n                    for (var index in this.attributes.LHCChatOptions.attr_prefill_admin) {\n                        if (typeof this.attributes.LHCChatOptions.attr_prefill_admin[index] != 'undefined') {\n                            argumentsQuery.push('value_items_admin[' + this.attributes.LHCChatOptions.attr_prefill_admin[index].index + ']=' + encodeURIComponent(this.attributes.LHCChatOptions.attr_prefill_admin[index].value));\n                        }\n                    }\n                }\n            }\n\n            if (argumentsQuery.length > 0) {\n                paramsReturn = '&' + argumentsQuery.join('&');\n            }\n        }\n\n        return paramsReturn;\n    }\n\n    init(attributes, chatEvents, paramsPopup) {\n\n        if (this.cont.elementReferrerPopup && this.cont.elementReferrerPopup.closed === false) {\n            typeof paramsPopup !== 'undefined' && paramsPopup.event !== 'undefined' && paramsPopup.event.preventDefault();\n            this.cont.elementReferrerPopup.focus();\n        } else {\n\n            this.attributes = attributes;\n\n            let attr = {\n                'static_chat': this.attributes['userSession'].getSessionAttributes()\n            };\n\n            let urlArgumetns = '';\n\n            if (attr['static_chat']['id'] && attr['static_chat']['hash']) {\n                urlArgumetns = urlArgumetns + \"/(id)/\" + attr['static_chat']['id'] + \"/(hash)/\" + attr['static_chat']['hash'];\n            }\n\n            if (this.attributes['theme'] !== null) {\n                urlArgumetns = urlArgumetns + \"/(theme)/\" + this.attributes['theme'];\n            }\n\n            if (attr['static_chat']['vid'] !== null && this.attributes.storageHandler.cookieEnabled === true) {\n                urlArgumetns = urlArgumetns + \"/(vid)/\" + attr['static_chat']['vid'];\n            }\n\n            if (this.attributes['isMobile']) {\n                urlArgumetns = urlArgumetns + \"/(mobile)/true\";\n            }\n\n            if (this.attributes['department'].length > 0) {\n                urlArgumetns = urlArgumetns + \"/(department)/\" + this.attributes['department'].join('/');\n            }\n\n            if (this.attributes['identifier'] != '') {\n                urlArgumetns = urlArgumetns + \"/(identifier)/\" + this.attributes['identifier'];\n            }\n\n            if (this.attributes['operator']) {\n                urlArgumetns = urlArgumetns + \"/(operator)/\" + this.attributes['operator'];\n            }\n\n            if (this.attributes['survey']) {\n                urlArgumetns = urlArgumetns + \"/(survey)/\" + this.attributes['survey'];\n            }\n\n            if (this.attributes['bot_id']) {\n                urlArgumetns = urlArgumetns + \"/(bot)/\" + this.attributes['bot_id'];\n            }\n\n            if (this.attributes['trigger_id']) {\n                urlArgumetns = urlArgumetns + \"/(trigger)/\" + this.attributes['trigger_id'];\n            }\n\n            if (this.attributes['subject_id']) {\n                urlArgumetns = urlArgumetns + \"/(subject)/\" + this.attributes['subject_id'];\n            }\n\n            if (this.attributes['vars_encrypted']) {\n                urlArgumetns = urlArgumetns + \"/(encrypted)/true\";\n            }\n\n            if (this.attributes['priority']) {\n                urlArgumetns = urlArgumetns + \"/(priority)/\" + this.attributes['priority'];\n            }\n\n            if (this.attributes['prefixLowercase'] != 'lhc') {\n                urlArgumetns = urlArgumetns + \"/(scope)/\" + this.attributes['prefixLowercase'];\n            }\n\n            urlArgumetns = urlArgumetns + \"/(sound)/\" + (this.attributes.toggleSound.value == true ? 1 : 0);\n\n            if (this.attributes['proactive']['invitation']) {\n                urlArgumetns = urlArgumetns + \"/(inv)/\" + this.attributes['proactive']['invitation'];\n                if (this.attributes['mode'] == 'popup') {\n                    this.attributes.storageHandler.setSessionStorage(this.attributes['prefixStorage']+'_invt', 1);\n                }\n            }\n\n            var fontSize = this.attributes.storageHandler.getLocalStorage(this.attributes['prefixStorage']+'_dfs');\n\n            if (fontSize) {\n                urlArgumetns = urlArgumetns + \"/(fs)/\" + parseInt(fontSize);\n            }\n\n            if (this.attributes['leaveMessage'] === true) {\n                urlArgumetns = urlArgumetns + \"/(leaveamessage)/true\";\n            }\n\n            if (this.attributes['userSession'].getSessionReferrer() !== null && this.attributes['userSession'].getSessionReferrer() != '') {\n                urlArgumetns = urlArgumetns + '?ses_ref=' + this.attributes['userSession'].getSessionReferrer() + this.parseOptions();\n            } else {\n                urlArgumetns = urlArgumetns + '?' + this.parseOptions();\n            }\n\n            const dualScreenLeft = window.screenLeft !==  undefined ? window.screenLeft : window.screenX;\n            const dualScreenTop = window.screenTop !==  undefined   ? window.screenTop  : window.screenY;\n\n            const width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\n            const height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\n\n            const systemZoom = width / window.screen.availWidth;\n            const left = (width - parseInt(this.attributes['popupDimesnions']['pwidth'])) / 2 / systemZoom + dualScreenLeft;\n            const top = (height - parseInt(this.attributes['popupDimesnions']['pheight'])) / 2 / systemZoom + dualScreenTop;\n\n            var paramsWindow = \"scrollbars=yes,menubar=1,resizable=1,width=\" + this.attributes['popupDimesnions']['pwidth'] + \",height=\" + this.attributes['popupDimesnions']['pheight'] + \",top=\" + top + \",left=\" + left;\n            var newWin = window.open(\"\", this.attributes['prefixStorage'] + '_popup_v2', paramsWindow);\n            var needWindow = false;\n            var windowCreated = false;\n\n            // First try to find any existing window\n            try {\n                // It has to be new window or popup was blocked\n                if (!newWin || newWin.closed || typeof newWin.closed=='undefined' || newWin.location.href === \"about:blank\") {\n                    newWin = this.cont.elementReferrerPopup = window.open(this.attributes['base_url'] + this.attributes['lang'] + \"chat/start\" + urlArgumetns, this.attributes['prefixStorage']+'_popup_v2', paramsWindow);\n                    windowCreated = true;\n                } else {\n                    needWindow = true;\n                }\n            } catch (e) { // We get cross-origin error only if window exist and it's location is other one than about:blank\n                needWindow = true;\n            }\n\n            // Now if visitor has blocked popup change chat status link and just allow browser handle the rest.\n            if (!newWin || newWin.closed || typeof newWin.closed=='undefined') {\n                try {\n                    this.attributes.viewHandler.cont.shadowRoot.getElementById(\"status-icon\").href = this.attributes['base_url'] + this.attributes['lang'] + \"chat/start\" + urlArgumetns;\n                    this.attributes.viewHandler.cont.shadowRoot.getElementById(\"status-icon\").click();\n                } catch (e) {\n                    alert('You have disabled popups!');\n                }\n            } else if (windowCreated == true) {\n                typeof chatEvents !== 'undefined' && this.attributes.kcw === false && chatEvents.sendChildEvent('endedChat', [{'sender': 'endButton'}]);\n                typeof paramsPopup !== 'undefined' && paramsPopup.event !== 'undefined' && paramsPopup.event.preventDefault();\n            } else if (needWindow === true) {\n                this.cont.elementReferrerPopup = newWin;\n                newWin.focus();\n                typeof paramsPopup !== 'undefined' && paramsPopup.event !== 'undefined' && paramsPopup.event.preventDefault();\n            }\n        }\n    }\n\n    getAttributesToSent(){\n        var js_vars = this.attributes['jsVars'].value;\n        var js_args = {};\n        var currentVar = null;\n        for (var index in js_vars) {\n            try {\n                currentVar = eval(js_vars[index].var);\n                if (typeof currentVar !== 'undefined' && currentVar !== null && currentVar !== '') {\n                    js_args[js_vars[index].id] = currentVar;\n                }\n            } catch (err) {\n\n            }\n        }\n        return js_args;\n    }\n\n    sendParameters(chatEvents) {\n        if (this.cont.elementReferrerPopup && this.cont.elementReferrerPopup.closed === false) {\n            chatEvents.sendChildEvent('jsVars', [this.getAttributesToSent()]);\n        }\n    }\n}","\nclass chatEventsHandler {\n\n    constructor(attr) {\n        this.attributes = attr\n    }\n\n    getJSVarsValues(jsVars) {\n        var js_args = {};\n\n        if (jsVars.length > 0) {\n\n            var currentVar = null;\n\n            for (var index in jsVars) {\n                try {\n                    currentVar = eval('window.'+jsVars[index].var);\n                    if (typeof currentVar !== 'undefined' && currentVar !== null && currentVar !== '') {\n                        js_args[jsVars[index].id] = currentVar;\n                    }\n                } catch(err) {\n                }\n            }\n            return js_args;\n        }\n\n        return js_args;\n    }\n\n    getInitAttributes() {\n        let attr =  {\n            'onlineStatus' : this.attributes['onlineStatus'].value,\n            'toggleSound' : this.attributes['toggleSound'].value,\n            'widgetStatus' : this.attributes['widgetStatus'].value,\n            'vars_encrypted' : this.attributes['vars_encrypted'],\n            'jsVars' : this.getJSVarsValues(this.attributes['jsVars'].value),\n            'isMobile' : this.attributes['isMobile'],\n            'department' : this.attributes['department'],\n            'product' : this.attributes['product'],\n            'theme' : this.attributes['theme'],\n            'theme_v' : this.attributes['theme_v'],\n            'base_url' : this.attributes['base_url'],\n            'mode' : this.attributes['mode'],\n            'captcha' : this.attributes['captcha'],\n            'staticJS' : this.attributes['staticJS'],\n            'static_chat' : this.attributes['userSession'].getSessionAttributes(),\n            'domain_lhc': this.attributes['domain_lhc'],\n            'leave_message': this.attributes['leaveMessage'],\n            'scope_prefix': this.attributes['prefixLowercase'],\n            'position_placement': this.attributes['position_placement'],\n            'position_placement_original': this.attributes['position_placement_original']\n        };\n\n        if (this.attributes['fresh'] == true) {\n            if (attr['static_chat']['id']) {\n                delete attr['static_chat']['id'];\n            }\n\n            if (attr['static_chat']['hash']) {\n                delete attr['static_chat']['hash'];\n            }\n        }\n\n        if (this.attributes['bot_id'] != '') {\n            attr['bot_id'] = this.attributes['bot_id'];\n        }\n\n        if (this.attributes['trigger_id'] != '') {\n            attr['trigger_id'] = this.attributes['trigger_id'];\n        }\n        \n        if (this.attributes['subject_id'] != '') {\n            attr['subject_id'] = this.attributes['subject_id'];\n        }\n\n        if (this.attributes['priority'] != '') {\n            attr['priority'] = this.attributes['priority'];\n        }\n        \n        if (this.attributes['phash'] !== null) {\n            attr['phash'] = this.attributes['phash'];\n        }\n\n        if (this.attributes['survey'] !== null) {\n            attr['survey'] = this.attributes['survey'];\n        }\n\n        if (this.attributes['pvhash'] !== null) {\n            attr['pvhash'] = this.attributes['pvhash'];\n        }\n\n        if (this.attributes['operator'] !== null) {\n            attr['operator'] = this.attributes['operator'];\n        }\n\n        if (this.attributes['profile_pic'] !== null) {\n            attr['profile_pic'] = this.attributes['profile_pic'];\n        }\n\n        if (this.attributes['lang'] != '') {\n            attr['lang'] = this.attributes['lang'];\n        }\n\n        if (this.attributes['proactive']['invitation']) {\n            attr['proactive'] = this.attributes['proactive'];\n        }\n\n        if (this.attributes['dep_default'] !== null) {\n            attr['dep_default'] = this.attributes['dep_default'];\n        }\n\n        if (this.attributes.LHCChatOptions && this.attributes.LHCChatOptions.attr) {\n            var prefillOptions = this.attributes.LHCChatOptions.attr;\n            let fieldsCustom = [];\n            prefillOptions.forEach((item, index) => {\n                fieldsCustom.push({show : (((typeof item.show != 'undefined' && (item.show == 'on' || item.show == 'off')) ? item.show : 'b')), value : item.value, index : index, name : item.name, \"class\": \"form-control form-control-sm\", 'type' : item.type, 'identifier': ('additional_' + index), 'placeholder' : '', 'width' : (item.size || 6), 'encrypted': (item.encrypted || false), 'required' : (item.req || false), 'label' : item.name});\n            });\n\n            attr['CUSTOM_FIELDS'] = fieldsCustom;\n        }\n\n        if (this.attributes.LHCChatOptions && this.attributes.LHCChatOptions.attr_prefill) {\n            var prefillOptions = this.attributes.LHCChatOptions.attr_prefill;\n            let prefilOptionsList = [];\n            prefillOptions.forEach((item) => {\n                if (item.name == 'email') {\n                    prefilOptionsList.push({'Email' : item.value});\n                } else if (item.name == 'username') {\n                    prefilOptionsList.push({'Username' : item.value});\n                } else if (item.name == 'phone') {\n                    prefilOptionsList.push({'Phone' : item.value});\n                } else if (item.name == 'question') {\n                    prefilOptionsList.push({'Question' : item.value});\n                }\n            })\n            prefilOptionsList = prefilOptionsList.concat(this.attributes['userSession'].getPrefillVars());\n            attr['attr_prefill'] = prefilOptionsList;\n        } else {\n            attr['attr_prefill'] = this.attributes['userSession'].getPrefillVars();\n        }\n\n        if (this.attributes.LHCChatOptions && this.attributes.LHCChatOptions.attr_prefill_admin) {\n            var prefillOptions = this.attributes.LHCChatOptions.attr_prefill_admin;\n            let prefilOptionsList = [];\n            prefillOptions.forEach((item) => {\n                  prefilOptionsList.push({'value' : item.value, 'index' : item.index});\n            })\n            attr['attr_prefill_admin'] = prefilOptionsList;\n        }\n\n        if (this.attributes['userSession'].getSessionReferrer() !== null) {\n            attr['ses_ref'] = this.attributes['userSession'].getSessionReferrer()\n        }\n\n        return attr;\n    }\n\n    sendChildCommand(command) {\n        if (this.attributes.mainWidget.cont.elmDom && this.attributes.mainWidget.cont.elmDom.contentWindow)\n        {\n            this.attributes.mainWidget.cont.elmDom.contentWindow.postMessage(command, (this.attributes.isIE ? '*' : '/'));\n        }\n\n        if (this.attributes.popupWidget.cont.elementReferrerPopup && this.attributes.popupWidget.cont.elementReferrerPopup.closed === false)\n        {\n            this.attributes.popupWidget.cont.elementReferrerPopup.postMessage(command, '*');\n        }\n    }\n\n    sendReadyEvent (popup) {\n\n        let args = this.getInitAttributes();\n\n        if (!(popup === true) && this.attributes.mainWidget.cont.elmDom && this.attributes.mainWidget.cont.elmDom.contentWindow)\n        {\n            this.attributes.mainWidget.cont.elmDom.contentWindow.postMessage('lhc_init:' + JSON.stringify(args), (this.attributes.isIE ? '*' : '/'));\n        }\n     }\n\n    sendChildEvent(event, args, type) {\n        if (typeof type === 'undefined') {\n            type = 'lhc_event';\n        }\n        this.sendChildCommand(type+':'+event + '::' + JSON.stringify(args));\n    }\n}\n\nexport { chatEventsHandler };","\nclass _domEventsHandler {\n    constructor() {\n        this.events = {}\n    }\n\n    attachEvent (object, event, callback) {\n        var k = this, dispatch = function (b) {\n            callback.call(object, k.getEvent(b))\n        };\n        object.attachEvent(\"on\" + event, dispatch);\n        return dispatch\n    };\n\n    unlisten(eventName) {\n        var presentEvent;\n        this.events[eventName] && (presentEvent = this.events[eventName], this.events[eventName] = null, this.removeEventHandler(presentEvent.element, presentEvent.eventName, presentEvent.eventListener));\n    }\n\n    listen(object, event, callback, eventName) {\n        var presentEvent;\n        if (eventName) {\n            this.events[eventName] && (presentEvent = this.events[eventName], this.events[eventName] = null, this.removeEventHandler(presentEvent.element, presentEvent.eventName, presentEvent.eventListener));\n\n            if (object.addEventListener) {\n                object.addEventListener(event, callback, !1);\n            } else if (document.attachEvent) {\n                callback = this.attachEvent(object, event, callback);\n            } else {\n                return null;\n            }\n\n            this.events[eventName] = {element: object, eventName: event, eventListener: callback};\n\n            return callback\n        }\n    };\n\n    removeEventHandler(object, event, listener) {\n        document.removeEventListener ? object.removeEventListener(event, listener, !1) : object.detachEvent(\"on\" + event, listener)\n    };\n\n    getEvent(event) {\n        var eventInstance = event || _this.event;\n        if (!eventInstance) {\n            for (event = this.getEvent.caller; event && (!(eventInstance = event.arguments[0]) || Event != eventInstance.constructor);) {\n                event = event.caller\n            };\n        }\n        return eventInstance\n    };\n}\n\nconst domEventsHandler = new _domEventsHandler();\nexport { domEventsHandler };","\"use strict\";\n\n// rawAsap provides everything we need except exception management.\nvar rawAsap = require(\"./raw\");\n// RawTasks are recycled to reduce GC churn.\nvar freeTasks = [];\n// We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n    if (pendingErrors.length) {\n        throw pendingErrors.shift();\n    }\n}\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nmodule.exports = asap;\nfunction asap(task) {\n    var rawTask;\n    if (freeTasks.length) {\n        rawTask = freeTasks.pop();\n    } else {\n        rawTask = new RawTask();\n    }\n    rawTask.task = task;\n    rawAsap(rawTask);\n}\n\n// We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\nfunction RawTask() {\n    this.task = null;\n}\n\n// The sole purpose of wrapping the task is to catch the exception and recycle\n// the task object after its single use.\nRawTask.prototype.call = function () {\n    try {\n        this.task.call();\n    } catch (error) {\n        if (asap.onerror) {\n            // This hook exists purely for testing purposes.\n            // Its name will be periodically randomized to break any code that\n            // depends on its existence.\n            asap.onerror(error);\n        } else {\n            // In a web browser, exceptions are not fatal. However, to avoid\n            // slowing down the queue of pending tasks, we rethrow the error in a\n            // lower priority turn.\n            pendingErrors.push(error);\n            requestErrorThrow();\n        }\n    } finally {\n        this.task = null;\n        freeTasks[freeTasks.length] = this;\n    }\n};\n","\nexport class monitoredVariable {\n    constructor(value, params) {\n        this.valueInternal = value;\n        this.listeners = [];\n        this.params = params || {};\n    }\n\n    get value() {\n        return this.valueInternal;\n    }\n\n    set value(val) {\n        this.next(val);\n    }\n\n    next(val) {\n        this.valueInternal = val;\n        this.callListeners();\n    }\n\n    nextPropertySilent(key, val) {\n        this.valueInternal[key] = val;\n    }\n\n    nextProperty(key, val) {\n        this.valueInternal[key] = val;\n        this.callListeners();\n    }\n\n    callListeners() {\n        this.listeners.forEach((item) => {\n            if (item && typeof item === \"function\") {\n                item(this.valueInternal);\n            }\n        });\n    }\n\n    unsubscribe(callback) {\n        if (this.listeners.indexOf(callback) !== -1) {\n            this.listeners.splice(this.listeners.indexOf(callback), 1);\n        }\n    }\n\n    subscribe(callback, ignoreSub) {\n        this.listeners.push(callback);\n        \n        if (!this.params['ignore_sub'] && !ignoreSub) {\n            callback(this.valueInternal);\n        }\n    }\n}\n\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && setPrototypeOf(t, e);\n}\nexport { _inherits as default };","'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.prototype.done = function (onFulfilled, onRejected) {\n  var self = arguments.length ? this.then.apply(this, arguments) : this;\n  self.then(null, function (err) {\n    setTimeout(function () {\n      throw err;\n    }, 0);\n  });\n};\n","import {helperFunctions} from './helperFunctions';\nimport {settings} from './settings.js';\nimport {domEventsHandler} from '../util/domEventsHandler';\n\nexport class UIConsturctor {\n    constructor(elementId, style, attributes, tagname, documentRef) {\n        var f = this;\n        this.elementId = elementId || \"\";\n        this.style = style || \"\";\n        this.tagName = tagname || \"div\";\n        this.tmpl = \"\";\n        this.elmDom = null;\n        this.elmDomDoc = documentRef || document;\n        this.attributes = {};\n        this.classNames = [];\n\n        this.elementId && (this.attributes.id = this.elementId);\n\n        attributes && Object.keys(attributes).forEach(function (attr) {\n            f.attributes[attr] = attributes[attr]\n        })\n    }\n\n    constructUI(a) {\n        this.elmDomDoc =\n            a || this.elmDomDoc;\n        this.elmDom = helperFunctions.initElement(this.elmDomDoc, this.tagName, this.attributes, this.style, this.tmpl);\n        this.elmDom.className += this.classNames.join(\" \");\n        return this.elmDom\n    };\n\n    restyle(attr, style) {\n        style && (this.elmDom ? this.elmDom.style.cssText += \";\" + attr + \":\" + style : this.style += \";\" + attr + \":\" + style)\n    };\n\n    attachUserEventListener(a, c, d, k) {\n        var e;\n        if (e = d ? this.getElementById(d) : this.elmDom) d = a.split(\" \"), 1 < d.length ? d.forEach(function (a) {\n            domEventsHandler.listen(e, a, c, a + k)\n        }) : domEventsHandler.listen(e, a, c, k)\n    };\n\n    getElementById(a) {\n        return this.elmDom && this.elmDomDoc ? this.elmDomDoc.getElementById(a) : null\n    };\n\n    hide() {\n        this.restyle(\"display\", \"none !important\");\n    }\n\n    show() {\n        this.restyle(\"display\", \"block !important\");\n    }\n\n    insertCssFile(style, reset) {\n        var d = this.elmDomDoc.getElementsByTagName(\"head\")[0],\n            k = this.elmDomDoc.createDocumentFragment(),\n            e = helperFunctions.initElement(this.elmDomDoc, \"style\", {type: \"text/css\"}),\n            f = this.elmDomDoc.createTextNode(reset ? style : settings.ResetStyle + \"\" + style);\n        k.appendChild(e);\n        d.appendChild(k);\n        e.styleSheet ? e.styleSheet.cssText = f.nodeValue : e.appendChild(f)\n    }\n\n    insertCssRemoteFile(attr) {\n\n        var elm = null;\n\n        if (attr.id && attr.href && (elm = this.elmDomDoc.getElementById(attr.id)) !== null) {\n            elm.href = attr.href\n            return;\n        }\n\n        var d = this.elmDomDoc.getElementsByTagName(\"head\")[0],\n            k = this.elmDomDoc.createDocumentFragment(),\n            e = this.elmDomDoc.createElement('link');\n\n        e.rel = \"stylesheet\";\n        e.crossOrigin = \"*\";\n\n        for (var b in attr) e[b] = attr[b];\n\n        k.appendChild(e);\n        d.appendChild(k);\n    }\n\n    insertJSFile(src, async, loadcb, attr) {\n        var d = this.elmDomDoc.getElementsByTagName(\"head\")[0],\n            k = this.elmDomDoc.createDocumentFragment(),\n            e = this.elmDomDoc.createElement('script');\n\n            e.type = 'text/javascript';\n            if (typeof async === 'undefined' || async === true) {\n                e.async = true;\n            }\n\n            e.crossOrigin = \"*\";\n            e.src = src;\n\n            if (loadcb) {\n                e.onload = loadcb;\n            }\n\n            if (attr) {\n                Object.keys(attr).forEach(key => {\n                    e.setAttribute(key,attr[key]);\n                })\n            }\n\n            k.appendChild(e);\n            d.appendChild(k);\n    }\n\n    massRestyle(a) {\n        for (var b in a) a.hasOwnProperty(b) && this.restyle(b, a[b])\n    }\n};\n\n","'use strict';\n\nmodule.exports = require('./core.js');\nrequire('./done.js');\nrequire('./finally.js');\nrequire('./es6-extensions.js');\nrequire('./node-extensions.js');\nrequire('./synchronous.js');\n","\nexport class storageHandler {\n    constructor(global, domain, prefix, cookieEnabled) {\n        this.window = global;\n        this.cookieEnabled = false;\n\n        // Have we checked cookies support\n        this.cookiesSupportChecked = false;\n\n        // We should try to enable cookie\n        if (cookieEnabled == true) {\n            this.checkCookiesSupport();\n        }\n\n        this.domain = domain;\n        this.secureCookie = false;\n        this.cookiePerPage = false;\n        this.prefix = prefix || 'lhc';\n    }\n\n    checkCookiesSupport() {\n\n        if (this.cookiesSupportChecked === true) {\n            return this.cookieEnabled;\n        }\n\n        this.cookiesSupportChecked = true;\n\n        try {\n            this.hasSessionStorage = !!this.window.sessionStorage;\n        } catch (e){\n            this.hasSessionStorage = false;\n        }\n\n        try {\n            this.hasLocalStorage = !!this.window.localStorage;\n        } catch (e){\n            this.hasLocalStorage = false;\n        }\n\n        try {\n            // Create cookie\n            document.cookie = 'cookietest=1; SameSite=Lax';\n            this.cookieEnabled = document.cookie.indexOf('cookietest=') !== -1;\n            // Delete cookie\n            document.cookie = 'cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT; SameSite=Lax';\n        } catch (e) {\n\n        }\n\n        return this.cookieEnabled;\n    }\n\n    setCookieDomain(domain) {\n        this.domain = domain;\n    }\n\n    setCookiePerPage(cookiePerPage) {\n        this.cookiePerPage = cookiePerPage;\n    }\n\n    getCookieDomain() {\n        if (this.domain) {\n            return '.' + this.domain;\n        } else {\n            return null;\n        }\n    }\n\n    setSecureCookie(status) {\n        this.secureCookie = status;\n    }\n\n    setHTTPCookie(coookieName, cookieValue, expireTime, domain) {\n        if (this.cookieEnabled === false) return ;\n        var string = \"\";\n        expireTime || (expireTime = new Date, expireTime.setTime(expireTime.getTime() + 15552E6), string = \"; expires=\" + expireTime.toGMTString());\n        document.cookie = coookieName + \"=\" + cookieValue + string + (this.cookiePerPage === false ? \"; path=/\" : (this.cookiePerPage === true ? \"\" : '; path=' + this.cookiePerPage)) + (this.secureCookie ? \";secure\" : \"\") + (domain ? \";domain=\" + domain : \"\") + \";SameSite=Lax\";\n    };\n\n    getHTTPCookie(cookieName) {\n        if (this.cookieEnabled === false) return [];\n        var b, d, k = [], baseCookie = cookieName + \"=\", e = document.cookie.split(\";\");\n        cookieName = 0;\n        for (b = e.length; cookieName < b; cookieName++) {\n            for (d = e[cookieName]; \" \" === d.charAt(0);) d = d.substring(1, d.length);\n            0 === d.indexOf(baseCookie) && k.push(d.substring(baseCookie.length, d.length))\n        }\n\n        // Reset duplicate cookies\n        if (k.length == 2) {\n            let host = (window.location.hostname || document.location.host),\n            reset = baseCookie + \"0;expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/\";\n            if (host) {\n                document.cookie = reset;\n                document.cookie = reset + \"; domain=.\" + host;\n            }\n        }\n\n        return k;\n    };\n\n    setSessionStorage(key, value) {\n        if (this.hasSessionStorage && sessionStorage.setItem) try {\n            sessionStorage.setItem(key, value)\n        } catch (d) {\n        }\n    }\n\n    removeSessionStorage(key) {\n        if (this.hasSessionStorage && sessionStorage.removeItem) try {\n            sessionStorage.removeItem(key)\n        } catch (d) {\n        }\n    }\n\n    getSessionStorage(a) {\n        return this.hasSessionStorage && sessionStorage.getItem ?\n            sessionStorage.getItem(a) : null\n    }\n\n    setLocalStorage(key, value) {\n        if (this.hasLocalStorage && localStorage.setItem) try {\n            localStorage.setItem(key, value)\n        } catch (d) {\n        }\n    }\n\n    getLocalStorage(a) {\n        return this.hasLocalStorage && localStorage.getItem ?\n            localStorage.getItem(a) : null\n    }\n\n    removeLocalStorage(key) {\n        if (this.hasLocalStorage && localStorage.removeItem) try {\n            localStorage.removeItem(key)\n        } catch (d) {\n        }\n    }\n\n    setSessionReferer(ref) {\n        if (!this.getSessionStorage(this.prefix+'_ref')) {\n            this.setSessionStorage(this.prefix+'_ref',ref);\n        }\n    }\n\n    getSessionReferrer() {\n        return this.getSessionStorage(this.prefix+'_ref');\n    }\n\n    getSessionInformation() {\n        var a;\n        this.sessionInformation && (a = this.sessionInformation);\n        a || (a = this.getHTTPCookie(this.prefix + \"_per\")[0]);\n        return this.parseSessionInformation(a)\n    };\n\n    getStoreValue(sessionInformation)\n    {\n        let pairs = [];\n        Object.keys(sessionInformation).forEach(key => {\n            let value = sessionInformation[key];\n            pairs.push(key + '|' + value);\n        });\n        return pairs.join('|');\n    }\n\n    storeSessionInformation(sessionInformation) {\n        this.setHTTPCookie(this.prefix+\"_per\", this.getStoreValue(sessionInformation), false, this.getCookieDomain());\n        this.sessionInformation = sessionInformation;\n    };\n\n    parseSessionInformation(content) {\n        // Check was it stored as our format or JSON.\n        if (content && content.indexOf('|') !== -1) {\n            let contentReturn = {};\n            let parts = content.split('|');\n\n            for (var i = 0; i < parts.length / 2; i++) {\n                contentReturn[parts[i * 2]] = parts[(i * 2) + 1];\n            }\n\n            return contentReturn;\n        } else {\n            if (content) {\n                return JSON.parse(unescape(content))\n            } else {\n                return {};\n            }\n        }\n\n    };\n}\n\n","\nclass _helperFunctions {\n    constructor() {\n    }\n\n    initElement(a, c, b, k, s) {\n        var e;\n        a = a.createElement(c);\n        b = b || {};\n        for (e in b) a[e] = b[e];\n        s && \"iframe\" !== c && (a.innerHTML = s);\n        k && (a.style.cssText = k);\n        return a\n    };\n    \n    getDocument(a) {\n        return a.contentWindow ? a.contentWindow.document : a.contentDocument ? a.contentDocument : a.document ? a.document : null\n    };\n\n    removeById(EId)\n    {\n        var EObj = null;\n        return(EObj = document.getElementById(EId)) ? EObj.parentNode.removeChild(EObj) : false;\n    }\n\n    // Returns time zone offset\n    getTzOffset() {\n        try {\n            return Intl.DateTimeFormat().resolvedOptions().timeZone;\n        } catch (e) {\n            Date.prototype.stdTimezoneOffset = function() {\n                var jan = new Date(this.getFullYear(), 0, 1);\n                var jul = new Date(this.getFullYear(), 6, 1);\n                return Math.max(jan.getTimezoneOffset(), jul.getTimezoneOffset());\n            };\n\n            Date.prototype.dst = function() {\n                return this.getTimezoneOffset() < this.stdTimezoneOffset();\n            };\n\n            var today = new Date();\n            var timeZoneOffset = 0;\n\n            if (today.dst()) {\n                timeZoneOffset = today.getTimezoneOffset();\n            } else {\n                timeZoneOffset = today.getTimezoneOffset()-60;\n            };\n\n            return (timeZoneOffset/60)*-1;\n        }\n    };\n\n    getAbstractStyle(params) {\n        return [\n            \"outline:                    \" + (params.outline ? params.outline : \"none\") + \" !important; \",\n            \"visibility:                 \" + (params.visibility ? params.visibility : \"visible\") + \" !important; \",\n            \"resize:                     \" + (params.resize ? params.resize : \"none\") + \" !important; \",\n            \"box-shadow:                 \" + (params.boxshadow ? params.boxshadow : \"none\") + \" ; \",\n            \"overflow:                   \" + (params.overflow ? params.overflow : \"visible\") + \" ; \",\n            \"background                  : \" + (params.background ? params.background : \"none\") + \" !important; \",\n            \"opacity                     : \" + (params.opacity ? params.opacity : \"1\") + \" !important; \",\n            \"filter                      : alpha(opacity=\" + (params.opacity ? 100 * params.opacity : \"100\") + \") !important; \",\n            \"-ms-filter                  : progid:DXImageTransform.Microsoft.Alpha(Opacity\" + (params.opacity ? params.opacity : \"1\") + \") !important; \",\n            \"-moz-opacity                : \" + (params.opacity ? params.opacity : \"1\") + \" !important; \",\n            \"-khtml-opacity              : \" + (params.opacity ? params.opacity : \"1\") + \" !important; \",\n            \"top                         : \" + (params.top ? params.top : \"auto\") + \"; \",\n            \"color-scheme                : light; \",\n            \"right                       : \" + (params.right ? params.right : \"auto\") + \"; \",\n            \"bottom                      : \" + (params.bottom ? params.bottom : \"auto\") + \"; \",\n            \"left                        : \" + (params.left ? params.left : \"auto\") + \"; \",\n            \"position                    : \" + (params.position ? params.position : \"absolute\") + \" !important; \",\n            \"border                      : \" + (params.border ? params.border : \"0\") + \" !important; \",\n            \"min-height                  : \" + (params.minheight ? params.minheight : \"auto\") + \"; \",\n            \"min-width                   : \" + (params.minwidth ? params.minwidth : \"auto\") + \"; \",\n            \"max-height                  : \" + (params.maxheight ? params.maxheight : \"none\") + \"; \",\n            \"max-width                   : \" + (params.maxwidth ? params.maxwidth : \"none\") + \"; \",\n            \"padding                     : \" + (params.padding ? params.padding : \"0\") + \" !important; \",\n            \"margin                      : \" + (params.margin ? params.margin : \"0\") + \" !important; \",\n            \"-moz-transition-property    : \" + (params.transition ? params.transition : \"none\") + \" !important; \",\n            \"-webkit-transition-property : \" + (params.transition ? params.transition : \"none\") + \" !important; \",\n            \"-o-transition-property      : \" + (params.transition ? params.transition : \"none\") + \" !important; \",\n            \"transition-property         : \" + (params.transition ? params.transition : \"none\") + \" !important; \",\n            \"transform                   : \" + (params.transform ? params.transform : \"none\") + \" !important; \",\n            \"-webkit-transform           : \" + (params.transform ? params.transform : \"none\") + \" !important; \",\n            \"-ms-transform               : \" + (params.transform ? params.transform : \"none\") + \" !important; \",\n            \"width                       : \" + (params.width ? params.width : \"auto\") + \" ; \",\n            \"height                      : \" + (params.height ? params.height : \"auto\") + \" ; \",\n            \"display                     : \" + (params.display ? params.display : \"block\") + \" !important; \",\n            \"z-index                     : \" + (params.zindex ? params.zindex : \"none\") + \" ; \",\n            \"background-color            : \" + (params.backgroundcolor ? params.backgroundcolor : \"transparent\") + \" !important; \",\n            \"cursor                      : \" + (params.cursor ? params.cursor : \"auto\") + \" !important; \",\n            \"float                       : \" + (params[\"float\"] ? params[\"float\"] : \"none\") + \" !important; \",\n            \"border-radius               : \" + (params.borderRadius ? params.borderRadius : \"unset\") + \"; \"].join(\"\").replace(/\\s/gm, \"\")\n    };\n\n    hasClass(element, className) {\n        if (element === null) return;\n        return element.classList ? element.classList.contains(className) : !!element.className.match(RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"))\n    }\n\n    addClass(element, className) {\n        if (element === null) return;\n        element.classList ? element.classList.add(className) : this.hasClass(element, className) || (element.className += \" \" + className)\n    }\n\n    removeClass(element, className) {\n        if (element === null) return;\n        element.classList ? element.classList.remove(className) : this.hasClass(element, className) && (element.className = element.className.replace(RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"), \" \"))\n    }\n\n    makeScreenshot(screenshot,url) {\n        var inst = this;\n        if (typeof html2canvas == \"undefined\") {\n            var th = document.getElementsByTagName('head')[0];\n            var s = document.createElement('script');\n            s.setAttribute('type','text/javascript');\n            s.setAttribute('src',screenshot);\n            th.appendChild(s);\n\n            s.onreadystatechange = s.onload = () => {\n                this.makeScreenshot(screenshot, url);\n            };\n        } else {\n            try {\n                html2canvas(document.body).then(function(canvas) {\n                    var xhr = new XMLHttpRequest();\n                    xhr.open( \"POST\", url, true);\n                    xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n                    xhr.send( \"data=\" + encodeURIComponent( canvas.toDataURL() ) );\n                });\n            } catch(err) {\n                console.log(err);\n            }\n        }\n    }\n\n    makeQuery(params)\n    {\n        var item, pairs = [];\n        for (item in params) {\n            if (params[item] != '' && params[item] != null) {\n                params.hasOwnProperty(item) && pairs.push(encodeURIComponent(item) + \"=\" + encodeURIComponent(params[item]));\n            }\n        }\n        return pairs.join(\"&\")\n    }\n    \n    makeRequest(url, params, callback) {\n        var request = new XMLHttpRequest;\n        var urlRequest =  url + '?' + this.makeQuery(params.params);\n        request.open(\"GET\",urlRequest, true);\n        request.onreadystatechange = function () {\n           if (4 == request.readyState && request.status != 0) {\n               try {\n                   callback(JSON.parse(request.responseText));\n               } catch (e) {\n                   e.message += \"\\n\" + urlRequest + \"\\n\" + \"[\"+request.status+\"]\\n\" + request.responseText;\n                   throw e;\n               }\n           }\n        };\n        request.send();\n        return {type: \"xhr\", req: request}\n    }\n\n    insertCssRemoteFile(attr) {\n\n        var elm = null;\n\n        if (attr.id && attr.href && (elm = document.getElementById(attr.id)) !== null) {\n            elm.href = attr.href\n            return;\n        }\n\n        var d = document.getElementsByTagName(\"head\")[0],\n            k = document.createDocumentFragment(),\n            e = document.createElement('link');\n\n        e.rel = \"stylesheet\";\n        e.crossOrigin = \"*\";\n\n        for (var b in attr) e[b] = attr[b];\n\n        k.appendChild(e);\n        d.appendChild(k);\n    }\n};\n\nconst helperFunctions = new _helperFunctions();\nexport { helperFunctions };","'use strict';\n\n//This file contains the ES6 extensions to the core Promises/A+ API\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nvar TRUE = valuePromise(true);\nvar FALSE = valuePromise(false);\nvar NULL = valuePromise(null);\nvar UNDEFINED = valuePromise(undefined);\nvar ZERO = valuePromise(0);\nvar EMPTYSTRING = valuePromise('');\n\nfunction valuePromise(value) {\n  var p = new Promise(Promise._D);\n  p._y = 1;\n  p._z = value;\n  return p;\n}\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value;\n\n  if (value === null) return NULL;\n  if (value === undefined) return UNDEFINED;\n  if (value === true) return TRUE;\n  if (value === false) return FALSE;\n  if (value === 0) return ZERO;\n  if (value === '') return EMPTYSTRING;\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then;\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value));\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex);\n      });\n    }\n  }\n  return valuePromise(value);\n};\n\nvar iterableToArray = function (iterable) {\n  if (typeof Array.from === 'function') {\n    // ES2015+, iterables exist\n    iterableToArray = Array.from;\n    return Array.from(iterable);\n  }\n\n  // ES5, only arrays and array-likes exist\n  iterableToArray = function (x) { return Array.prototype.slice.call(x); };\n  return Array.prototype.slice.call(iterable);\n}\n\nPromise.all = function (arr) {\n  var args = iterableToArray(arr);\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        if (val instanceof Promise && val.then === Promise.prototype.then) {\n          while (val._y === 3) {\n            val = val._z;\n          }\n          if (val._y === 1) return res(i, val._z);\n          if (val._y === 2) reject(val._z);\n          val.then(function (val) {\n            res(i, val);\n          }, reject);\n          return;\n        } else {\n          var then = val.then;\n          if (typeof then === 'function') {\n            var p = new Promise(then.bind(val));\n            p.then(function (val) {\n              res(i, val);\n            }, reject);\n            return;\n          }\n        }\n      }\n      args[i] = val;\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nfunction onSettledFulfill(value) {\n  return { status: 'fulfilled', value: value };\n}\nfunction onSettledReject(reason) {\n  return { status: 'rejected', reason: reason };\n}\nfunction mapAllSettled(item) {\n  if(item && (typeof item === 'object' || typeof item === 'function')){\n    if(item instanceof Promise && item.then === Promise.prototype.then){\n      return item.then(onSettledFulfill, onSettledReject);\n    }\n    var then = item.then;\n    if (typeof then === 'function') {\n      return new Promise(then.bind(item)).then(onSettledFulfill, onSettledReject)\n    }\n  }\n\n  return onSettledFulfill(item);\n}\nPromise.allSettled = function (iterable) {\n  return Promise.all(iterableToArray(iterable).map(mapAllSettled));\n};\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) {\n    iterableToArray(values).forEach(function(value){\n      Promise.resolve(value).then(resolve, reject);\n    });\n  });\n};\n\n/* Prototype Methods */\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n};\n\nfunction getAggregateError(errors){\n  if(typeof AggregateError === 'function'){\n    return new AggregateError(errors,'All promises were rejected');\n  }\n\n  var error = new Error('All promises were rejected');\n\n  error.name = 'AggregateError';\n  error.errors = errors;\n\n  return error;\n}\n\nPromise.any = function promiseAny(values) {\n  return new Promise(function(resolve, reject) {\n    var promises = iterableToArray(values);\n    var hasResolved = false;\n    var rejectionReasons = [];\n\n    function resolveOnce(value) {\n      if (!hasResolved) {\n        hasResolved = true;\n        resolve(value);\n      }\n    }\n\n    function rejectionCheck(reason) {\n      rejectionReasons.push(reason);\n\n      if (rejectionReasons.length === promises.length) {\n        reject(getAggregateError(rejectionReasons));\n      }\n    }\n\n    if(promises.length === 0){\n      reject(getAggregateError(rejectionReasons));\n    } else {\n      promises.forEach(function(value){\n        Promise.resolve(value).then(resolveOnce, rejectionCheck);\n      });\n    }\n  });\n};\n","import {UIConstructorIframe} from '../UIConstructorIframe';\nimport {helperFunctions} from '../helperFunctions';\n\nexport class mainWidget{\n    constructor(prefix) {\n\n        this.attributes = {};\n\n        this.width = '350';\n        this.height = '520';\n        this.bottom = '30';\n        this.right = '30';\n        this.units = 'px';\n        this.originalCSS = '';\n        this.bottom_override = false;\n        this.is_invitation = false;\n        this.is_loaded = false;\n        this.widget_rendered = false;\n\n        this.cont = new UIConstructorIframe((prefix || 'lhc')+'_widget_v2', helperFunctions.getAbstractStyle({\n            zindex: \"2147483640\",\n            width: \"95px\",\n            height: \"95px\",\n            position: \"fixed\",\n            display: \"none\",\n            maxheight: \"95px\",\n            maxwidth: \"95px\",\n            minheight: \"95px\",\n            minwidth: \"95px\"\n        }),  {\"role\":\"presentation\",\"translate\":\"no\"}, \"iframe\");\n\n        this.isLoaded = false;\n\n        this.loadStatus = {main: false, css: false, theme: false, font_status: false, font_preload: true, css_preload: true};\n    }\n\n    resize() {\n\n        let restyleStyle = {\n            height: this.height + this.units,\n            \"min-height\": this.height + this.units,\n            \"max-height\": this.height + this.units,\n            width: this.width + this.units,\n            \"min-width\": this.width + this.units,\n            \"max-width\": this.width + this.units,\n            bottom: (this.units == 'px' ? this.bottom + \"px\" : '0px')\n        };\n\n        if ((this.attributes.position_placement == 'middle_right' || this.attributes.position_placement == 'middle_left') && this.bottom_override == true) {\n            restyleStyle['bottom'] =  \"calc(50% + 20px)\";\n        }\n\n        if (this.attributes.position_placement == 'middle_left' || this.attributes.position_placement == 'bottom_left' || this.attributes.position_placement == 'full_height_left') {\n            restyleStyle['left'] = (this.units == 'px' ? this.right + \"px\" : '0px');\n        } else {\n            restyleStyle['right'] = (this.units == 'px' ? this.right + \"px\" : '0px');\n        }\n\n        if ((this.attributes.position_placement == 'full_height_right' || this.attributes.position_placement == 'full_height_left') && !this.bottom_override) {\n            restyleStyle['min-height'] = '100%';\n            restyleStyle['max-height'] = '100%';\n            restyleStyle['height'] = '100%';\n            restyleStyle['bottom'] = '0px';\n\n            if (this.attributes.position_placement == 'full_height_left') {\n                restyleStyle['left'] = '0px';\n            } else {\n                restyleStyle['right'] = '0px';\n            }\n        }\n\n        if (this.attributes.mode == 'embed') {\n            restyleStyle[\"max-width\"] = '100%';\n            restyleStyle[\"min-width\"] = '100%';\n            restyleStyle[\"width\"] = '100%';\n            restyleStyle[\"position\"] = (this.attributes.fscreen ? 'fixed' : 'relative') + '!important';\n            restyleStyle[\"bottom\"] = 'auto';\n            restyleStyle[\"right\"] = 'auto';\n        }\n\n        this.cont.massRestyle(restyleStyle);\n\n        var eldoc = null;\n\n        if (this.cont.elmDomDoc && (eldoc = this.cont.elmDomDoc.getElementById('root')) && eldoc) {\n            if (this.attributes.position_placement == 'full_height_left' || this.attributes.position_placement == 'full_height_right') {\n                eldoc.classList.add('lhc-full-height');\n            } else if (eldoc.classList.contains('lhc-full-height')) {\n                eldoc.classList.remove('lhc-full-height');\n            }\n\n            if (this.cont.elmDomDoc.getElementById('id-invitation-height')) {\n                eldoc.classList.add('lhc-invitation-view');\n            } else {\n                eldoc.classList.remove('lhc-invitation-view');\n            }\n        }\n    }\n\n    checkLoadStatus() {\n        if (this.is_loaded == false && this.loadStatus['css'] == true && this.loadStatus['theme'] == true && this.loadStatus['font_status'] == true && this.loadStatus['font_preload'] == true && this.loadStatus['css_preload'] == true) {\n            this.is_loaded = true;\n            this.loadApp();\n        }\n    }\n\n    checkLoadApp() {\n        this.attributes.wloaded.next(true);\n    }\n\n    makeContent() {\n        this.cont.bodyId = 'chat-widget';\n\n        this.cont.tmpl = '<div id=\"root\" class=\"container-fluid d-flex flex-column flex-grow-1 fade-in ' + (this.attributes.isMobile === true ? 'lhc-mobile' : 'lhc-desktop') + (this.attributes.fscreen ? ' lhc-fscreen' : '') + (this.attributes.position_placement == 'full_height_left' || this.attributes.position_placement == 'full_height_right' ? ' lhc-full-height' : '')+'\"></div>';\n\n        if (this.cont.constructUIIframe('', this.attributes.staticJS['dir'], this.attributes.staticJS['cl'], this.attributes.hhtml, !this.attributes.viewport_enabled) === null) {\n            this.isLoaded = true;\n            return null;\n        }\n\n        this.cont.elmDom.className = this.attributes.isMobile === true ? 'notranslate lhc-mobile lhc-mode-'+this.attributes.mode : 'notranslate lhc-desktop lhc-mode-'+this.attributes.mode;\n\n        if (this.attributes.cont_ss) {\n            this.originalCSS = this.cont.elmDom.style.cssText;\n        }\n    }\n\n    init(attributes, lazyLoad) {\n\n        this.attributes = attributes;\n\n        if (this.makeContent() === null) {\n            return null;\n        };\n\n        const chatParams = this.attributes['userSession'].getSessionAttributes();\n\n        if (chatParams['id'] || !lazyLoad) {\n            this.bootstrap();\n        }\n\n        this.toggleVisibilityWrap = (data) => {\n            this.toggleVisibility(data);\n        };\n\n        attributes.widgetStatus.subscribe(this.toggleVisibilityWrap);\n\n        this.monitorDimensionsWrap = (data) => {\n            this.monitorDimensions(data);\n        };\n\n        if (attributes.widgetDimesions.valueInternal['units'] == 'px' && this.attributes.isMobile == false && this.attributes.mode != 'embed')\n        {\n            this.screenAttributesUpdate = () => {\n\n                if (this.is_invitation === true && attributes.full_invitation === false) {\n                    return;\n                }\n\n                var body = this.cont.elmDomDoc.body,\n                    html = this.cont.elmDomDoc.documentElement;\n\n                var height = Math.max( body.scrollHeight, body.offsetHeight,\n                    html.clientHeight, html.scrollHeight, html.offsetHeight, attributes.widgetDimesions.value['height'] );\n\n                if (window.innerHeight < height + 60 + (this.attributes.clinst === true ? 70 : 0)) {\n                    attributes.widgetDimesions.nextPropertySilent('height_soverride', window.innerHeight - 60 - (this.attributes.clinst === true ? 70 : 0));\n                } else {\n                    attributes.widgetDimesions.nextPropertySilent('height_soverride', null);\n                }\n\n                if (window.innerWidth < attributes.widgetDimesions.valueInternal['width'] + 60) {\n                    attributes.widgetDimesions.nextPropertySilent('width_soverride', window.innerWidth - 60);\n                } else {\n                    attributes.widgetDimesions.nextPropertySilent('width_soverride', null);\n                }\n\n                attributes.widgetDimesions.callListeners();\n            };\n\n           this.screenAttributesUpdate();\n\n            window.addEventListener('resize', this.screenAttributesUpdate);\n        }\n\n        attributes.widgetDimesions.subscribe(this.monitorDimensionsWrap);\n\n        attributes.eventEmitter.addListener('reloadWidget',() => {\n            this.isLoaded = false;\n            this.makeContent();\n            attributes.eventEmitter.emitEvent('widgetHeight',[{'reset_height' : true}]);\n            this.toggleVisibility(attributes.widgetStatus.valueInternal);\n        });\n\n    }\n\n    resizeTrigger() {\n        if (this.screenAttributesUpdate) {\n            this.screenAttributesUpdate();\n        }\n    }\n\n    bootstrap() {\n\n        if (this.isLoaded === true) {\n            return ;\n        }\n\n        this.isLoaded = true;\n\n        if (this.attributes.staticJS['fontCSS']) {\n            this.cont.insertCssRemoteFile({rel:\"stylesheet\", crossOrigin : \"anonymous\",  href : this.attributes.staticJS['fontCSS']});\n        }\n\n        if (this.attributes.staticJS['font_status']) {\n            this.cont.insertCssRemoteFile({onload: () => {this.loadStatus['font_status'] = true; this.checkLoadStatus()},\"as\":\"font\", rel:\"preload\", type: \"font/woff\", crossOrigin : \"anonymous\",  href : this.attributes.staticJS['font_status']});\n        }\n\n        if (this.attributes.staticJS['font_preload']) {\n            this.loadStatus['font_preload'] = false;\n            this.attributes.staticJS['font_preload'].forEach((item) => {\n                this.cont.insertCssRemoteFile({onload: () => {this.loadStatus['font_preload'] = true; this.checkLoadStatus()},\"as\":\"font\", rel:\"preload\", type: \"font/woff\", crossOrigin : \"anonymous\",  href : item});\n            });\n        }\n\n        if (this.attributes.staticJS['css_preload']) {\n            this.loadStatus['css_preload'] = false;\n            this.attributes.staticJS['css_preload'].forEach((item) => {\n                this.cont.insertCssRemoteFile({onload: () => {this.loadStatus['css_preload'] = true; this.checkLoadStatus()}, \"as\":\"style\", crossOrigin : null, rel:\"preload\", href : item});\n            });\n        }\n\n        if (this.attributes.theme) {\n            this.loadStatus['theme'] = false;\n            this.cont.insertCssRemoteFile({onload: ()=> {this.loadStatus['theme'] = true; this.checkLoadStatus()}, crossOrigin : \"anonymous\",  href : this.attributes.LHC_API.args.lhc_base_url + '/widgetrestapi/theme/' + this.attributes.theme + '?v=' + this.attributes.theme_v}, true);\n        } else {\n            this.loadStatus['theme'] = true;\n        }\n\n        this.cont.insertCssRemoteFile({onload: () => {\n                this.loadStatus['css'] = true;\n                this.checkLoadStatus();\n            },crossOrigin : \"anonymous\",  href : this.attributes.staticJS['widget_css']}, true);\n\n        if (this.attributes.isMobile == true && this.attributes.mode == 'widget') {\n            this.cont.insertCssRemoteFile({crossOrigin : \"anonymous\",  href : this.attributes.staticJS['widget_mobile_css']});\n        }\n\n        if (this.attributes.mode == 'embed') {\n            this.cont.insertCssRemoteFile({crossOrigin : \"anonymous\",  href : this.attributes.staticJS['embed_css'] });\n\n            if (this.attributes.staticJS['page_css']) {\n                helperFunctions.insertCssRemoteFile({crossOrigin : \"anonymous\", id: \"lhc-theme-page\", href : this.attributes.LHC_API.args.lhc_base_url + '/widgetrestapi/themepage/' + this.attributes.theme + '?v=' + this.attributes.theme_v});\n            }\n        }\n    }\n\n    loadApp() {\n        this.cont.insertJSFile(this.attributes.staticJS['vendor'], false, () => {\n            this.cont.insertJSFile(this.attributes.staticJS['app'], false, () => {\n                this.loadStatus['main'] = true;\n                this.checkLoadApp();\n            }, {'scope': this.attributes.prefixLowercase});\n        }, {'scope': this.attributes.prefixLowercase});\n\n        if (this.attributes.staticJS['ex_js'] && this.attributes.staticJS['ex_js'].length > 0) {\n            this.attributes.staticJS['ex_js'].forEach((item) => {\n                this.cont.insertJSFile(item, false);\n            });\n        }\n    }\n\n    toggleVisibility(data) {\n        data == false ? this.hide() : this.show();\n    }\n\n    monitorDimensions(data) {\n        this.width = data.width_override || data.width_soverride || data.width;\n        this.height = data.height_soverride || data.height_override || data.height;\n        this.bottom = data.bottom_override ? (data.bottom_override + (data.wbottom ? data.wbottom : 0)) : (30 + (this.attributes.clinst === true ? 70 : 0) + (data.wbottom ? data.wbottom : 0));\n        this.right = data.right_override ? (data.right_override + (data.wright_inv ? data.wright_inv : 0)) : (30 + (data.wright ? data.wright : 0));\n        this.units = (data.width_override || data.height_override || data.bottom_override || data.right_override) ? 'px' : data.units;\n\n        this.resize();\n\n        this.bottom_override = !!data.bottom_override;\n    }\n\n    hide () {\n        this.cont.hide();\n    }\n\n    widgetRendered(){\n\n        if (this.widget_rendered === false) {\n            var eldoc = null;\n            if (this.cont.elmDomDoc && (eldoc = this.cont.elmDomDoc.getElementById('root')) && eldoc) {\n                eldoc.classList.add('lhc-widget-loaded');\n                this.widget_rendered = true;\n            }\n        }\n\n        if (!this.attributes.cont_ss) {\n            return;\n        }\n\n        if (this.is_invitation === false || (this.is_invitation === true && this.attributes.full_invitation)) {\n            this.cont.elmDom.style.cssText += this.attributes.cont_ss;\n        }\n    }\n\n    hideInvitation() {\n        this.is_invitation = false;\n        if (this.attributes.cont_ss) {\n            this.cont.elmDom.style.cssText += this.attributes.cont_ss;\n        }\n    }\n\n    showInvitation() {\n        this.is_invitation = true;\n        if (this.attributes.cont_ss && !this.attributes.full_invitation) {\n            this.cont.elmDom.style.cssText = this.originalCSS;\n        }\n        this.show();\n    }\n\n    show () {\n        if (this.isLoaded === false) {\n            this.bootstrap();\n        }\n        this.cont.show();\n    }\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nexport { _createClass as default };","'use strict';\n\nvar asap = require('asap/raw');\n\nfunction noop() {}\n\n// States:\n//\n// 0 - pending\n// 1 - fulfilled with _value\n// 2 - rejected with _value\n// 3 - adopted the state of another promise, _value\n//\n// once the state is no longer pending (0) it is immutable\n\n// All `_` prefixed properties will be reduced to `_{random number}`\n// at build time to obfuscate them and discourage their use.\n// We don't use symbols or Object.defineProperty to fully hide them\n// because the performance isn't good enough.\n\n\n// to avoid using try/catch inside critical functions, we\n// extract them to here.\nvar LAST_ERROR = null;\nvar IS_ERROR = {};\nfunction getThen(obj) {\n  try {\n    return obj.then;\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nfunction tryCallOne(fn, a) {\n  try {\n    return fn(a);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\nfunction tryCallTwo(fn, a, b) {\n  try {\n    fn(a, b);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nmodule.exports = Promise;\n\nfunction Promise(fn) {\n  if (typeof this !== 'object') {\n    throw new TypeError('Promises must be constructed via new');\n  }\n  if (typeof fn !== 'function') {\n    throw new TypeError('Promise constructor\\'s argument is not a function');\n  }\n  this._x = 0;\n  this._y = 0;\n  this._z = null;\n  this._A = null;\n  if (fn === noop) return;\n  doResolve(fn, this);\n}\nPromise._B = null;\nPromise._C = null;\nPromise._D = noop;\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  if (this.constructor !== Promise) {\n    return safeThen(this, onFulfilled, onRejected);\n  }\n  var res = new Promise(noop);\n  handle(this, new Handler(onFulfilled, onRejected, res));\n  return res;\n};\n\nfunction safeThen(self, onFulfilled, onRejected) {\n  return new self.constructor(function (resolve, reject) {\n    var res = new Promise(noop);\n    res.then(resolve, reject);\n    handle(self, new Handler(onFulfilled, onRejected, res));\n  });\n}\nfunction handle(self, deferred) {\n  while (self._y === 3) {\n    self = self._z;\n  }\n  if (Promise._B) {\n    Promise._B(self);\n  }\n  if (self._y === 0) {\n    if (self._x === 0) {\n      self._x = 1;\n      self._A = deferred;\n      return;\n    }\n    if (self._x === 1) {\n      self._x = 2;\n      self._A = [self._A, deferred];\n      return;\n    }\n    self._A.push(deferred);\n    return;\n  }\n  handleResolved(self, deferred);\n}\n\nfunction handleResolved(self, deferred) {\n  asap(function() {\n    var cb = self._y === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      if (self._y === 1) {\n        resolve(deferred.promise, self._z);\n      } else {\n        reject(deferred.promise, self._z);\n      }\n      return;\n    }\n    var ret = tryCallOne(cb, self._z);\n    if (ret === IS_ERROR) {\n      reject(deferred.promise, LAST_ERROR);\n    } else {\n      resolve(deferred.promise, ret);\n    }\n  });\n}\nfunction resolve(self, newValue) {\n  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n  if (newValue === self) {\n    return reject(\n      self,\n      new TypeError('A promise cannot be resolved with itself.')\n    );\n  }\n  if (\n    newValue &&\n    (typeof newValue === 'object' || typeof newValue === 'function')\n  ) {\n    var then = getThen(newValue);\n    if (then === IS_ERROR) {\n      return reject(self, LAST_ERROR);\n    }\n    if (\n      then === self.then &&\n      newValue instanceof Promise\n    ) {\n      self._y = 3;\n      self._z = newValue;\n      finale(self);\n      return;\n    } else if (typeof then === 'function') {\n      doResolve(then.bind(newValue), self);\n      return;\n    }\n  }\n  self._y = 1;\n  self._z = newValue;\n  finale(self);\n}\n\nfunction reject(self, newValue) {\n  self._y = 2;\n  self._z = newValue;\n  if (Promise._C) {\n    Promise._C(self, newValue);\n  }\n  finale(self);\n}\nfunction finale(self) {\n  if (self._x === 1) {\n    handle(self, self._A);\n    self._A = null;\n  }\n  if (self._x === 2) {\n    for (var i = 0; i < self._A.length; i++) {\n      handle(self, self._A[i]);\n    }\n    self._A = null;\n  }\n}\n\nfunction Handler(onFulfilled, onRejected, promise){\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, promise) {\n  var done = false;\n  var res = tryCallTwo(fn, function (value) {\n    if (done) return;\n    done = true;\n    resolve(promise, value);\n  }, function (reason) {\n    if (done) return;\n    done = true;\n    reject(promise, reason);\n  });\n  if (!done && res === IS_ERROR) {\n    done = true;\n    reject(promise, LAST_ERROR);\n  }\n}\n","'use strict';\n\n// This file contains then/promise specific extensions that are only useful\n// for node.js interop\n\nvar Promise = require('./core.js');\nvar asap = require('asap');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nPromise.denodeify = function (fn, argumentCount) {\n  if (\n    typeof argumentCount === 'number' && argumentCount !== Infinity\n  ) {\n    return denodeifyWithCount(fn, argumentCount);\n  } else {\n    return denodeifyWithoutCount(fn);\n  }\n};\n\nvar callbackFn = (\n  'function (err, res) {' +\n  'if (err) { rj(err); } else { rs(res); }' +\n  '}'\n);\nfunction denodeifyWithCount(fn, argumentCount) {\n  var args = [];\n  for (var i = 0; i < argumentCount; i++) {\n    args.push('a' + i);\n  }\n  var body = [\n    'return function (' + args.join(',') + ') {',\n    'var self = this;',\n    'return new Promise(function (rs, rj) {',\n    'var res = fn.call(',\n    ['self'].concat(args).concat([callbackFn]).join(','),\n    ');',\n    'if (res &&',\n    '(typeof res === \"object\" || typeof res === \"function\") &&',\n    'typeof res.then === \"function\"',\n    ') {rs(res);}',\n    '});',\n    '};'\n  ].join('');\n  return Function(['Promise', 'fn'], body)(Promise, fn);\n}\nfunction denodeifyWithoutCount(fn) {\n  var fnLength = Math.max(fn.length - 1, 3);\n  var args = [];\n  for (var i = 0; i < fnLength; i++) {\n    args.push('a' + i);\n  }\n  var body = [\n    'return function (' + args.join(',') + ') {',\n    'var self = this;',\n    'var args;',\n    'var argLength = arguments.length;',\n    'if (arguments.length > ' + fnLength + ') {',\n    'args = new Array(arguments.length + 1);',\n    'for (var i = 0; i < arguments.length; i++) {',\n    'args[i] = arguments[i];',\n    '}',\n    '}',\n    'return new Promise(function (rs, rj) {',\n    'var cb = ' + callbackFn + ';',\n    'var res;',\n    'switch (argLength) {',\n    args.concat(['extra']).map(function (_, index) {\n      return (\n        'case ' + (index) + ':' +\n        'res = fn.call(' + ['self'].concat(args.slice(0, index)).concat('cb').join(',') + ');' +\n        'break;'\n      );\n    }).join(''),\n    'default:',\n    'args[argLength] = cb;',\n    'res = fn.apply(self, args);',\n    '}',\n    \n    'if (res &&',\n    '(typeof res === \"object\" || typeof res === \"function\") &&',\n    'typeof res.then === \"function\"',\n    ') {rs(res);}',\n    '});',\n    '};'\n  ].join('');\n\n  return Function(\n    ['Promise', 'fn'],\n    body\n  )(Promise, fn);\n}\n\nPromise.nodeify = function (fn) {\n  return function () {\n    var args = Array.prototype.slice.call(arguments);\n    var callback =\n      typeof args[args.length - 1] === 'function' ? args.pop() : null;\n    var ctx = this;\n    try {\n      return fn.apply(this, arguments).nodeify(callback, ctx);\n    } catch (ex) {\n      if (callback === null || typeof callback == 'undefined') {\n        return new Promise(function (resolve, reject) {\n          reject(ex);\n        });\n      } else {\n        asap(function () {\n          callback.call(ctx, ex);\n        })\n      }\n    }\n  }\n};\n\nPromise.prototype.nodeify = function (callback, ctx) {\n  if (typeof callback != 'function') return this;\n\n  this.then(function (value) {\n    asap(function () {\n      callback.call(ctx, null, value);\n    });\n  }, function (err) {\n    asap(function () {\n      callback.call(ctx, err);\n    });\n  });\n};\n","\"use strict\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nvar scope = typeof global !== \"undefined\" ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.jss\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var inProgress = {};\nvar dataWebpackPrefix = \"LiveHelperChat:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t\tif (script.src.indexOf(window.location.origin + '/') !== 0) {\n\t\t\tscript.crossOrigin = \"anonymous\";\n\t\t}\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"\" + {\"118\":\"717a827fe383b1c0963c\",\"121\":\"c4d56967822ecb6c3713\",\"249\":\"b4f602531cf089458893\",\"468\":\"dedc5a850caee5cbb4b8\",\"546\":\"5691f733268b28546257\",\"603\":\"a92366215ad3e9b74e1c\",\"618\":\"dfd57fc42ff1cea8ec54\",\"793\":\"02b1551411b78ca6411f\",\"853\":\"0e823b694cb68910a583\"}[chunkId] + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"./\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkLiveHelperChat\"] = self[\"webpackChunkLiveHelperChat\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","(function (global) {\n\n    var currentScript = document.currentScript || (function() {\n        var scripts = document.getElementsByTagName('script');\n        return scripts[scripts.length - 1];\n    })();\n\n    var scopeScript = currentScript.getAttribute('scope') || 'LHC';\n\n    if (/google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex|Chrome-Lighthouse/i.test(navigator.userAgent)) {\n        return;\n    }\n\n    if (!global[scopeScript+'_API']) {\n        if (global['LHC_API']) {\n            global[scopeScript+'_API'] = global['LHC_API'];\n        } else {\n            return;\n        }\n    }\n\n    var lhcError = {\n        log : function(message, filename, lineNumber, stack, column) {\n            var e;\n            e = {};\n            e.message = message || \"\";\n            e.message += \"\\n\" + global.navigator.userAgent;\n            e.location = location && location.href ? location.href : \"\";\n            e.file = filename || \"\";\n            e.line = lineNumber || \"\";\n            e.column = column || \"\";\n            e.stack = stack ? JSON.stringify(stack) : \"\";\n            e.stack = e.stack.replace(/(\\r\\n|\\n|\\r)/gm, \"\");\n            var xhr = new XMLHttpRequest();\n            xhr.open( \"POST\", global[scopeScript+'_API']['args']['lhc_base_url'] + 'audit/logjserror', true);\n            xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n            xhr.send( \"data=\" + encodeURIComponent( JSON.stringify(e) ) );\n        }\n    }\n\n    try {\n\n        window.addEventListener('error', function (e) {\n            if (lhcError && e.filename.indexOf(global[scopeScript+'_API']['args']['lhc_base_url'].replace('index.php/')) !== -1) {\n                lhcError.log(e.message, e.filename, e.lineNumber || e.lineno, e.error.stack, e.colno);\n            }\n        })\n\n        global['$_' + scopeScript + '_Instance'] = null;\n        global['$_' + scopeScript + '_Debug'] = false;\n        global['$_' + scopeScript] = global['$_' + scopeScript] || {};\n\n        (function (lhc, LHC_API) {\n\n            lhc.loaded = false;\n            lhc.connected = false;\n            lhc.ready = false;\n            lhc.version = 261;\n\n            const isMobileItem = require('ismobilejs');\n            var isMobile = isMobileItem.default(global.navigator.userAgent).phone;\n\n            lhc.isMobile = isMobile;\n\n            var init = () => {\n\n                if (!global.Promise) {\n                    global.Promise = require('promise');\n                }\n\n                var BehaviorSubject = require('./util/monitoredVariable').monitoredVariable;\n                var EventEmitter = require('wolfy87-eventemitter');\n\n                var statusWidget = require('./lib/widgets/statusWidget').statusWidget;\n                var mainWidget = require('./lib/widgets/mainWidget').mainWidget;\n                var mainWidgetPopup = require('./lib/widgets/mainWidgetPopup').mainWidgetPopup;\n                var containerChat = require('./lib/widgets/containerChat').containerChat;\n                var helperFunctions = require('./lib/helperFunctions').helperFunctions;\n                var userSession = require('./util/userSession').userSession;\n                var storageHandler = require('./util/storageHandler').storageHandler;\n                var chatNotifications = require('./lib/chatNotifications').chatNotifications;\n                var chatEventsHandler = require('./util/chatEventsHandler').chatEventsHandler;\n\n                LHC_API.args = LHC_API.args || {};\n\n                if (typeof LHC_API.args.mobile_view !== 'undefined') {\n                    lhc.isMobile = isMobile = LHC_API.args.mobile_view;\n                }\n\n                const prefixLowercase = scopeScript.toLowerCase();\n                const prefixStorage = (prefixLowercase && LHC_API.args.scope_storage ? prefixLowercase : 'lhc');\n                const cookieEnabledUser = typeof LHC_API.args.cookie_enabled !== 'undefined' ? LHC_API.args.cookie_enabled : true;\n                const userMode = LHC_API.args.mode || 'widget';\n                var storageHandler = new storageHandler(global, LHC_API.args.domain || null, prefixStorage, cookieEnabledUser);\n\n                // Cookies are disabled and it's required for us to work. So switch to mode where cookies are not required\n                if (storageHandler.cookieEnabled === false && userMode == 'widget') {\n                    LHC_API.args.orig = {}\n                    LHC_API.args.orig.mode = LHC_API.args.mode;\n                    LHC_API.args.orig.proactive = LHC_API.args.proactive;\n                    LHC_API.args.orig.check_messages = LHC_API.args.check_messages;\n\n                    LHC_API.args.mode = 'popup';\n                    LHC_API.args.proactive = false;\n                    LHC_API.args.check_messages = false;\n                }\n\n                if (LHC_API.args.cookie_per_page) {\n                    storageHandler.setCookiePerPage(LHC_API.args.cookie_per_page);\n                }\n\n                var referrer = (document.referrer) ? document.referrer.substr(document.referrer.indexOf('://') + 1) : '';\n                var location = (document.location) ? encodeURIComponent(window.location.href.substring(window.location.protocol.length)) : '';\n\n                storageHandler.setSessionReferer(referrer);\n\n                referrer = referrer ? encodeURIComponent(referrer) : '';\n\n                var languageOverride = '';\n\n                if (storageHandler.getLocalStorage(prefixStorage+'_lng')) {\n                    languageOverride = LHC_API.args.lang = storageHandler.getLocalStorage(prefixStorage+'_lng');\n                }\n\n                if (LHC_API.args.lang) {\n                    LHC_API.args.lang = LHC_API.args.lang.replace('/', '') + '/';\n                }\n\n                // Main attributes\n                var attributesWidget = {\n                    terminated: false,\n                    viewport_enabled: true,\n                    prefixLowercase: prefixLowercase,\n                    prefixStorage: prefixStorage,\n                    prefixScope: scopeScript,\n                    cookie_enabled: cookieEnabledUser,\n                    LHC_API: LHC_API,\n                    viewHandler: null,\n                    msgSnippet: null,\n                    drag_enabled: LHC_API.args.drag_enabled || false,\n                    react_attr: LHC_API.args.react_attr || null,\n                    hide_parent: LHC_API.args.hide_parent || false,\n                    hide_iframe: LHC_API.args.hide_iframe || false,\n                    animate_nh: LHC_API.args.animate_nh || false,\n                    hide_status: LHC_API.args.hide_status || null,\n                    mainWidget: new mainWidget(prefixLowercase),\n                    popupWidget: new mainWidgetPopup(),\n                    chatNotifications: chatNotifications,\n                    jsVars: new BehaviorSubject(true),\n                    onlineStatus: new BehaviorSubject(true),\n                    wloaded: new BehaviorSubject(false),\n                    sload: new BehaviorSubject(false),\n                    status_position: new BehaviorSubject(null),\n                    shidden: new BehaviorSubject(LHC_API.args.hide_status || false),\n                    msgsnippet_status: new BehaviorSubject(false),\n                    unread_counter: new BehaviorSubject(0),\n                    eventEmitter: new EventEmitter(),\n                    hideOffline: false,\n                    offline: LHC_API.args.offline || null,\n                    fscreen: LHC_API.args.fscreen || false,\n                    vars_encrypted: LHC_API.args.vars_encrypted || false,\n                    isMobile: isMobile,\n                    isIE: (navigator.userAgent.toUpperCase().indexOf(\"TRIDENT/\") != -1 || navigator.userAgent.toUpperCase().indexOf(\"MSIE\") != -1 || typeof Object.assign !== 'function'),\n                    fresh: LHC_API.args.fresh || false,\n                    popupDimesnions: {pheight: (LHC_API.args.pheight || 520), pwidth: (LHC_API.args.pwidth || 500)},\n                    leaveMessage: LHC_API.args.leaveamessage || null,\n                    department: LHC_API.args.department || [],\n                    dep_default: LHC_API.args.dep_default || null,\n                    product: LHC_API.args.product || [],\n                    theme: typeof LHC_API.args.theme !== 'undefined' ? (typeof LHC_API.args.theme === 'object' ? LHC_API.args.theme.join(',') : LHC_API.args.theme) :  null,\n                    theme_v: null,\n                    domain: LHC_API.args.domain || null,\n                    domain_lhc: null,\n                    instance_id: 0,\n                    broadcasChannel : ('BroadcastChannel' in window ? (new BroadcastChannel(prefixStorage+'_wchannel')) : null),\n                    profile_pic: LHC_API.args.profile_pic || null,\n                    position: LHC_API.args.position || 'bottom_right',\n                    position_placement: LHC_API.args.position_placement || 'bottom_right',\n                    position_placement_original: LHC_API.args.position_placement || 'bottom_right',\n                    base_url: LHC_API.args.lhc_base_url,\n                    mode: LHC_API.args.mode || 'widget',\n                    tag: LHC_API.args.tag || '',\n                    status_delay: LHC_API.args.status_delay || 0,\n                    proactive: {},\n                    captcha: null,\n                    focused: true,\n                    clinst: false,\n                    kcw: LHC_API.args.kcw || false,\n                    offline_redirect: LHC_API.args.offline_redirect || null,\n                    identifier: LHC_API.args.identifier || '',\n                    proactive_interval: null,\n                    lang: LHC_API.args.lang || '',\n                    langOverride: languageOverride,\n                    subject_id: LHC_API.args.subject_id || '',\n                    bot_id: LHC_API.args.bot_id || '',\n                    trigger_id: LHC_API.args.trigger_id || '',\n                    priority: LHC_API.args.priority || null,\n                    events: LHC_API.args.events || [],\n                    conversion: LHC_API.args.conversion || '',\n                    hhtml: LHC_API.args.hhtml || '',\n                    survey: LHC_API.args.survey || null,\n                    operator: LHC_API.args.operator || null,\n                    phash: LHC_API.args.phash || null,\n                    pvhash: LHC_API.args.pvhash || null,\n                    // Login Objects\n                    userSession: new userSession(),\n                    storageHandler: storageHandler,\n                    staticJS: {},\n                    nh : null, // Need help data\n                    full_invitation: false,\n                    init_calls: [],\n                    childCommands: [],\n                    childExtCommands: [],\n                    lhc_var: (LHC_API.args.lhc_var || (typeof lhc_var !== 'undefined' ? lhc_var : null)),\n                    loadcb: LHC_API.args.loadcb || null,\n                    LHCChatOptions: global[scopeScript + 'ChatOptions'] || {},\n                    ignoreVars : false\n                };\n\n                attributesWidget.widgetDimesions = new BehaviorSubject({\n                    sright: (LHC_API.args.sright || 0),\n                    sbottom: (LHC_API.args.sbottom || 0),\n                    wright_inv: 0,\n                    wbottom: 0,\n                    wright: 0,\n                    width: ((isMobile || attributesWidget.fscreen) ? 100 : (LHC_API.args.wwidth || 350)),\n                    height: ((isMobile || attributesWidget.fscreen) ? 100 : (LHC_API.args.wheight || 520)),\n                    units: ((isMobile || attributesWidget.fscreen) ? '%' : 'px'),\n                    position_placement: attributesWidget.position_placement\n                });\n\n                var chatEvents = new chatEventsHandler(attributesWidget);\n\n                lhc.eventListener = attributesWidget.eventEmitter;\n                lhc.attributes = attributesWidget;\n\n                attributesWidget.userSession.setAttributes(attributesWidget);\n                attributesWidget.userSession.setSessionInformation(attributesWidget.storageHandler.getSessionInformation());\n\n                if (LHC_API.args.chat_id && LHC_API.args.chat_hash) {\n                    attributesWidget.userSession.setChatInformation({'id': LHC_API.args.chat_id, 'hash': LHC_API.args.chat_hash});\n                    attributesWidget.storageHandler.storeSessionInformation(attributesWidget.userSession.getSessionAttributes());\n                }\n\n                attributesWidget.userSession.setSessionReferrer(storageHandler.getSessionReferrer());\n\n                attributesWidget.widgetStatus = new BehaviorSubject((attributesWidget.userSession.ws == '1' && attributesWidget.userSession.id !== null) || (LHC_API.args.mode && LHC_API.args.mode == 'embed'));\n                attributesWidget.toggleSound = new BehaviorSubject(!(attributesWidget.userSession.sd == '1'), {'ignore_sub': true});\n\n                if (attributesWidget.mode == 'widget' || attributesWidget.mode == 'popup') {\n\n                    var containerChatObj = new containerChat(attributesWidget.prefixLowercase, LHC_API.args.pnode || null);\n\n                    attributesWidget.viewHandler = new statusWidget(attributesWidget.prefixLowercase, lhc.version);\n                    containerChatObj.cont.elmDom.appendChild(attributesWidget.viewHandler.cont, !0);\n\n                    if (attributesWidget.mode == 'widget' || attributesWidget.mode == 'popup') {\n                        containerChatObj.cont.elmDom.appendChild(attributesWidget.mainWidget.cont.constructUI(), !0);\n                    }\n\n                } else {\n                    var embedWrapper = document.getElementById(attributesWidget.prefixLowercase + '_status_container_page');\n                    if (embedWrapper !== null) {\n                        embedWrapper.appendChild(attributesWidget.mainWidget.cont.constructUI());\n                        embedWrapper.style.height = (LHC_API.args.wheight || 520) + 'px';\n                    } else {\n                        attributesWidget.position = 'api';\n                    }\n                }\n\n                function getArguments(){\n                    return {\n                        'cd': (storageHandler.cookieEnabled === false ? 1 : null),\n                        'vid': (LHC_API.args.UUID || attributesWidget.userSession.getVID()),\n                        'hnh': attributesWidget.userSession.hnh,\n                        'tz': helperFunctions.getTzOffset(),\n                        'r': referrer,\n                        'l': location,\n                        'dt': encodeURIComponent(document.title),\n                        'ie': attributesWidget.isIE,\n                        'dep': attributesWidget.department.join(','),\n                        'idnt': attributesWidget.identifier,\n                        'tag': attributesWidget.tag,\n                        'theme': attributesWidget.theme,\n                        'mode': attributesWidget.mode,\n                        'pos': attributesWidget.position,\n                        'off': attributesWidget.offline\n                    };\n                }\n\n                function showNeedHelp(nh) {\n                    import('./lib/widgets/needhelpWidget').then((module) => {\n                        var needhelpWidget = new module.needhelpWidget(attributesWidget.prefixLowercase);\n                        containerChatObj.cont.elmDom.appendChild(needhelpWidget.cont.constructUI(), !0);\n                        needhelpWidget.init(attributesWidget, nh);\n                    });\n                }\n\n                function showProactive(){\n                    import('./util/proactiveChat').then((module) => {\n                        module.proactiveChat.setParams({\n                            'interval': attributesWidget.proactive_interval\n                        }, attributesWidget, chatEvents);\n                    });\n                }\n\n                helperFunctions.makeRequest(LHC_API.args.lhc_base_url + attributesWidget.lang + 'widgetrestapi/settings', {\n                    params: getArguments()\n                }, (data) => {\n\n                    // Append exact protocol\n                    if (LHC_API.args.lhc_base_url.startsWith('//')) {\n                        attributesWidget.base_url = LHC_API.args.lhc_base_url = (window.location.protocol === 'http:' ? 'http:' : 'https:') + LHC_API.args.lhc_base_url;\n                    }\n\n                    if (lhc.version !== data.wv && document.getElementById(attributesWidget.prefixLowercase+'-js-reload') === null) {\n\n                        if (data.terminate) {\n                            return;\n                        }\n\n                        attributesWidget.userSession.setVID(data.vid);\n\n                        // Mark script as terminated\n                        attributesWidget.terminated = true;\n\n                        // Remove legacy dom\n                        helperFunctions.removeById(attributesWidget.prefixLowercase+'_container_v2');\n                        helperFunctions.removeById(attributesWidget.prefixLowercase+'_status_widget_v2');\n\n                        // Create new embed script\n                        var po = document.createElement(\"script\");\n                        po.type = currentScript.type;\n                        po.id = attributesWidget.prefixLowercase+'-js-reload';\n                        po.async = true;\n                        if (currentScript.getAttribute('scope')) { po.setAttribute('scope',currentScript.getAttribute('scope')); }\n\n                        // Expires cache\n                        po.src = currentScript.getAttribute('src') + '&r='+ (new Date()).getHours() + (new Date()).getMinutes();\n                        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);\n                        return;\n                    }\n\n                    if (data.terminate || ((!attributesWidget.leaveMessage && data.chat_ui.leaveamessage === false) && data.isOnline === false)) {\n\n                        if (LHC_API.args.offline_redirect && attributesWidget.mode == 'embed') {\n                            document.location = LHC_API.args.offline_redirect;\n                        }\n\n                        if (data.terminate) {\n                            return;\n                        }\n                    }\n\n                    // Send event that lhc has started\n                    // So parent page informs back that it has lhc\n                    if ((attributesWidget.hide_parent || attributesWidget.hide_iframe || (data.chat_ui && (data.chat_ui.hide_iframe || data.chat_ui.hide_parent))) && window.location != window.parent.location && window.parent.closed === false) {\n                        window.parent.postMessage('lhc::started','*');\n                    }\n\n                    attributesWidget.leaveMessage = attributesWidget.leaveMessage || data.chat_ui.leaveamessage;\n\n                    if (data.department) {\n                        attributesWidget.department = data.department;\n                    }\n\n                    __webpack_public_path__ = data.chunks_location + \"/\";\n\n                    if (data.secure_cookie) {\n                        attributesWidget.storageHandler.setSecureCookie(true);\n                    }\n\n                    if (data.domain) {\n                        attributesWidget.storageHandler.setCookieDomain(data.domain);\n                    }\n\n                    if (data.siteaccess) {\n                        attributesWidget.lang = data.siteaccess;\n                    }\n\n                    if (data.static) {\n                        attributesWidget.staticJS = data.static;\n                    }\n\n                    if (data.pdim) {\n                        attributesWidget.popupDimesnions = data.pdim;\n                    }\n\n                    if (data.survey_id) {\n                        attributesWidget.survey = data.survey_id;\n                    }\n\n                    if (data.domain_lhc) {\n                        attributesWidget.domain_lhc = data.domain_lhc;\n                    }\n\n                    if (data.cont_css) {\n                        attributesWidget.cont_ss = data.cont_css;\n                    }\n\n                    if (data.wposition) {\n                        LHC_API.args.position_placement = attributesWidget.position_placement = data.wposition;\n                    }\n\n                    if (data.core_position) {\n                        LHC_API.args.position = attributesWidget.position = data.core_position;\n                    }\n\n                    attributesWidget.captcha = {hash: data.hash, ts: data.hash_ts};\n                    attributesWidget.userSession.setVID(data.vid);\n\n                    // Store session\n                    attributesWidget.storageHandler.storeSessionInformation(attributesWidget.userSession.getSessionAttributes());\n\n                    attributesWidget.hideOffline = data.hideOffline;\n                    attributesWidget.onlineStatus.next(data.isOnline);\n\n                    if (data.theme) {\n                        attributesWidget.theme = data.theme;\n                        attributesWidget.theme_v = data.theme_v;\n                    }\n\n                    if (data.chat_ui) {\n\n                        if (data.chat_ui.hide_parent) {\n                            attributesWidget.hide_parent = true;\n                        }\n\n                        if ((data.chat_ui.fscreen && attributesWidget.mode == 'embed') || attributesWidget.fscreen) {\n                            attributesWidget.widgetDimesions.nextProperty('width', 100);\n                            attributesWidget.widgetDimesions.nextProperty('height', 100);\n                            attributesWidget.widgetDimesions.nextProperty('units', '%');\n                            attributesWidget.fscreen = isMobile = attributesWidget.isMobile = true;\n                        }\n\n                        if (data.chat_ui.wheight && !isMobile) {\n                            attributesWidget.widgetDimesions.nextProperty('height', data.chat_ui.wheight);\n                        }\n\n                        if (data.chat_ui.wwidth && !isMobile) {\n                            attributesWidget.widgetDimesions.nextProperty('width', data.chat_ui.wwidth);\n                        }\n\n                        if (data.chat_ui.hhtml) {\n                            attributesWidget.hhtml = data.chat_ui.hhtml;\n                        }\n\n                        if (data.chat_ui.status_delay) {\n                            attributesWidget.status_delay = data.chat_ui.status_delay;\n                        }\n\n                        if (data.chat_ui.kcw) {\n                            attributesWidget.kcw = true;\n                        }\n\n                        if (data.chat_ui.clinst) {\n                            attributesWidget.clinst = true;\n                        }\n\n                        if (data.chat_ui.drag_enabled) {\n                            attributesWidget.drag_enabled = true;\n                        }\n\n                        if (data.chat_ui.animate_nh) {\n                            attributesWidget.animate_nh = true;\n                        }\n\n                        if (data.chat_ui.viewport) {\n                            attributesWidget.viewport_enabled = data.chat_ui.viewport != 2 && data.chat_ui.viewport == 1 && isMobile === true;\n                        }\n\n                        if (data.chat_ui.wbottom) {\n                            attributesWidget.widgetDimesions.nextProperty('wbottom', data.chat_ui.wbottom);\n                        }\n\n                        if (data.chat_ui.sbottom) {\n                            attributesWidget.widgetDimesions.nextProperty('sbottom', data.chat_ui.sbottom);\n                        }\n\n                        if (data.chat_ui.sright) {\n                            attributesWidget.widgetDimesions.nextProperty('sright', data.chat_ui.sright);\n                        }\n\n                        if (data.chat_ui.wright) {\n                            attributesWidget.widgetDimesions.nextProperty('wright', data.chat_ui.wright);\n                        }\n\n                        if (data.chat_ui.wright_inv) {\n                            attributesWidget.widgetDimesions.nextProperty('wright_inv', data.chat_ui.wright_inv);\n                        }\n\n                        if (data.chat_ui.mobile_popup && isMobile && attributesWidget.mode != 'embed') {\n                            attributesWidget.mode = 'popup';\n                        }\n\n                        if (data.chat_ui.sound_enabled && storageHandler.getSessionStorage(prefixStorage + '_sound') === null) {\n                            attributesWidget.toggleSound.next(true);\n                        }\n\n                        if (data.instance_id) {\n                            attributesWidget.instance_id = data.instance_id;\n                        }\n\n                        if (data.chat_ui.check_status) {\n                            import('./util/activityMonitoring').then((module) => {\n                                module.activityMonitoring.setParams({\n                                    'timeout': data.chat_ui.check_status,\n                                    'track_mouse': data.chat_ui.track_mouse,\n                                    'track_activity': data.chat_ui.track_activity\n                                }, attributesWidget);\n                            });\n                        }\n\n                        if (data.ga) {\n                            import('./util/analyticEvents').then((module) => {\n                                module.analyticEvents.setParams({\n                                    'ga': data.ga\n                                }, attributesWidget);\n                            });\n                        }\n                    }\n\n                    if (storageHandler.getSessionStorage(prefixStorage + '_pos_placement') !== null) {\n                        attributesWidget.position_placement = storageHandler.getSessionStorage(prefixStorage + '_pos_placement');\n                    }\n\n                    if (data.nh && attributesWidget.fresh === false && attributesWidget['position'] != 'api') {\n                        attributesWidget.nh = data.nh;\n                        if (attributesWidget.mode == 'widget' || attributesWidget.mode == 'popup') {\n                            if (data.nh.ap || attributesWidget.userSession.id === null) {\n                                showNeedHelp(data.nh);\n                            }\n                        }\n                    }\n\n                    if (data.js_vars) {\n                        // Javascript custom variables init\n                        // Extensions can listen for these\n                        attributesWidget.jsVars.next(data.js_vars);\n\n                        // Monitor js vars if required\n                        if (data.js_vars.length > 0) {\n                            attributesWidget.userSession.setupVarsMonitoring(data.js_vars, (vars, prefillVars) => {\n                                chatEvents.sendChildEvent('jsVars', [vars, prefillVars]);\n                                attributesWidget.eventEmitter.emitEvent('jsVarsUpdated');\n                            });\n                        }\n                    }\n\n                    // Init main widgets\n                    if (attributesWidget.mode == 'widget' || attributesWidget.mode == 'popup') {\n                        attributesWidget.viewHandler.init(attributesWidget, data.ll);\n                    }\n\n                    if (!(attributesWidget.position == 'api' && attributesWidget.mode == 'embed')) {\n                        attributesWidget.mainWidget.init(attributesWidget, data.ll);\n                    }\n\n                    // Show status widget\n                    if (attributesWidget.mode == 'widget' || attributesWidget.mode == 'popup') {\n                        containerChatObj.cont.show();\n                    }\n\n                    if (attributesWidget.loadcb) {\n                        attributesWidget.loadcb(attributesWidget);\n                    }\n\n                    if (data.init_calls) {\n                        attributesWidget.init_calls = data.init_calls;\n                    }\n\n                    attributesWidget.proactive_interval = data.chat_ui.proactive_interval;\n\n                    if (!data.disable_proactive && (attributesWidget.mode == 'widget' || attributesWidget.mode == 'popup' || attributesWidget.mode == 'embed') && (typeof LHC_API.args.proactive === 'undefined' || LHC_API.args.proactive === true) && attributesWidget.storageHandler.getSessionStorage(prefixStorage + '_invt') === null) {\n                        showProactive();\n                    }\n\n                    if (attributesWidget.init_calls.length > 0) {\n                        attributesWidget.init_calls.forEach((item) => {\n                            if (item.extension == 'nodeJSChat') {\n                                import('./util/nodeJSChat').then((module) => {\n                                    module.nodeJSChat.setParams(item.params, attributesWidget, chatEvents);\n                                });\n                            }\n                        });\n                    }\n                })\n\n                attributesWidget.broadcasChannel && attributesWidget.broadcasChannel.addEventListener(\"message\", function(event) {\n                    if (event.data.action === 'current_vars' || event.data.action === 'check_vars') {\n                        if (attributesWidget.lhc_var !== null) {\n                            attributesWidget.ignoreVars = true;\n                            for (var index in event.data.lhc_var) {\n                                if ((typeof attributesWidget.lhc_var[index] === 'undefined' || attributesWidget.lhc_var[index] === '' || event.data.init === false) && event.data.lhc_var[index] !== '' && attributesWidget.lhc_var[index] !== event.data.lhc_var[index]) {\n                                    attributesWidget.lhc_var[index] = event.data.lhc_var[index];\n                                }\n                            }\n                            attributesWidget.ignoreVars = false;\n                            event.data.action === 'check_vars' && attributesWidget.broadcasChannel.postMessage({'action':'current_vars', 'init':true, 'lhc_var': JSON.parse(JSON.stringify(attributesWidget.lhc_var))});\n                        }\n                    } else if (event.data.action === 'wstatus') {\n                        if (attributesWidget.mode != 'embed' && event.data.value != attributesWidget.widgetStatus.value) {\n                            attributesWidget.widgetStatus.next(event.data.value);\n                        }\n                    } else if (event.data.action === 'chat_started') {\n                        if (attributesWidget.userSession.id === null && event.data.data.id) {\n                            attributesWidget.userSession.setChatInformation(event.data.data, attributesWidget.nh && attributesWidget.nh.ap);\n                            chatEvents.sendChildEvent('reopenNotification', [{\n                                'id': event.data.data.id,\n                                'hash': event.data.data.hash\n                            }]);\n                        }\n                    }\n                })\n\n                // Widget Hide event\n                attributesWidget.eventEmitter.addListener('closeWidget', function (params) {\n                    attributesWidget.widgetStatus.next(false);\n                    chatEvents.sendChildEvent('closedWidget', [params]);\n                });\n\n                // Send event to the child instantly\n                attributesWidget.eventEmitter.addListener('sendChildEvent', function (params) {\n                    if (typeof params['boot'] !== 'undefined') {\n                        attributesWidget.mainWidget.bootstrap();\n                    } else {\n                        if (attributesWidget.mainWidget.isLoaded == true && lhc.loaded == true) {\n                            chatEvents.sendChildEvent(params['cmd'], [params['arg']]);\n                        } else {\n                            attributesWidget.childCommands.push(params);\n                        }\n                    }\n                });\n\n                // Send smart event to the child\n                attributesWidget.eventEmitter.addListener('sendChildExtEvent', function (params) {\n                    if (typeof params['boot'] !== 'undefined') {\n                        attributesWidget.mainWidget.bootstrap();\n                    } else {\n                        if (attributesWidget.mainWidget.isLoaded == true && lhc.loaded == true) {\n                            chatEvents.sendChildEvent(params['cmd'], [params['arg']], 'lhc_load_ext');\n                        } else {\n                            attributesWidget.childExtCommands.push(params);\n                        }\n                    }\n                });\n\n                // Toggle sound user\n                attributesWidget.eventEmitter.addListener('toggleSound', function () {\n                    var newValue = !attributesWidget.toggleSound.value;\n                    attributesWidget.toggleSound.next(newValue);\n                });\n\n                // Toggle cookies policy\n                attributesWidget.eventEmitter.addListener('enableCookies', function () {\n\n                    // Check does cookies are supported in genreal\n                    if (storageHandler.checkCookiesSupport() === true) {\n                        // Store session\n                        var sessionAtrribute = attributesWidget.userSession.getSessionAttributes();\n                        if (typeof sessionAtrribute.hnh !== 'undefined') { delete sessionAtrribute['hnh']; }\n                        attributesWidget.storageHandler.storeSessionInformation(sessionAtrribute);\n\n                        if (typeof LHC_API.args.orig !== 'undefined') {\n\n                            attributesWidget.mode = LHC_API.args.mode = LHC_API.args.orig.mode;\n                            LHC_API.args.proactive = LHC_API.args.orig.proactive;\n                            LHC_API.args.check_messages = LHC_API.args.orig.check_messages;\n\n                            helperFunctions.makeRequest(LHC_API.args.lhc_base_url + attributesWidget.lang + 'widgetrestapi/settings', {\n                                params: getArguments()\n                            }, (data) => {\n                                // Change mode for react app\n                                attributesWidget.eventEmitter.emitEvent('sendChildEvent',[{'cmd' : 'attr_set', 'arg' : {'type':'attr_set','attr': ['mode'], data : attributesWidget.mode}}]);\n\n                                // Show need help widget if it's required\n                                if (attributesWidget.mode == 'widget' && attributesWidget.nh !== null) {\n                                    showNeedHelp(attributesWidget.nh);\n                                }\n\n                                // Enable proactive if it's required\n                                if ((attributesWidget.mode == 'widget' || attributesWidget.mode == 'popup') && (typeof LHC_API.args.proactive === 'undefined' || LHC_API.args.proactive === true) && attributesWidget.storageHandler.getSessionStorage(prefixStorage + '_invt') === null) {\n                                    showProactive();\n                                }\n                            });\n                        }\n                    }\n                });\n\n\n                // Clear chat cookies if there is any\n                // Then popup finishes loading it calls this to clean up chat cookies. So visitor can start new chat.\n                attributesWidget.eventEmitter.addListener('endChatCookies', function (params) {\n                    if (attributesWidget.kcw === false || (params && params['force'] == true)) {\n                        attributesWidget.userSession.setChatInformation({'id': null, 'hash': null});\n                        attributesWidget.storageHandler.storeSessionInformation(attributesWidget.userSession.getSessionAttributes());\n                        attributesWidget.proactive = {};\n                    }\n                });\n\n                attributesWidget.eventEmitter.addListener('widgetRendered', function (params) {\n                    if (attributesWidget.mode == 'widget' || attributesWidget.mode == 'embed') {\n                        attributesWidget.mainWidget.widgetRendered();\n                    }\n                });\n\n                attributesWidget.eventEmitter.addListener('endChat', function (params) {\n\n                    attributesWidget.userSession.setChatInformation({'id': null, 'hash': null});\n                    attributesWidget.storageHandler.storeSessionInformation(attributesWidget.userSession.getSessionAttributes());\n\n                    attributesWidget.proactive = {};\n\n                    if (attributesWidget.mode != 'popup' && (!params || !params['show_start'])) {\n                        attributesWidget.widgetStatus.next(false);\n                    }\n\n                    if (attributesWidget.viewHandler) {\n                        attributesWidget.viewHandler.removeUnreadIndicator();\n                        attributesWidget.eventEmitter.emitEvent('hide_msg_snippet');\n                    }\n\n                    attributesWidget.widgetDimesions.nextProperty('height_override', null);\n\n                    chatEvents.sendChildEvent('endedChat', [{'sender': 'endButton', 'survey' : attributesWidget.survey}]);\n\n                    if (attributesWidget.mode == 'embed' || (params && params['show_start'])) {\n                        attributesWidget.eventEmitter.emitEvent('showWidget', [{'sender': 'closeButton'}]);\n                    }\n\n                    if (attributesWidget.mode == 'popup') {\n                        attributesWidget.popupWidget.freeup();\n                    }\n                });\n\n                // Widget show event\n                attributesWidget.eventEmitter.addListener('showWidget', function (params) {\n\n                    // Just to restyle if needed\n                    attributesWidget.mainWidget.hideInvitation();\n\n                    attributesWidget.widgetStatus.next(true);\n\n                    if (attributesWidget.mode == 'popup') {\n                        attributesWidget.popupWidget.init(attributesWidget, chatEvents, params);\n\n                        attributesWidget.viewHandler.removeUnreadIndicator();\n\n                        attributesWidget.mainWidget.hide();\n                    } else if (typeof params !== 'undefined' && typeof params.event !== 'undefined') {\n                        params.event.preventDefault();\n                    }\n\n                    chatEvents.sendChildEvent('shownWidget', [{'sender': 'closeButton'}]);\n                });\n\n                // Add tag listener\n                attributesWidget.eventEmitter.addListener('addTag', function (tag) {\n                    attributesWidget.tag = attributesWidget.tag != '' ? attributesWidget.tag + ',' + tag : tag;\n                    attributesWidget.eventEmitter.emitEvent('tagAdded');\n                });\n\n                // Events\n                attributesWidget.eventEmitter.addListener('addEvent', function (events) {\n                    attributesWidget.events = events;\n                    attributesWidget.eventEmitter.emitEvent('eventAdded');\n                });\n\n                // Conversions\n                attributesWidget.eventEmitter.addListener('addConversion', function (conversion) {\n                    attributesWidget.conversion = conversion;\n                    attributesWidget.eventEmitter.emitEvent('conversionAdded');\n                });\n\n                // Popup open event\n                attributesWidget.eventEmitter.addListener('openPopup', function () {\n\n                    attributesWidget.popupWidget.init(attributesWidget, chatEvents);\n\n                    attributesWidget.viewHandler.removeUnreadIndicator();\n\n                    chatEvents.sendChildEvent('shownWidget', [{'sender': 'closeButton'}]);\n\n                    attributesWidget.widgetStatus.next(false);\n                });\n\n                // Chat started event received\n                // Store chat information if it's not popup mode.\n                attributesWidget.eventEmitter.addListener('chatStarted', function (data, mode) {\n\n                    attributesWidget.widgetDimesions.nextProperty('height_override', null);\n\n                    if (mode !== 'popup' || attributesWidget.kcw === true) {\n                        attributesWidget.userSession.setChatInformation(data, attributesWidget.nh && attributesWidget.nh.ap);\n\n                        if (attributesWidget.mode !== 'embed') {\n                            attributesWidget.userSession.ws = 1;\n                        }\n\n                        attributesWidget.broadcasChannel && attributesWidget.broadcasChannel.postMessage({'action':'chat_started', 'data':data, 'mode': mode});\n                        mode == 'popup' && chatEvents.sendChildEvent('reopenNotification', [{\n                            'id': data.id,\n                            'hash': data.hash\n                        }]);\n                    }\n\n                    if (mode == 'popup') {\n                        attributesWidget.mainWidget.hide();\n                    }\n\n                    // Store information permanently\n                    if (attributesWidget.fresh === false && (mode !== 'popup' || attributesWidget.kcw === true)) {\n                        attributesWidget.storageHandler.storeSessionInformation(attributesWidget.userSession.getSessionAttributes());\n                    }\n\n                });\n\n                // Subscribe event\n                attributesWidget.eventEmitter.addListener('subscribeEvent', function (data) {\n                    attributesWidget.chatNotifications.setPublicKey(data.pk, attributesWidget.eventEmitter);\n                    attributesWidget.chatNotifications.sendNotification();\n                });\n\n                // User has subscribed to notifications\n                // Send back child subscription information\n                attributesWidget.eventEmitter.addListener('subcribedEvent', function (data) {\n                    chatEvents.sendChildEvent('subcribedEvent', [data]);\n                });\n\n                var timeoutWidget = null, originalStyleSheet = null, scrollPosition = { x: 0, y: 0 };\n\n                // Track widget status changes\n                attributesWidget.widgetStatus.subscribe((data) => {\n                    if (attributesWidget.mode !== 'popup') {\n                        if (attributesWidget.mode !== 'embed') {\n                            // Do not store open status in local storage because embed is always open\n                            // attributesWidget.storageHandler.setSessionStorage(prefixStorage + '_ws', data);\n                            if (attributesWidget.userSession.id !== null || !data) {\n                                attributesWidget.userSession.ws = data ? '1' : null;\n                                attributesWidget.storageHandler.storeSessionInformation(attributesWidget.userSession.getSessionAttributes());\n                            }\n\n                            if (attributesWidget.broadcasChannel) {\n                                clearTimeout(timeoutWidget);\n                                timeoutWidget = setTimeout(function(){\n                                    attributesWidget.broadcasChannel.postMessage({'action':'wstatus','value':data});\n                                },50);\n                            }\n\n                            if (attributesWidget.isMobile == true) {\n                                if (data === true) {\n                                    scrollPosition.x = window.scrollX;\n                                    scrollPosition.y = window.scrollY;\n                                    // Save history scroll behavior to restore later\n                                    scrollPosition.scrollBehavior = history.scrollRestoration;\n                                    // Prevent browser's automatic scroll restoration\n                                    if ('scrollRestoration' in history) {\n                                        history.scrollRestoration = 'manual';\n                                    }\n                                    originalStyleSheet = document.body.style.cssText;\n                                    document.body.style.cssText = 'height: 100% !important; min-height: 100% !important; max-height: 100% !important; width: 100% !important; min-width: 100% !important; max-width: 100% !important; overflow: hidden !important; position: fixed !important;';\n                                } else if (originalStyleSheet !== null) {\n                                    document.body.style.cssText = originalStyleSheet;\n                                    originalStyleSheet = null;\n                                    // Use scrollTo with instant behavior to avoid animation\n                                    window.scrollTo({\n                                        left: scrollPosition.x,\n                                        top: scrollPosition.y,\n                                        behavior: 'instant'\n                                    });\n                                    // Restore original scroll behavior\n                                    if ('scrollRestoration' in history && scrollPosition.scrollBehavior) {\n                                        history.scrollRestoration = scrollPosition.scrollBehavior;\n                                    }\n                                }\n                            }\n                        }\n                        chatEvents.sendChildEvent('widgetStatus', [data]);\n                    }\n                });\n\n                // Store sound settings\n                attributesWidget.toggleSound.subscribe((data) => {\n                    attributesWidget.userSession.sd = !data ? '1' : null;\n                    attributesWidget.storageHandler.storeSessionInformation(attributesWidget.userSession.getSessionAttributes());\n                });\n\n                attributesWidget.onlineStatus.subscribe((data) => {\n                    chatEvents.sendChildEvent('onlineStatus', [data]);\n                });\n\n                attributesWidget.eventEmitter.addListener('screenshot', (data) => {\n                    helperFunctions.makeScreenshot(attributesWidget.staticJS['screenshot'], data);\n                });\n\n                attributesWidget.eventEmitter.addListener('screenshare', (data) => {\n                    import('./util/screenShare').then((module) => {\n                        module.screenShare.setParams((data || {}), attributesWidget, chatEvents);\n                    });\n                });\n\n                attributesWidget.eventEmitter.addListener('location', (data) => {\n                    document.location = data;\n                });\n\n                attributesWidget.eventEmitter.addListener('terminated', (data) => {\n                    attributesWidget.terminated = true;\n                    // Remove legacy dom\n                    helperFunctions.removeById(attributesWidget.prefixLowercase+'_container_v2');\n                    helperFunctions.removeById(attributesWidget.prefixLowercase+'_status_widget_v2');\n                });\n\n                attributesWidget.eventEmitter.addListener('showInvitation', (data) => {\n                    attributesWidget.widgetDimesions.nextProperty('bottom_override', 75);\n                    attributesWidget.widgetDimesions.nextProperty('right_override', 75);\n                    attributesWidget.mainWidget.showInvitation();\n                });\n\n                attributesWidget.eventEmitter.addListener('hideAction', (data) => {\n                    attributesWidget.mainWidget.hide();\n                });\n\n                attributesWidget.eventEmitter.addListener('showAction', (data) => {\n                    attributesWidget.mainWidget.show();\n                });\n\n                attributesWidget.eventEmitter.addListener('zoomImage', (data) => {\n                    import('./util/zoomImage').then((module) => {\n                        module.zoomImage.setParams((data || {}), attributesWidget, chatEvents);\n                    });\n                });\n\n                attributesWidget.eventEmitter.addListener('hideInvitation', (data) => {\n                    attributesWidget.mainWidget.hideInvitation();\n                    if (data.full) {\n                        attributesWidget.full_invitation = true;\n                        attributesWidget.eventEmitter.emitEvent('showWidget', [{'sender': 'closeButton'}]);\n                        attributesWidget.eventEmitter.emitEvent('fullInvitation', [data]);\n                    } else {\n                        attributesWidget.full_invitation = false;\n                        attributesWidget.eventEmitter.emitEvent('cancelInvitation', []);\n                    }\n                    attributesWidget.mainWidget.resizeTrigger();\n                });\n\n                attributesWidget.eventEmitter.addListener('msgSnippet', (data) => {\n                    if (attributesWidget.mode == 'widget' && attributesWidget.widgetStatus.value === false) {\n\n                        if (data.full_widget) {\n                            attributesWidget.eventEmitter.emitEvent('showWidget', [{'sender': 'closeButton'}]);\n                            return;\n                        }\n\n                        attributesWidget.position == 'api' && attributesWidget.viewHandler && attributesWidget.viewHandler.show();\n\n                        import('./lib/widgets/msgSnippetWidget').then((module) => {\n                            if (!attributesWidget.msgSnippet) {\n                                attributesWidget.msgSnippet = new module.msgSnippetWidget(attributesWidget.prefixLowercase);\n                                containerChatObj.cont.elmDom.appendChild(attributesWidget.msgSnippet.cont.constructUI(), !0);\n                                attributesWidget.msgSnippet.init(attributesWidget, data);\n                            } else {\n                                attributesWidget.msgSnippet.showSnippet(data, true);\n                            }\n                            attributesWidget.eventEmitter.emitEvent('unread_message',[{otm: 1}]);\n                        });\n                    }\n                });\n\n                attributesWidget.eventEmitter.addListener('unread_message', (data) => {\n                    if (data && data.msg_body && !attributesWidget.msgSnippet) {\n                        import('./lib/widgets/msgSnippetWidget').then((module) => {\n                            if (!attributesWidget.msgSnippet) {\n                                attributesWidget.msgSnippet = new module.msgSnippetWidget(attributesWidget.prefixLowercase);\n                                containerChatObj.cont.elmDom.appendChild(attributesWidget.msgSnippet.cont.constructUI(), !0);\n                                attributesWidget.msgSnippet.init(attributesWidget, data);\n                            }\n                        });\n                    }\n                });\n\n                attributesWidget.eventEmitter.addListener('change_language', (data) => {\n                    attributesWidget.lang = data.lng.replace('/', '') + '/';\n                });\n\n                attributesWidget.originalTitle = document.title;\n                attributesWidget.blinkInterval = null;\n                attributesWidget.titleChanged = false;\n\n                attributesWidget.eventEmitter.addListener('unread_message_title', (data) => {\n                    clearInterval(attributesWidget.blinkInterval);\n                    if (data.status == false) {\n                        attributesWidget.blinkInterval = setInterval(() => {\n                            if (Math.round(new Date().getTime() / 1000) % 2 && attributesWidget.titleChanged === false) {\n                                attributesWidget.originalTitle = document.title;\n                                document.title = ' ' + document.title;\n                                attributesWidget.titleChanged = true;\n                            } else {\n                                if (attributesWidget.titleChanged === true) {\n                                    document.title = attributesWidget.originalTitle;\n                                }\n                                attributesWidget.titleChanged = false;\n                            }\n                        }, 1000);\n                    } else {\n                        attributesWidget.focused = true;\n                        if (attributesWidget.titleChanged === true) {\n                            document.title = attributesWidget.originalTitle;\n                            attributesWidget.titleChanged = false;\n                        }\n                    }\n                });\n\n                attributesWidget.eventEmitter.addListener('widgetHeight', (data) => {\n\n                    if (data.position_placement) {\n                        attributesWidget.position_placement = data.position_placement;\n                        attributesWidget.widgetDimesions.nextProperty('position_placement', attributesWidget.position_placement);\n                        storageHandler.setSessionStorage(prefixStorage + '_pos_placement',attributesWidget.position_placement);\n                        return;\n                    }\n\n                    if (data.reset_height) {\n                        attributesWidget.widgetDimesions.nextProperty('height_override', null);\n                        attributesWidget.widgetDimesions.nextProperty('bottom_override', null);\n                        attributesWidget.widgetDimesions.nextProperty('right_override', null);\n                        attributesWidget.widgetDimesions.nextProperty('width_override', null);\n                        return;\n                    }\n\n                    if (data.force_height || data.force_width || data.force_bottom || data.force_right) {\n                        data.force_height && attributesWidget.widgetDimesions.nextProperty('height_override', data.force_height);\n                        data.force_width && attributesWidget.widgetDimesions.nextProperty('width_override', data.force_width);\n                        data.force_right && attributesWidget.widgetDimesions.nextProperty('right_override', data.force_right);\n                        data.force_bottom && attributesWidget.widgetDimesions.nextProperty('bottom_override', data.force_bottom);\n                        return;\n                    }\n\n                    if (attributesWidget.mode == 'widget' && attributesWidget.isMobile == false) {\n                        var d = document,\n                            e = d.documentElement,\n                            g = d.getElementsByTagName('body')[0],\n                            y = global.innerHeight || e.clientHeight || g.clientHeight;\n\n                        if (parseInt(data.height) > attributesWidget.widgetDimesions.value['height']) {\n                            attributesWidget.widgetDimesions.nextProperty('height_override', parseInt(data.height));\n                            attributesWidget.mainWidget.resizeTrigger();\n                        } else if (attributesWidget.widgetDimesions.value['height_override'] && attributesWidget.widgetDimesions.value['height_override'] > y) {\n                            attributesWidget.widgetDimesions.nextProperty('height_override', null);\n                        }\n                    }\n                });\n\n                var serviceWorkerAvailable = false;\n                try {\n                    serviceWorkerAvailable = ('serviceWorker' in navigator);\n                } catch (e) {\n                    // Worker not available\n                }\n\n                if (serviceWorkerAvailable === true) {\n                    try {\n                        navigator.serviceWorker.addEventListener('message', function (event) {\n                            try {\n                                if (typeof event.data.lhc_ch !== 'undefined' && typeof event.data.lhc_cid !== 'undefined') {\n                                    attributesWidget.widgetStatus.next(true);\n                                    if (attributesWidget.mode == 'popup') {\n                                        attributesWidget.userSession.setChatInformation({\n                                            'id': event.data.lhc_cid,\n                                            'hash': event.data.lhc_ch\n                                        });\n                                        attributesWidget.eventEmitter.emitEvent('unread_message');\n                                    } else {\n                                        chatEvents.sendChildEvent('shownWidget', [{'sender': 'closeButton'}]);\n                                        chatEvents.sendChildEvent('reopenNotification', [{\n                                            'id': event.data.lhc_cid,\n                                            'hash': event.data.lhc_ch\n                                        }]);\n                                    }\n                                }\n                            } catch (e) {\n                                if (lhcError) lhcError.log(e.message, \"index.js\", e.lineNumber || e.line, e.stack); else throw Error(\"lhc : \" + e.message);\n                            }\n                        });\n                    } catch (e) {\n                        // Ignore sandbox error\n                    }\n                }\n\n                // Listed for post messages\n                const handleMessages = (e) => {\n                    if (attributesWidget.terminated === true || typeof e.data !== 'string' || e.data.indexOf(attributesWidget.prefixLowercase + '::')) {\n                        if (typeof e.data === 'object' && typeof e.data.action === 'string' &&  e.data.action === \"lhc_set_var\") {\n                            Object.keys(e.data).forEach(key => {\n                                if (key !== 'action') {\n                                    if (typeof lhc_var !== 'undefined') {\n                                        lhc_var[key] = e.data[key];\n                                    }\n                                }\n                            });\n                            return;\n                        }\n                        return;\n                    }\n\n                    const parts = e.data.split('::');\n\n                    if (typeof e.origin !== 'undefined' && e.origin != 'about:') {\n                        var originDomain = e.origin.replace(\"http://\", \"\").replace(\"https://\", \"\").replace(/:(\\d+)$/, '');\n\n                        // We allow to send events only from chat installation or page where script is embeded.\n                        if (originDomain !== document.domain && attributesWidget.domain_lhc !== originDomain && [\"started\",\"isstarted\",\"addTag\",\"showWidget\"].indexOf(parts[1]) === -1) {\n                            return;\n                        }\n                    }\n\n                    if (parts[1] == 'ready') {\n\n                        chatEvents.sendReadyEvent(parts[2] == 'true');\n\n                        if (attributesWidget.storageHandler.getSessionStorage(prefixStorage + '_screenshare')) {\n                            attributesWidget.eventEmitter.emitEvent('screenshare', [{'auto_start': true}]);\n                        }\n\n                        const focusChangeCb = (e) => {\n                            const focused = e.type === \"focus\";\n                            attributesWidget.focused = focused;\n                            chatEvents.sendChildEvent('focus_changed', [{'status': focused}]);\n                        };\n\n                        window.addEventListener('focus', focusChangeCb);\n                        window.addEventListener('blur', focusChangeCb);\n                        window.addEventListener('pageshow', focusChangeCb);\n                        window.addEventListener('pagehide', focusChangeCb);\n\n                        // App is fully loaded\n                        lhc.loaded = true;\n\n                        chatEvents.sendChildEvent('ext_modules', [attributesWidget.staticJS['ex_cb_js']]);\n\n                        // send child commands if there is any\n                        attributesWidget.childExtCommands.forEach((params) => {\n                            chatEvents.sendChildEvent(params['cmd'], [params['arg']], 'lhc_load_ext');\n                        });\n\n                        // send child commands if there is any\n                        attributesWidget.childCommands.forEach((params) => {\n                            chatEvents.sendChildEvent(params['cmd'], [params['arg']]);\n                        });\n\n                        if (attributesWidget.react_attr !== null) {\n                            attributesWidget.react_attr.forEach(item => {\n                                chatEvents.sendChildEvent('attr_set',[{\n                                    'type':'attr_set','attr': item['k'],\n                                    data : item['v']\n                                }]);\n                            })\n                        }\n\n                    } else if (parts[1] == 'ready_popup') {\n                        attributesWidget.popupWidget.sendParameters(chatEvents);\n\n                        // Send directly response\n                        attributesWidget.popupWidget.attributes = attributesWidget;\n                        e.source.postMessage('lhc_event:jsVars::' + JSON.stringify([attributesWidget.popupWidget.getAttributesToSent()]), e.origin);\n                    } else if (parts[1] == 'isstarted') {\n                        // Parent window has LHC, terminate present instance\n                        attributesWidget.eventEmitter.emitEvent('terminated', []);\n                    } else if (parts[1] == 'started') {\n                        if (attributesWidget.hide_parent) {\n                            attributesWidget.eventEmitter.emitEvent('terminated', []);\n                        } else {\n                            e.source.postMessage('lhc::isstarted','*');\n                        }\n                    } else {\n                        attributesWidget.eventEmitter.emitEvent(parts[1], JSON.parse(parts[2]));\n                    }\n                };\n\n                if (window.addEventListener) {\n                    window.addEventListener(\"message\", handleMessages, false);\n                } else if (window.attachEvent) {\n                    window.attachEvent(\"onmessage\", handleMessages);\n                } else if (document.attachEvent) {\n                    document.attachEvent(\"onmessage\", handleMessages);\n                }\n            };\n\n            var preInit = () => {\n\n                // Avoid multiple times execution\n                if (lhc.ready === true) {\n                    return;\n                }\n\n                // we have found document body so we can continue\n                if (document.body) {\n                    lhc.ready = true;\n                } else {\n                    // Document body does not exists\n                    return;\n                }\n\n                lhc.init = init;\n\n                if (LHC_API.args.before_init) {\n                    LHC_API.args.before_init(lhc);\n                }\n\n                LHC_API.args.manual_init || init();\n            };\n\n            const eventsHandler = require('./util/domEventsHandler').domEventsHandler;\n\n            (preInit(), !lhc.ready) || (eventsHandler.listen(document, \"DOMContentLoaded\", function () {\n                preInit();\n            }, \"domloaded\"),\n                eventsHandler.listen(document, \"readystatechange\", function () {\n                    (\"complete\" === document.readyState || \"interactive\" === document.readyState && document.body) && preInit();\n                }, \"domstatechange\"),\n                eventsHandler.listen(global, \"load\", function () {\n                    preInit();\n                }, \"windowload\"));\n\n        }).call(this, global['$_' + scopeScript], global[scopeScript + '_API']);\n\n    } catch (e) {\n        if (lhcError) lhcError.log(e.message, \"index.js\", e.lineNumber || e.line, e.stack); else throw Error(\"lhc : \" + e.message);\n    }\n\n})(window);"],"names":["UIConstructorIframe","_UIConsturctor","elementId","style","attributes","tagname","documentRef","_this","_classCallCheck","bodyId","_inherits","_createClass","key","value","dir","cl","header","disableViewPort","this","elmDomDoc","helperFunctions","getDocument","elmDom","getElementsByTagName","innerHTML","body","id","html","setAttribute","nodeDoctype","document","implementation","createDocumentType","doctype","replaceChild","insertBefore","childNodes","e","console","log","insertCssFile","insertContent","tmpl","UIConsturctor","_arrayLikeToArray","r","a","length","n","Array","_isNativeReflectConstruct","t","Boolean","prototype","valueOf","call","Reflect","construct","_wrapNativeSuper","Map","Function","toString","indexOf","TypeError","has","get","set","Wrapper","apply","arguments","o","push","p","bind","setPrototypeOf","getPrototypeOf","constructor","Object","create","enumerable","writable","configurable","LHCStatusWidget","_HTMLElement","attachShadow","mode","_ee","ee","event","data","setProperty","undefined","window","orientation","resize","createElement","textContent","getAttribute","shadowRoot","appendChild","b","hasOwnProperty","restyle","attr","content","contentShadow","firstChild","initX","initY","rect","getBoundingClientRect","height","verticalSpace","parseInt","top","getComputedStyle","matrix","DOMMatrixReadOnly","transform","m42","m41","Math","abs","dispatchEventStatus","bottom","innerHeight","documentElement","clientHeight","left","right","firstX","firstY","lastTouch","object","objectMoved","moveAction","dragEnabled","screen","addEventListener","mouseUp","removeEventListener","dragIt","verifyPosition","XPos","pageX","YPos","pageY","touchEnd","swipeIt","isMobile","resetVertical","switchVerticalTop","switchVerticalBottom","posYHistory","posY","need_reposition","is_right_side","width","innerWidth","clientWidth","setTimeout","transitionDuration","preventDefault","contact","touches","touch","elm","href","getElementById","d","rel","crossOrigin","HTMLElement","statusWidget","prefix","version","_this2","controlMode","showDelay","statusDelayProcessed","componentId","customElements","define","cont","entries","forEach","_ref","_ref2","isArray","l","Symbol","iterator","i","u","f","next","done","slice","name","from","test","k","v","loadStatus","main","theme","font","widget","shidden","lload","unread_counter","onlineStatus","icon","leaveMessage","show","removeClass","addClass","hide","display","sload","_this3","placement","widgetDimesions","sbottom","sright","position_placement","drag_enabled","positionPrevious","storageHandler","getSessionStorage","placementRestored","JSON","parse","status_position","massRestyle","setContent","className","attachEvents","_inst","wloaded","subscribe","checkLoadStatus","getSessionAttributes","widgetStatus","status","eventEmitter","emitEvent","offline_redirect","location","setSessionStorage","stringify","staticJS","insertCssRemoteFile","createDocumentFragment","initElement","type","createTextNode","replace","styleSheet","cssText","nodeValue","onload","LHC_API","args","lhc_base_url","theme_v","toggleOfflineIcon","chatParams","unreadMessagesNumber","addListener","unreadTotal","otm","showUnreadIndicator","init","isNaN","Date","now","removeUnreadIndicator","clinst","clearTimeout","number","iconText","iconValue","innerText","removeSessionStorage","_this4","hideOffline","_possibleConstructorReturn","ReferenceError","module","exports","Promise","enableSynchronous","isPending","getState","isFulfilled","isRejected","getValue","_y","_z","Error","getReason","disableSynchronous","EventEmitter","proto","originalGlobalValue","indexOfListener","listeners","listener","alias","isValidListener","RegExp","getListeners","evt","response","events","_getEvents","flattenListeners","flatListeners","getListenersAsObject","listenerIsWrapped","once","on","addOnceListener","defineEvent","defineEvents","evts","removeListener","index","splice","off","addListeners","manipulateListeners","removeListeners","remove","single","multiple","removeEvent","_events","removeAllListeners","listenersMap","_getOnceReturnValue","trigger","emit","setOnceReturnValue","_onceReturnValue","noConflict","_typeof","containerChat","pnode","constructUI","appleIphone","appleIpod","appleTablet","appleUniversal","androidPhone","androidTablet","amazonPhone","amazonTablet","windowsPhone","windowsTablet","otherBlackBerry","otherBlackBerry10","otherOpera","otherChrome","otherFirefox","isAppleTabletOnIos13","navigator","platform","maxTouchPoints","MSStream","param","nav","userAgent","tmp","split","match","regex","createMatch","result","apple","phone","ipod","tablet","universal","device","amazon","android","windows","other","blackberry","blackberry10","opera","firefox","chrome","any","_setPrototypeOf","__proto__","settings","_getPrototypeOf","userSession","vid","hnh","withCredentials","ref","hash","ws","sd","jsVars","updateVarsTimeout","decode","String","evalJSON","str","$","parseJSON","toJSON","encode","params","cb","lhc_var","validator","obj","prop","updateJSVars","ignoreVars","broadcasChannel","postMessage","Proxy","LHCChatOptions","attr_prefill","lhc_var_prefill","item","xhr","XMLHttpRequest","open","getAppendVariables","setRequestHeader","send","encodeURIComponent","err","varsReturn","varsSet","getVars","jsVarData","js_args","currentVar","cookie","var","eval","append","varsJSON","vars_encrypted","origin","vars","getPrefillVars","alwaysPersistentNeedHelp","round","chatNotifications","_chatNotifications","isNotificationsSubscribed","applicationServerPublicKey","publicKey","that","swRegistration","Notification","permission","requestPermission","alert","serviceWorker","register","then","swReg","pushManager","getSubscription","subscription","applicationServerKey","base64String","base64","repeat","rawData","atob","outputArray","Uint8Array","charCodeAt","urlB64ToUint8Array","getKey","token","contentEncoding","PushManager","supportedContentEncodings","payload","endpoint","btoa","fromCharCode","authToken","updateSubscriptionOnServer","finally","resolve","mainWidgetPopup","units","freeup","argumentsQuery","paramsReturn","encrypted","size","req","attr_prefill_admin","join","chatEvents","paramsPopup","elementReferrerPopup","closed","focus","urlArgumetns","cookieEnabled","toggleSound","fontSize","getLocalStorage","getSessionReferrer","parseOptions","dualScreenLeft","screenLeft","screenX","dualScreenTop","screenTop","screenY","systemZoom","availWidth","paramsWindow","newWin","needWindow","windowCreated","viewHandler","click","kcw","sendChildEvent","getAttributesToSent","js_vars","chatEventsHandler","getJSVarsValues","prefillOptions","fieldsCustom","prefilOptionsList","concat","command","mainWidget","contentWindow","isIE","popupWidget","popup","getInitAttributes","sendChildCommand","domEventsHandler","_domEventsHandler","callback","dispatch","getEvent","attachEvent","eventName","presentEvent","removeEventHandler","element","eventListener","detachEvent","eventInstance","caller","Event","rawAsap","freeTasks","pendingErrors","requestErrorThrow","makeRequestCallFromTimer","shift","asap","task","rawTask","pop","RawTask","error","onerror","monitoredVariable","valueInternal","val","callListeners","ignoreSub","defineProperty","onFulfilled","onRejected","tagName","classNames","keys","c","listen","reset","ResetStyle","src","async","loadcb","global","domain","cookiesSupportChecked","checkCookiesSupport","secureCookie","cookiePerPage","hasSessionStorage","sessionStorage","hasLocalStorage","localStorage","coookieName","cookieValue","expireTime","string","setTime","getTime","toGMTString","cookieName","baseCookie","charAt","substring","host","hostname","setItem","removeItem","getItem","sessionInformation","getHTTPCookie","parseSessionInformation","pairs","setHTTPCookie","getStoreValue","getCookieDomain","contentReturn","parts","unescape","_helperFunctions","s","contentDocument","EId","EObj","parentNode","removeChild","Intl","DateTimeFormat","resolvedOptions","timeZone","stdTimezoneOffset","jan","getFullYear","jul","max","getTimezoneOffset","dst","today","outline","visibility","boxshadow","overflow","background","opacity","position","border","minheight","minwidth","maxheight","maxwidth","padding","margin","transition","zindex","backgroundcolor","cursor","borderRadius","classList","contains","add","hasClass","screenshot","url","html2canvas","th","onreadystatechange","makeScreenshot","canvas","toDataURL","request","urlRequest","makeQuery","readyState","responseText","message","TRUE","valuePromise","FALSE","NULL","UNDEFINED","ZERO","EMPTYSTRING","_D","ex","reject","iterableToArray","iterable","x","onSettledFulfill","onSettledReject","reason","mapAllSettled","getAggregateError","errors","AggregateError","all","arr","remaining","res","allSettled","map","race","values","promises","hasResolved","rejectionReasons","resolveOnce","rejectionCheck","originalCSS","bottom_override","is_invitation","is_loaded","widget_rendered","getAbstractStyle","isLoaded","css","font_status","font_preload","css_preload","restyleStyle","fscreen","eldoc","loadApp","constructUIIframe","hhtml","viewport_enabled","cont_ss","lazyLoad","makeContent","bootstrap","toggleVisibilityWrap","toggleVisibility","monitorDimensionsWrap","monitorDimensions","screenAttributesUpdate","full_invitation","scrollHeight","offsetHeight","nextPropertySilent","insertJSFile","checkLoadApp","prefixLowercase","width_override","width_soverride","height_soverride","height_override","wbottom","right_override","wright_inv","wright","toPropertyKey","toPrimitive","_defineProperties","noop","LAST_ERROR","IS_ERROR","fn","_x","_A","doResolve","handle","self","deferred","_B","ret","tryCallOne","promise","handleResolved","newValue","getThen","finale","_C","Handler","tryCallTwo","safeThen","denodeify","argumentCount","Infinity","callbackFn","denodeifyWithCount","fnLength","_","denodeifyWithoutCount","nodeify","ctx","queue","requestFlush","flush","currentIndex","scan","newLength","toggle","observer","node","scope","g","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","timeoutHandle","handleTimer","intervalHandle","setInterval","clearInterval","observe","characterData","__webpack_module_cache__","inProgress","dataWebpackPrefix","__webpack_require__","moduleId","cachedModule","__webpack_modules__","m","getter","__esModule","definition","chunkId","reduce","globalThis","script","needAttach","scripts","charset","timeout","nc","onScriptComplete","prev","doneFns","target","head","toStringTag","installedChunks","j","installedChunkData","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","some","chunkLoadingGlobal","currentScript","scopeScript","lhcError","filename","lineNumber","stack","column","file","line","lineno","colno","lhc","loaded","connected","ready","require","default","BehaviorSubject","mobile_view","toLowerCase","prefixStorage","scope_storage","cookieEnabledUser","cookie_enabled","userMode","orig","proactive","check_messages","cookie_per_page","setCookiePerPage","referrer","substr","protocol","setSessionReferer","languageOverride","lang","attributesWidget","terminated","prefixScope","msgSnippet","react_attr","hide_parent","hide_iframe","animate_nh","hide_status","msgsnippet_status","offline","toUpperCase","assign","fresh","popupDimesnions","pheight","pwidth","leaveamessage","department","dep_default","product","domain_lhc","instance_id","BroadcastChannel","profile_pic","position_placement_original","base_url","tag","status_delay","captcha","focused","identifier","proactive_interval","langOverride","subject_id","bot_id","trigger_id","priority","conversion","survey","operator","phash","pvhash","nh","init_calls","childCommands","childExtCommands","wwidth","wheight","setAttributes","setSessionInformation","getSessionInformation","chat_id","chat_hash","setChatInformation","storeSessionInformation","setSessionReferrer","containerChatObj","embedWrapper","getArguments","UUID","getVID","getTzOffset","title","showNeedHelp","needhelpWidget","showProactive","proactiveChat","setParams","makeRequest","startsWith","wv","terminate","chat_ui","isOnline","parent","__webpack_public_path__","chunks_location","secure_cookie","setSecureCookie","setCookieDomain","siteaccess","static","pdim","survey_id","cont_css","wposition","core_position","ts","hash_ts","setVID","nextProperty","viewport","mobile_popup","sound_enabled","check_status","activityMonitoring","track_mouse","track_activity","ga","analyticEvents","ap","setupVarsMonitoring","prefillVars","ll","disable_proactive","extension","nodeJSChat","removeById","po","getHours","getMinutes","action","sessionAtrribute","widgetRendered","hideInvitation","setPublicKey","pk","sendNotification","timeoutWidget","originalStyleSheet","scrollPosition","y","scrollX","scrollY","scrollBehavior","history","scrollRestoration","scrollTo","behavior","screenShare","showInvitation","zoomImage","full","resizeTrigger","full_widget","showSnippet","msgSnippetWidget","msg_body","lng","originalTitle","blinkInterval","titleChanged","reset_height","force_height","force_width","force_bottom","force_right","serviceWorkerAvailable","lhc_ch","lhc_cid","handleMessages","originDomain","sendReadyEvent","focusChangeCb","sendParameters","source","preInit","before_init","manual_init","eventsHandler"],"sourceRoot":""}