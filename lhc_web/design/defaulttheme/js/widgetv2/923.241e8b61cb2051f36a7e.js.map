{"version":3,"file":"923.241e8b61cb2051f36a7e.js","mappings":"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","sources":["webpack://LHCReactAPP/./node_modules/ieee754/index.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/rng.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/regex.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/validate.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/v1.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/parse.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/v35.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/md5.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/v3.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/v4.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/sha1.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/v5.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/nil.js","webpack://LHCReactAPP/./node_modules/uuid/dist/esm-browser/version.js","webpack://LHCReactAPP/./node_modules/stream-demux/node_modules/consumable-stream/index.js","webpack://LHCReactAPP/./node_modules/socketcluster-client/lib/wait.js","webpack://LHCReactAPP/./node_modules/linked-list/index.js","webpack://LHCReactAPP/./node_modules/socketcluster-client/lib/transport.js","webpack://LHCReactAPP/./node_modules/consumable-stream/index.js","webpack://LHCReactAPP/./node_modules/kind-of/index.js","webpack://LHCReactAPP/./node_modules/async-stream-emitter/index.js","webpack://LHCReactAPP/./node_modules/writable-consumable-stream/node_modules/consumable-stream/index.js","webpack://LHCReactAPP/./node_modules/socketcluster-client/lib/auth.js","webpack://LHCReactAPP/./node_modules/isobject/index.js","webpack://LHCReactAPP/./node_modules/shallow-clone/index.js","webpack://LHCReactAPP/./node_modules/writable-consumable-stream/index.js","webpack://LHCReactAPP/./node_modules/socketcluster-client/lib/clientsocket.js","webpack://LHCReactAPP/./node_modules/writable-consumable-stream/consumer.js","webpack://LHCReactAPP/./node_modules/socketcluster-client/index.js","webpack://LHCReactAPP/./node_modules/is-plain-object/index.js","webpack://LHCReactAPP/./node_modules/ag-request/index.js","webpack://LHCReactAPP/./node_modules/base64-js/index.js","webpack://LHCReactAPP/./node_modules/sc-errors/decycle.js","webpack://LHCReactAPP/./node_modules/stream-demux/index.js","webpack://LHCReactAPP/./node_modules/sc-errors/index.js","webpack://LHCReactAPP/./node_modules/stream-demux/demuxed-consumable-stream.js","webpack://LHCReactAPP/./node_modules/sc-formatter/index.js","webpack://LHCReactAPP/./node_modules/socketcluster-client/lib/ws-browser.js","webpack://LHCReactAPP/./node_modules/buffer/index.js","webpack://LHCReactAPP/./node_modules/socketcluster-client/lib/factory.js","webpack://LHCReactAPP/./node_modules/clone-deep/index.js","webpack://LHCReactAPP/./node_modules/ag-channel/index.js"],"sourcesContent":["/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  var v;\n  var arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;","import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    var bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;","export default '00000000-0000-0000-0000-000000000000';","import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nexport default version;","class ConsumableStream {\n  async next(timeout) {\n    let asyncIterator = this.createConsumer(timeout);\n    let result = await asyncIterator.next();\n    asyncIterator.return();\n    return result;\n  }\n\n  async once(timeout) {\n    let result = await this.next(timeout);\n    if (result.done) {\n      // If stream was ended, this function should never resolve unless\n      // there is a timeout; in that case, it should reject early.\n      if (timeout == null) {\n        await new Promise(() => {});\n      } else {\n        let error = new Error(\n          'Stream consumer operation timed out early because stream ended'\n        );\n        error.name = 'TimeoutError';\n        throw error;\n      }\n    }\n    return result.value;\n  }\n\n  createConsumer() {\n    throw new TypeError('Method must be overriden by subclass');\n  }\n\n  [Symbol.asyncIterator]() {\n    return this.createConsumer();\n  }\n}\n\nmodule.exports = ConsumableStream;\n\n","function wait(duration) {\r\n  return new Promise((resolve) => {\r\n    setTimeout(() => {\r\n      resolve();\r\n    }, duration);\r\n  });\r\n}\r\n\r\nmodule.exports = wait;\r\n","'use strict'\n\n// Expose.\nmodule.exports = List\n\nList.Item = ListItem\n\nvar ListPrototype = List.prototype\nvar ListItemPrototype = ListItem.prototype\nvar IterPrototype = Iter.prototype\n\n/* istanbul ignore next */\nvar $iterator = typeof Symbol === 'undefined' ? undefined : Symbol.iterator\n\nListPrototype.tail = ListPrototype.head = null\n\nList.of = of\nList.from = from\n\nListPrototype.toArray = toArray\nListPrototype.prepend = prepend\nListPrototype.append = append\n\n/* istanbul ignore else */\nif ($iterator !== undefined) {\n  ListPrototype[$iterator] = iterator\n}\n\nListItemPrototype.next = ListItemPrototype.prev = ListItemPrototype.list = null\n\nListItemPrototype.prepend = prependItem\nListItemPrototype.append = appendItem\nListItemPrototype.detach = detach\n\nIterPrototype.next = next\n\n// Constants.\nvar errorMessage =\n  'An argument without append, prepend, or detach methods was given to `List'\n\n// Creates a new List: A linked list is a bit like an Array, but knows nothing\n// about how many items are in it, and knows only about its first (`head`) and\n// last (`tail`) items.\n// Each item (e.g. `head`, `tail`, &c.) knows which item comes before or after\n// it (its more like the implementation of the DOM in JavaScript).\nfunction List(/* items... */) {\n  this.size = 0\n\n  if (arguments.length !== 0) {\n    appendAll(this, arguments)\n  }\n}\n\n// Creates a new list from the arguments (each a list item) passed in.\nfunction appendAll(list, items) {\n  var length\n  var index\n  var item\n  var iter\n\n  if (!items) {\n    return list\n  }\n\n  if ($iterator !== undefined && items[$iterator]) {\n    iter = items[$iterator]()\n    item = {}\n\n    while (!item.done) {\n      item = iter.next()\n      list.append(item && item.value)\n    }\n  } else {\n    length = items.length\n    index = -1\n\n    while (++index < length) {\n      list.append(items[index])\n    }\n  }\n\n  return list\n}\n\n// Creates a new list from the arguments (each a list item) passed in.\nfunction of(/* items... */) {\n  return appendAll(new this(), arguments)\n}\n\n// Creates a new list from the given array-like object (each a list item) passed\n// in.\nfunction from(items) {\n  return appendAll(new this(), items)\n}\n\n// Returns the lists items as an array.\n// This does *not* detach the items.\nfunction toArray() {\n  var item = this.head\n  var result = []\n\n  while (item) {\n    result.push(item)\n    item = item.next\n  }\n\n  return result\n}\n\n// Prepends the given item to the list.\n// `item` will be the new first item (`head`).\nfunction prepend(item) {\n  var self = this\n  var head = self.head\n\n  if (!item) {\n    return false\n  }\n\n  if (!item.append || !item.prepend || !item.detach) {\n    throw new Error(errorMessage + '#prepend`.')\n  }\n\n  if (head) {\n    return head.prepend(item)\n  }\n\n  item.detach()\n\n  item.list = self\n  self.head = item\n  self.size++\n\n  return item\n}\n\n// Appends the given item to the list.\n// `item` will be the new last item (`tail`) if the list had a first item, and\n// its first item (`head`) otherwise.\nfunction append(item) {\n  if (!item) {\n    return false\n  }\n\n  if (!item.append || !item.prepend || !item.detach) {\n    throw new Error(errorMessage + '#append`.')\n  }\n\n  var self = this\n  var head = self.head\n  var tail = self.tail\n\n  // If self has a last item, defer appending to the last items append method,\n  // and return the result.\n  if (tail) {\n    return tail.append(item)\n  }\n\n  // If self has a first item, defer appending to the first items append method,\n  // and return the result.\n  if (head) {\n    return head.append(item)\n  }\n\n  // otherwise, there is no `tail` or `head` item yet.\n\n  item.detach()\n\n  item.list = self\n  self.head = item\n  self.size++\n\n  return item\n}\n\n// Creates an iterator from the list.\nfunction iterator() {\n  return new Iter(this.head)\n}\n\n// Creates a new ListItem:\n// An item is a bit like DOM node: It knows only about its \"parent\" (`list`),\n// the item before it (`prev`), and the item after it (`next`).\nfunction ListItem() {}\n\n// Detaches the item operated on from its parent list.\nfunction detach() {\n  var self = this\n  var list = self.list\n  var prev = self.prev\n  var next = self.next\n\n  if (!list) {\n    return self\n  }\n\n  // If self is the last item in the parent list, link the lists last item to\n  // the previous item.\n  if (list.tail === self) {\n    list.tail = prev\n  }\n\n  // If self is the first item in the parent list, link the lists first item to\n  // the next item.\n  if (list.head === self) {\n    list.head = next\n  }\n\n  // If both the last and first items in the parent list are the same, remove\n  // the link to the last item.\n  if (list.tail === list.head) {\n    list.tail = null\n  }\n\n  // If a previous item exists, link its next item to selfs next item.\n  if (prev) {\n    prev.next = next\n  }\n\n  // If a next item exists, link its previous item to selfs previous item.\n  if (next) {\n    next.prev = prev\n  }\n\n  // Remove links from self to both the next and previous items, and to the\n  // parent list.\n  self.prev = self.next = self.list = null\n\n  list.size--\n\n  return self\n}\n\n// Prepends the given item *before* the item operated on.\nfunction prependItem(item) {\n  if (!item || !item.append || !item.prepend || !item.detach) {\n    throw new Error(errorMessage + 'Item#prepend`.')\n  }\n\n  var self = this\n  var list = self.list\n  var prev = self.prev\n\n  // If self is detached, return false.\n  if (!list) {\n    return false\n  }\n\n  // Detach the prependee.\n  item.detach()\n\n  // If self has a previous item...\n  if (prev) {\n    item.prev = prev\n    prev.next = item\n  }\n\n  // Connect the prependee.\n  item.next = self\n  item.list = list\n\n  // Set the previous item of self to the prependee.\n  self.prev = item\n\n  // If self is the first item in the parent list, link the lists first item to\n  // the prependee.\n  if (self === list.head) {\n    list.head = item\n  }\n\n  // If the the parent list has no last item, link the lists last item to self.\n  if (!list.tail) {\n    list.tail = self\n  }\n\n  list.size++\n\n  return item\n}\n\n// Appends the given item *after* the item operated on.\nfunction appendItem(item) {\n  if (!item || !item.append || !item.prepend || !item.detach) {\n    throw new Error(errorMessage + 'Item#append`.')\n  }\n\n  var self = this\n  var list = self.list\n  var next = self.next\n\n  if (!list) {\n    return false\n  }\n\n  // Detach the appendee.\n  item.detach()\n\n  // If self has a next item\n  if (next) {\n    item.next = next\n    next.prev = item\n  }\n\n  // Connect the appendee.\n  item.prev = self\n  item.list = list\n\n  // Set the next item of self to the appendee.\n  self.next = item\n\n  // If the the parent list has no last item or if self is the parent lists last\n  // item, link the lists last item to the appendee.\n  if (self === list.tail || !list.tail) {\n    list.tail = item\n  }\n\n  list.size++\n\n  return item\n}\n\n// Creates a new `Iter` for looping over the `LinkedList`.\nfunction Iter(item) {\n  this.item = item\n}\n\n// Move the `Iter` to the next item.\nfunction next() {\n  var current = this.item\n  this.value = current\n  this.done = !current\n  this.item = current ? current.next : undefined\n  return this\n}\n","const AGRequest = require('ag-request');\nconst WebSocket = require('ws');\n\nconst createWebSocket = function (uri, options) {\n  return new WebSocket(uri, [], options);\n};\n\nconst scErrors = require('sc-errors');\nconst TimeoutError = scErrors.TimeoutError;\nconst BadConnectionError = scErrors.BadConnectionError;\n\nfunction AGTransport(authEngine, codecEngine, options, wsOptions, handlers) {\n  this.state = this.CLOSED;\n  this.auth = authEngine;\n  this.codec = codecEngine;\n  this.options = options;\n  this.wsOptions = wsOptions;\n  this.protocolVersion = options.protocolVersion;\n  this.connectTimeout = options.connectTimeout;\n  this.pingTimeout = options.pingTimeout;\n  this.pingTimeoutDisabled = !!options.pingTimeoutDisabled;\n  this.callIdGenerator = options.callIdGenerator;\n  this.authTokenName = options.authTokenName;\n  this.isBufferingBatch = false;\n\n  this._pingTimeoutTicker = null;\n  this._callbackMap = {};\n  this._batchBuffer = [];\n  this.lastPingTimestamp = Date.now();\n\n  if (!handlers) {\n    handlers = {};\n  }\n\n  this._onOpenHandler = handlers.onOpen || function () {};\n  this._onOpenAbortHandler = handlers.onOpenAbort || function () {};\n  this._onCloseHandler = handlers.onClose || function () {};\n  this._onEventHandler = handlers.onEvent || function () {};\n  this._onErrorHandler = handlers.onError || function () {};\n  this._onInboundInvokeHandler  = handlers.onInboundInvoke || function () {};\n  this._onInboundTransmitHandler = handlers.onInboundTransmit || function () {};\n\n  // Open the connection.\n\n  this.state = this.CONNECTING;\n  let uri = this.uri();\n\n  let wsSocket = createWebSocket(uri, wsOptions);\n  wsSocket.binaryType = this.options.binaryType;\n\n  this.socket = wsSocket;\n\n  wsSocket.onopen = () => {\n    this._onOpen();\n  };\n\n  wsSocket.onclose = async (event) => {\n    let code;\n    if (event.code == null) {\n      // This is to handle an edge case in React Native whereby\n      // event.code is undefined when the mobile device is locked.\n      // Note that this condition may also apply to an abnormal close\n      // (no close control frame) which would normally be a 1006.\n      code = 1005;\n    } else {\n      code = event.code;\n    }\n    this._destroy(code, event.reason);\n  };\n\n  wsSocket.onmessage = (message, flags) => {\n    this._onMessage(message.data);\n  };\n\n  wsSocket.onerror = (error) => {\n    // The onclose event will be called automatically after the onerror event\n    // if the socket is connected - Otherwise, if it's in the middle of\n    // connecting, we want to close it manually with a 1006 - This is necessary\n    // to prevent inconsistent behavior when running the client in Node.js\n    // vs in a browser.\n    if (this.state === this.CONNECTING) {\n      this._destroy(1006);\n    }\n  };\n\n  this._connectTimeoutRef = setTimeout(() => {\n    this._destroy(4007);\n    this.socket.close(4007);\n  }, this.connectTimeout);\n\n  if (this.protocolVersion === 1) {\n    this._handlePing = (message) => {\n      if (message === '#1') {\n        this._resetPingTimeout();\n        if (this.socket.readyState === this.socket.OPEN) {\n          this.send('#2');\n        }\n        return true;\n      }\n      return false;\n    };\n  } else {\n    this._handlePing = (message) => {\n      if (message === '') {\n        this._resetPingTimeout();\n        if (this.socket.readyState === this.socket.OPEN) {\n          this.send('');\n        }\n        return true;\n      }\n      return false;\n    };\n  }\n}\n\nAGTransport.CONNECTING = AGTransport.prototype.CONNECTING = 'connecting';\nAGTransport.OPEN = AGTransport.prototype.OPEN = 'open';\nAGTransport.CLOSED = AGTransport.prototype.CLOSED = 'closed';\n\nAGTransport.computeURI = function (options) {\n  let query = options.query || {};\n  let scheme;\n  if (options.protocolScheme == null) {\n    scheme = options.secure ? 'wss' : 'ws';\n  } else {\n    scheme = options.protocolScheme;\n  }\n\n  if (options.timestampRequests) {\n    query[options.timestampParam] = (new Date()).getTime();\n  }\n\n  let searchParams = new URLSearchParams();\n  for (let [key, value] of Object.entries(query)) {\n    if (Array.isArray(value)) {\n      for (let item of value) {\n        searchParams.append(key, item);\n      }\n    } else {\n      searchParams.set(key, value);\n    }\n  }\n\n  query = searchParams.toString();\n\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  let host;\n  let path;\n  if (options.socketPath == null) {\n    if (options.host) {\n      host = options.host;\n    } else {\n      let port = '';\n\n      if (options.port && ((scheme === 'wss' && options.port !== 443)\n        || (scheme === 'ws' && options.port !== 80))) {\n        port = ':' + options.port;\n      }\n      host = options.hostname + port;\n    }\n    path = options.path;\n  } else {\n    host = options.socketPath;\n    path = `:${options.path}`;\n  }\n  return scheme + '://' + host + path + query;\n};\n\nAGTransport.prototype.uri = function () {\n  return AGTransport.computeURI(this.options);\n};\n\nAGTransport.prototype._onOpen = async function () {\n  clearTimeout(this._connectTimeoutRef);\n  this._resetPingTimeout();\n\n  let status;\n\n  try {\n    status = await this._handshake();\n  } catch (err) {\n    if (err.statusCode == null) {\n      err.statusCode = 4003;\n    }\n    this._onError(err);\n    this._destroy(err.statusCode, err.toString());\n    this.socket.close(err.statusCode);\n    return;\n  }\n\n  this.state = this.OPEN;\n  if (status) {\n    this.pingTimeout = status.pingTimeout;\n  }\n  this._resetPingTimeout();\n  this._onOpenHandler(status);\n};\n\nAGTransport.prototype._handshake = async function () {\n  let token = await this.auth.loadToken(this.authTokenName);\n  // Don't wait for this.state to be 'open'.\n  // The underlying WebSocket (this.socket) is already open.\n  let options = {\n    force: true\n  };\n  let status = await this.invoke('#handshake', {authToken: token}, options);\n  if (status) {\n    // Add the token which was used as part of authentication attempt\n    // to the status object.\n    status.authToken = token;\n    if (status.authError) {\n      status.authError = scErrors.hydrateError(status.authError);\n    }\n  }\n  return status;\n};\n\nAGTransport.prototype._abortAllPendingEventsDueToBadConnection = function (failureType, code, reason) {\n  Object.keys(this._callbackMap || {}).forEach((i) => {\n    let eventObject = this._callbackMap[i];\n    delete this._callbackMap[i];\n\n    clearTimeout(eventObject.timeout);\n    delete eventObject.timeout;\n\n    let errorMessage = `Event ${eventObject.event} was aborted due to a bad connection`;\n    let badConnectionError = new BadConnectionError(errorMessage, failureType, code, reason);\n\n    let callback = eventObject.callback;\n    if (callback) {\n      delete eventObject.callback;\n\n      callback.call(eventObject, badConnectionError, eventObject);\n    }\n  });\n};\n\nAGTransport.prototype._destroy = function (code, reason) {\n  if (!reason && scErrors.socketProtocolErrorStatuses[code]) {\n    reason = scErrors.socketProtocolErrorStatuses[code];\n  }\n  delete this.socket.onopen;\n  delete this.socket.onclose;\n  delete this.socket.onmessage;\n  delete this.socket.onerror;\n\n  clearTimeout(this._connectTimeoutRef);\n  clearTimeout(this._pingTimeoutTicker);\n\n  if (this.state === this.OPEN) {\n    this.state = this.CLOSED;\n    this._abortAllPendingEventsDueToBadConnection('disconnect', code, reason);\n    this._onCloseHandler({code, reason});\n  } else if (this.state === this.CONNECTING) {\n    this.state = this.CLOSED;\n    this._abortAllPendingEventsDueToBadConnection('connectAbort', code, reason);\n    this._onOpenAbortHandler({code, reason});\n  } else if (this.state === this.CLOSED) {\n    this._abortAllPendingEventsDueToBadConnection('connectAbort', code, reason);\n  }\n};\n\nAGTransport.prototype._processInboundPacket = function (packet, message) {\n  if (packet && typeof packet.event === 'string') {\n    if (typeof packet.cid === 'number') {\n      let request = new AGRequest(this, packet.cid, packet.event, packet.data);\n      this._onInboundInvokeHandler(request);\n    } else {\n      this._onInboundTransmitHandler({...packet});\n    }\n  } else if (packet && typeof packet.rid === 'number') {\n    let eventObject = this._callbackMap[packet.rid];\n    if (eventObject) {\n      clearTimeout(eventObject.timeout);\n      delete eventObject.timeout;\n      delete this._callbackMap[packet.rid];\n\n      if (eventObject.callback) {\n        let rehydratedError = scErrors.hydrateError(packet.error);\n        eventObject.callback(rehydratedError, packet.data);\n      }\n    }\n  } else {\n    this._onEventHandler({event: 'raw', data: {message}});\n  }\n};\n\nAGTransport.prototype._onMessage = function (message) {\n  this._onEventHandler({event: 'message', data: {message}});\n\n  if (this._handlePing(message)) {\n    return;\n  }\n\n  let packet = this.decode(message);\n\n  if (Array.isArray(packet)) {\n    let len = packet.length;\n    for (let i = 0; i < len; i++) {\n      this._processInboundPacket(packet[i], message);\n    }\n  } else {\n    this._processInboundPacket(packet, message);\n  }\n};\n\nAGTransport.prototype._onError = function (error) {\n  this._onErrorHandler({error});\n};\n\nAGTransport.prototype.isStale = function () {\n  if (this.pingTimeoutDisabled) return false;\n  return Date.now() - this.lastPingTimestamp >= this.pingTimeout;\n};\n\nAGTransport.prototype._resetPingTimeout = function () {\n  this.lastPingTimestamp = Date.now();\n\n  if (this.pingTimeoutDisabled) {\n    return;\n  }\n\n  clearTimeout(this._pingTimeoutTicker);\n  this._pingTimeoutTicker = setTimeout(() => {\n    this._destroy(4000);\n    this.socket.close(4000);\n  }, this.pingTimeout);\n};\n\nAGTransport.prototype.clearAllListeners = function () {\n  this._onOpenHandler = function () {};\n  this._onOpenAbortHandler = function () {};\n  this._onCloseHandler = function () {};\n  this._onEventHandler = function () {};\n  this._onErrorHandler = function () {};\n  this._onInboundInvokeHandler  = function () {};\n  this._onInboundTransmitHandler = function () {};\n};\n\nAGTransport.prototype.startBatch = function () {\n  this.isBufferingBatch = true;\n  this._batchBuffer = [];\n};\n\nAGTransport.prototype.flushBatch = function () {\n  this.isBufferingBatch = false;\n  if (!this._batchBuffer.length) {\n    return;\n  }\n  let serializedBatch = this.serializeObject(this._batchBuffer);\n  this._batchBuffer = [];\n  this.send(serializedBatch);\n};\n\nAGTransport.prototype.cancelBatch = function () {\n  this.isBufferingBatch = false;\n  this._batchBuffer = [];\n};\n\nAGTransport.prototype.getBytesReceived = function () {\n  return this.socket.bytesReceived;\n};\n\nAGTransport.prototype.close = function (code, reason) {\n  if (this.state === this.OPEN || this.state === this.CONNECTING) {\n    code = code || 1000;\n    this._destroy(code, reason);\n    this.socket.close(code, reason);\n  }\n};\n\nAGTransport.prototype.transmitObject = function (eventObject) {\n  let simpleEventObject = {\n    event: eventObject.event,\n    data: eventObject.data\n  };\n\n  if (eventObject.callback) {\n    simpleEventObject.cid = eventObject.cid = this.callIdGenerator();\n    this._callbackMap[eventObject.cid] = eventObject;\n  }\n\n  this.sendObject(simpleEventObject);\n\n  return eventObject.cid || null;\n};\n\nAGTransport.prototype._handleEventAckTimeout = function (eventObject) {\n  if (eventObject.cid) {\n    delete this._callbackMap[eventObject.cid];\n  }\n  delete eventObject.timeout;\n\n  let callback = eventObject.callback;\n  if (callback) {\n    delete eventObject.callback;\n    let error = new TimeoutError(`Event response for ${eventObject.event} event timed out`);\n    callback.call(eventObject, error, eventObject);\n  }\n};\n\nAGTransport.prototype.transmit = function (event, data, options) {\n  let eventObject = {\n    event,\n    data\n  };\n\n  if (this.state === this.OPEN || options.force) {\n    this.transmitObject(eventObject);\n  }\n  return Promise.resolve();\n};\n\nAGTransport.prototype.invokeRaw = function (event, data, options, callback) {\n  let eventObject = {\n    event,\n    data,\n    callback\n  };\n\n  if (!options.noTimeout) {\n    eventObject.timeout = setTimeout(() => {\n      this._handleEventAckTimeout(eventObject);\n    }, this.options.ackTimeout);\n  }\n  let cid = null;\n  if (this.state === this.OPEN || options.force) {\n    cid = this.transmitObject(eventObject);\n  }\n  return cid;\n};\n\nAGTransport.prototype.invoke = function (event, data, options) {\n  return new Promise((resolve, reject) => {\n    this.invokeRaw(event, data, options, (err, data) => {\n      if (err) {\n        reject(err);\n        return;\n      }\n      resolve(data);\n    });\n  });\n};\n\nAGTransport.prototype.cancelPendingResponse = function (cid) {\n  delete this._callbackMap[cid];\n};\n\nAGTransport.prototype.decode = function (message) {\n  return this.codec.decode(message);\n};\n\nAGTransport.prototype.encode = function (object) {\n  return this.codec.encode(object);\n};\n\nAGTransport.prototype.send = function (data) {\n  if (this.socket.readyState !== this.socket.OPEN) {\n    this._destroy(1005);\n  } else {\n    this.socket.send(data);\n  }\n};\n\nAGTransport.prototype.serializeObject = function (object) {\n  let str;\n  try {\n    str = this.encode(object);\n  } catch (error) {\n    this._onError(error);\n    return null;\n  }\n  return str;\n};\n\nAGTransport.prototype.sendObject = function (object) {\n  if (this.isBufferingBatch) {\n    this._batchBuffer.push(object);\n    return;\n  }\n  let str = this.serializeObject(object);\n  if (str != null) {\n    this.send(str);\n  }\n};\n\nmodule.exports = AGTransport;\n","class ConsumableStream {\n  async next(timeout) {\n    let asyncIterator = this.createConsumer(timeout);\n    let result = await asyncIterator.next();\n    asyncIterator.return();\n    return result;\n  }\n\n  async once(timeout) {\n    let result = await this.next(timeout);\n    if (result.done) {\n      // If stream was ended, this function should never resolve.\n      await new Promise(() => {});\n    }\n    return result.value;\n  }\n\n  createConsumer() {\n    throw new TypeError('Method must be overriden by subclass');\n  }\n\n  [Symbol.asyncIterator]() {\n    return this.createConsumer();\n  }\n}\n\nmodule.exports = ConsumableStream;\n","var toString = Object.prototype.toString;\n\nmodule.exports = function kindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n\n  var type = typeof val;\n  if (type === 'boolean') return 'boolean';\n  if (type === 'string') return 'string';\n  if (type === 'number') return 'number';\n  if (type === 'symbol') return 'symbol';\n  if (type === 'function') {\n    return isGeneratorFn(val) ? 'generatorfunction' : 'function';\n  }\n\n  if (isArray(val)) return 'array';\n  if (isBuffer(val)) return 'buffer';\n  if (isArguments(val)) return 'arguments';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  if (isRegexp(val)) return 'regexp';\n\n  switch (ctorName(val)) {\n    case 'Symbol': return 'symbol';\n    case 'Promise': return 'promise';\n\n    // Set, Map, WeakSet, WeakMap\n    case 'WeakMap': return 'weakmap';\n    case 'WeakSet': return 'weakset';\n    case 'Map': return 'map';\n    case 'Set': return 'set';\n\n    // 8-bit typed arrays\n    case 'Int8Array': return 'int8array';\n    case 'Uint8Array': return 'uint8array';\n    case 'Uint8ClampedArray': return 'uint8clampedarray';\n\n    // 16-bit typed arrays\n    case 'Int16Array': return 'int16array';\n    case 'Uint16Array': return 'uint16array';\n\n    // 32-bit typed arrays\n    case 'Int32Array': return 'int32array';\n    case 'Uint32Array': return 'uint32array';\n    case 'Float32Array': return 'float32array';\n    case 'Float64Array': return 'float64array';\n  }\n\n  if (isGeneratorObj(val)) {\n    return 'generator';\n  }\n\n  // Non-plain objects\n  type = toString.call(val);\n  switch (type) {\n    case '[object Object]': return 'object';\n    // iterators\n    case '[object Map Iterator]': return 'mapiterator';\n    case '[object Set Iterator]': return 'setiterator';\n    case '[object String Iterator]': return 'stringiterator';\n    case '[object Array Iterator]': return 'arrayiterator';\n  }\n\n  // other\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n};\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isArray(val) {\n  if (Array.isArray) return Array.isArray(val);\n  return val instanceof Array;\n}\n\nfunction isError(val) {\n  return val instanceof Error || (typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number');\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function'\n    && typeof val.getDate === 'function'\n    && typeof val.setDate === 'function';\n}\n\nfunction isRegexp(val) {\n  if (val instanceof RegExp) return true;\n  return typeof val.flags === 'string'\n    && typeof val.ignoreCase === 'boolean'\n    && typeof val.multiline === 'boolean'\n    && typeof val.global === 'boolean';\n}\n\nfunction isGeneratorFn(name, val) {\n  return ctorName(name) === 'GeneratorFunction';\n}\n\nfunction isGeneratorObj(val) {\n  return typeof val.throw === 'function'\n    && typeof val.return === 'function'\n    && typeof val.next === 'function';\n}\n\nfunction isArguments(val) {\n  try {\n    if (typeof val.length === 'number' && typeof val.callee === 'function') {\n      return true;\n    }\n  } catch (err) {\n    if (err.message.indexOf('callee') !== -1) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * If you need to support Safari 5-7 (8-10 yr-old browser),\n * take a look at https://github.com/feross/is-buffer\n */\n\nfunction isBuffer(val) {\n  if (val.constructor && typeof val.constructor.isBuffer === 'function') {\n    return val.constructor.isBuffer(val);\n  }\n  return false;\n}\n","const StreamDemux = require('stream-demux');\n\nfunction AsyncStreamEmitter(options) {\n  this._listenerDemux = new StreamDemux();\n}\n\nAsyncStreamEmitter.prototype.emit = function (eventName, data) {\n  this._listenerDemux.write(eventName, data);\n};\n\nAsyncStreamEmitter.prototype.listener = function (eventName) {\n  return this._listenerDemux.stream(eventName);\n};\n\nAsyncStreamEmitter.prototype.closeListener = function (eventName) {\n  this._listenerDemux.close(eventName);\n};\n\nAsyncStreamEmitter.prototype.closeAllListeners = function () {\n  this._listenerDemux.closeAll();\n};\n\nAsyncStreamEmitter.prototype.removeListener = function (eventName) {\n  this._listenerDemux.unstream(eventName);\n};\n\nAsyncStreamEmitter.prototype.getListenerConsumerStats = function (consumerId) {\n  return this._listenerDemux.getConsumerStats(consumerId);\n};\n\nAsyncStreamEmitter.prototype.getListenerConsumerStatsList = function (eventName) {\n  return this._listenerDemux.getConsumerStatsList(eventName);\n};\n\nAsyncStreamEmitter.prototype.getAllListenersConsumerStatsList = function () {\n  return this._listenerDemux.getConsumerStatsListAll();\n};\n\nAsyncStreamEmitter.prototype.getListenerConsumerCount = function (eventName) {\n  return this._listenerDemux.getConsumerCount(eventName);\n};\n\nAsyncStreamEmitter.prototype.getAllListenersConsumerCount = function () {\n  return this._listenerDemux.getConsumerCountAll();\n};\n\nAsyncStreamEmitter.prototype.killListener = function (eventName) {\n  this._listenerDemux.kill(eventName);\n};\n\nAsyncStreamEmitter.prototype.killAllListeners = function () {\n  this._listenerDemux.killAll();\n};\n\nAsyncStreamEmitter.prototype.killListenerConsumer = function (consumerId) {\n  this._listenerDemux.killConsumer(consumerId);\n};\n\nAsyncStreamEmitter.prototype.getListenerBackpressure = function (eventName) {\n  return this._listenerDemux.getBackpressure(eventName);\n};\n\nAsyncStreamEmitter.prototype.getAllListenersBackpressure = function () {\n  return this._listenerDemux.getBackpressureAll();\n};\n\nAsyncStreamEmitter.prototype.getListenerConsumerBackpressure = function (consumerId) {\n  return this._listenerDemux.getConsumerBackpressure(consumerId);\n};\n\nAsyncStreamEmitter.prototype.hasListenerConsumer = function (eventName, consumerId) {\n  return this._listenerDemux.hasConsumer(eventName, consumerId);\n};\n\nAsyncStreamEmitter.prototype.hasAnyListenerConsumer = function (consumerId) {\n  return this._listenerDemux.hasConsumerAll(consumerId);\n};\n\nmodule.exports = AsyncStreamEmitter;\n","class ConsumableStream {\n  async next(timeout) {\n    let asyncIterator = this.createConsumer(timeout);\n    let result = await asyncIterator.next();\n    asyncIterator.return();\n    return result;\n  }\n\n  async once(timeout) {\n    let result = await this.next(timeout);\n    if (result.done) {\n      // If stream was ended, this function should never resolve unless\n      // there is a timeout; in that case, it should reject early.\n      if (timeout == null) {\n        await new Promise(() => {});\n      } else {\n        let error = new Error(\n          'Stream consumer operation timed out early because stream ended'\n        );\n        error.name = 'TimeoutError';\n        throw error;\n      }\n    }\n    return result.value;\n  }\n\n  createConsumer() {\n    throw new TypeError('Method must be overriden by subclass');\n  }\n\n  [Symbol.asyncIterator]() {\n    return this.createConsumer();\n  }\n}\n\nmodule.exports = ConsumableStream;\n\n","function AuthEngine() {\r\n  this._internalStorage = {};\r\n  this.isLocalStorageEnabled = this._checkLocalStorageEnabled();\r\n}\r\n\r\nAuthEngine.prototype._checkLocalStorageEnabled = function () {\r\n  let err;\r\n  try {\r\n    // Safari, in Private Browsing Mode, looks like it supports localStorage but all calls to setItem\r\n    // throw QuotaExceededError. We're going to detect this and avoid hard to debug edge cases.\r\n    localStorage.setItem('__scLocalStorageTest', 1);\r\n    localStorage.removeItem('__scLocalStorageTest');\r\n  } catch (e) {\r\n    err = e;\r\n  }\r\n  return !err;\r\n};\r\n\r\nAuthEngine.prototype.saveToken = function (name, token, options) {\r\n  if (this.isLocalStorageEnabled) {\r\n    localStorage.setItem(name, token);\r\n  } else {\r\n    this._internalStorage[name] = token;\r\n  }\r\n  return Promise.resolve(token);\r\n};\r\n\r\nAuthEngine.prototype.removeToken = function (name) {\r\n  let loadPromise = this.loadToken(name);\r\n\r\n  if (this.isLocalStorageEnabled) {\r\n    localStorage.removeItem(name);\r\n  } else {\r\n    delete this._internalStorage[name];\r\n  }\r\n\r\n  return loadPromise;\r\n};\r\n\r\nAuthEngine.prototype.loadToken = function (name) {\r\n  let token;\r\n\r\n  if (this.isLocalStorageEnabled) {\r\n    token = localStorage.getItem(name);\r\n  } else {\r\n    token = this._internalStorage[name] || null;\r\n  }\r\n\r\n  return Promise.resolve(token);\r\n};\r\n\r\nmodule.exports = AuthEngine;\r\n","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n","/*!\n * shallow-clone <https://github.com/jonschlinkert/shallow-clone>\n *\n * Copyright (c) 2015-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nconst valueOf = Symbol.prototype.valueOf;\nconst typeOf = require('kind-of');\n\nfunction clone(val, deep) {\n  switch (typeOf(val)) {\n    case 'array':\n      return val.slice();\n    case 'object':\n      return Object.assign({}, val);\n    case 'date':\n      return new val.constructor(Number(val));\n    case 'map':\n      return new Map(val);\n    case 'set':\n      return new Set(val);\n    case 'buffer':\n      return cloneBuffer(val);\n    case 'symbol':\n      return cloneSymbol(val);\n    case 'arraybuffer':\n      return cloneArrayBuffer(val);\n    case 'float32array':\n    case 'float64array':\n    case 'int16array':\n    case 'int32array':\n    case 'int8array':\n    case 'uint16array':\n    case 'uint32array':\n    case 'uint8clampedarray':\n    case 'uint8array':\n      return cloneTypedArray(val);\n    case 'regexp':\n      return cloneRegExp(val);\n    case 'error':\n      return Object.create(val);\n    default: {\n      return val;\n    }\n  }\n}\n\nfunction cloneRegExp(val) {\n  const flags = val.flags !== void 0 ? val.flags : (/\\w+$/.exec(val) || void 0);\n  const re = new val.constructor(val.source, flags);\n  re.lastIndex = val.lastIndex;\n  return re;\n}\n\nfunction cloneArrayBuffer(val) {\n  const res = new val.constructor(val.byteLength);\n  new Uint8Array(res).set(new Uint8Array(val));\n  return res;\n}\n\nfunction cloneTypedArray(val, deep) {\n  return new val.constructor(val.buffer, val.byteOffset, val.length);\n}\n\nfunction cloneBuffer(val) {\n  const len = val.length;\n  const buf = Buffer.allocUnsafe ? Buffer.allocUnsafe(len) : Buffer.from(len);\n  val.copy(buf);\n  return buf;\n}\n\nfunction cloneSymbol(val) {\n  return valueOf ? Object(valueOf.call(val)) : {};\n}\n\n/**\n * Expose `clone`\n */\n\nmodule.exports = clone;\n","const ConsumableStream = require('consumable-stream');\nconst Consumer = require('./consumer');\n\nclass WritableConsumableStream extends ConsumableStream {\n  constructor(options) {\n    super();\n    options = options || {};\n    this._nextConsumerId = 1;\n    this.generateConsumerId = options.generateConsumerId;\n    if (!this.generateConsumerId) {\n      this.generateConsumerId = () => this._nextConsumerId++;\n    }\n    this.removeConsumerCallback = options.removeConsumerCallback;\n    this._consumers = new Map();\n\n    // Tail node of a singly linked list.\n    this.tailNode = {\n      next: null,\n      data: {\n        value: undefined,\n        done: false\n      }\n    };\n  }\n\n  _write(value, done, consumerId) {\n    let dataNode = {\n      data: {value, done},\n      next: null\n    };\n    if (consumerId) {\n      dataNode.consumerId = consumerId;\n    }\n    this.tailNode.next = dataNode;\n    this.tailNode = dataNode;\n\n    for (let consumer of this._consumers.values()) {\n      consumer.write(dataNode.data);\n    }\n  }\n\n  write(value) {\n    this._write(value, false);\n  }\n\n  close(value) {\n    this._write(value, true);\n  }\n\n  writeToConsumer(consumerId, value) {\n    this._write(value, false, consumerId);\n  }\n\n  closeConsumer(consumerId, value) {\n    this._write(value, true, consumerId);\n  }\n\n  kill(value) {\n    for (let consumerId of this._consumers.keys()) {\n      this.killConsumer(consumerId, value);\n    }\n  }\n\n  killConsumer(consumerId, value) {\n    let consumer = this._consumers.get(consumerId);\n    if (!consumer) {\n      return;\n    }\n    consumer.kill(value);\n  }\n\n  getBackpressure() {\n    let maxBackpressure = 0;\n    for (let consumer of this._consumers.values()) {\n      let backpressure = consumer.getBackpressure();\n      if (backpressure > maxBackpressure) {\n        maxBackpressure = backpressure;\n      }\n    }\n    return maxBackpressure;\n  }\n\n  getConsumerBackpressure(consumerId) {\n    let consumer = this._consumers.get(consumerId);\n    if (consumer) {\n      return consumer.getBackpressure();\n    }\n    return 0;\n  }\n\n  hasConsumer(consumerId) {\n    return this._consumers.has(consumerId);\n  }\n\n  setConsumer(consumerId, consumer) {\n    this._consumers.set(consumerId, consumer);\n    if (!consumer.currentNode) {\n      consumer.currentNode = this.tailNode;\n    }\n  }\n\n  removeConsumer(consumerId) {\n    let result = this._consumers.delete(consumerId);\n    if (this.removeConsumerCallback) this.removeConsumerCallback(consumerId);\n    return result;\n  }\n\n  getConsumerStats(consumerId) {\n    let consumer = this._consumers.get(consumerId);\n    if (consumer) {\n      return consumer.getStats();\n    }\n    return undefined;\n  }\n\n  getConsumerStatsList() {\n    let consumerStats = [];\n    for (let consumer of this._consumers.values()) {\n      consumerStats.push(consumer.getStats());\n    }\n    return consumerStats;\n  }\n\n  createConsumer(timeout) {\n    return new Consumer(this, this.generateConsumerId(), this.tailNode, timeout);\n  }\n\n  getConsumerList() {\n    return [...this._consumers.values()];\n  }\n\n  getConsumerCount() {\n    return this._consumers.size;\n  }\n}\n\nmodule.exports = WritableConsumableStream;\n","const StreamDemux = require('stream-demux');\r\nconst AsyncStreamEmitter = require('async-stream-emitter');\r\nconst AGChannel = require('ag-channel');\r\nconst AuthEngine = require('./auth');\r\nconst formatter = require('sc-formatter');\r\nconst AGTransport = require('./transport');\r\nconst LinkedList = require('linked-list');\r\nconst cloneDeep = require('clone-deep');\r\nconst Buffer = require('buffer/').Buffer;\r\nconst wait = require('./wait');\r\n\r\nconst scErrors = require('sc-errors');\r\nconst InvalidArgumentsError = scErrors.InvalidArgumentsError;\r\nconst InvalidMessageError = scErrors.InvalidMessageError;\r\nconst SocketProtocolError = scErrors.SocketProtocolError;\r\nconst TimeoutError = scErrors.TimeoutError;\r\nconst BadConnectionError = scErrors.BadConnectionError;\r\n\r\nfunction AGClientSocket(socketOptions) {\r\n  AsyncStreamEmitter.call(this);\r\n\r\n  let defaultOptions = {\r\n    path: '/socketcluster/',\r\n    secure: false,\r\n    protocolScheme: null,\r\n    socketPath: null,\r\n    autoConnect: true,\r\n    autoReconnect: true,\r\n    autoSubscribeOnConnect: true,\r\n    connectTimeout: 20000,\r\n    ackTimeout: 10000,\r\n    timestampRequests: false,\r\n    timestampParam: 't',\r\n    binaryType: 'arraybuffer',\r\n    batchOnHandshake: false,\r\n    batchOnHandshakeDuration: 100,\r\n    batchInterval: 50,\r\n    protocolVersion: 2,\r\n    wsOptions: {},\r\n    cloneData: false\r\n  };\r\n  let opts = Object.assign(defaultOptions, socketOptions);\r\n\r\n  if (opts.authTokenName == null) {\r\n    opts.authTokenName = this._generateAuthTokenNameFromURI(opts);\r\n  }\r\n\r\n  this.id = null;\r\n  this.version = opts.version || null;\r\n  this.protocolVersion = opts.protocolVersion;\r\n  this.state = this.CLOSED;\r\n  this.authState = this.UNAUTHENTICATED;\r\n  this.signedAuthToken = null;\r\n  this.authToken = null;\r\n  this.pendingReconnect = false;\r\n  this.pendingReconnectTimeout = null;\r\n  this.preparingPendingSubscriptions = false;\r\n  this.clientId = opts.clientId;\r\n  this.wsOptions = opts.wsOptions;\r\n\r\n  this.connectTimeout = opts.connectTimeout;\r\n  this.ackTimeout = opts.ackTimeout;\r\n  this.channelPrefix = opts.channelPrefix || null;\r\n  this.authTokenName = opts.authTokenName;\r\n\r\n  // pingTimeout will be connectTimeout at the start, but it will\r\n  // be updated with values provided by the 'connect' event\r\n  opts.pingTimeout = opts.connectTimeout;\r\n  this.pingTimeout = opts.pingTimeout;\r\n  this.pingTimeoutDisabled = !!opts.pingTimeoutDisabled;\r\n\r\n  let maxTimeout = Math.pow(2, 31) - 1;\r\n\r\n  let verifyDuration = (propertyName) => {\r\n    if (this[propertyName] > maxTimeout) {\r\n      throw new InvalidArgumentsError(\r\n        `The ${propertyName} value provided exceeded the maximum amount allowed`\r\n      );\r\n    }\r\n  };\r\n\r\n  verifyDuration('connectTimeout');\r\n  verifyDuration('ackTimeout');\r\n  verifyDuration('pingTimeout');\r\n\r\n  this.connectAttempts = 0;\r\n\r\n  this.isBatching = false;\r\n  this.batchOnHandshake = opts.batchOnHandshake;\r\n  this.batchOnHandshakeDuration = opts.batchOnHandshakeDuration;\r\n\r\n  this._batchingIntervalId = null;\r\n  this._outboundBuffer = new LinkedList();\r\n  this._channelMap = {};\r\n\r\n  this._channelEventDemux = new StreamDemux();\r\n  this._channelDataDemux = new StreamDemux();\r\n\r\n  this._receiverDemux = new StreamDemux();\r\n  this._procedureDemux = new StreamDemux();\r\n\r\n  this.options = opts;\r\n\r\n  this._cid = 1;\r\n\r\n  this.options.callIdGenerator = () => {\r\n    return this._cid++;\r\n  };\r\n\r\n  if (this.options.autoReconnect) {\r\n    if (this.options.autoReconnectOptions == null) {\r\n      this.options.autoReconnectOptions = {};\r\n    }\r\n\r\n    // Add properties to the this.options.autoReconnectOptions object.\r\n    // We assign the reference to a reconnectOptions variable to avoid repetition.\r\n    let reconnectOptions = this.options.autoReconnectOptions;\r\n    if (reconnectOptions.initialDelay == null) {\r\n      reconnectOptions.initialDelay = 10000;\r\n    }\r\n    if (reconnectOptions.randomness == null) {\r\n      reconnectOptions.randomness = 10000;\r\n    }\r\n    if (reconnectOptions.multiplier == null) {\r\n      reconnectOptions.multiplier = 1.5;\r\n    }\r\n    if (reconnectOptions.maxDelay == null) {\r\n      reconnectOptions.maxDelay = 60000;\r\n    }\r\n  }\r\n\r\n  if (this.options.subscriptionRetryOptions == null) {\r\n    this.options.subscriptionRetryOptions = {};\r\n  }\r\n\r\n  if (this.options.authEngine) {\r\n    this.auth = this.options.authEngine;\r\n  } else {\r\n    this.auth = new AuthEngine();\r\n  }\r\n\r\n  if (this.options.codecEngine) {\r\n    this.codec = this.options.codecEngine;\r\n  } else {\r\n    // Default codec engine\r\n    this.codec = formatter;\r\n  }\r\n\r\n  if (this.options.protocol) {\r\n    let protocolOptionError = new InvalidArgumentsError(\r\n      'The protocol option does not affect socketcluster-client - ' +\r\n      'If you want to utilize SSL/TLS, use the secure option instead'\r\n    );\r\n    this._onError(protocolOptionError);\r\n  }\r\n\r\n  this.options.query = opts.query || {};\r\n  if (typeof this.options.query === 'string') {\r\n    let searchParams = new URLSearchParams(this.options.query);\r\n    let queryObject = {};\r\n    for (let [key, value] of searchParams.entries()) {\r\n      let currentValue = queryObject[key];\r\n      if (currentValue == null) {\r\n        queryObject[key] = value;\r\n      } else {\r\n        if (!Array.isArray(currentValue)) {\r\n          queryObject[key] = [currentValue];\r\n        }\r\n        queryObject[key].push(value);\r\n      }\r\n    }\r\n    this.options.query = queryObject;\r\n  }\r\n\r\n  if (this.options.autoConnect) {\r\n    this.connect();\r\n  }\r\n}\r\n\r\nAGClientSocket.prototype = Object.create(AsyncStreamEmitter.prototype);\r\n\r\nAGClientSocket.CONNECTING = AGClientSocket.prototype.CONNECTING = AGTransport.prototype.CONNECTING;\r\nAGClientSocket.OPEN = AGClientSocket.prototype.OPEN = AGTransport.prototype.OPEN;\r\nAGClientSocket.CLOSED = AGClientSocket.prototype.CLOSED = AGTransport.prototype.CLOSED;\r\n\r\nAGClientSocket.AUTHENTICATED = AGClientSocket.prototype.AUTHENTICATED = 'authenticated';\r\nAGClientSocket.UNAUTHENTICATED = AGClientSocket.prototype.UNAUTHENTICATED = 'unauthenticated';\r\n\r\nAGClientSocket.SUBSCRIBED = AGClientSocket.prototype.SUBSCRIBED = AGChannel.SUBSCRIBED;\r\nAGClientSocket.PENDING = AGClientSocket.prototype.PENDING = AGChannel.PENDING;\r\nAGClientSocket.UNSUBSCRIBED = AGClientSocket.prototype.UNSUBSCRIBED = AGChannel.UNSUBSCRIBED;\r\n\r\nAGClientSocket.ignoreStatuses = scErrors.socketProtocolIgnoreStatuses;\r\nAGClientSocket.errorStatuses = scErrors.socketProtocolErrorStatuses;\r\n\r\nObject.defineProperty(AGClientSocket.prototype, 'isBufferingBatch', {\r\n  get: function () {\r\n    return this.transport.isBufferingBatch;\r\n  }\r\n});\r\n\r\nAGClientSocket.prototype.uri = function () {\r\n  return AGTransport.computeURI(this.options);\r\n};\r\n\r\nAGClientSocket.prototype.getBackpressure = function () {\r\n  return Math.max(\r\n    this.getAllListenersBackpressure(),\r\n    this.getAllReceiversBackpressure(),\r\n    this.getAllProceduresBackpressure(),\r\n    this.getAllChannelsBackpressure()\r\n  );\r\n};\r\n\r\nAGClientSocket.prototype._generateAuthTokenNameFromURI = function (options) {\r\n  let authHostString = options.host ? `.${options.host}` : `.${options.hostname || 'localhost'}${options.port ? `:${options.port}` : ''}`;\r\n  return `socketcluster.authToken${authHostString}`;\r\n}\r\n\r\nAGClientSocket.prototype._setAuthToken = function (data) {\r\n  this._changeToAuthenticatedState(data.token);\r\n\r\n  (async () => {\r\n    try {\r\n      await this.auth.saveToken(this.authTokenName, data.token, {});\r\n    } catch (err) {\r\n      this._onError(err);\r\n    }\r\n  })();\r\n};\r\n\r\nAGClientSocket.prototype._removeAuthToken = function (data) {\r\n  (async () => {\r\n    let oldAuthToken;\r\n    try {\r\n      oldAuthToken = await this.auth.removeToken(this.authTokenName);\r\n    } catch (err) {\r\n      // Non-fatal error - Do not close the connection\r\n      this._onError(err);\r\n      return;\r\n    }\r\n    this.emit('removeAuthToken', {oldAuthToken});\r\n  })();\r\n\r\n  this._changeToUnauthenticatedStateAndClearTokens();\r\n};\r\n\r\nAGClientSocket.prototype._privateDataHandlerMap = {\r\n  '#publish': function (data) {\r\n    if (typeof data.channel !== 'string') return;\r\n    let undecoratedChannelName = this._undecorateChannelName(data.channel);\r\n    let isSubscribed = this.isSubscribed(undecoratedChannelName, true);\r\n\r\n    if (isSubscribed) {\r\n      this._channelDataDemux.write(undecoratedChannelName, data.data);\r\n    }\r\n  },\r\n  '#kickOut': function (data) {\r\n    if (typeof data.channel !== 'string') return;\r\n    let undecoratedChannelName = this._undecorateChannelName(data.channel);\r\n    let channel = this._channelMap[undecoratedChannelName];\r\n    if (channel) {\r\n      this.emit('kickOut', {\r\n        channel: undecoratedChannelName,\r\n        message: data.message\r\n      });\r\n      this._channelEventDemux.write(`${undecoratedChannelName}/kickOut`, {message: data.message});\r\n      this._triggerChannelUnsubscribe(channel);\r\n    }\r\n  },\r\n  '#setAuthToken': function (data) {\r\n    if (data) {\r\n      this._setAuthToken(data);\r\n    }\r\n  },\r\n  '#removeAuthToken': function (data) {\r\n    this._removeAuthToken(data);\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._privateRPCHandlerMap = {\r\n  '#setAuthToken': function (data, request) {\r\n    if (data) {\r\n      this._setAuthToken(data);\r\n\r\n      request.end();\r\n    } else {\r\n      let error = new InvalidMessageError('No token data provided by #setAuthToken event');\r\n      delete error.stack;\r\n      request.error(error);\r\n    }\r\n  },\r\n  '#removeAuthToken': function (data, request) {\r\n    this._removeAuthToken(data);\r\n    request.end();\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype.getState = function () {\r\n  return this.state;\r\n};\r\n\r\nAGClientSocket.prototype.getBytesReceived = function () {\r\n  return this.transport.getBytesReceived();\r\n};\r\n\r\nAGClientSocket.prototype.deauthenticate = async function () {\r\n  (async () => {\r\n    let oldAuthToken;\r\n    try {\r\n      oldAuthToken = await this.auth.removeToken(this.authTokenName);\r\n    } catch (err) {\r\n      this._onError(err);\r\n      return;\r\n    }\r\n    this.emit('removeAuthToken', {oldAuthToken});\r\n  })();\r\n\r\n  if (this.state !== this.CLOSED) {\r\n    this.transmit('#removeAuthToken');\r\n  }\r\n  this._changeToUnauthenticatedStateAndClearTokens();\r\n  await wait(0);\r\n};\r\n\r\nAGClientSocket.prototype.connect = function (socketOptions) {\r\n  if (socketOptions) {\r\n    if (this.state !== this.CLOSED) {\r\n      this.disconnect(\r\n        1000,\r\n        'Socket was disconnected by the client to initiate a new connection'\r\n      );\r\n    }\r\n    this.options = {\r\n      ...this.options,\r\n      ...socketOptions\r\n    };\r\n    if (this.options.authTokenName == null) {\r\n      this.options.authTokenName = this._generateAuthTokenNameFromURI(this.options);\r\n    }\r\n  }\r\n  if (this.state === this.CLOSED) {\r\n    this.pendingReconnect = false;\r\n    this.pendingReconnectTimeout = null;\r\n    clearTimeout(this._reconnectTimeoutRef);\r\n\r\n    this.state = this.CONNECTING;\r\n    this.emit('connecting', {});\r\n\r\n    if (this.transport) {\r\n      this.transport.clearAllListeners();\r\n    }\r\n\r\n    let transportHandlers = {\r\n      onOpen: (value) => {\r\n        this.state = this.OPEN;\r\n        this._onOpen(value);\r\n      },\r\n      onOpenAbort: (value) => {\r\n        if (this.state !== this.CLOSED) {\r\n          this.state = this.CLOSED;\r\n          this._destroy(value.code, value.reason, true);\r\n        }\r\n      },\r\n      onClose: (value) => {\r\n        if (this.state !== this.CLOSED) {\r\n          this.state = this.CLOSED;\r\n          this._destroy(value.code, value.reason);\r\n        }\r\n      },\r\n      onEvent: (value) => {\r\n        this.emit(value.event, value.data);\r\n      },\r\n      onError: (value) => {\r\n        this._onError(value.error);\r\n      },\r\n      onInboundInvoke: (value) => {\r\n        this._onInboundInvoke(value);\r\n      },\r\n      onInboundTransmit: (value) => {\r\n        this._onInboundTransmit(value.event, value.data);\r\n      }\r\n    };\r\n\r\n    this.transport = new AGTransport(this.auth, this.codec, this.options, this.wsOptions, transportHandlers);\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype.reconnect = function (code, reason) {\r\n  this.disconnect(code, reason);\r\n  this.connect();\r\n};\r\n\r\nAGClientSocket.prototype.disconnect = function (code, reason) {\r\n  code = code || 1000;\r\n\r\n  if (typeof code !== 'number') {\r\n    throw new InvalidArgumentsError('If specified, the code argument must be a number');\r\n  }\r\n\r\n  let isConnecting = this.state === this.CONNECTING;\r\n  if (isConnecting || this.state === this.OPEN) {\r\n    this.state = this.CLOSED;\r\n    this._destroy(code, reason, isConnecting);\r\n    this.transport.close(code, reason);\r\n  } else {\r\n    this.pendingReconnect = false;\r\n    this.pendingReconnectTimeout = null;\r\n    clearTimeout(this._reconnectTimeoutRef);\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._changeToUnauthenticatedStateAndClearTokens = function () {\r\n  if (this.authState !== this.UNAUTHENTICATED) {\r\n    let oldAuthState = this.authState;\r\n    let oldAuthToken = this.authToken;\r\n    let oldSignedAuthToken = this.signedAuthToken;\r\n    this.authState = this.UNAUTHENTICATED;\r\n    this.signedAuthToken = null;\r\n    this.authToken = null;\r\n\r\n    let stateChangeData = {\r\n      oldAuthState,\r\n      newAuthState: this.authState\r\n    };\r\n    this.emit('authStateChange', stateChangeData);\r\n    this.emit('deauthenticate', {oldSignedAuthToken, oldAuthToken});\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._changeToAuthenticatedState = function (signedAuthToken) {\r\n  this.signedAuthToken = signedAuthToken;\r\n  this.authToken = this._extractAuthTokenData(signedAuthToken);\r\n\r\n  if (this.authState !== this.AUTHENTICATED) {\r\n    let oldAuthState = this.authState;\r\n    this.authState = this.AUTHENTICATED;\r\n    let stateChangeData = {\r\n      oldAuthState,\r\n      newAuthState: this.authState,\r\n      signedAuthToken: signedAuthToken,\r\n      authToken: this.authToken\r\n    };\r\n    if (!this.preparingPendingSubscriptions) {\r\n      this.processPendingSubscriptions();\r\n    }\r\n\r\n    this.emit('authStateChange', stateChangeData);\r\n  }\r\n  this.emit('authenticate', {signedAuthToken, authToken: this.authToken});\r\n};\r\n\r\nAGClientSocket.prototype.decodeBase64 = function (encodedString) {\r\n  return Buffer.from(encodedString, 'base64').toString('utf8');\r\n};\r\n\r\nAGClientSocket.prototype.encodeBase64 = function (decodedString) {\r\n  return Buffer.from(decodedString, 'utf8').toString('base64');\r\n};\r\n\r\nAGClientSocket.prototype._extractAuthTokenData = function (signedAuthToken) {\r\n  if (typeof signedAuthToken !== 'string') return null;\r\n  let tokenParts = signedAuthToken.split('.');\r\n  let encodedTokenData = tokenParts[1];\r\n  if (encodedTokenData != null) {\r\n    let tokenData = encodedTokenData;\r\n    try {\r\n      tokenData = this.decodeBase64(tokenData);\r\n      return JSON.parse(tokenData);\r\n    } catch (e) {\r\n      return tokenData;\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nAGClientSocket.prototype.getAuthToken = function () {\r\n  return this.authToken;\r\n};\r\n\r\nAGClientSocket.prototype.getSignedAuthToken = function () {\r\n  return this.signedAuthToken;\r\n};\r\n\r\n// Perform client-initiated authentication by providing an encrypted token string.\r\nAGClientSocket.prototype.authenticate = async function (signedAuthToken) {\r\n  let authStatus;\r\n\r\n  try {\r\n    authStatus = await this.invoke('#authenticate', signedAuthToken);\r\n  } catch (err) {\r\n    if (err.name !== 'BadConnectionError' && err.name !== 'TimeoutError') {\r\n      // In case of a bad/closed connection or a timeout, we maintain the last\r\n      // known auth state since those errors don't mean that the token is invalid.\r\n      this._changeToUnauthenticatedStateAndClearTokens();\r\n    }\r\n    await wait(0);\r\n    throw err;\r\n  }\r\n\r\n  if (authStatus && authStatus.isAuthenticated != null) {\r\n    // If authStatus is correctly formatted (has an isAuthenticated property),\r\n    // then we will rehydrate the authError.\r\n    if (authStatus.authError) {\r\n      authStatus.authError = scErrors.hydrateError(authStatus.authError);\r\n    }\r\n  } else {\r\n    // Some errors like BadConnectionError and TimeoutError will not pass a valid\r\n    // authStatus object to the current function, so we need to create it ourselves.\r\n    authStatus = {\r\n      isAuthenticated: this.authState,\r\n      authError: null\r\n    };\r\n  }\r\n\r\n  if (authStatus.isAuthenticated) {\r\n    this._changeToAuthenticatedState(signedAuthToken);\r\n  } else {\r\n    this._changeToUnauthenticatedStateAndClearTokens();\r\n  }\r\n\r\n  (async () => {\r\n    try {\r\n      await this.auth.saveToken(this.authTokenName, signedAuthToken, {});\r\n    } catch (err) {\r\n      this._onError(err);\r\n    }\r\n  })();\r\n\r\n  await wait(0);\r\n  return authStatus;\r\n};\r\n\r\nAGClientSocket.prototype._tryReconnect = function (initialDelay) {\r\n  let exponent = this.connectAttempts++;\r\n  let reconnectOptions = this.options.autoReconnectOptions;\r\n  let timeout;\r\n\r\n  if (initialDelay == null || exponent > 0) {\r\n    let initialTimeout = Math.round(reconnectOptions.initialDelay + (reconnectOptions.randomness || 0) * Math.random());\r\n\r\n    timeout = Math.round(initialTimeout * Math.pow(reconnectOptions.multiplier, exponent));\r\n  } else {\r\n    timeout = initialDelay;\r\n  }\r\n\r\n  if (timeout > reconnectOptions.maxDelay) {\r\n    timeout = reconnectOptions.maxDelay;\r\n  }\r\n\r\n  clearTimeout(this._reconnectTimeoutRef);\r\n\r\n  this.pendingReconnect = true;\r\n  this.pendingReconnectTimeout = timeout;\r\n  this._reconnectTimeoutRef = setTimeout(() => {\r\n    this.connect();\r\n  }, timeout);\r\n};\r\n\r\nAGClientSocket.prototype._onOpen = function (status) {\r\n  if (this.isBatching) {\r\n    this._startBatching();\r\n  } else if (this.batchOnHandshake) {\r\n    this._startBatching();\r\n    setTimeout(() => {\r\n      if (!this.isBatching) {\r\n        this._stopBatching();\r\n      }\r\n    }, this.batchOnHandshakeDuration);\r\n  }\r\n  this.preparingPendingSubscriptions = true;\r\n\r\n  if (status) {\r\n    this.id = status.id;\r\n    this.pingTimeout = status.pingTimeout;\r\n    if (status.isAuthenticated) {\r\n      this._changeToAuthenticatedState(status.authToken);\r\n    } else {\r\n      this._changeToUnauthenticatedStateAndClearTokens();\r\n    }\r\n  } else {\r\n    // This can happen if auth.loadToken (in transport.js) fails with\r\n    // an error - This means that the signedAuthToken cannot be loaded by\r\n    // the auth engine and therefore, we need to unauthenticate the client.\r\n    this._changeToUnauthenticatedStateAndClearTokens();\r\n  }\r\n\r\n  this.connectAttempts = 0;\r\n\r\n  if (this.options.autoSubscribeOnConnect) {\r\n    this.processPendingSubscriptions();\r\n  }\r\n\r\n  // If the user invokes the callback while in autoSubscribeOnConnect mode, it\r\n  // won't break anything.\r\n  this.emit('connect', {\r\n    ...status,\r\n    processPendingSubscriptions: () => {\r\n      this.processPendingSubscriptions();\r\n    }\r\n  });\r\n\r\n  if (this.state === this.OPEN) {\r\n    this._flushOutboundBuffer();\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._onError = function (error) {\r\n  this.emit('error', {error});\r\n};\r\n\r\nAGClientSocket.prototype._suspendSubscriptions = function () {\r\n  Object.keys(this._channelMap).forEach((channelName) => {\r\n    let channel = this._channelMap[channelName];\r\n    this._triggerChannelUnsubscribe(channel, true);\r\n  });\r\n};\r\n\r\nAGClientSocket.prototype._abortAllPendingEventsDueToBadConnection = function (failureType, code, reason) {\r\n  let currentNode = this._outboundBuffer.head;\r\n  let nextNode;\r\n\r\n  while (currentNode) {\r\n    nextNode = currentNode.next;\r\n    let eventObject = currentNode.data;\r\n    clearTimeout(eventObject.timeout);\r\n    delete eventObject.timeout;\r\n    currentNode.detach();\r\n    currentNode = nextNode;\r\n\r\n    let callback = eventObject.callback;\r\n\r\n    if (callback) {\r\n      delete eventObject.callback;\r\n      let errorMessage = `Event ${eventObject.event} was aborted due to a bad connection`;\r\n      let error = new BadConnectionError(errorMessage, failureType, code, reason);\r\n\r\n      callback.call(eventObject, error, eventObject);\r\n    }\r\n    // Cleanup any pending response callback in the transport layer too.\r\n    if (eventObject.cid) {\r\n      this.transport.cancelPendingResponse(eventObject.cid);\r\n    }\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._destroy = function (code, reason, openAbort) {\r\n  this.id = null;\r\n  this._cancelBatching();\r\n\r\n  if (this.transport) {\r\n    this.transport.clearAllListeners();\r\n  }\r\n\r\n  this.pendingReconnect = false;\r\n  this.pendingReconnectTimeout = null;\r\n  clearTimeout(this._reconnectTimeoutRef);\r\n\r\n  this._suspendSubscriptions();\r\n\r\n  if (openAbort) {\r\n    this.emit('connectAbort', {code, reason});\r\n  } else {\r\n    this.emit('disconnect', {code, reason});\r\n  }\r\n  this.emit('close', {code, reason});\r\n\r\n  if (!AGClientSocket.ignoreStatuses[code]) {\r\n    let closeMessage;\r\n    if (typeof reason === 'string') {\r\n      closeMessage = 'Socket connection closed with status code ' + code + ' and reason: ' + reason;\r\n    } else {\r\n      closeMessage = 'Socket connection closed with status code ' + code;\r\n    }\r\n    let err = new SocketProtocolError(AGClientSocket.errorStatuses[code] || closeMessage, code);\r\n    this._onError(err);\r\n  }\r\n\r\n  this._abortAllPendingEventsDueToBadConnection(openAbort ? 'connectAbort' : 'disconnect', code, reason);\r\n\r\n  // Try to reconnect\r\n  // on server ping timeout (4000)\r\n  // or on client pong timeout (4001)\r\n  // or on close without status (1005)\r\n  // or on handshake failure (4003)\r\n  // or on handshake rejection (4008)\r\n  // or on socket hung up (1006)\r\n  if (this.options.autoReconnect) {\r\n    if (code === 4000 || code === 4001 || code === 1005) {\r\n      // If there is a ping or pong timeout or socket closes without\r\n      // status, don't wait before trying to reconnect - These could happen\r\n      // if the client wakes up after a period of inactivity and in this case we\r\n      // want to re-establish the connection as soon as possible.\r\n      this._tryReconnect(0);\r\n\r\n      // Codes 4500 and above will be treated as permanent disconnects.\r\n      // Socket will not try to auto-reconnect.\r\n    } else if (code !== 1000 && code < 4500) {\r\n      this._tryReconnect();\r\n    }\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._onInboundTransmit = function (event, data) {\r\n  let handler = this._privateDataHandlerMap[event];\r\n  if (handler) {\r\n    handler.call(this, data || {});\r\n  } else {\r\n    this._receiverDemux.write(event, data);\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._onInboundInvoke = function (request) {\r\n  let {procedure, data} = request;\r\n  let handler = this._privateRPCHandlerMap[procedure];\r\n  if (handler) {\r\n    handler.call(this, data, request);\r\n  } else {\r\n    this._procedureDemux.write(procedure, request);\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype.decode = function (message) {\r\n  return this.transport.decode(message);\r\n};\r\n\r\nAGClientSocket.prototype.encode = function (object) {\r\n  return this.transport.encode(object);\r\n};\r\n\r\nAGClientSocket.prototype._flushOutboundBuffer = function () {\r\n  let currentNode = this._outboundBuffer.head;\r\n  let nextNode;\r\n\r\n  while (currentNode) {\r\n    nextNode = currentNode.next;\r\n    let eventObject = currentNode.data;\r\n    // For an eventObject which does not have a callback (no response expected),\r\n    // the timeout can be cleared immediately as soon as the object is transmitted.\r\n    if (!eventObject.callback) {\r\n      clearTimeout(eventObject.timeout);\r\n      delete eventObject.timeout;\r\n    }\r\n    currentNode.detach();\r\n    this.transport.transmitObject(eventObject);\r\n    currentNode = nextNode;\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._handleEventAckTimeout = function (eventObject, eventNode) {\r\n  if (eventNode) {\r\n    eventNode.detach();\r\n  }\r\n  delete eventObject.timeout;\r\n\r\n  let callback = eventObject.callback;\r\n  if (callback) {\r\n    delete eventObject.callback;\r\n    let error = new TimeoutError(`Event response for ${eventObject.event} event timed out`);\r\n    callback.call(eventObject, error, eventObject);\r\n  }\r\n  // Cleanup any pending response callback in the transport layer too.\r\n  if (eventObject.cid) {\r\n    this.transport.cancelPendingResponse(eventObject.cid);\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._processOutboundEvent = function (event, data, options, expectResponse) {\r\n  options = options || {};\r\n\r\n  if (this.transport && this.transport.isStale()) {\r\n    this.disconnect(\r\n      1000,\r\n      'Stale socket was disconnected by the client to initiate a new connection'\r\n    );\r\n  }\r\n  if (this.state === this.CLOSED) {\r\n    this.connect();\r\n  }\r\n  let eventObject = {\r\n    event\r\n  };\r\n\r\n  let promise;\r\n\r\n  if (expectResponse) {\r\n    promise = new Promise((resolve, reject) => {\r\n      eventObject.callback = (err, data) => {\r\n        if (err) {\r\n          reject(err);\r\n          return;\r\n        }\r\n        resolve(data);\r\n      };\r\n    });\r\n  } else {\r\n    promise = Promise.resolve();\r\n  }\r\n\r\n  let eventNode = new LinkedList.Item();\r\n\r\n  if (this.options.cloneData) {\r\n    eventObject.data = cloneDeep(data);\r\n  } else {\r\n    eventObject.data = data;\r\n  }\r\n  eventNode.data = eventObject;\r\n\r\n  let ackTimeout = options.ackTimeout == null ? this.ackTimeout : options.ackTimeout;\r\n\r\n  // The timeout should always be set, including for events which do not expect\r\n  // a response because they may sit on the _outboundBuffer for some time and \r\n  // in-order processing should still be guaranteed.\r\n  eventObject.timeout = setTimeout(() => {\r\n    this._handleEventAckTimeout(eventObject, eventNode);\r\n  }, ackTimeout);\r\n\r\n  this._outboundBuffer.append(eventNode);\r\n  if (this.state === this.OPEN) {\r\n    this._flushOutboundBuffer();\r\n  }\r\n  return promise;\r\n};\r\n\r\nAGClientSocket.prototype.send = function (data) {\r\n  this.transport.send(data);\r\n};\r\n\r\nAGClientSocket.prototype.transmit = function (event, data, options) {\r\n  return this._processOutboundEvent(event, data, options);\r\n};\r\n\r\nAGClientSocket.prototype.invoke = function (event, data, options) {\r\n  return this._processOutboundEvent(event, data, options, true);\r\n};\r\n\r\nAGClientSocket.prototype.transmitPublish = function (channelName, data) {\r\n  let pubData = {\r\n    channel: this._decorateChannelName(channelName),\r\n    data\r\n  };\r\n  return this.transmit('#publish', pubData);\r\n};\r\n\r\nAGClientSocket.prototype.invokePublish = function (channelName, data) {\r\n  let pubData = {\r\n    channel: this._decorateChannelName(channelName),\r\n    data\r\n  };\r\n  return this.invoke('#publish', pubData);\r\n};\r\n\r\nAGClientSocket.prototype._triggerChannelSubscribe = function (channel, subscriptionOptions) {\r\n  let channelName = channel.name;\r\n\r\n  if (channel.state !== AGChannel.SUBSCRIBED) {\r\n    let oldChannelState = channel.state;\r\n    channel.state = AGChannel.SUBSCRIBED;\r\n\r\n    let stateChangeData = {\r\n      oldChannelState,\r\n      newChannelState: channel.state,\r\n      subscriptionOptions\r\n    };\r\n    this._channelEventDemux.write(`${channelName}/subscribeStateChange`, stateChangeData);\r\n    this._channelEventDemux.write(`${channelName}/subscribe`, {\r\n      subscriptionOptions\r\n    });\r\n    this.emit('subscribeStateChange', {\r\n      channel: channelName,\r\n      ...stateChangeData\r\n    });\r\n    this.emit('subscribe', {\r\n      channel: channelName,\r\n      subscriptionOptions\r\n    });\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._triggerChannelSubscribeFail = function (err, channel, subscriptionOptions) {\r\n  let channelName = channel.name;\r\n  let meetsAuthRequirements = !channel.options.waitForAuth || this.authState === this.AUTHENTICATED;\r\n  let hasChannel = !!this._channelMap[channelName];\r\n\r\n  if (hasChannel && meetsAuthRequirements) {\r\n    delete this._channelMap[channelName];\r\n\r\n    this._channelEventDemux.write(`${channelName}/subscribeFail`, {\r\n      error: err,\r\n      subscriptionOptions\r\n    });\r\n    this.emit('subscribeFail', {\r\n      error: err,\r\n      channel: channelName,\r\n      subscriptionOptions: subscriptionOptions\r\n    });\r\n  }\r\n};\r\n\r\n// Cancel any pending subscribe callback\r\nAGClientSocket.prototype._cancelPendingSubscribeCallback = function (channel) {\r\n  if (channel._pendingSubscriptionCid != null) {\r\n    this.transport.cancelPendingResponse(channel._pendingSubscriptionCid);\r\n    delete channel._pendingSubscriptionCid;\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._decorateChannelName = function (channelName) {\r\n  if (this.channelPrefix) {\r\n    channelName = this.channelPrefix + channelName;\r\n  }\r\n  return channelName;\r\n};\r\n\r\nAGClientSocket.prototype._undecorateChannelName = function (decoratedChannelName) {\r\n  if (this.channelPrefix && decoratedChannelName.indexOf(this.channelPrefix) === 0) {\r\n    return decoratedChannelName.replace(this.channelPrefix, '');\r\n  }\r\n  return decoratedChannelName;\r\n};\r\n\r\nAGClientSocket.prototype.startBatch = function () {\r\n  this.transport.startBatch();\r\n};\r\n\r\nAGClientSocket.prototype.flushBatch = function () {\r\n  this.transport.flushBatch();\r\n};\r\n\r\nAGClientSocket.prototype.cancelBatch = function () {\r\n  this.transport.cancelBatch();\r\n};\r\n\r\nAGClientSocket.prototype._startBatching = function () {\r\n  if (this._batchingIntervalId != null) {\r\n    return;\r\n  }\r\n  this.startBatch();\r\n  this._batchingIntervalId = setInterval(() => {\r\n    this.flushBatch();\r\n    this.startBatch();\r\n  }, this.options.batchInterval);\r\n};\r\n\r\nAGClientSocket.prototype.startBatching = function () {\r\n  this.isBatching = true;\r\n  this._startBatching();\r\n};\r\n\r\nAGClientSocket.prototype._stopBatching = function () {\r\n  if (this._batchingIntervalId != null) {\r\n    clearInterval(this._batchingIntervalId);\r\n  }\r\n  this._batchingIntervalId = null;\r\n  this.flushBatch();\r\n};\r\n\r\nAGClientSocket.prototype.stopBatching = function () {\r\n  this.isBatching = false;\r\n  this._stopBatching();\r\n};\r\n\r\nAGClientSocket.prototype._cancelBatching = function () {\r\n  if (this._batchingIntervalId != null) {\r\n    clearInterval(this._batchingIntervalId);\r\n  }\r\n  this._batchingIntervalId = null;\r\n  this.cancelBatch();\r\n};\r\n\r\nAGClientSocket.prototype.cancelBatching = function () {\r\n  this.isBatching = false;\r\n  this._cancelBatching();\r\n};\r\n\r\nAGClientSocket.prototype._trySubscribe = function (channel) {\r\n  let meetsAuthRequirements = !channel.options.waitForAuth || this.authState === this.AUTHENTICATED;\r\n\r\n  // We can only ever have one pending subscribe action at any given time on a channel\r\n  if (\r\n    this.state === this.OPEN &&\r\n    !this.preparingPendingSubscriptions &&\r\n    channel._pendingSubscriptionCid == null &&\r\n    meetsAuthRequirements\r\n  ) {\r\n\r\n    let options = {\r\n      noTimeout: true\r\n    };\r\n\r\n    let subscriptionOptions = {};\r\n    if (channel.options.waitForAuth) {\r\n      options.waitForAuth = true;\r\n      subscriptionOptions.waitForAuth = options.waitForAuth;\r\n    }\r\n    if (channel.options.data) {\r\n      subscriptionOptions.data = channel.options.data;\r\n    }\r\n\r\n    channel._pendingSubscriptionCid = this.transport.invokeRaw(\r\n      '#subscribe',\r\n      {\r\n        channel: this._decorateChannelName(channel.name),\r\n        ...subscriptionOptions\r\n      },\r\n      options,\r\n      (err) => {\r\n        if (err) {\r\n          if (err.name === 'BadConnectionError') {\r\n            // In case of a failed connection, keep the subscription\r\n            // as pending; it will try again on reconnect.\r\n            return;\r\n          }\r\n          delete channel._pendingSubscriptionCid;\r\n          this._triggerChannelSubscribeFail(err, channel, subscriptionOptions);\r\n        } else {\r\n          delete channel._pendingSubscriptionCid;\r\n          this._triggerChannelSubscribe(channel, subscriptionOptions);\r\n        }\r\n      }\r\n    );\r\n    this.emit('subscribeRequest', {\r\n      channel: channel.name,\r\n      subscriptionOptions\r\n    });\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype.subscribe = function (channelName, options) {\r\n  options = options || {};\r\n  let channel = this._channelMap[channelName];\r\n\r\n  let sanitizedOptions = {\r\n    waitForAuth: !!options.waitForAuth\r\n  };\r\n\r\n  if (options.priority != null) {\r\n    sanitizedOptions.priority = options.priority;\r\n  }\r\n  if (options.data !== undefined) {\r\n    sanitizedOptions.data = options.data;\r\n  }\r\n\r\n  if (!channel) {\r\n    channel = {\r\n      name: channelName,\r\n      state: AGChannel.PENDING,\r\n      options: sanitizedOptions\r\n    };\r\n    this._channelMap[channelName] = channel;\r\n    this._trySubscribe(channel);\r\n  } else if (options) {\r\n    channel.options = sanitizedOptions;\r\n  }\r\n\r\n  let channelIterable = new AGChannel(\r\n    channelName,\r\n    this,\r\n    this._channelEventDemux,\r\n    this._channelDataDemux\r\n  );\r\n\r\n  return channelIterable;\r\n};\r\n\r\nAGClientSocket.prototype._triggerChannelUnsubscribe = function (channel, setAsPending) {\r\n  let channelName = channel.name;\r\n\r\n  this._cancelPendingSubscribeCallback(channel);\r\n\r\n  if (channel.state === AGChannel.SUBSCRIBED) {\r\n    let stateChangeData = {\r\n      oldChannelState: channel.state,\r\n      newChannelState: setAsPending ? AGChannel.PENDING : AGChannel.UNSUBSCRIBED\r\n    };\r\n    this._channelEventDemux.write(`${channelName}/subscribeStateChange`, stateChangeData);\r\n    this._channelEventDemux.write(`${channelName}/unsubscribe`, {});\r\n    this.emit('subscribeStateChange', {\r\n      channel: channelName,\r\n      ...stateChangeData\r\n    });\r\n    this.emit('unsubscribe', {channel: channelName});\r\n  }\r\n\r\n  if (setAsPending) {\r\n    channel.state = AGChannel.PENDING;\r\n  } else {\r\n    delete this._channelMap[channelName];\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype._tryUnsubscribe = function (channel) {\r\n  if (this.state === this.OPEN) {\r\n    let options = {\r\n      noTimeout: true\r\n    };\r\n    // If there is a pending subscribe action, cancel the callback\r\n    this._cancelPendingSubscribeCallback(channel);\r\n\r\n    // This operation cannot fail because the TCP protocol guarantees delivery\r\n    // so long as the connection remains open. If the connection closes,\r\n    // the server will automatically unsubscribe the client and thus complete\r\n    // the operation on the server side.\r\n    let decoratedChannelName = this._decorateChannelName(channel.name);\r\n    this.transport.transmit('#unsubscribe', decoratedChannelName, options);\r\n  }\r\n};\r\n\r\nAGClientSocket.prototype.unsubscribe = function (channelName) {\r\n  let channel = this._channelMap[channelName];\r\n\r\n  if (channel) {\r\n    this._triggerChannelUnsubscribe(channel);\r\n    this._tryUnsubscribe(channel);\r\n  }\r\n};\r\n\r\n// ---- Receiver logic ----\r\n\r\nAGClientSocket.prototype.receiver = function (receiverName) {\r\n  return this._receiverDemux.stream(receiverName);\r\n};\r\n\r\nAGClientSocket.prototype.closeReceiver = function (receiverName) {\r\n  this._receiverDemux.close(receiverName);\r\n};\r\n\r\nAGClientSocket.prototype.closeAllReceivers = function () {\r\n  this._receiverDemux.closeAll();\r\n};\r\n\r\nAGClientSocket.prototype.killReceiver = function (receiverName) {\r\n  this._receiverDemux.kill(receiverName);\r\n};\r\n\r\nAGClientSocket.prototype.killAllReceivers = function () {\r\n  this._receiverDemux.killAll();\r\n};\r\n\r\nAGClientSocket.prototype.killReceiverConsumer = function (consumerId) {\r\n  this._receiverDemux.killConsumer(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getReceiverConsumerStats = function (consumerId) {\r\n  return this._receiverDemux.getConsumerStats(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getReceiverConsumerStatsList = function (receiverName) {\r\n  return this._receiverDemux.getConsumerStatsList(receiverName);\r\n};\r\n\r\nAGClientSocket.prototype.getAllReceiversConsumerStatsList = function () {\r\n  return this._receiverDemux.getConsumerStatsListAll();\r\n};\r\n\r\nAGClientSocket.prototype.getReceiverBackpressure = function (receiverName) {\r\n  return this._receiverDemux.getBackpressure(receiverName);\r\n};\r\n\r\nAGClientSocket.prototype.getAllReceiversBackpressure = function () {\r\n  return this._receiverDemux.getBackpressureAll();\r\n};\r\n\r\nAGClientSocket.prototype.getReceiverConsumerBackpressure = function (consumerId) {\r\n  return this._receiverDemux.getConsumerBackpressure(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.hasReceiverConsumer = function (receiverName, consumerId) {\r\n  return this._receiverDemux.hasConsumer(receiverName, consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.hasAnyReceiverConsumer = function (consumerId) {\r\n  return this._receiverDemux.hasConsumerAll(consumerId);\r\n};\r\n\r\n// ---- Procedure logic ----\r\n\r\nAGClientSocket.prototype.procedure = function (procedureName) {\r\n  return this._procedureDemux.stream(procedureName);\r\n};\r\n\r\nAGClientSocket.prototype.closeProcedure = function (procedureName) {\r\n  this._procedureDemux.close(procedureName);\r\n};\r\n\r\nAGClientSocket.prototype.closeAllProcedures = function () {\r\n  this._procedureDemux.closeAll();\r\n};\r\n\r\nAGClientSocket.prototype.killProcedure = function (procedureName) {\r\n  this._procedureDemux.kill(procedureName);\r\n};\r\n\r\nAGClientSocket.prototype.killAllProcedures = function () {\r\n  this._procedureDemux.killAll();\r\n};\r\n\r\nAGClientSocket.prototype.killProcedureConsumer = function (consumerId) {\r\n  this._procedureDemux.killConsumer(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getProcedureConsumerStats = function (consumerId) {\r\n  return this._procedureDemux.getConsumerStats(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getProcedureConsumerStatsList = function (procedureName) {\r\n  return this._procedureDemux.getConsumerStatsList(procedureName);\r\n};\r\n\r\nAGClientSocket.prototype.getAllProceduresConsumerStatsList = function () {\r\n  return this._procedureDemux.getConsumerStatsListAll();\r\n};\r\n\r\nAGClientSocket.prototype.getProcedureBackpressure = function (procedureName) {\r\n  return this._procedureDemux.getBackpressure(procedureName);\r\n};\r\n\r\nAGClientSocket.prototype.getAllProceduresBackpressure = function () {\r\n  return this._procedureDemux.getBackpressureAll();\r\n};\r\n\r\nAGClientSocket.prototype.getProcedureConsumerBackpressure = function (consumerId) {\r\n  return this._procedureDemux.getConsumerBackpressure(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.hasProcedureConsumer = function (procedureName, consumerId) {\r\n  return this._procedureDemux.hasConsumer(procedureName, consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.hasAnyProcedureConsumer = function (consumerId) {\r\n  return this._procedureDemux.hasConsumerAll(consumerId);\r\n};\r\n\r\n// ---- Channel logic ----\r\n\r\nAGClientSocket.prototype.channel = function (channelName) {\r\n  let currentChannel = this._channelMap[channelName];\r\n\r\n  let channelIterable = new AGChannel(\r\n    channelName,\r\n    this,\r\n    this._channelEventDemux,\r\n    this._channelDataDemux\r\n  );\r\n\r\n  return channelIterable;\r\n};\r\n\r\nAGClientSocket.prototype.closeChannel = function (channelName) {\r\n  this.channelCloseOutput(channelName);\r\n  this.channelCloseAllListeners(channelName);\r\n};\r\n\r\nAGClientSocket.prototype.closeAllChannelOutputs = function () {\r\n  this._channelDataDemux.closeAll();\r\n};\r\n\r\nAGClientSocket.prototype.closeAllChannelListeners = function () {\r\n  this._channelEventDemux.closeAll();\r\n};\r\n\r\nAGClientSocket.prototype.closeAllChannels = function () {\r\n  this.closeAllChannelOutputs();\r\n  this.closeAllChannelListeners();\r\n};\r\n\r\nAGClientSocket.prototype.killChannel = function (channelName) {\r\n  this.channelKillOutput(channelName);\r\n  this.channelKillAllListeners(channelName);\r\n};\r\n\r\nAGClientSocket.prototype.killAllChannelOutputs = function () {\r\n  this._channelDataDemux.killAll();\r\n};\r\n\r\nAGClientSocket.prototype.killAllChannelListeners = function () {\r\n  this._channelEventDemux.killAll();\r\n};\r\n\r\nAGClientSocket.prototype.killAllChannels = function () {\r\n  this.killAllChannelOutputs();\r\n  this.killAllChannelListeners();\r\n};\r\n\r\nAGClientSocket.prototype.killChannelOutputConsumer = function (consumerId) {\r\n  this._channelDataDemux.killConsumer(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.killChannelListenerConsumer = function (consumerId) {\r\n  this._channelEventDemux.killConsumer(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getChannelOutputConsumerStats = function (consumerId) {\r\n  return this._channelDataDemux.getConsumerStats(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getChannelListenerConsumerStats = function (consumerId) {\r\n  return this._channelEventDemux.getConsumerStats(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getAllChannelOutputsConsumerStatsList = function () {\r\n  return this._channelDataDemux.getConsumerStatsListAll();\r\n};\r\n\r\nAGClientSocket.prototype.getAllChannelListenersConsumerStatsList = function () {\r\n  return this._channelEventDemux.getConsumerStatsListAll();\r\n};\r\n\r\nAGClientSocket.prototype.getChannelBackpressure = function (channelName) {\r\n  return Math.max(\r\n    this.channelGetOutputBackpressure(channelName),\r\n    this.channelGetAllListenersBackpressure(channelName)\r\n  );\r\n};\r\n\r\nAGClientSocket.prototype.getAllChannelOutputsBackpressure = function () {\r\n  return this._channelDataDemux.getBackpressureAll();\r\n};\r\n\r\nAGClientSocket.prototype.getAllChannelListenersBackpressure = function () {\r\n  return this._channelEventDemux.getBackpressureAll();\r\n};\r\n\r\nAGClientSocket.prototype.getAllChannelsBackpressure = function () {\r\n  return Math.max(\r\n    this.getAllChannelOutputsBackpressure(),\r\n    this.getAllChannelListenersBackpressure()\r\n  );\r\n};\r\n\r\nAGClientSocket.prototype.getChannelListenerConsumerBackpressure = function (consumerId) {\r\n  return this._channelEventDemux.getConsumerBackpressure(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getChannelOutputConsumerBackpressure = function (consumerId) {\r\n  return this._channelDataDemux.getConsumerBackpressure(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.hasAnyChannelOutputConsumer = function (consumerId) {\r\n  return this._channelDataDemux.hasConsumerAll(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.hasAnyChannelListenerConsumer = function (consumerId) {\r\n  return this._channelEventDemux.hasConsumerAll(consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.getChannelState = function (channelName) {\r\n  let channel = this._channelMap[channelName];\r\n  if (channel) {\r\n    return channel.state;\r\n  }\r\n  return AGChannel.UNSUBSCRIBED;\r\n};\r\n\r\nAGClientSocket.prototype.getChannelOptions = function (channelName) {\r\n  let channel = this._channelMap[channelName];\r\n  if (channel) {\r\n    return {...channel.options};\r\n  }\r\n  return {};\r\n};\r\n\r\nAGClientSocket.prototype._getAllChannelStreamNames = function (channelName) {\r\n  let streamNamesLookup = this._channelEventDemux.getConsumerStatsListAll()\r\n  .filter((stats) => {\r\n    return stats.stream.indexOf(`${channelName}/`) === 0;\r\n  })\r\n  .reduce((accumulator, stats) => {\r\n    accumulator[stats.stream] = true;\r\n    return accumulator;\r\n  }, {});\r\n  return Object.keys(streamNamesLookup);\r\n};\r\n\r\nAGClientSocket.prototype.channelCloseOutput = function (channelName) {\r\n  this._channelDataDemux.close(channelName);\r\n};\r\n\r\nAGClientSocket.prototype.channelCloseListener = function (channelName, eventName) {\r\n  this._channelEventDemux.close(`${channelName}/${eventName}`);\r\n};\r\n\r\nAGClientSocket.prototype.channelCloseAllListeners = function (channelName) {\r\n  let listenerStreams = this._getAllChannelStreamNames(channelName)\r\n  .forEach((streamName) => {\r\n    this._channelEventDemux.close(streamName);\r\n  });\r\n};\r\n\r\nAGClientSocket.prototype.channelKillOutput = function (channelName) {\r\n  this._channelDataDemux.kill(channelName);\r\n};\r\n\r\nAGClientSocket.prototype.channelKillListener = function (channelName, eventName) {\r\n  this._channelEventDemux.kill(`${channelName}/${eventName}`);\r\n};\r\n\r\nAGClientSocket.prototype.channelKillAllListeners = function (channelName) {\r\n  let listenerStreams = this._getAllChannelStreamNames(channelName)\r\n  .forEach((streamName) => {\r\n    this._channelEventDemux.kill(streamName);\r\n  });\r\n};\r\n\r\nAGClientSocket.prototype.channelGetOutputConsumerStatsList = function (channelName) {\r\n  return this._channelDataDemux.getConsumerStatsList(channelName);\r\n};\r\n\r\nAGClientSocket.prototype.channelGetListenerConsumerStatsList = function (channelName, eventName) {\r\n  return this._channelEventDemux.getConsumerStatsList(`${channelName}/${eventName}`);\r\n};\r\n\r\nAGClientSocket.prototype.channelGetAllListenersConsumerStatsList = function (channelName) {\r\n  return this._getAllChannelStreamNames(channelName)\r\n  .map((streamName) => {\r\n    return this._channelEventDemux.getConsumerStatsList(streamName);\r\n  })\r\n  .reduce((accumulator, statsList) => {\r\n    statsList.forEach((stats) => {\r\n      accumulator.push(stats);\r\n    });\r\n    return accumulator;\r\n  }, []);\r\n};\r\n\r\nAGClientSocket.prototype.channelGetOutputBackpressure = function (channelName) {\r\n  return this._channelDataDemux.getBackpressure(channelName);\r\n};\r\n\r\nAGClientSocket.prototype.channelGetListenerBackpressure = function (channelName, eventName) {\r\n  return this._channelEventDemux.getBackpressure(`${channelName}/${eventName}`);\r\n};\r\n\r\nAGClientSocket.prototype.channelGetAllListenersBackpressure = function (channelName) {\r\n  let listenerStreamBackpressures = this._getAllChannelStreamNames(channelName)\r\n  .map((streamName) => {\r\n    return this._channelEventDemux.getBackpressure(streamName);\r\n  });\r\n  return Math.max(...listenerStreamBackpressures.concat(0));\r\n};\r\n\r\nAGClientSocket.prototype.channelHasOutputConsumer = function (channelName, consumerId) {\r\n  return this._channelDataDemux.hasConsumer(channelName, consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.channelHasListenerConsumer = function (channelName, eventName, consumerId) {\r\n  return this._channelEventDemux.hasConsumer(`${channelName}/${eventName}`, consumerId);\r\n};\r\n\r\nAGClientSocket.prototype.channelHasAnyListenerConsumer = function (channelName, consumerId) {\r\n  return this._getAllChannelStreamNames(channelName)\r\n  .some((streamName) => {\r\n    return this._channelEventDemux.hasConsumer(streamName, consumerId);\r\n  });\r\n};\r\n\r\nAGClientSocket.prototype.subscriptions = function (includePending) {\r\n  let subs = [];\r\n  Object.keys(this._channelMap).forEach((channelName) => {\r\n    if (includePending || this._channelMap[channelName].state === AGChannel.SUBSCRIBED) {\r\n      subs.push(channelName);\r\n    }\r\n  });\r\n  return subs;\r\n};\r\n\r\nAGClientSocket.prototype.isSubscribed = function (channelName, includePending) {\r\n  let channel = this._channelMap[channelName];\r\n  if (includePending) {\r\n    return !!channel;\r\n  }\r\n  return !!channel && channel.state === AGChannel.SUBSCRIBED;\r\n};\r\n\r\nAGClientSocket.prototype.processPendingSubscriptions = function () {\r\n  this.preparingPendingSubscriptions = false;\r\n  let pendingChannels = [];\r\n\r\n  Object.keys(this._channelMap).forEach((channelName) => {\r\n    let channel = this._channelMap[channelName];\r\n    if (channel.state === AGChannel.PENDING) {\r\n      pendingChannels.push(channel);\r\n    }\r\n  });\r\n\r\n  pendingChannels.sort((a, b) => {\r\n    let ap = a.options.priority || 0;\r\n    let bp = b.options.priority || 0;\r\n    if (ap > bp) {\r\n      return -1;\r\n    }\r\n    if (ap < bp) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  });\r\n\r\n  pendingChannels.forEach((channel) => {\r\n    this._trySubscribe(channel);\r\n  });\r\n};\r\n\r\nmodule.exports = AGClientSocket;\r\n","class Consumer {\n  constructor(stream, id, startNode, timeout) {\n    this.id = id;\n    this._backpressure = 0;\n    this.currentNode = startNode;\n    this.timeout = timeout;\n    this.isAlive = true;\n    this.stream = stream;\n    this.stream.setConsumer(this.id, this);\n  }\n\n  getStats() {\n    let stats = {\n      id: this.id,\n      backpressure: this._backpressure\n    };\n    if (this.timeout != null) {\n      stats.timeout = this.timeout;\n    }\n    return stats;\n  }\n\n  _resetBackpressure() {\n    this._backpressure = 0;\n  }\n\n  applyBackpressure(packet) {\n    this._backpressure++;\n  }\n\n  releaseBackpressure(packet) {\n    this._backpressure--;\n  }\n\n  getBackpressure() {\n    return this._backpressure;\n  }\n\n  clearActiveTimeout() {\n    clearTimeout(this._timeoutId);\n    delete this._timeoutId;\n  }\n\n  write(packet) {\n    if (this._timeoutId !== undefined) {\n      this.clearActiveTimeout(packet);\n    }\n    this.applyBackpressure(packet);\n    if (this._resolve) {\n      this._resolve();\n      delete this._resolve;\n    }\n  }\n\n  kill(value) {\n    this._killPacket = {value, done: true};\n    if (this._timeoutId !== undefined) {\n      this.clearActiveTimeout(this._killPacket);\n    }\n    this._destroy();\n\n    if (this._resolve) {\n      this._resolve();\n      delete this._resolve;\n    }\n  }\n\n  _destroy() {\n    this.isAlive = false;\n    this._resetBackpressure();\n    this.stream.removeConsumer(this.id);\n  }\n\n  async _waitForNextItem(timeout) {\n    return new Promise((resolve, reject) => {\n      this._resolve = resolve;\n      let timeoutId;\n      if (timeout !== undefined) {\n        // Create the error object in the outer scope in order\n        // to get the full stack trace.\n        let error = new Error('Stream consumer iteration timed out');\n        (async () => {\n          let delay = wait(timeout);\n          timeoutId = delay.timeoutId;\n          await delay.promise;\n          error.name = 'TimeoutError';\n          delete this._resolve;\n          reject(error);\n        })();\n      }\n      this._timeoutId = timeoutId;\n    });\n  }\n\n  async next() {\n    this.stream.setConsumer(this.id, this);\n\n    while (true) {\n      if (!this.currentNode.next) {\n        try {\n          await this._waitForNextItem(this.timeout);\n        } catch (error) {\n          this._destroy();\n          throw error;\n        }\n      }\n      if (this._killPacket) {\n        this._destroy();\n        let killPacket = this._killPacket;\n        delete this._killPacket;\n\n        return killPacket;\n      }\n\n      this.currentNode = this.currentNode.next;\n      this.releaseBackpressure(this.currentNode.data);\n\n      if (this.currentNode.consumerId && this.currentNode.consumerId !== this.id) {\n        continue;\n      }\n\n      if (this.currentNode.data.done) {\n        this._destroy();\n      }\n\n      return this.currentNode.data;\n    }\n  }\n\n  return() {\n    delete this.currentNode;\n    this._destroy();\n    return {};\n  }\n\n  [Symbol.asyncIterator]() {\n    return this;\n  }\n}\n\nfunction wait(timeout) {\n  let timeoutId;\n  let promise = new Promise((resolve) => {\n    timeoutId = setTimeout(resolve, timeout);\n  });\n  return {timeoutId, promise};\n}\n\nmodule.exports = Consumer;\n","const AGClientSocket = require('./lib/clientsocket');\nconst factory = require('./lib/factory');\nconst version = '20.0.1';\n\nmodule.exports.factory = factory;\nmodule.exports.AGClientSocket = AGClientSocket;\n\nmodule.exports.create = function (options) {\n  return factory.create({...options, version});\n};\n\nmodule.exports.version = version;\n","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n","const scErrors = require('sc-errors');\nconst InvalidActionError = scErrors.InvalidActionError;\n\nfunction AGRequest(socket, id, procedureName, data) {\n  this.socket = socket;\n  this.id = id;\n  this.procedure = procedureName;\n  this.data = data;\n  this.sent = false;\n\n  this._respond = (responseData, options) => {\n    if (this.sent) {\n      throw new InvalidActionError(`Response to request ${this.id} has already been sent`);\n    }\n    this.sent = true;\n    this.socket.sendObject(responseData, options);\n  };\n\n  this.end = (data, options) => {\n    let responseData = {\n      rid: this.id\n    };\n    if (data !== undefined) {\n      responseData.data = data;\n    }\n    this._respond(responseData, options);\n  };\n\n  this.error = (error, options) => {\n    let responseData = {\n      rid: this.id,\n      error: scErrors.dehydrateError(error)\n    };\n    this._respond(responseData, options);\n  };\n}\n\nmodule.exports = AGRequest;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","// Based on https://github.com/dscape/cycle/blob/master/cycle.js\n\nmodule.exports = function decycle(object) {\n// Make a deep copy of an object or array, assuring that there is at most\n// one instance of each object or array in the resulting structure. The\n// duplicate references (which might be forming cycles) are replaced with\n// an object of the form\n//      {$ref: PATH}\n// where the PATH is a JSONPath string that locates the first occurance.\n// So,\n//      var a = [];\n//      a[0] = a;\n//      return JSON.stringify(JSON.decycle(a));\n// produces the string '[{\"$ref\":\"$\"}]'.\n\n// JSONPath is used to locate the unique object. $ indicates the top level of\n// the object or array. [NUMBER] or [STRING] indicates a child member or\n// property.\n\n    var objects = [],   // Keep a reference to each unique object or array\n        paths = [];     // Keep the path to each unique object or array\n\n    return (function derez(value, path) {\n\n// The derez recurses through the object, producing the deep copy.\n\n        var i,          // The loop counter\n            name,       // Property name\n            nu;         // The new object or array\n\n// typeof null === 'object', so go on if this value is really an object but not\n// one of the weird builtin objects.\n\n        if (typeof value === 'object' && value !== null &&\n                !(value instanceof Boolean) &&\n                !(value instanceof Date)    &&\n                !(value instanceof Number)  &&\n                !(value instanceof RegExp)  &&\n                !(value instanceof String)) {\n\n// If the value is an object or array, look to see if we have already\n// encountered it. If so, return a $ref/path object. This is a hard way,\n// linear search that will get slower as the number of unique objects grows.\n\n            for (i = 0; i < objects.length; i += 1) {\n                if (objects[i] === value) {\n                    return {$ref: paths[i]};\n                }\n            }\n\n// Otherwise, accumulate the unique value and its path.\n\n            objects.push(value);\n            paths.push(path);\n\n// If it is an array, replicate the array.\n\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n                nu = [];\n                for (i = 0; i < value.length; i += 1) {\n                    nu[i] = derez(value[i], path + '[' + i + ']');\n                }\n            } else {\n\n// If it is an object, replicate the object.\n\n                nu = {};\n                for (name in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, name)) {\n                        nu[name] = derez(value[name],\n                            path + '[' + JSON.stringify(name) + ']');\n                    }\n                }\n            }\n            return nu;\n        }\n        return value;\n    }(object, '$'));\n};\n","const WritableConsumableStream = require('writable-consumable-stream');\nconst DemuxedConsumableStream = require('./demuxed-consumable-stream');\n\nclass StreamDemux {\n  constructor() {\n    this.streams = {};\n    this._nextConsumerId = 1;\n    this.generateConsumerId = () => {\n      return this._nextConsumerId++;\n    };\n  }\n\n  write(streamName, value) {\n    if (this.streams[streamName]) {\n      this.streams[streamName].write(value);\n    }\n  }\n\n  close(streamName, value) {\n    if (this.streams[streamName]) {\n      this.streams[streamName].close(value);\n    }\n  }\n\n  closeAll(value) {\n    for (let stream of Object.values(this.streams)) {\n      stream.close(value);\n    }\n  }\n\n  writeToConsumer(consumerId, value) {\n    for (let stream of Object.values(this.streams)) {\n      if (stream.hasConsumer(consumerId)) {\n        return stream.writeToConsumer(consumerId, value);\n      }\n    }\n  }\n\n  closeConsumer(consumerId, value) {\n    for (let stream of Object.values(this.streams)) {\n      if (stream.hasConsumer(consumerId)) {\n        return stream.closeConsumer(consumerId, value);\n      }\n    }\n  }\n\n  getConsumerStats(consumerId) {\n    for (let [streamName, stream] of Object.entries(this.streams)) {\n      if (stream.hasConsumer(consumerId)) {\n        return {\n          ...stream.getConsumerStats(consumerId),\n          stream: streamName\n        };\n      }\n    }\n    return undefined;\n  }\n\n  getConsumerStatsList(streamName) {\n    if (this.streams[streamName]) {\n      return this.streams[streamName]\n        .getConsumerStatsList()\n        .map(\n          (stats) => {\n            return {\n              ...stats,\n              stream: streamName\n            };\n          }\n        );\n    }\n    return [];\n  }\n\n  getConsumerStatsListAll() {\n    let allStatsList = [];\n    for (let streamName of Object.keys(this.streams)) {\n      let statsList = this.getConsumerStatsList(streamName);\n      for (let stats of statsList) {\n        allStatsList.push(stats);\n      }\n    }\n    return allStatsList;\n  }\n\n  kill(streamName, value) {\n    if (this.streams[streamName]) {\n      this.streams[streamName].kill(value);\n    }\n  }\n\n  killAll(value) {\n    for (let stream of Object.values(this.streams)) {\n      stream.kill(value);\n    }\n  }\n\n  killConsumer(consumerId, value) {\n    for (let stream of Object.values(this.streams)) {\n      if (stream.hasConsumer(consumerId)) {\n        return stream.killConsumer(consumerId, value);\n      }\n    }\n  }\n\n  getBackpressure(streamName) {\n    if (this.streams[streamName]) {\n      return this.streams[streamName].getBackpressure();\n    }\n    return 0;\n  }\n\n  getBackpressureAll() {\n    return Object.values(this.streams).reduce(\n      (max, stream) => Math.max(max, stream.getBackpressure()),\n      0\n    );\n  }\n\n  getConsumerBackpressure(consumerId) {\n    for (let stream of Object.values(this.streams)) {\n      if (stream.hasConsumer(consumerId)) {\n        return stream.getConsumerBackpressure(consumerId);\n      }\n    }\n    return 0;\n  }\n\n  hasConsumer(streamName, consumerId) {\n    if (this.streams[streamName]) {\n      return this.streams[streamName].hasConsumer(consumerId);\n    }\n    return false;\n  }\n\n  hasConsumerAll(consumerId) {\n    return Object.values(this.streams).some(stream => stream.hasConsumer(consumerId));\n  }\n\n  getConsumerCount(streamName) {\n    if (this.streams[streamName]) {\n      return this.streams[streamName].getConsumerCount();\n    }\n    return 0;\n  }\n\n  getConsumerCountAll() {\n    return Object.values(this.streams).reduce(\n      (sum, stream) => sum + stream.getConsumerCount(),\n      0\n    );\n  }\n\n  createConsumer(streamName, timeout) {\n    if (!this.streams[streamName]) {\n      this.streams[streamName] = new WritableConsumableStream({\n        generateConsumerId: this.generateConsumerId,\n        removeConsumerCallback: () => {\n          if (!this.getConsumerCount(streamName)) {\n            delete this.streams[streamName];\n          }\n        }\n      });\n    }\n    return this.streams[streamName].createConsumer(timeout);\n  }\n\n  // Unlike individual consumers, consumable streams support being iterated\n  // over by multiple for-await-of loops in parallel.\n  stream(streamName) {\n    return new DemuxedConsumableStream(this, streamName);\n  }\n\n  unstream(streamName) {\n    delete this.streams[streamName];\n  }\n}\n\nmodule.exports = StreamDemux;\n","const decycle = require('./decycle');\n\nconst isStrict = (function () { return !this; })();\n\nfunction AuthTokenExpiredError(message, expiry) {\n  this.name = 'AuthTokenExpiredError';\n  this.message = message;\n  this.expiry = expiry;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenExpiredError.prototype = Object.create(Error.prototype);\n\n\nfunction AuthTokenInvalidError(message) {\n  this.name = 'AuthTokenInvalidError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenInvalidError.prototype = Object.create(Error.prototype);\n\n\nfunction AuthTokenNotBeforeError(message, date) {\n  this.name = 'AuthTokenNotBeforeError';\n  this.message = message;\n  this.date = date;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenNotBeforeError.prototype = Object.create(Error.prototype);\n\n\n// For any other auth token error.\nfunction AuthTokenError(message) {\n  this.name = 'AuthTokenError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenError.prototype = Object.create(Error.prototype);\n\n// For any other auth error; not specifically related to the auth token itself.\nfunction AuthError(message) {\n  this.name = 'AuthError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthError.prototype = Object.create(Error.prototype);\n\n\nfunction SilentMiddlewareBlockedError(message, type) {\n  this.name = 'SilentMiddlewareBlockedError';\n  this.message = message;\n  this.type = type;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nSilentMiddlewareBlockedError.prototype = Object.create(Error.prototype);\n\n\nfunction InvalidActionError(message) {\n  this.name = 'InvalidActionError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidActionError.prototype = Object.create(Error.prototype);\n\nfunction InvalidArgumentsError(message) {\n  this.name = 'InvalidArgumentsError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidArgumentsError.prototype = Object.create(Error.prototype);\n\nfunction InvalidOptionsError(message) {\n  this.name = 'InvalidOptionsError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidOptionsError.prototype = Object.create(Error.prototype);\n\n\nfunction InvalidMessageError(message) {\n  this.name = 'InvalidMessageError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidMessageError.prototype = Object.create(Error.prototype);\n\n\nfunction SocketProtocolError(message, code) {\n  this.name = 'SocketProtocolError';\n  this.message = message;\n  this.code = code;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nSocketProtocolError.prototype = Object.create(Error.prototype);\n\n\nfunction ServerProtocolError(message) {\n  this.name = 'ServerProtocolError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nServerProtocolError.prototype = Object.create(Error.prototype);\n\nfunction HTTPServerError(message) {\n  this.name = 'HTTPServerError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nHTTPServerError.prototype = Object.create(Error.prototype);\n\n\nfunction ResourceLimitError(message) {\n  this.name = 'ResourceLimitError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nResourceLimitError.prototype = Object.create(Error.prototype);\n\n\nfunction TimeoutError(message) {\n  this.name = 'TimeoutError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nTimeoutError.prototype = Object.create(Error.prototype);\n\n\nfunction BadConnectionError(message, type, code, reason) {\n  this.name = 'BadConnectionError';\n  this.message = message;\n  this.type = type;\n  this.code = code || 1001;\n  this.reason = reason || socketProtocolIgnoreStatuses[this.code] || '';\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nBadConnectionError.prototype = Object.create(Error.prototype);\n\n\nfunction BrokerError(message) {\n  this.name = 'BrokerError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nBrokerError.prototype = Object.create(Error.prototype);\n\n\nfunction ProcessExitError(message, code) {\n  this.name = 'ProcessExitError';\n  this.message = message;\n  this.code = code;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nProcessExitError.prototype = Object.create(Error.prototype);\n\n\nfunction UnknownError(message) {\n  this.name = 'UnknownError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nUnknownError.prototype = Object.create(Error.prototype);\n\n\n// Expose all error types.\n\nmodule.exports = {\n  AuthTokenExpiredError: AuthTokenExpiredError,\n  AuthTokenInvalidError: AuthTokenInvalidError,\n  AuthTokenNotBeforeError: AuthTokenNotBeforeError,\n  AuthTokenError: AuthTokenError,\n  AuthError: AuthError,\n  SilentMiddlewareBlockedError: SilentMiddlewareBlockedError,\n  InvalidActionError: InvalidActionError,\n  InvalidArgumentsError: InvalidArgumentsError,\n  InvalidOptionsError: InvalidOptionsError,\n  InvalidMessageError: InvalidMessageError,\n  SocketProtocolError: SocketProtocolError,\n  ServerProtocolError: ServerProtocolError,\n  HTTPServerError: HTTPServerError,\n  ResourceLimitError: ResourceLimitError,\n  TimeoutError: TimeoutError,\n  BadConnectionError: BadConnectionError,\n  BrokerError: BrokerError,\n  ProcessExitError: ProcessExitError,\n  UnknownError: UnknownError\n};\n\nconst socketProtocolErrorStatuses = {\n  1001: 'Socket was disconnected',\n  1002: 'A WebSocket protocol error was encountered',\n  1003: 'Server terminated socket because it received invalid data',\n  1005: 'Socket closed without status code',\n  1006: 'Socket hung up',\n  1007: 'Message format was incorrect',\n  1008: 'Encountered a policy violation',\n  1009: 'Message was too big to process',\n  1010: 'Client ended the connection because the server did not comply with extension requirements',\n  1011: 'Server encountered an unexpected fatal condition',\n  4000: 'Server ping timed out',\n  4001: 'Client pong timed out',\n  4002: 'Server failed to sign auth token',\n  4003: 'Failed to complete handshake',\n  4004: 'Client failed to save auth token',\n  4005: 'Did not receive #handshake from client before timeout',\n  4006: 'Failed to bind socket to message broker',\n  4007: 'Client connection establishment timed out',\n  4008: 'Server rejected handshake from client',\n  4009: 'Server received a message before the client handshake'\n};\n\nconst socketProtocolIgnoreStatuses = {\n  1000: 'Socket closed normally',\n  1001: socketProtocolErrorStatuses[1001]\n};\n\nmodule.exports.socketProtocolErrorStatuses = socketProtocolErrorStatuses;\nmodule.exports.socketProtocolIgnoreStatuses = socketProtocolIgnoreStatuses;\n\n// Convert an error into a JSON-compatible type which can later be hydrated\n// back to its *original* form.\nmodule.exports.dehydrateError = function dehydrateError(error) {\n  let dehydratedError;\n\n  if (error && typeof error === 'object') {\n    dehydratedError = {\n      message: error.message\n    };\n    for (let i of Object.keys(error)) {\n      dehydratedError[i] = error[i];\n    }\n  } else if (typeof error === 'function') {\n    dehydratedError = '[function ' + (typeof error.name === 'string' ? error.name : 'anonymous') + ']';\n  } else {\n    dehydratedError = error;\n  }\n\n  return decycle(dehydratedError);\n};\n\n// Convert a dehydrated error back to its *original* form.\nmodule.exports.hydrateError = function hydrateError(error) {\n  let hydratedError = null;\n  if (error != null) {\n    if (typeof error === 'object') {\n      hydratedError = new Error(\n        typeof error.message === 'string' ? error.message : 'Invalid error message format'\n      );\n      if (typeof error.name === 'string') {\n        hydratedError.name = error.name;\n      }\n      for (let i of Object.keys(error)) {\n        if (hydratedError[i] === undefined) {\n          hydratedError[i] = error[i];\n        }\n      }\n    } else {\n      hydratedError = error;\n    }\n  }\n  return hydratedError;\n};\n\nmodule.exports.decycle = decycle;\n","const ConsumableStream = require('consumable-stream');\n\nclass DemuxedConsumableStream extends ConsumableStream {\n  constructor(streamDemux, name) {\n    super();\n    this._streamDemux = streamDemux;\n    this.name = name;\n  }\n\n  createConsumer(timeout) {\n    return this._streamDemux.createConsumer(this.name, timeout);\n  }\n}\n\nmodule.exports = DemuxedConsumableStream;\n","const base64Chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nconst validJSONStartRegex = /^[ \\n\\r\\t]*[{\\[]/;\n\nlet arrayBufferToBase64 = function (arraybuffer) {\n  let bytes = new Uint8Array(arraybuffer);\n  let len = bytes.length;\n  let base64 = '';\n\n  for (let i = 0; i < len; i += 3) {\n    base64 += base64Chars[bytes[i] >> 2];\n    base64 += base64Chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n    base64 += base64Chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n    base64 += base64Chars[bytes[i + 2] & 63];\n  }\n\n  if ((len % 3) === 2) {\n    base64 = base64.substring(0, base64.length - 1) + '=';\n  } else if (len % 3 === 1) {\n    base64 = base64.substring(0, base64.length - 2) + '==';\n  }\n\n  return base64;\n};\n\nlet binaryToBase64Replacer = function (key, value) {\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return {\n      base64: true,\n      data: arrayBufferToBase64(value)\n    };\n  } else if (typeof Buffer !== 'undefined') {\n    if (value instanceof Buffer){\n      return {\n        base64: true,\n        data: value.toString('base64')\n      };\n    }\n    // Some versions of Node.js convert Buffers to Objects before they are passed to\n    // the replacer function - Because of this, we need to rehydrate Buffers\n    // before we can convert them to base64 strings.\n    if (value && value.type === 'Buffer' && Array.isArray(value.data)) {\n      let rehydratedBuffer;\n      if (Buffer.from) {\n        rehydratedBuffer = Buffer.from(value.data);\n      } else {\n        rehydratedBuffer = new Buffer(value.data);\n      }\n      return {\n        base64: true,\n        data: rehydratedBuffer.toString('base64')\n      };\n    }\n  }\n  return value;\n};\n\n// Decode the data which was transmitted over the wire to a JavaScript Object in a format which SC understands.\n// See encode function below for more details.\nmodule.exports.decode = function (encodedMessage) {\n  if (encodedMessage == null) {\n   return null;\n  }\n  // Leave ping or pong message as is\n  if (encodedMessage === '#1' || encodedMessage === '#2') {\n    return encodedMessage;\n  }\n  let message = encodedMessage.toString();\n\n  // Performance optimization to detect invalid JSON packet sooner.\n  if (!validJSONStartRegex.test(message)) {\n    return message;\n  }\n\n  try {\n    return JSON.parse(message);\n  } catch (err) {}\n  return message;\n};\n\n// Encode raw data (which is in the SC protocol format) into a format for\n// transfering it over the wire. In this case, we just convert it into a simple JSON string.\n// If you want to create your own custom codec, you can encode the object into any format\n// (e.g. binary ArrayBuffer or string with any kind of compression) so long as your decode\n// function is able to rehydrate that object back into its original JavaScript Object format\n// (which adheres to the SC protocol).\n// See https://github.com/SocketCluster/socketcluster/blob/master/socketcluster-protocol.md\n// for details about the SC protocol.\nmodule.exports.encode = function (rawData) {\n  // Leave ping or pong message as is\n  if (rawData === '#1' || rawData === '#2') {\n    return rawData;\n  }\n  return JSON.stringify(rawData, binaryToBase64Replacer);\n};\n","let globalScope;\r\nif (typeof WorkerGlobalScope !== 'undefined') {\r\n  globalScope = self;\r\n} else {\r\n  globalScope = typeof window !== 'undefined' && window || (function() { return this; })();\r\n}\r\n\r\nconst WebSocket = globalScope.WebSocket || globalScope.MozWebSocket;\r\n\r\n/**\r\n * WebSocket constructor.\r\n *\r\n * The third `opts` options object gets ignored in web browsers, since it's\r\n * non-standard, and throws a TypeError if passed to the constructor.\r\n * See: https://github.com/einaros/ws/issues/227\r\n *\r\n * @param {String} uri\r\n * @param {Array} protocols (optional)\r\n * @param {Object} opts (optional)\r\n * @api public\r\n */\r\n\r\nfunction ws(uri, protocols, opts) {\r\n  let instance;\r\n  if (protocols) {\r\n    instance = new WebSocket(uri, protocols);\r\n  } else {\r\n    instance = new WebSocket(uri);\r\n  }\r\n  return instance;\r\n}\r\n\r\nif (WebSocket) ws.prototype = WebSocket.prototype;\r\n\r\nmodule.exports = WebSocket ? ws : null;\r\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nvar K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1)\n    var proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  var buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  var valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  var b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(\n      value[Symbol.toPrimitive]('string'), encodingOrOffset, length\n    )\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  var length = byteLength(string, encoding) | 0\n  var buf = createBuffer(length)\n\n  var actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  var buf = createBuffer(length)\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    var copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  var buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    var buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        Buffer.from(buf).copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  var len = string.length\n  var mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  var strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (var i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    var len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nvar hexSliceLookupTable = (function () {\n  var alphabet = '0123456789abcdef'\n  var table = new Array(256)\n  for (var i = 0; i < 16; ++i) {\n    var i16 = i * 16\n    for (var j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n","const AGClientSocket = require('./clientsocket');\r\nconst uuid = require('uuid');\r\nconst scErrors = require('sc-errors');\r\nconst InvalidArgumentsError = scErrors.InvalidArgumentsError;\r\n\r\nfunction isUrlSecure() {\r\n  return typeof location !== 'undefined' && location.protocol === 'https:';\r\n}\r\n\r\nfunction getPort(options, isSecureDefault) {\r\n  let isSecure = options.secure == null ? isSecureDefault : options.secure;\r\n  return options.port || (typeof location !== 'undefined' && location.port ? location.port : isSecure ? 443 : 80);\r\n}\r\n\r\nfunction create(options) {\r\n  options = options || {};\r\n\r\n  if (options.host && !options.host.match(/[^:]+:\\d{2,5}/)) {\r\n    throw new InvalidArgumentsError(\r\n      'The host option should include both' +\r\n      ' the hostname and the port number in the hostname:port format'\r\n    );\r\n  }\r\n\r\n  if (options.host && options.hostname) {\r\n    throw new InvalidArgumentsError(\r\n      'The host option should already include' +\r\n      ' the hostname and the port number in the hostname:port format' +\r\n      ' - Because of this, you should never use host and hostname options together'\r\n    );\r\n  }\r\n\r\n  if (options.host && options.port) {\r\n    throw new InvalidArgumentsError(\r\n      'The host option should already include' +\r\n      ' the hostname and the port number in the hostname:port format' +\r\n      ' - Because of this, you should never use host and port options together'\r\n    );\r\n  }\r\n\r\n  let isSecureDefault = isUrlSecure();\r\n\r\n  let opts = {\r\n    clientId: uuid.v4(),\r\n    port: getPort(options, isSecureDefault),\r\n    hostname: typeof location !== 'undefined' && location.hostname || 'localhost',\r\n    secure: isSecureDefault\r\n  };\r\n\r\n  Object.assign(opts, options);\r\n\r\n  return new AGClientSocket(opts);\r\n}\r\n\r\nmodule.exports = {\r\n  create\r\n};\r\n","'use strict';\n\n/**\n * Module dependenices\n */\n\nconst clone = require('shallow-clone');\nconst typeOf = require('kind-of');\nconst isPlainObject = require('is-plain-object');\n\nfunction cloneDeep(val, instanceClone) {\n  switch (typeOf(val)) {\n    case 'object':\n      return cloneObjectDeep(val, instanceClone);\n    case 'array':\n      return cloneArrayDeep(val, instanceClone);\n    default: {\n      return clone(val);\n    }\n  }\n}\n\nfunction cloneObjectDeep(val, instanceClone) {\n  if (typeof instanceClone === 'function') {\n    return instanceClone(val);\n  }\n  if (instanceClone || isPlainObject(val)) {\n    const res = new val.constructor();\n    for (let key in val) {\n      res[key] = cloneDeep(val[key], instanceClone);\n    }\n    return res;\n  }\n  return val;\n}\n\nfunction cloneArrayDeep(val, instanceClone) {\n  const res = new val.constructor(val.length);\n  for (let i = 0; i < val.length; i++) {\n    res[i] = cloneDeep(val[i], instanceClone);\n  }\n  return res;\n}\n\n/**\n * Expose `cloneDeep`\n */\n\nmodule.exports = cloneDeep;\n","const ConsumableStream = require('consumable-stream');\n\nclass AGChannel extends ConsumableStream {\n  constructor(name, client, eventDemux, dataDemux) {\n    super();\n    this.PENDING = AGChannel.PENDING;\n    this.SUBSCRIBED = AGChannel.SUBSCRIBED;\n    this.UNSUBSCRIBED = AGChannel.UNSUBSCRIBED;\n\n    this.name = name;\n    this.client = client;\n\n    this._eventDemux = eventDemux;\n    this._dataStream = dataDemux.stream(this.name);\n  }\n\n  createConsumer(timeout) {\n    return this._dataStream.createConsumer(timeout);\n  }\n\n  listener(eventName) {\n    return this._eventDemux.stream(`${this.name}/${eventName}`);\n  }\n\n  close() {\n    this.client.closeChannel(this.name);\n  }\n\n  kill() {\n    this.client.killChannel(this.name);\n  }\n\n  killOutputConsumer(consumerId) {\n    if (this.hasOutputConsumer(consumerId)) {\n      this.client.killChannelOutputConsumer(consumerId);\n    }\n  }\n\n  killListenerConsumer(consumerId) {\n    if (this.hasAnyListenerConsumer(consumerId)) {\n      this.client.killChannelListenerConsumer(consumerId);\n    }\n  }\n\n  getOutputConsumerStats(consumerId) {\n    if (this.hasOutputConsumer(consumerId)) {\n      return this.client.getChannelOutputConsumerStats(consumerId);\n    }\n    return undefined;\n  }\n\n  getListenerConsumerStats(consumerId) {\n    if (this.hasAnyListenerConsumer(consumerId)) {\n      return this.client.getChannelListenerConsumerStats(consumerId);\n    }\n    return undefined;\n  }\n\n  getBackpressure() {\n    return this.client.getChannelBackpressure(this.name);\n  }\n\n  getListenerConsumerBackpressure(consumerId) {\n    if (this.hasAnyListenerConsumer(consumerId)) {\n      return this.client.getChannelListenerConsumerBackpressure(consumerId);\n    }\n    return 0;\n  }\n\n  getOutputConsumerBackpressure(consumerId) {\n    if (this.hasOutputConsumer(consumerId)) {\n      return this.client.getChannelOutputConsumerBackpressure(consumerId);\n    }\n    return 0;\n  }\n\n  closeOutput() {\n    this.client.channelCloseOutput(this.name);\n  }\n\n  closeListener(eventName) {\n    this.client.channelCloseListener(this.name, eventName);\n  }\n\n  closeAllListeners() {\n    this.client.channelCloseAllListeners(this.name);\n  }\n\n  killOutput() {\n    this.client.channelKillOutput(this.name);\n  }\n\n  killListener(eventName) {\n    this.client.channelKillListener(this.name, eventName);\n  }\n\n  killAllListeners() {\n    this.client.channelKillAllListeners(this.name);\n  }\n\n  getOutputConsumerStatsList() {\n    return this.client.channelGetOutputConsumerStatsList(this.name);\n  }\n\n  getListenerConsumerStatsList(eventName) {\n    return this.client.channelGetListenerConsumerStatsList(this.name, eventName);\n  }\n\n  getAllListenersConsumerStatsList() {\n    return this.client.channelGetAllListenersConsumerStatsList(this.name);\n  }\n\n  getOutputBackpressure() {\n    return this.client.channelGetOutputBackpressure(this.name);\n  }\n\n  getListenerBackpressure(eventName) {\n    return this.client.channelGetListenerBackpressure(this.name, eventName);\n  }\n\n  getAllListenersBackpressure() {\n    return this.client.channelGetAllListenersBackpressure(this.name);\n  }\n\n  hasOutputConsumer(consumerId) {\n    return this.client.channelHasOutputConsumer(this.name, consumerId);\n  }\n\n  hasListenerConsumer(eventName, consumerId) {\n    return this.client.channelHasListenerConsumer(this.name, eventName, consumerId);\n  }\n\n  hasAnyListenerConsumer(consumerId) {\n    return this.client.channelHasAnyListenerConsumer(this.name, consumerId);\n  }\n\n  get state() {\n    return this.client.getChannelState(this.name);\n  }\n\n  set state(value) {\n    throw new Error('Cannot directly set channel state');\n  }\n\n  get options() {\n    return this.client.getChannelOptions(this.name);\n  }\n\n  set options(value) {\n    throw new Error('Cannot directly set channel options');\n  }\n\n  subscribe(options) {\n    this.client.subscribe(this.name, options);\n  }\n\n  unsubscribe() {\n    this.client.unsubscribe(this.name);\n  }\n\n  isSubscribed(includePending) {\n    return this.client.isSubscribed(this.name, includePending);\n  }\n\n  transmitPublish(data) {\n    return this.client.transmitPublish(this.name, data);\n  }\n\n  invokePublish(data) {\n    return this.client.invokePublish(this.name, data);\n  }\n}\n\nAGChannel.PENDING = 'pending';\nAGChannel.SUBSCRIBED = 'subscribed';\nAGChannel.UNSUBSCRIBED = 'unsubscribed';\n\nmodule.exports = AGChannel;\n"],"names":["exports","read","buffer","offset","isLE","mLen","nBytes","e","m","eLen","eMax","eBias","nBits","i","d","s","NaN","Infinity","Math","pow","write","value","c","rt","abs","isNaN","floor","log","LN2","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","uuid","test","byteToHex","push","toString","substr","_nodeId","_clockseq","arr","arguments","length","undefined","toLowerCase","TypeError","_lastMSecs","_lastNSecs","options","buf","b","Array","node","clockseq","seedBytes","random","msecs","Date","now","nsecs","dt","tl","tmh","n","v","parseInt","slice","name","version","hashfunc","generateUUID","namespace","str","unescape","encodeURIComponent","bytes","charCodeAt","stringToBytes","set","err","DNS","URL","getOutputLength","inputLength8","safeAdd","x","y","lsw","md5cmn","q","a","t","num","cnt","md5ff","md5gg","md5hh","md5ii","v35","msg","input","output","length32","hexTab","hex","charAt","md5ToHexEncodedArray","len","olda","oldb","oldc","oldd","wordsToMd5","length8","Uint32Array","bytesToWords","rnds","f","z","ROTL","K","H","isArray","prototype","call","l","N","ceil","M","_i","j","_i2","W","_t","_t2","T","ConsumableStream","next","timeout","asyncIterator","this","createConsumer","result","return","once","done","error","Promise","Symbol","module","duration","resolve","setTimeout","List","Item","ListItem","ListPrototype","ListItemPrototype","IterPrototype","Iter","$iterator","iterator","tail","head","of","appendAll","from","items","toArray","item","prepend","self","append","detach","errorMessage","list","size","prev","current","index","iter","AGRequest","require","WebSocket","scErrors","TimeoutError","BadConnectionError","AGTransport","authEngine","codecEngine","wsOptions","handlers","state","CLOSED","auth","codec","protocolVersion","connectTimeout","pingTimeout","pingTimeoutDisabled","callIdGenerator","authTokenName","isBufferingBatch","_pingTimeoutTicker","_callbackMap","_batchBuffer","lastPingTimestamp","_onOpenHandler","onOpen","_onOpenAbortHandler","onOpenAbort","_onCloseHandler","onClose","_onEventHandler","onEvent","_onErrorHandler","onError","_onInboundInvokeHandler","onInboundInvoke","_onInboundTransmitHandler","onInboundTransmit","CONNECTING","wsSocket","uri","createWebSocket","binaryType","socket","onopen","_onOpen","onclose","async","code","event","_destroy","reason","onmessage","message","flags","_onMessage","data","onerror","_connectTimeoutRef","close","_handlePing","_resetPingTimeout","readyState","OPEN","send","computeURI","scheme","query","protocolScheme","secure","timestampRequests","timestampParam","getTime","host","path","searchParams","URLSearchParams","key","Object","entries","socketPath","port","hostname","concat","status","clearTimeout","_handshake","statusCode","_onError","token","loadToken","invoke","authToken","force","authError","hydrateError","_abortAllPendingEventsDueToBadConnection","failureType","keys","forEach","eventObject","badConnectionError","callback","socketProtocolErrorStatuses","_processInboundPacket","packet","cid","request","_objectSpread","rid","rehydratedError","decode","isStale","clearAllListeners","startBatch","flushBatch","serializedBatch","serializeObject","cancelBatch","getBytesReceived","bytesReceived","transmitObject","simpleEventObject","sendObject","_handleEventAckTimeout","transmit","invokeRaw","noTimeout","ackTimeout","reject","cancelPendingResponse","encode","object","ctorName","val","constructor","type","isBuffer","callee","indexOf","isArguments","toDateString","getDate","setDate","isDate","stackTraceLimit","isError","RegExp","ignoreCase","multiline","global","isRegexp","throw","isGeneratorObj","replace","StreamDemux","AsyncStreamEmitter","_listenerDemux","emit","eventName","listener","stream","closeListener","closeAllListeners","closeAll","removeListener","unstream","getListenerConsumerStats","consumerId","getConsumerStats","getListenerConsumerStatsList","getConsumerStatsList","getAllListenersConsumerStatsList","getConsumerStatsListAll","getListenerConsumerCount","getConsumerCount","getAllListenersConsumerCount","getConsumerCountAll","killListener","kill","killAllListeners","killAll","killListenerConsumer","killConsumer","getListenerBackpressure","getBackpressure","getAllListenersBackpressure","getBackpressureAll","getListenerConsumerBackpressure","getConsumerBackpressure","hasListenerConsumer","hasConsumer","hasAnyListenerConsumer","hasConsumerAll","AuthEngine","_internalStorage","isLocalStorageEnabled","_checkLocalStorageEnabled","localStorage","setItem","removeItem","saveToken","removeToken","loadPromise","getItem","valueOf","typeOf","deep","assign","Number","Map","Set","Buffer","allocUnsafe","copy","cloneBuffer","cloneSymbol","res","byteLength","cloneArrayBuffer","byteOffset","cloneTypedArray","exec","re","source","lastIndex","cloneRegExp","create","Consumer","super","_nextConsumerId","generateConsumerId","removeConsumerCallback","_consumers","tailNode","_write","dataNode","consumer","values","writeToConsumer","closeConsumer","get","maxBackpressure","backpressure","has","setConsumer","currentNode","removeConsumer","delete","getStats","consumerStats","getConsumerList","AGChannel","formatter","LinkedList","cloneDeep","wait","InvalidArgumentsError","InvalidMessageError","SocketProtocolError","AGClientSocket","socketOptions","opts","autoConnect","autoReconnect","autoSubscribeOnConnect","batchOnHandshake","batchOnHandshakeDuration","batchInterval","cloneData","_generateAuthTokenNameFromURI","id","authState","UNAUTHENTICATED","signedAuthToken","pendingReconnect","pendingReconnectTimeout","preparingPendingSubscriptions","clientId","channelPrefix","maxTimeout","verifyDuration","propertyName","connectAttempts","isBatching","_batchingIntervalId","_outboundBuffer","_channelMap","_channelEventDemux","_channelDataDemux","_receiverDemux","_procedureDemux","_cid","autoReconnectOptions","reconnectOptions","initialDelay","randomness","multiplier","maxDelay","subscriptionRetryOptions","protocol","protocolOptionError","queryObject","currentValue","connect","AUTHENTICATED","SUBSCRIBED","PENDING","UNSUBSCRIBED","ignoreStatuses","socketProtocolIgnoreStatuses","errorStatuses","defineProperty","transport","max","getAllReceiversBackpressure","getAllProceduresBackpressure","getAllChannelsBackpressure","authHostString","_setAuthToken","_changeToAuthenticatedState","_removeAuthToken","oldAuthToken","_changeToUnauthenticatedStateAndClearTokens","_privateDataHandlerMap","channel","undecoratedChannelName","_undecorateChannelName","isSubscribed","_triggerChannelUnsubscribe","_privateRPCHandlerMap","end","stack","getState","deauthenticate","disconnect","_reconnectTimeoutRef","transportHandlers","_onInboundInvoke","_onInboundTransmit","reconnect","isConnecting","oldAuthState","oldSignedAuthToken","stateChangeData","newAuthState","_extractAuthTokenData","processPendingSubscriptions","decodeBase64","encodedString","encodeBase64","decodedString","encodedTokenData","split","tokenData","JSON","parse","getAuthToken","getSignedAuthToken","authenticate","authStatus","isAuthenticated","_tryReconnect","exponent","initialTimeout","round","_startBatching","_stopBatching","_flushOutboundBuffer","_suspendSubscriptions","channelName","nextNode","openAbort","_cancelBatching","closeMessage","handler","procedure","eventNode","_processOutboundEvent","expectResponse","promise","transmitPublish","pubData","_decorateChannelName","invokePublish","_triggerChannelSubscribe","subscriptionOptions","oldChannelState","newChannelState","_triggerChannelSubscribeFail","meetsAuthRequirements","waitForAuth","_cancelPendingSubscribeCallback","_pendingSubscriptionCid","decoratedChannelName","setInterval","startBatching","clearInterval","stopBatching","cancelBatching","_trySubscribe","subscribe","sanitizedOptions","priority","setAsPending","_tryUnsubscribe","unsubscribe","receiver","receiverName","closeReceiver","closeAllReceivers","killReceiver","killAllReceivers","killReceiverConsumer","getReceiverConsumerStats","getReceiverConsumerStatsList","getAllReceiversConsumerStatsList","getReceiverBackpressure","getReceiverConsumerBackpressure","hasReceiverConsumer","hasAnyReceiverConsumer","procedureName","closeProcedure","closeAllProcedures","killProcedure","killAllProcedures","killProcedureConsumer","getProcedureConsumerStats","getProcedureConsumerStatsList","getAllProceduresConsumerStatsList","getProcedureBackpressure","getProcedureConsumerBackpressure","hasProcedureConsumer","hasAnyProcedureConsumer","closeChannel","channelCloseOutput","channelCloseAllListeners","closeAllChannelOutputs","closeAllChannelListeners","closeAllChannels","killChannel","channelKillOutput","channelKillAllListeners","killAllChannelOutputs","killAllChannelListeners","killAllChannels","killChannelOutputConsumer","killChannelListenerConsumer","getChannelOutputConsumerStats","getChannelListenerConsumerStats","getAllChannelOutputsConsumerStatsList","getAllChannelListenersConsumerStatsList","getChannelBackpressure","channelGetOutputBackpressure","channelGetAllListenersBackpressure","getAllChannelOutputsBackpressure","getAllChannelListenersBackpressure","getChannelListenerConsumerBackpressure","getChannelOutputConsumerBackpressure","hasAnyChannelOutputConsumer","hasAnyChannelListenerConsumer","getChannelState","getChannelOptions","_getAllChannelStreamNames","streamNamesLookup","filter","stats","reduce","accumulator","channelCloseListener","streamName","channelKillListener","channelGetOutputConsumerStatsList","channelGetListenerConsumerStatsList","channelGetAllListenersConsumerStatsList","map","statsList","channelGetListenerBackpressure","listenerStreamBackpressures","channelHasOutputConsumer","channelHasListenerConsumer","channelHasAnyListenerConsumer","some","subscriptions","includePending","subs","pendingChannels","sort","ap","bp","startNode","_backpressure","isAlive","_resetBackpressure","applyBackpressure","releaseBackpressure","clearActiveTimeout","_timeoutId","_resolve","_killPacket","_waitForNextItem","timeoutId","delay","killPacket","factory","isObject","isObjectObject","o","ctor","prot","hasOwnProperty","InvalidActionError","sent","_respond","responseData","dehydrateError","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","Arr","_byteLength","curByte","revLookup","fromByteArray","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","lookup","join","start","objects","paths","derez","nu","Boolean","String","$ref","apply","stringify","WritableConsumableStream","DemuxedConsumableStream","streams","allStatsList","sum","decycle","isStrict","AuthTokenExpiredError","expiry","captureStackTrace","AuthTokenInvalidError","AuthTokenNotBeforeError","date","AuthTokenError","AuthError","SilentMiddlewareBlockedError","InvalidOptionsError","ServerProtocolError","HTTPServerError","ResourceLimitError","BrokerError","ProcessExitError","UnknownError","dehydratedError","hydratedError","streamDemux","_streamDemux","base64Chars","validJSONStartRegex","arrayBufferToBase64","arraybuffer","base64","substring","binaryToBase64Replacer","ArrayBuffer","rehydratedBuffer","encodedMessage","rawData","globalScope","WorkerGlobalScope","window","MozWebSocket","ws","protocols","instance","ieee754","customInspectSymbol","K_MAX_LENGTH","createBuffer","RangeError","setPrototypeOf","arg","encodingOrOffset","string","encoding","isEncoding","actual","fromString","isView","arrayView","isInstance","fromArrayBuffer","fromArrayLike","fromArrayView","SharedArrayBuffer","obj","checked","numberIsNaN","fromObject","toPrimitive","assertSize","array","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","found","hexWrite","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","min","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","foo","typedArraySupport","console","enumerable","poolSize","alloc","fill","allocUnsafeSlow","_isBuffer","compare","pos","swap16","swap32","swap64","toLocaleString","equals","inspect","trim","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","hexSliceLookupTable","checkOffset","ext","checkInt","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","INVALID_BASE64_RE","leadSurrogate","base64clean","src","dst","alphabet","table","i16","getPort","isSecureDefault","isSecure","location","match","v4","clone","isPlainObject","instanceClone","cloneObjectDeep","cloneArrayDeep","client","eventDemux","dataDemux","_eventDemux","_dataStream","killOutputConsumer","hasOutputConsumer","getOutputConsumerStats","getOutputConsumerBackpressure","closeOutput","killOutput","getOutputConsumerStatsList","getOutputBackpressure"],"ignoreList":[],"sourceRoot":""}