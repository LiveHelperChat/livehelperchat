"use strict";(globalThis.webpackChunkLHCReactAPP=globalThis.webpackChunkLHCReactAPP||[]).push([[959],{6959:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var s=a(4705),l=a(6540),i=a(1083),n=a(9270);class m extends l.PureComponent{constructor(e){super(e),(0,s.A)(this,"state",{mail:null,success:"",errors:null,sending:!1}),(0,s.A)(this,"dismissModal",(()=>{this.props.toggle()})),this.sendMail=this.sendMail.bind(this),this.emailRef=l.createRef()}sendMail(e){this.setState({sending:!0}),i.A.post(window.lhcChat.base_url+"widgetrestapi/sendmailsettings/"+this.props.chatId+"/"+this.props.chatHash+"/(action)/send",JSON.stringify({email:this.state.mail}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((e=>{0==e.data.error?this.props.toggle():(this.setState({sending:!1}),this.setState({errors:e.data.result}))})),e&&e.preventDefault()}componentDidMount(){i.A.get(window.lhcChat.base_url+"widgetrestapi/sendmailsettings/"+this.props.chatId+"/"+this.props.chatHash).then((e=>{this.setState({mail:e.data}),this.emailRef.current&&this.emailRef.current.focus()})).catch((e=>{console.log(e)}))}render(){const{t:e}=this.props;return l.createElement(l.Fragment,null,null!==this.state.mail&&l.createElement(l.Fragment,null,l.createElement("div",{className:"fade modal-backdrop show"}),l.createElement("div",{role:"dialog",id:"dialog-content","aria-modal":"true",className:"fade modal show d-block mail-send-modal",tabIndex:"-1"},l.createElement("div",{className:"modal-dialog modal-lg"},l.createElement("div",{className:"modal-content"},l.createElement("div",{className:"modal-header"}," ",l.createElement("h4",{className:"modal-title",id:"myModalLabel"},l.createElement("span",{className:"material-icons"},"ï„š"),e("button.mail")),l.createElement("button",{type:"button",className:"btn-close float-end","data-bs-dismiss":"modal",onClick:this.dismissModal,"aria-label":"Close"})),l.createElement("div",{className:"modal-body"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-12"},this.state.errors&&l.createElement("div",{className:"mb-0",dangerouslySetInnerHTML:{__html:this.state.errors}}),l.createElement("div",{className:"mb-0"},l.createElement("form",{onSubmit:this.sendMail},l.createElement("p",{className:"mail-explain"},e("button.email_explain")),l.createElement("div",{className:"form-group"},l.createElement("label",{className:"text-muted"},e("button.email")),l.createElement("input",{className:"form-control form-group form-control-sm",ref:this.emailRef,required:"required",type:"email",defaultValue:this.state.mail,onChange:e=>this.setState({mail:e.target.value}),placeholder:e("chat.enter_email"),title:e("chat.enter_email")})),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-5"},l.createElement("button",{type:"submit",disabled:this.state.sending||""==this.state.mail,className:"btn btn-primary w-100 btn-sm"},e("button.send"))),l.createElement("div",{className:"col-2"}),l.createElement("div",{className:"col-5"},l.createElement("button",{type:"button",className:"btn text-muted btn-link btn-sm w-100",onClick:this.dismissModal},e("button.cancel"))))))))))))))}}const r=(0,n.CI)()(m)}}]);
//# sourceMappingURL=959.75ed84f75d7431d868a1.js.map