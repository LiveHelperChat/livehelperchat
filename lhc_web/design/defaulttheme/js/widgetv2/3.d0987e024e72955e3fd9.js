(window["webpackJsonpLHCReactAPP"] = window["webpackJsonpLHCReactAPP"] || []).push([[3],{

/***/ "./src/components/VoiceMessage.js":
/*!****************************************!*\
  !*** ./src/components/VoiceMessage.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var vmsg__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! vmsg */ \"./node_modules/vmsg/vmsg.js\");\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-i18next */ \"./node_modules/react-i18next/dist/es/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nvar recorder = new vmsg__WEBPACK_IMPORTED_MODULE_10__[\"default\"].Recorder({\n  wasmURL: window.lhcChat['staticJS']['chunk_js'] + \"/\" + 'vmsg.8c4a15f2.wasm',\n  shimURL: \"https://unpkg.com/wasm-polyfill.js@0.2.0/wasm-polyfill.js\"\n});\n\nvar VoiceMessage = /*#__PURE__*/function (_PureComponent) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(VoiceMessage, _PureComponent);\n\n  function VoiceMessage(props) {\n    var _this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, VoiceMessage);\n\n    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(VoiceMessage).call(this, props));\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this), \"state\", {\n      isLoading: false,\n      isRecording: false,\n      isPlaying: false,\n      recording: null,\n      audioDuration: 0,\n      currentTime: 0\n    });\n\n    _this.startRecording = _this.startRecording.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this));\n    _this.stopRecording = _this.stopRecording.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this));\n    _this.playRecord = _this.playRecord.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this));\n    _this.stopPlayRecord = _this.stopPlayRecord.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this));\n    _this.sendRecord = _this.sendRecord.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6___default()(_this)); // Intervals\n\n    _this.durationInterval = null;\n    _this.playInterval = null;\n    return _this;\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(VoiceMessage, [{\n    key: \"startRecording\",\n    value: function () {\n      var _startRecording = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {\n        var _this2 = this;\n\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.stopPlayRecord();\n                this.setState({\n                  isLoading: true,\n                  audioDuration: 0,\n                  recording: null,\n                  isPlaying: false,\n                  currentTime: 0\n                });\n                _context.prev = 2;\n                _context.next = 5;\n                return recorder.initAudio();\n\n              case 5:\n                _context.next = 7;\n                return recorder.initWorker();\n\n              case 7:\n                recorder.startRecording();\n                this.setState({\n                  isLoading: false,\n                  isRecording: true\n                });\n                this.durationInterval = setInterval(function () {\n                  _this2.setState({\n                    audioDuration: _this2.state.audioDuration + 1\n                  }); // Do not allow to record longer message than defined messages length.\n\n\n                  if (_this2.state.audioDuration >= _this2.props.maxSeconds) {\n                    _this2.stopRecording();\n                  }\n                }, 1000);\n                _context.next = 16;\n                break;\n\n              case 12:\n                _context.prev = 12;\n                _context.t0 = _context[\"catch\"](2);\n                alert('Sorry but voice messages are not supported on your browser!');\n                this.setState({\n                  isLoading: false\n                });\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 12]]);\n      }));\n\n      function startRecording() {\n        return _startRecording.apply(this, arguments);\n      }\n\n      return startRecording;\n    }()\n  }, {\n    key: \"stopRecording\",\n    value: function () {\n      var _stopRecording = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {\n        var blob;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return recorder.stopRecording();\n\n              case 2:\n                blob = _context2.sent;\n                this.audio = new Audio();\n                this.audio.src = URL.createObjectURL(blob);\n                this.setState({\n                  isLoading: false,\n                  isRecording: false,\n                  recording: blob\n                });\n                clearInterval(this.durationInterval);\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function stopRecording() {\n        return _stopRecording.apply(this, arguments);\n      }\n\n      return stopRecording;\n    }()\n  }, {\n    key: \"playRecord\",\n    value: function playRecord() {\n      var _this3 = this;\n\n      this.audio.currentTime = 0;\n      this.audio.play();\n      this.setState({\n        isPlaying: true\n      });\n      this.playInterval = setInterval(function () {\n        _this3.setState({\n          currentTime: Math.round(_this3.audio.currentTime)\n        });\n\n        if (_this3.audio.ended || _this3.audio.paused) {\n          _this3.stopPlayRecord();\n        }\n      }, 1000);\n    }\n  }, {\n    key: \"stopPlayRecord\",\n    value: function stopPlayRecord() {\n      if (this.state.isPlaying) {\n        clearInterval(this.playInterval);\n        this.audio.currentTime = 0;\n        this.audio.pause();\n        this.setState({\n          isPlaying: false,\n          currentTime: 0\n        });\n      }\n    }\n  }, {\n    key: \"sendRecord\",\n    value: function sendRecord() {\n      var _this4 = this;\n\n      var t = this.props.t;\n      this.props.progress(t('file.uploading'));\n      var req = new XMLHttpRequest();\n      var formData = new FormData();\n      formData.append(\"files\", this.state.recording, \"record.mp3\");\n      req.open(\"POST\", this.props.base_url + '/file/uploadfile/' + this.props.chat_id + '/' + this.props.hash);\n      req.upload.addEventListener(\"load\", function (event) {\n        _this4.props.progress('100%');\n\n        _this4.props.onCompletion();\n\n        _this4.props.cancel();\n      });\n      req.send(formData);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      // Stop playing if anything is playing\n      this.stopPlayRecord(); // Stop recordng if it's recording\n\n      if (this.state.isRecording) {\n        recorder.stopRecording();\n      }\n    }\n  }, {\n    key: \"pad\",\n    value: function pad(n) {\n      return n < 10 ? \"0\" + n : n;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var _this$state = this.state,\n          isLoading = _this$state.isLoading,\n          isRecording = _this$state.isRecording,\n          recording = _this$state.recording,\n          isPlaying = _this$state.isPlaying;\n      var t = this.props.t;\n      return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(\"div\", {\n        className: \"text-nowrap\"\n      }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(\"i\", {\n        className: \"material-icons pointer text-danger fs25\",\n        title: t('voice.cancel_voice_message'),\n        onClick: function onClick() {\n          return _this5.props.cancel();\n        }\n      }, \"\\uF10A\"), !isRecording && react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(\"i\", {\n        className: \"material-icons fs25 pointer text-danger mr-0\",\n        title: t('voice.record_voice_message'),\n        onClick: this.startRecording\n      }, \"\\uF10F\"), isRecording && react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(\"i\", {\n        className: \"material-icons fs25 pointer text-danger mr-0\",\n        title: t('voice.stop_recording'),\n        onClick: this.stopRecording\n      }, \"\\uF112\"), recording && isPlaying === false && react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(\"i\", {\n        className: \"material-icons pointer text-success mr-0 fs25\",\n        title: t('voice.play_recorded'),\n        onClick: this.playRecord\n      }, \"\\uF111\"), recording && isPlaying === true && react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(\"i\", {\n        className: \"material-icons pointer text-success mr-0 fs25\",\n        title: t('voice.stop_playing_recorded'),\n        onClick: this.stopPlayRecord\n      }, \"\\uF112\"), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(\"span\", {\n        className: \"fs12 px-1\"\n      }, isRecording ? '' : isPlaying ? this.pad(this.state.currentTime) + ':' : '', isRecording || !recording ? this.props.maxSeconds - this.state.audioDuration + \" s.\" : this.pad(this.state.audioDuration) + (!isPlaying ? 's.' : '')), recording && react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(\"i\", {\n        className: \"material-icons pointer text-success mr-0 fs25\",\n        title: t('voice.send'),\n        onClick: this.sendRecord\n      }, \"\\uF107\"));\n    }\n  }]);\n\n  return VoiceMessage;\n}(react__WEBPACK_IMPORTED_MODULE_9__[\"PureComponent\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_i18next__WEBPACK_IMPORTED_MODULE_11__[\"withTranslation\"])()(VoiceMessage));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9Wb2ljZU1lc3NhZ2UuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9MSENSZWFjdEFQUC8uL3NyYy9jb21wb25lbnRzL1ZvaWNlTWVzc2FnZS5qcz85YjFhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBQdXJlQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHZtc2cgZnJvbSBcInZtc2dcIjtcbmltcG9ydCB7IHdpdGhUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuXG5jb25zdCByZWNvcmRlciA9IG5ldyB2bXNnLlJlY29yZGVyKHtcbiAgICB3YXNtVVJMOiB3aW5kb3cubGhjQ2hhdFsnc3RhdGljSlMnXVsnY2h1bmtfanMnXSsgXCIvXCIgKyAndm1zZy44YzRhMTVmMi53YXNtJyxcbiAgICBzaGltVVJMOiBcImh0dHBzOi8vdW5wa2cuY29tL3dhc20tcG9seWZpbGwuanNAMC4yLjAvd2FzbS1wb2x5ZmlsbC5qc1wiXG59KTtcblxuY2xhc3MgVm9pY2VNZXNzYWdlIGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG5cbiAgICBzdGF0ZSA9IHtcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgaXNSZWNvcmRpbmc6IGZhbHNlLFxuICAgICAgICBpc1BsYXlpbmc6IGZhbHNlLFxuICAgICAgICByZWNvcmRpbmc6IG51bGwsXG4gICAgICAgIGF1ZGlvRHVyYXRpb246IDAsXG4gICAgICAgIGN1cnJlbnRUaW1lOiAwXG4gICAgfTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGFydFJlY29yZGluZyA9IHRoaXMuc3RhcnRSZWNvcmRpbmcuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zdG9wUmVjb3JkaW5nID0gdGhpcy5zdG9wUmVjb3JkaW5nLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucGxheVJlY29yZCA9IHRoaXMucGxheVJlY29yZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnN0b3BQbGF5UmVjb3JkID0gdGhpcy5zdG9wUGxheVJlY29yZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNlbmRSZWNvcmQgPSB0aGlzLnNlbmRSZWNvcmQuYmluZCh0aGlzKTtcblxuICAgICAgICAvLyBJbnRlcnZhbHNcbiAgICAgICAgdGhpcy5kdXJhdGlvbkludGVydmFsID0gbnVsbDtcbiAgICAgICAgdGhpcy5wbGF5SW50ZXJ2YWwgPSBudWxsO1xuICAgIH1cblxuICAgIGFzeW5jIHN0YXJ0UmVjb3JkaW5nKCkge1xuICAgICAgICB0aGlzLnN0b3BQbGF5UmVjb3JkKCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IHRydWUsIGF1ZGlvRHVyYXRpb24gOiAwLCByZWNvcmRpbmc6IG51bGwsIGlzUGxheWluZzogZmFsc2UsIGN1cnJlbnRUaW1lIDogMH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgcmVjb3JkZXIuaW5pdEF1ZGlvKCk7XG4gICAgICAgICAgICBhd2FpdCByZWNvcmRlci5pbml0V29ya2VyKCk7XG4gICAgICAgICAgICByZWNvcmRlci5zdGFydFJlY29yZGluZygpO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogZmFsc2UsIGlzUmVjb3JkaW5nOiB0cnVlIH0pO1xuICAgICAgICAgICAgdGhpcy5kdXJhdGlvbkludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBhdWRpb0R1cmF0aW9uOiB0aGlzLnN0YXRlLmF1ZGlvRHVyYXRpb24gKyAxIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gRG8gbm90IGFsbG93IHRvIHJlY29yZCBsb25nZXIgbWVzc2FnZSB0aGFuIGRlZmluZWQgbWVzc2FnZXMgbGVuZ3RoLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmF1ZGlvRHVyYXRpb24gPj0gdGhpcy5wcm9wcy5tYXhTZWNvbmRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcFJlY29yZGluZygpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGFsZXJ0KCdTb3JyeSBidXQgdm9pY2UgbWVzc2FnZXMgYXJlIG5vdCBzdXBwb3J0ZWQgb24geW91ciBicm93c2VyIScpO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogZmFsc2UgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBzdG9wUmVjb3JkaW5nKCl7XG4gICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZWNvcmRlci5zdG9wUmVjb3JkaW5nKCk7XG5cbiAgICAgICAgdGhpcy5hdWRpbyA9IG5ldyBBdWRpbygpO1xuICAgICAgICB0aGlzLmF1ZGlvLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgaXNSZWNvcmRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgcmVjb3JkaW5nOiBibG9iXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5kdXJhdGlvbkludGVydmFsKTtcbiAgICB9XG5cbiAgICBwbGF5UmVjb3JkKCkge1xuICAgICAgICB0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lID0gMDtcbiAgICAgICAgdGhpcy5hdWRpby5wbGF5KCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzUGxheWluZyA6IHRydWV9KTtcblxuICAgICAgICB0aGlzLnBsYXlJbnRlcnZhbCA9IHNldEludGVydmFsKFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2N1cnJlbnRUaW1lOiBNYXRoLnJvdW5kKHRoaXMuYXVkaW8uY3VycmVudFRpbWUpfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYXVkaW8uZW5kZWQgfHwgdGhpcy5hdWRpby5wYXVzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9wUGxheVJlY29yZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIDEwMDApO1xuICAgIH1cblxuICAgIHN0b3BQbGF5UmVjb3JkKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5pc1BsYXlpbmcpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5wbGF5SW50ZXJ2YWwpO1xuICAgICAgICAgICAgdGhpcy5hdWRpby5jdXJyZW50VGltZSA9IDA7XG4gICAgICAgICAgICB0aGlzLmF1ZGlvLnBhdXNlKCk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc1BsYXlpbmcgOiBmYWxzZSwgY3VycmVudFRpbWU6IDB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlbmRSZWNvcmQoKSB7XG4gICAgICAgIGNvbnN0IHsgdCB9ID0gdGhpcy5wcm9wcztcblxuICAgICAgICB0aGlzLnByb3BzLnByb2dyZXNzKHQoJ2ZpbGUudXBsb2FkaW5nJykpO1xuXG4gICAgICAgIGNvbnN0IHJlcSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXCJmaWxlc1wiLCB0aGlzLnN0YXRlLnJlY29yZGluZywgXCJyZWNvcmQubXAzXCIpO1xuICAgICAgICByZXEub3BlbihcIlBPU1RcIiwgdGhpcy5wcm9wcy5iYXNlX3VybCArICcvZmlsZS91cGxvYWRmaWxlLycgKyB0aGlzLnByb3BzLmNoYXRfaWQgKyAnLycgKyB0aGlzLnByb3BzLmhhc2gpO1xuICAgICAgICByZXEudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMucHJvZ3Jlc3MoJzEwMCUnKTtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25Db21wbGV0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmNhbmNlbCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVxLnNlbmQoZm9ybURhdGEpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuXG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cbiAgICAgICAgLy8gU3RvcCBwbGF5aW5nIGlmIGFueXRoaW5nIGlzIHBsYXlpbmdcbiAgICAgICAgdGhpcy5zdG9wUGxheVJlY29yZCgpO1xuXG4gICAgICAgIC8vIFN0b3AgcmVjb3JkbmcgaWYgaXQncyByZWNvcmRpbmdcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuaXNSZWNvcmRpbmcpIHtcbiAgICAgICAgICAgIHJlY29yZGVyLnN0b3BSZWNvcmRpbmcoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhZChuKSB7XG4gICAgICAgIHJldHVybiAobiA8IDEwKSA/IChcIjBcIiArIG4pIDogbjtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG5cbiAgICAgICAgY29uc3Qge2lzTG9hZGluZywgaXNSZWNvcmRpbmcsIHJlY29yZGluZywgaXNQbGF5aW5nIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgIGNvbnN0IHsgdCB9ID0gdGhpcy5wcm9wcztcblxuICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LW5vd3JhcFwiPlxuICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbnMgcG9pbnRlciB0ZXh0LWRhbmdlciBmczI1XCIgdGl0bGU9e3QoJ3ZvaWNlLmNhbmNlbF92b2ljZV9tZXNzYWdlJyl9IG9uQ2xpY2s9eygpID0+IHRoaXMucHJvcHMuY2FuY2VsKCl9PiYjeGYxMGE7PC9pPlxuXG4gICAgICAgICAgICB7IWlzUmVjb3JkaW5nICYmIDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zIGZzMjUgcG9pbnRlciB0ZXh0LWRhbmdlciBtci0wXCIgdGl0bGU9e3QoJ3ZvaWNlLnJlY29yZF92b2ljZV9tZXNzYWdlJyl9IG9uQ2xpY2s9e3RoaXMuc3RhcnRSZWNvcmRpbmd9PiYjeGYxMGY7PC9pPn1cblxuICAgICAgICAgICAge2lzUmVjb3JkaW5nICYmIDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zIGZzMjUgcG9pbnRlciB0ZXh0LWRhbmdlciBtci0wXCIgdGl0bGU9e3QoJ3ZvaWNlLnN0b3BfcmVjb3JkaW5nJyl9IG9uQ2xpY2s9e3RoaXMuc3RvcFJlY29yZGluZ30+JiN4ZjExMjs8L2k+fVxuXG4gICAgICAgICAgICB7cmVjb3JkaW5nICYmIGlzUGxheWluZyA9PT0gZmFsc2UgJiYgPGkgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbnMgcG9pbnRlciB0ZXh0LXN1Y2Nlc3MgbXItMCBmczI1XCIgdGl0bGU9e3QoJ3ZvaWNlLnBsYXlfcmVjb3JkZWQnKX0gb25DbGljaz17dGhpcy5wbGF5UmVjb3JkfT4mI3hmMTExOzwvaT59XG5cbiAgICAgICAgICAgIHtyZWNvcmRpbmcgJiYgaXNQbGF5aW5nID09PSB0cnVlICYmIDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zIHBvaW50ZXIgdGV4dC1zdWNjZXNzIG1yLTAgZnMyNVwiIHRpdGxlPXt0KCd2b2ljZS5zdG9wX3BsYXlpbmdfcmVjb3JkZWQnKX0gb25DbGljaz17dGhpcy5zdG9wUGxheVJlY29yZH0+JiN4ZjExMjs8L2k+fVxuXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmczEyIHB4LTFcIj57aXNSZWNvcmRpbmcgPyAnJyA6IChpc1BsYXlpbmcgPyB0aGlzLnBhZCh0aGlzLnN0YXRlLmN1cnJlbnRUaW1lKSArICc6JyA6ICcnKX17aXNSZWNvcmRpbmcgfHwgIXJlY29yZGluZyA/ICh0aGlzLnByb3BzLm1heFNlY29uZHMgLSB0aGlzLnN0YXRlLmF1ZGlvRHVyYXRpb24pICsgXCIgcy5cIiA6IHRoaXMucGFkKHRoaXMuc3RhdGUuYXVkaW9EdXJhdGlvbikgKyAoIWlzUGxheWluZyA/ICdzLicgOiAnJyl9PC9zcGFuPlxuXG4gICAgICAgICAgICB7cmVjb3JkaW5nICYmIDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zIHBvaW50ZXIgdGV4dC1zdWNjZXNzIG1yLTAgZnMyNVwiIHRpdGxlPXt0KCd2b2ljZS5zZW5kJyl9IG9uQ2xpY2s9e3RoaXMuc2VuZFJlY29yZH0+JiN4ZjEwNzs8L2k+fVxuXG4gICAgICAgIDwvZGl2PjtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhUcmFuc2xhdGlvbigpKFZvaWNlTWVzc2FnZSk7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTs7O0FBV0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFGQTtBQVJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBVkE7QUFXQTtBQUNBOzs7Ozs7Ozs7OztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7OztBQUVBO0FBQ0E7OztBQUFBO0FBQ0E7O0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7O0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUlBO0FBQ0E7O0FBREE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFEQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBOzs7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBR0E7Ozs7QUFoSkE7QUFDQTtBQWtKQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/VoiceMessage.js\n");

/***/ })

}]);