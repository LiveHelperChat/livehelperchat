import{c as t,S as e,i as n,s as i,g as a,J as s,v as o,o as c,f as l,a as d,e as r,b as _,n as u,d as p,k as m,l as h,m as g,t as f,p as w,q as b,y as v,K as y,u as x,A as $,L as j,h as C,j as W,M as k,N as D,x as S,z as L,O as A,P as I,Q as N,w as T,C as E,D as R,E as O,R as P,T as B,F as H,G as M,H as V,I as J,U as G,V as Q,W as q}from"./i18n.ICg6EgEr.js";import{l as F,W as U,L as K}from"./onlinevisitors.N4E4CZIj.js";function X(t,e){if(localStorage)try{localStorage.setItem(t,e)}catch(t){}}function Y(t){if(localStorage)try{localStorage.removeItem(t)}catch(t){}}function z(t){if(localStorage)try{var e=localStorage.getItem(t);if(null!==e&&""!==e)return e.split(",")}catch(t){}return[]}function Z(t,e,n){return isNaN(e)&&(e=10),void 0===n&&(n="..."),t.length<=e||t.length-n.length<=e?t:String(t).substring(0,e-n.length)+n}function tt(t,e,n){if(void 0!==t)for(var i=t.length-1;i>=0;i--){var a=t[i];-1===e.indexOf(a)&&lhinst.hideNotification(a.split("_")[0],n)}}function et(t,e,n){let i,l,d,r,_,u,p;function m(){let t=document.getElementById("menu-rmtoggle");t&&(p.rmtoggle?t.classList.add("hide"):t.classList.remove("hide")),t=document.getElementById("wrapper"),t&&(p.lmtoggle?t.classList.add("toggled"):t.classList.remove("toggled"))}function h(t){if(!document.getElementById(t))return;let e=document.getElementById(t).getElementsByTagName("i")[0];!0===p.toggleWidgetData[t]?(e.classList.remove("chat-closed"),e.classList.add("chat-active")):(e.classList.remove("chat-active"),e.classList.add("chat-closed"))}a(t,s,(t=>n(6,p=t))),window.$_LHC_API={};let g={timeoutActivity:null,timeoutActivityTime:300,blockSync:!1,timeoutControl:null,setTimeoutEnabled:!0,isListLoaded:!1,lastd_activity:Math.round((new Date).getTime()/1e3),lhcListRequestInProgress:!1,lhcSettingUpdateProgress:[],lhcSettingAllSelected:!1,channel:null,abortController:new AbortController};lhinst.channel=g.channel=new BroadcastChannel("lhc_dashboard"),g.channel.addEventListener("message",(function(t){if(t.isTrusted&&t.data.action){if("went_active"===t.data.action)return jQuery("#myModal").modal("hide"),void w();var e=jQuery("#tabs");t.data.args.chat_id&&-1!==lhinst.chatsSynchronising.indexOf(t.data.args.chat_id)?"close_chat"===t.data.action?e.length>0&&lhinst.removeDialogTab(t.data.args.chat_id,e,!0):"update_chat"===t.data.action||"startbackground_chat"===t.data.action?e.length>0&&lhinst.updateVoteStatus(t.data.args.chat_id,!0):"reload_chat"===t.data.action&&(lhinst.addOpenTrace("channel_message_reload"),e.length>0&&lhinst.reloadTab(t.data.args.chat_id,e,t.data.args.nick,!0)):"startbackground_chat"===t.data.action?(lhinst.addOpenTrace("channel_message_open"),e.length>0&&lhinst.startChatBackground(t.data.args.chat_id,e,t.data.args.nick)||ee.emitEvent("chatTabPreload",[t.data.args.chat_id,{focus:!1}])):"close_chat"===t.data.action?ee.emitEvent("removeSynchroChat",[parseInt(t.data.args.chat_id)]):t.data.args.mail_id&&"close_mail"==t.data.action&&lhinst.removeDialogTabMail(t.data.args.mail_id,jQuery("#tabs"),!0,!0)}})),ee.addListener("svelteWentActive",(function(){jQuery("#myModal").modal("hide"),w()})),ee.addListener("angularStartChatbyId",(function(t){lhinst.addOpenTrace("view_clicked"),L(t)})),ee.addListener("svelteOpenChat",(function(t){lhinst.addOpenTrace("click"),L(t)})),ee.addListener("svelteAction",(function(t){j(t)})),ee.addListener("svelteDebug",(function(){console.log(p),console.log(g)})),ee.addListener("angularLoadChatList",(function(){g.isListLoaded=!1,g.lhcListRequestInProgress=!1,S()})),ee.addListener("svelteTestNotification",(function(t){F.getNotificationsData(t).then((function(t){t.forEach((function(t){lhinst.playSoundNewAction(t.last_id_identifier,parseInt(t.last_id),t.nick?t.nick:"Live Help",t.msg?t.msg:confLH.transLation.new_chat,t.nt)}))}))})),ee.addListener("svelteResetTimeoutActivity",(function(){k()})),ee.addListener("angularStartChatOperatorPublic",(function(t){F.startChatOperator(t)})),ee.addListener("svelteallDepartmentsChanged",(function(t,e){v(t,e)})),ee.addListener("svelteProductChanged",(function(t){C(t)})),ee.addListener("svelteDepartmentChanged",(function(t){b(t)})),ee.addListener("svelteLimitChanged",(function(t){F.setLocalSettings(t,p[t]),S()})),ee.addListener("angularSyncDisabled",(function(t){var e;e=t,g.blockSync=e,1==g.blockSync&&(g.abortController.abort(),g.abortController=new AbortController)})),ee.addListener("svelteToggleList",(function(t){!function(t){if(o(s,p[t]=!p[t],p),localStorage)try{localStorage.setItem(t,p[t])}catch(t){}}(t)})),ee.addListener("svelteToggleWidget",(function(t,e){F.toggleWidget(s,t,e)})),ee.addListener("svelteRemoveLocalSetting",(function(t){F.removeLocalSetting(t)})),ee.addListener("svelteStoreLocalSetting",(function(t,e){F.storeLocalSetting(t,e)})),ee.addListener("svelteNoticeUpdated",(function(){!async function(){const t=await fetch(WWW_DIR_JAVASCRIPT+"chat/loadinitialdata",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}),e=await t.json();if(e.logout||e.error_url)return void document.location.reload();e.notice?o(s,p.lhcNotice=e.notice,p):o(s,p.lhcNotice={message:"",level:"primary"},p)}()})),ee.addListener("svelteAppendActiveChats",(function(){F.loadActiveChats().then((function(t){let e=jQuery("#tabs");t.result.forEach((function(t){lhinst.startChatBackground(t.id,e,F.truncate(t.nick||"Visitor",10))})),setTimeout((function(){ee.emitEvent("angularLoadChatList")}),1e3)}))}));let f=[];function w(){F.setInactive("false"),g.isListLoaded=!1,g.blockSync=!1,g.lhcListRequestInProgress=!1,k(),lhinst.disableSync=!1,S(),o(s,p.inActive=!1,p)}function b(t){if(-1===g.lhcSettingUpdateProgress.indexOf(t)){if(g.lhcSettingUpdateProgress.push(t),p[t].length>0){!1===g.lhcSettingAllSelected&&(o(s,p[t+"_all_departments"]=!1,p),v(t,!1)),g.lhcSettingAllSelected=!1;var e=p[t].join("/");""!==e?(y(t,e),$(t)):x(t)}else y(t,null);g.isListLoaded=!1,S()}}function v(t,e){if(!0===p[t+"_all_departments"]?X(t+"_all_departments",!0):Y(t+"_all_departments"),!0===p[t+"_hide_hidden"]?X(t+"_hide_hidden",!0):Y(t+"_hide_hidden"),!0===p[t+"_hide_disabled"]?X(t+"_hide_disabled",!0):Y(t+"_hide_disabled"),!0===p[t+"_only_online"]?X(t+"_only_online",!0):Y(t+"_only_online"),void 0!==p[t+"_hide_dep"]&&(!0===p[t+"_hide_dep"]?X(t+"_hide_dep",!0):Y(t+"_hide_dep")),void 0!==p[t+"_hide_dgroup"]&&(!0===p[t+"_hide_dgroup"]?X(t+"_hide_dgroup",!0):Y(t+"_hide_dgroup")),!0===p[t+"_all_departments"]){let e=[];p.userDepartments.forEach((function(n){(!1===p[t+"_only_explicit_online"]||!0===p[t+"_only_explicit_online"]&&!0===n.oexp)&&(!1===p[t+"_hide_hidden"]||!0===p[t+"_hide_hidden"]&&!1===n.hidden)&&(!1===p[t+"_hide_disabled"]||!0===p[t+"_hide_disabled"]&&!1===n.disabled)&&(!1===p[t+"_only_online"]||!0===p[t+"_only_online"]&&!0===n.ogen)&&e.push(n.id)})),0===e.length&&e.push(-1),g.lhcSettingAllSelected=!0,o(s,p[t]=e,p)}else!0===e&&o(s,p[t]=[],p);!0===e&&(g.isListLoaded=!1,S())}function y(t,e){F.setLocalSettings(t,e).then((function(){x(t)})).catch((function(){x(t)}))}function x(t){g.lhcSettingUpdateProgress.splice(g.lhcSettingUpdateProgress.indexOf(t),1)}function $(t){o(s,p[t+"Names"]=[],p),p[t].forEach((function(e){void 0!==p.userDepartmentsNames&&void 0!==p.userDepartmentsNames[e]?p[t+"Names"].push(p.userDepartmentsNames[e]):void 0!==p.userDepartmentsNames&&(p[t].splice(p[t].indexOf(e),1),b(t))}))}function j(t){p.last_actions.unshift(t),o(s,p.last_actions=p.last_actions.slice(0,5),p)}function C(t){if(p[t].length>0){var e=p[t].join("/");""!==e&&F.setLocalSettings(t,e)}else F.setLocalSettings(t,null);g.isListLoaded=!1,S()}f.push("actived"),f.push("departmentd"),f.push("unreadd"),f.push("pendingd"),f.push("operatord"),f.push("closedd"),f.push("mcd"),f.push("botd"),f.push("subjectd"),f.push("pendingmd"),f.push("activemd"),f.push("alarmmd"),f.push("mmd"),f.push("department_online"),f.forEach((function(t){o(s,p[t+"_all_departments"]="false"!=F.restoreLocalSetting(t+"_all_departments","false",!1),p),o(s,p[t+"_hide_hidden"]="false"!=F.restoreLocalSetting(t+"_hide_hidden","false",!1),p),o(s,p[t+"_hide_disabled"]="false"!=F.restoreLocalSetting(t+"_hide_disabled","false",!1),p),o(s,p[t+"_only_online"]="false"!=F.restoreLocalSetting(t+"_only_online","false",!1),p),o(s,p[t+"_only_explicit_online"]="false"!=F.restoreLocalSetting(t+"_only_explicit_online","false",!1),p),o(s,p[t+"_m_h"]=F.restoreLocalSetting(t+"_m_h",null,!1),p)})),o(s,p.onlineusers_m_h=F.restoreLocalSetting("onlineusers_m_h",null,!1),p),c((async()=>{o(s,p.departmentd_hide_dep="false"!=F.restoreLocalSetting("departmentd_hide_dep","false",!1),p),o(s,p.departmentd_hide_dgroup="false"!=F.restoreLocalSetting("departmentd_hide_dgroup","false",!1),p),o(s,p.lmtoggle="false"!=F.restoreLocalSetting("lmtoggle","false",!1),p),o(s,p.rmtoggle="false"!=F.restoreLocalSetting("rmtoggle","false",!1),p),F.getToggleWidget(s,"track_open_chats"),F.getToggleWidget(s,"group_offline_chats");var t,e,n="",i=z("achat_id"),a=z("gachat_id"),c=z("machat_id"),l=0,d=0,r=window.location.hash;""!==r&&(null!==(t=r.match(/id-\d+$/))&&t[0]&&(l=parseInt(t[0].replace("id-","")),-1===i.indexOf(l)&&i.push(l)),null==t&&null!==(t=r.match(/mc\d+$/))&&t[0]&&(d=parseInt(t[0].replace("mc","")),-1===c.indexOf(d)&&c.push(d)));(e=document.getElementById("load_chat_id"))&&-1===i.indexOf(e.value)&&(l=e.value,i.push(e.value),window.location.hash="#!#chat-id-"+e.value),(e=document.getElementById("load_mail_id"))&&-1===c.indexOf(e.value)&&(d=e.value,c.push(e.value),window.location.hash="#!#chat-id-mc"+e.value);let _=jQuery("#tabs").length;_>0&&!1===lhinst.disableremember&&i.length>0&&(n="/(chatopen)/"+i.join("/")),_>0&&!1===lhinst.disableremember&&a.length>0&&(n+="/(chatgopen)/"+a.join("/")),jQuery("#tabs").length>0&&0==lhinst.disableremember&&c.length>0&&(n+="/(chatmopen)/"+c.join("/"));const u=await fetch(WWW_DIR_JAVASCRIPT+"chat/loadinitialdata"+n,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}),m=await u.json();if(m.logout||m.error_url)return void document.location.reload();s.update((t=>(t.userDepartmentsNames=m.dp_names,t.userDepartments=m.dep_list,t.userProductNames=m.pr_names,t.userDepartmentsGroups=m.dp_groups,t.userGroups=m.user_groups,t.hideInvisible=m.im,t.hideOnline=m.ho,t.lhcVersion=m.v,m.notice&&(t.lhcNotice=m.notice),t.alwaysOnline=m.a_on,t.additionalColumns=m.col,t.widgetsActive=m.widgets,t.bot_st=m.bot_st,t.excludeIcons=m.exc_ic,t.notifIcons=m.not_ic,t)));let h=["subjectd","subjectd_products","subjectd_dpgroups","subjectd_ugroups","activeu","pendingu","oopu","subjectu","closedd","closedd_products","closedd_dpgroups","botd","botd_products","botd_dpgroups","botd_ugroups","pendingd","pendingd_products","pendingd_dpgroups","pendingd_ugroups","unreadd","unreadd_products","unreadd_dpgroups","mcd","mcd_products","mcd_dpgroups","actived","actived_products","actived_dpgroups","actived_ugroups","departmentd_dpgroups","departmentd","operatord_dpgroups","operatord_ugroups","operatord","mmd","mmd_dpgroups","alarmmd","alarmmd_products","alarmmd_dpgroups","alarmmd_ugroups","activemd","activemd_products","activemd_dpgroups","activemd_ugroups","pendingmd","pendingmd_products","pendingmd_dpgroups","pendingmd_ugroups","pendingmu","activemu","alarmmu","department_online","department_online_dpgroups"];var w,b=["limitb","limita","limitu","limitp","limito","limitc","limitd","limitmc","limitgc","limits","limitpm","limitam","limitalm","limitmm"];m.dw_filters&&Object.keys(m.dw_filters).forEach((t=>{-1!==h.indexOf(t)?o(s,p[t]=function(t,e){if(!0===e){var n=t.split("/"),i=[];return n.forEach((function(t){i.push(parseInt(t))})),i}return t}(m.dw_filters[t],!0),p):-1!==b.indexOf(t)&&o(s,p[t]=m.dw_filters[t],p)})),f.forEach((function(t){$(t)})),1===m.track_activity&&(g.timeoutActivityTime=m.timeout_activity,w=function(){k()},W(window,"mousemove",w),W(document,"mousemove",w),W(window,"mousedown",w),W(window,"click",w),W(window,"scroll",w),W(window,"keypress",w),W(window,"load",w),W(document,"scroll",w),W(document,"touchstart",w),W(document,"touchend",w),k()),m.copen.forEach((function(t){lhinst.addOpenTrace("opened_chats"),lhinst.ignoreAdminSync=!0,lhinst.startChat(t.id,jQuery("#tabs"),Z(t.nick||"Visitor",10),t.id===l,0,t.status),lhinst.ignoreAdminSync=!1,j({type:"mac_history",chat_id:t.id,nick:t.nick}),t.id===l&&document.getElementById("tabs").classList.add("chat-tab-selected")})),m.cgopen.forEach((function(t){lhinst.startGroupChat(t.id,jQuery("#tabs"),Z(t.nick||"Visitor",10),!0)})),m.cmopen.forEach((function(t){lhinst.startMailChat(t.id,jQuery("#tabs"),Z(t.subject||"Mail",10),!(t.id==d))})),m.cmdel.forEach((function(t){lhinst.forgetChat(t,"machat_id")})),m.cdel.forEach((function(t){lhinst.forgetChat(t,"achat_id")})),m.cgdel.forEach((function(t){lhinst.forgetChat(t,"gachat_id")})),ee.emitEvent("eventLoadInitialData",[m,p,F]),window.$_LHC_API.initial_data=m,s.update((t=>(t.lhcCoreLoaded=!0,t))),async function(){var t=[],e=[],n=[],i=[];p.userGroups.forEach((function(t){e.push(t.id)})),p.userDepartmentsGroups.forEach((function(t){n.push(t.id)})),p.userProductNames.forEach((function(t){i.push(t.id)}));const a=await fetch(WWW_DIR_JAVASCRIPT+"chat/searchprovider/users_ids/?exclude_disabled=1&q="+p.pendingu.join(",")+","+p.activeu.join(",")+","+p.subjectu.join(",")+","+p.oopu.join(",")+","+p.pendingmu.join(",")+","+p.activemu.join(",")+","+p.alarmmu.join(","),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}}).catch((t=>{})),c=await a.json();o(s,p.userList=c.items,p),p.userList.forEach((function(e){t.push(e.id)}));var l={activeu:t,actived_products:i,actived_ugroups:e,actived_dpgroups:n,pendingu:t,oopu:t,pendingd_ugroups:e,operatord_ugroups:e,pendingd_dpgroups:n,pendingd_products:i,botd_dpgroups:n,botd_products:i,departmentd_dpgroups:n,closedd_products:i,closedd_dpgroups:n,unreadd_dpgroups:n,unreadd_products:i,mcd_products:i,mcd_dpgroups:n,mmd_dpgroups:n,operatord_dpgroups:n};for(const[t,e]of Object.entries(l)){[...p[t]].forEach((function(n){-1===e.indexOf(n)&&(p[t].splice(p[t].indexOf(n),1),C(t))}))}}(),S()}));let W=document.addEventListener?function(t,e,n){if(t&&t.nodeName||t===window)t.addEventListener(e,n,!1);else if(t&&t.length)for(var i=0;i<t.length;i++)W(t[i],e,n)}:function(t,e,n){if(t&&t.nodeName||t===window)t.attachEvent("on"+e,(function(){return n.call(t,window.event)}));else if(t&&t.length)for(var i=0;i<t.length;i++)W(t[i],e,n)};function k(){var t=window.opener;if(t)try{t.ee.emitEvent("svelteResetTimeoutActivity")}catch(t){console.log(t)}else!1===g.blockSync&&(g.lastd_activity=Math.round((new Date).getTime()/1e3),clearTimeout(g.timeoutActivity),g.timeoutActivity=setTimeout((function(){F.setInactive("true").then((function(t){if(!0===t.active)return k(),void(g.lastd_activity=0);lhinst.disableSync=g.blockSync=!0,g.lhcListRequestInProgress=!1,lhc.revealModal({url:WWW_DIR_JAVASCRIPT+"user/wentinactive/false",backdrop:!0,hidecallback(){w(),g.channel.postMessage({action:"went_active",args:{}})}})}))}),1e3*g.timeoutActivityTime))}function D(t){if((1==p[t+"_only_explicit_online"]||1==p[t+"_hide_hidden"]||1==p[t+"_hide_disabled"]||1==p[t+"_only_online"])&&p.userDepartments.length>0){var e=[];return p.userDepartments.forEach((function(n){(0==p[t+"_only_explicit_online"]||1==p[t+"_only_explicit_online"]&&1==n.oexp)&&(0==p[t+"_hide_hidden"]||1==p[t+"_hide_hidden"]&&0==n.hidden)&&(0==p[t+"_hide_disabled"]||1==p[t+"_hide_disabled"]&&0==n.disabled)&&(0==p[t+"_only_online"]||1==p[t+"_only_online"]&&1==n.ogen)&&e.push(n.id)})),0==e.length&&e.push(-1),e}return[]}async function S(){if(localStorage)try{o(s,p.pending_chats_expanded="false"!=localStorage.getItem("pending_chats_expanded"),p),o(s,p.active_chats_expanded="false"!=localStorage.getItem("active_chats_expanded"),p),o(s,p.my_active_chats_expanded="false"!=localStorage.getItem("my_active_chats_expanded"),p),o(s,p.closed_chats_expanded="false"!=localStorage.getItem("closed_chats_expanded"),p),o(s,p.unread_chats_expanded="false"!=localStorage.getItem("unread_chats_expanded"),p),o(s,p.my_chats_expanded="false"!=localStorage.getItem("my_chats_expanded"),p),o(s,p.pending_mails_expanded="false"!=localStorage.getItem("pending_mails_expanded"),p),o(s,p.active_mails_expanded="false"!=localStorage.getItem("pending_mails_expanded"),p),o(s,p.my_mails_expanded="false"!=localStorage.getItem("my_mails_expanded"),p),o(s,p.custom_list_1_expanded="false"!=localStorage.getItem("custom_list_1_expanded"),p),o(s,p.custom_list_2_expanded="false"!=localStorage.getItem("custom_list_2_expanded"),p),o(s,p.custom_list_3_expanded="false"!=localStorage.getItem("custom_list_3_expanded"),p),o(s,p.custom_list_4_expanded="false"!=localStorage.getItem("custom_list_4_expanded"),p)}catch(t){}if(!0===g.blockSync)return clearTimeout(g.timeoutControl),g.timeoutControl=setTimeout((function(){g.isListLoaded=!1,g.lhcListRequestInProgress=!1,S()}),confLH.back_office_sinterval),void(g.lhcListRequestInProgress=!1);if(!0!==g.lhcListRequestInProgress){g.lhcListRequestInProgress=!0,clearTimeout(g.timeoutControl);try{const _=await fetch(WWW_DIR_JAVASCRIPT+"chat/syncadmininterface"+function(){o(s,p.custom_extension_filter="",p);var t,e="/(limita)/"+parseInt(p.limita);if(e+="/(limitu)/"+parseInt(p.limitu),e+="/(limitp)/"+parseInt(p.limitp),e+="/(limito)/"+parseInt(p.limito),e+="/(limitc)/"+parseInt(p.limitc),e+="/(limitd)/"+parseInt(p.limitd),e+="/(limits)/"+parseInt(p.limits),e+="/(limitmc)/"+parseInt(p.limitmc),e+="/(limitb)/"+parseInt(p.limitb),e+="/(limitgc)/"+parseInt(p.limitgc),e+="/(limitmm)/"+parseInt(p.limitmm),e+="/(limitpm)/"+parseInt(p.limitpm),e+="/(limitam)/"+parseInt(p.limitam),e+="/(limitalm)/"+parseInt(p.limitalm),"object"==typeof p.widgetsActive&&p.widgetsActive.length>0){let t={my_chats:0,online_operators:1,group_chats:2,pending_chats:3,online_visitors:4,unread_chats:5,active_chats:6,bot_chats:7,transfered_chats:8,departments_stats:9,subject_chats:20,pmails:10,amails:11,malarms:12,my_mails:30},n=[];p.widgetsActive.forEach((function(e){t[e]&&n.push(t[e])})),e+="/(w)/"+n.join("/")}if("object"==typeof p.activeu&&p.activeu.length>0&&(e+="/(activeu)/"+p.activeu.join("/")),"object"==typeof p.pendingu&&p.pendingu.length>0&&(e+="/(pendingu)/"+p.pendingu.join("/")),"object"==typeof p.pendingmu&&p.pendingmu.length>0&&(e+="/(pendingmu)/"+p.pendingmu.join("/")),"object"==typeof p.activemu&&p.activemu.length>0&&(e+="/(activemu)/"+p.activemu.join("/")),"object"==typeof p.alarmmu&&p.alarmmu.length>0&&(e+="/(alarmmu)/"+p.alarmmu.join("/")),"object"==typeof p.oopu&&p.oopu.length>0&&(e+="/(oopu)/"+p.oopu.join("/")),"object"==typeof p.subjectu&&p.subjectu.length>0&&(e+="/(subjectu)/"+p.subjectu.join("/")),"object"==typeof p.actived_dpgroups&&p.actived_dpgroups.length>0&&(e+="/(adgroups)/"+p.actived_dpgroups.join("/")),"object"==typeof p.pendingmd_dpgroups&&p.pendingmd_dpgroups.length>0&&(e+="/(pmd)/"+p.pendingmd_dpgroups.join("/")),"object"==typeof p.activemd_dpgroups&&p.activemd_dpgroups.length>0&&(e+="/(amd)/"+p.activemd_dpgroups.join("/")),"object"==typeof p.alarmmd_dpgroups&&p.alarmmd_dpgroups.length>0&&(e+="/(almd)/"+p.alarmmd_dpgroups.join("/")),"object"==typeof p.pendingd_dpgroups&&p.pendingd_dpgroups.length>0&&(e+="/(pdgroups)/"+p.pendingd_dpgroups.join("/")),"object"==typeof p.subjectd_dpgroups&&p.subjectd_dpgroups.length>0&&(e+="/(sdgroups)/"+p.subjectd_dpgroups.join("/")),"object"==typeof p.closedd_dpgroups&&p.closedd_dpgroups.length>0&&(e+="/(cdgroups)/"+p.closedd_dpgroups.join("/")),"object"==typeof p.botd_dpgroups&&p.botd_dpgroups.length>0&&(e+="/(bdgroups)/"+p.botd_dpgroups.join("/")),"object"==typeof p.mcd_dpgroups&&p.mcd_dpgroups.length>0&&(e+="/(mdgroups)/"+p.mcd_dpgroups.join("/")),"object"==typeof p.mmd_dpgroups&&p.mmd_dpgroups.length>0&&(e+="/(mmdgroups)/"+p.mmd_dpgroups.join("/")),"object"==typeof p.unreadd_dpgroups&&p.unreadd_dpgroups.length>0&&(e+="/(udgroups)/"+p.unreadd_dpgroups.join("/")),"object"==typeof p.departmentd_dpgroups&&p.departmentd_dpgroups.length>0&&(e+="/(ddgroups)/"+p.departmentd_dpgroups.join("/")),"object"==typeof p.operatord_dpgroups&&p.operatord_dpgroups.length>0&&(e+="/(odpgroups)/"+p.operatord_dpgroups.join("/")),"object"==typeof p.actived)if(p.actived.length>0)e+="/(actived)/"+p.actived.join("/");else{let t=D("actived");t.length>0&&(e+="/(actived)/"+t.join("/"))}if("object"==typeof p.subjectd)if(p.subjectd.length>0)e+="/(subjectd)/"+p.subjectd.join("/");else{let t=D("subjectd");t.length>0&&(e+="/(subjectd)/"+t.join("/"))}if("object"==typeof p.mcd)if(p.mcd.length>0)e+="/(mcd)/"+p.mcd.join("/");else{let t=D("mcd");t.length>0&&(e+="/(mcd)/"+t.join("/"))}if("object"==typeof p.mmd&&(p.mmd.length>0?e+="/(mmd)/"+p.mmd.join("/"):(t=D("mmd")).length>0&&(e+="/(mmd)/"+t.join("/"))),"object"==typeof p.pendingmd&&(p.pendingmd.length>0?e+="/(pendingmd)/"+p.pendingmd.join("/"):(t=D("pendingmd")).length>0&&(e+="/(pendingmd)/"+t.join("/"))),"object"==typeof p.activemd&&(p.activemd.length>0?e+="/(activemd)/"+p.activemd.join("/"):(t=D("activemd")).length>0&&(e+="/(activemd)/"+t.join("/"))),"object"==typeof p.alarmmd&&(p.alarmmd.length>0?e+="/(alarmmd)/"+p.alarmmd.join("/"):(t=D("alarmmd")).length>0&&(e+="/(alarmmd)/"+t.join("/"))),"object"==typeof p.unreadd)if(p.unreadd.length>0)e+="/(unreadd)/"+p.unreadd.join("/");else{let t=D("unreadd");t.length>0&&(e+="/(unreadd)/"+t.join("/"))}if("object"==typeof p.botd)if(p.botd.length>0)e+="/(botd)/"+p.botd.join("/");else{let t=D("botd");t.length>0&&(e+="/(botd)/"+t.join("/"))}if("object"==typeof p.pendingd){if(p.pendingd.length>0)e+="/(pendingd)/"+p.pendingd.join("/");else{let t=D("pendingd");t.length>0&&(e+="/(pendingd)/"+t.join("/"))}void 0!==p.toggleWidgetData.pending_chats_sort&&""!==p.toggleWidgetData.pending_chats_sort&&(e+="/(psort)/"+p.toggleWidgetData.pending_chats_sort)}if("object"==typeof p.operatord)if(p.operatord.length>0)e+="/(operatord)/"+p.operatord.join("/");else{let t=D("operatord");t.length>0&&(e+="/(operatord)/"+t.join("/"))}if("object"==typeof p.closedd&&p.closedd.length>0&&(e+="/(closedd)/"+p.closedd.join("/")),"object"==typeof p.departmentd)if(p.departmentd.length>0)e+="/(departmentd)/"+p.departmentd.join("/");else{let t=D("departmentd");t.length>0&&(e+="/(departmentd)/"+t.join("/"))}"object"==typeof p.actived_products&&p.actived_products.length>0&&(e+="/(activedprod)/"+p.actived_products.join("/")),"object"==typeof p.pendingd_ugroups&&p.pendingd_ugroups.length>0&&(e+="/(pugroups)/"+p.pendingd_ugroups.join("/")),"object"==typeof p.operatord_ugroups&&p.operatord_ugroups.length>0&&(e+="/(oopugroups)/"+p.operatord_ugroups.join("/")),"object"==typeof p.subjectd_ugroups&&p.subjectd_ugroups.length>0&&(e+="/(sugroups)/"+p.subjectd_ugroups.join("/")),"object"==typeof p.actived_ugroups&&p.actived_ugroups.length>0&&(e+="/(augroups)/"+p.actived_ugroups.join("/")),"object"==typeof p.pendingmd_ugroups&&p.pendingmd_ugroups.length>0&&(e+="/(pmug)/"+p.pendingmd_ugroups.join("/")),"object"==typeof p.activemd_ugroups&&p.activemd_ugroups.length>0&&(e+="/(amug)/"+p.activemd_ugroups.join("/")),"object"==typeof p.alarmmd_ugroups&&p.alarmmd_ugroups.length>0&&(e+="/(almug)/"+p.alarmmd_ugroups.join("/")),"object"==typeof p.mcd_products&&p.mcd_products.length>0&&(e+="/(mcdprod)/"+p.mcd_products.join("/")),"object"==typeof p.unreadd_products&&p.unreadd_products.length>0&&(e+="/(unreaddprod)/"+p.unreadd_products.join("/")),"object"==typeof p.pendingd_products&&p.pendingd_products.length>0&&(e+="/(pendingdprod)/"+p.pendingd_products.join("/")),"object"==typeof p.subjectd_products&&p.subjectd_products.length>0&&(e+="/(subjectdprod)/"+p.subjectd_products.join("/")),"object"==typeof p.botd_products&&p.botd_products.length>0&&(e+="/(botdprod)/"+p.botd_products.join("/")),"object"==typeof p.closedd_products&&p.closedd_products.length>0&&(e+="/(closeddprod)/"+p.closedd_products.join("/")),void 0!==p.toggleWidgetData.track_open_chats&&1==p.toggleWidgetData.track_open_chats&&(e+="/(topen)/true"),void 0!==p.toggleWidgetData.active_chats_sort&&""!==p.toggleWidgetData.active_chats_sort&&(e+="/(acs)/"+p.toggleWidgetData.active_chats_sort),void 0!==p.toggleWidgetData.bot_chats_sort&&""!==p.toggleWidgetData.bot_chats_sort&&(e+="/(bcs)/"+p.toggleWidgetData.bot_chats_sort),void 0!==p.toggleWidgetData.closed_chats_sort&&""!==p.toggleWidgetData.closed_chats_sort&&(e+="/(clcs)/"+p.toggleWidgetData.closed_chats_sort),void 0!==p.toggleWidgetData.onop_sort&&""!==p.toggleWidgetData.onop_sort&&(e+="/(onop)/"+p.toggleWidgetData.onop_sort);var n=[];return!0===p.departmentd_hide_dep&&n.push("dhdep"),!0===p.departmentd_hide_dgroup&&n.push("dhdepg"),n.length>0&&(e+="/(hsub)/"+n.join("/")),g.lastd_activity>0&&(e+="/(lda)/"+g.lastd_activity),g.lastd_activity=0,ee.emitEvent("eventGetSyncFilterSvelte",[p]),e+p.custom_extension_filter}(),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},signal:g.abortController.signal});if(!_.ok)throw new Error("Network response was not OK ["+_.status+"] ["+_.statusText+"]");const u=await _.json();if(g.lhcListRequestInProgress=!1,u.logout||u.error_url)return void document.location.reload();if(1==g.blockSync)return clearTimeout(g.timeoutControl),void(g.timeoutControl=setTimeout((function(){g.isListLoaded=!1,S()}),confLH.back_office_sinterval));if(1==p.lhcConnectivityProblem&&o(s,p.lhcConnectivityProblem=!1,p),ee.emitEvent("eventLoadChatListSvelte",[u,p,g]),void 0===u.items_processed){var t=[],e=[],n=[],i=[],a=jQuery("#tabs");for(const[d,r]of Object.entries(u.result))if(o(s,p[d]=r,p),0!=a.length||"pending_chat"!=d&&"my_chats"!=d||r.list.forEach((function(t){void 0!==t.user_id&&t.user_id==confLH.user_id&&1==confLH.accept_chats&&(1!==t.status||1===t.status&&!0===t.hum)&&ee.emitEvent("chatTabPreload",[t.id,{focus:!1}])})),a.length>0&&("pending_chat"==d||"my_chats"==d?r.list.forEach((function(t){void 0!==t.user_id&&t.user_id==confLH.user_id&&1==confLH.accept_chats&&(1!==t.status||1===t.status&&!0===t.hum)&&0==jQuery("#chat-tab-link-"+t.id).length&&(a.length>0&&0==lhinst.disableremember&&(lhinst.addOpenTrace("auto_accept"),lhinst.removeSynchroChat(t.id),lhinst.startChatBackground(t.id,a,Z(t.nick||"Visitor",10)),g.channel.postMessage({action:"startbackground_chat",args:{nick:Z(t.nick||"Visitor",10),chat_id:parseInt(t.id)}}),ee.emitEvent("eventLoadChatListSvelteAutoOpen",[t,g])),0==lhinst.disableremember&&i.push(t.id))})):"transfer_chats"==d?r.list.forEach((function(t){void 0!==t.user_id&&t.user_id==confLH.user_id&&(1==confLH.accept_chats||jQuery("#chat-tab-link-"+t.id).length>0)&&(a.length>0&&0==lhinst.disableremember&&(lhinst.addOpenTrace("auto_accept_transfer"),lhinst.startChatTransfer(t.id,a,Z(t.nick||"Visitor",10),t.transfer_id,0==jQuery("#chat-tab-link-"+t.id).length),g.channel.postMessage({action:"startbackground_chat",args:{nick:Z(t.nick||"Visitor",10),chat_id:parseInt(t.id)}})),0==lhinst.disableremember&&i.push(t.id))})):"group_chats"==d?a.length>0&&1==confLH.auto_join_private&&r.list.forEach((function(t){1==t.type&&0==t.jtime&&0==jQuery("#chat-tab-link-gc"+t.id).length&&lhinst.startGroupChat(t.id,a,Z(t.name,10),!0)})):"support_chats"==d?a.length>0&&1==confLH.auto_join_private&&r.list.forEach((function(t){null===document.getElementById("chat-tab-li-"+t.chat_id)?(lhinst.addOpenTrace("support_chat"),L(t.chat_id,!0)):jQuery("#private-chat-tab-link-"+t.chat_id).attr("private-loaded")?jQuery("#chat-tab-link-"+t.chat_id).hasClass("active")?jQuery("#private-chat-tab-link-"+t.chat_id).hasClass("active")||jQuery("#private-chat-tab-link-"+t.chat_id+" > .whatshot").removeClass("d-none"):jQuery("#chat-tab-link-"+t.chat_id+" > .whatshot").removeClass("d-none"):(jQuery("#private-chat-tab-link-"+t.chat_id).attr("private-loaded",!0),ee.emitEvent("privateChatStart",[t.chat_id,{unread:!0}]))})):"pending_mails"!=d&&"my_mails"!=d||a.length>0&&r.list.forEach((function(t){void 0!==t.user_id&&t.user_id==confLH.user_id&&1==confLH.accept_mails&&1!==t.status&&null===document.getElementById("chat-tab-li-mc"+t.id)&&lhinst.startMailChat(t.id,a,Z(t.subject_front,10),!0)}))),r.last_id_identifier){e=[],t=[];var c=0,l=r.list;"pending_chat"==r.last_id_identifier&&void 0!==p.toggleWidgetData.pending_chats_sort&&"id_asc"==p.toggleWidgetData.pending_chats_sort&&(l=r.list.slice().reverse()),l.forEach((function(n){var i=void 0!==n.user_id?n.user_id:0,a=n.id+"_"+i;if(("bot_chats"!=r.last_id_identifier||n.msg_v&&n.msg_v>p.bot_st.msg_nm&&1==p.bot_st.bot_notifications||n.aalert)&&"transfer_chat_dep"!=r.last_id_identifier){var l=[];if("active_chats"==r.last_id_identifier&&n.aicons&&(a+="_"+(l=Object.keys(n.aicons)).join("_")),t.push(a),void 0===p.statusNotifications[r.last_id_identifier]&&o(s,p.statusNotifications[r.last_id_identifier]=[],p),1==g.isListLoaded&&"subject_chats"==r.last_id_identifier)-1==p.statusNotifications[r.last_id_identifier].indexOf(a)&&-1===lhinst.chatsSynchronising.indexOf(parseInt(n.id))&&e.push(n.id);else if(1==g.isListLoaded&&"active_chats"==r.last_id_identifier){if(-1==p.statusNotifications[r.last_id_identifier].indexOf(a)&&l.length>0&&p.notifIcons.length>0){var d=p.notifIcons.filter((function(t){return-1===p.excludeIcons.indexOf(t)&&-1!==l.indexOf(t)}));d.length>0&&e.push(n.id+"__"+d.join("__"))}}else 1!=g.isListLoaded||0!=c&&2!==n.status_sub_sub||(-1!=p.statusNotifications[r.last_id_identifier].indexOf(a)||0!=i&&"amails"!=r.last_id_identifier||0!=confLH.ownntfonly)&&(-1!=p.statusNotifications[r.last_id_identifier].indexOf(a)||i!=confLH.user_id)?c++:-1===lhinst.chatsSynchronising.indexOf(parseInt(n.id))&&e.push(n.id)}})),e.length>0&&(e.unshift(r.last_id_identifier),n.push(e.join("/"))),!0===g.isListLoaded&&tt(p.statusNotifications[r.last_id_identifier],t,r.last_id_identifier),o(s,p.statusNotifications[r.last_id_identifier]=t,p)}i.length>0&&(i.unshift("active_chat"),F.getNotificationsData(i.join("/")).then((function(t){t.forEach((function(t){lhinst.removeBackgroundChat(parseInt(t.last_id)),lhinst.playSoundNewAction(t.last_id_identifier,parseInt(t.last_id),t.nick?t.nick:"Live Help",t.msg?t.msg:confLH.transLation.new_chat,t.nt),lhinst.backgroundChats.push(parseInt(t.last_id))}))}))),n.length>0&&F.getNotificationsData(n.join("/")).then((function(t){t.forEach((function(t){lhinst.playSoundNewAction(t.last_id_identifier,parseInt(t.last_id),t.nick?t.nick:"Live Help",t.msg?t.msg:confLH.transLation.new_chat,t.nt)}))}))}if(void 0!==u.ou&&1==u.ou){jQuery("#lhc_op_operation").remove();var d=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("id","lhc_op_operation"),r.setAttribute("type","text/javascript"),r.setAttribute("src",WWW_DIR_JAVASCRIPT+"chat/loadoperatorjs"),d.appendChild(r)}if(void 0!==u.fs&&u.fs.length>0&&u.fs.forEach((function(t){lhinst.playSoundNewAction("pending_transfered",parseInt(t.id),t.nick?t.nick:"Live Help",confLH.transLation.transfered,t.nt,t.uid)})),void 0!==u.mac&&u.mac.length>0)(a=jQuery("#tabs")).length>0&&0==lhinst.disableremember&&u.mac.forEach((function(t){lhinst.startChatBackground(t.id,a,Z(t.nick||"Visitor",10),!1),j({type:"mac",chat_id:t.id,nick:t.nick})}));s.update((t=>(t.lhcVersion=u.v,t.hideOnline=1===u.ho,t.hideInvisible=1===u.im,t.alwaysOnline=1===u.a_on,t.inActive=1===u.ina,t))),!0===g.setTimeoutEnabled&&(g.timeoutControl=setTimeout((function(){S()}),confLH.back_office_sinterval)),g.isListLoaded=!0}catch(t){t instanceof DOMException||(o(s,p.lhcConnectivityProblem=!0,p),o(s,p.lhcConnectivityProblemExplain=t,p),console.error("There has been a problem with your fetch operation:",t)),g.lhcListRequestInProgress=!1,g.timeoutControl=setTimeout((function(){S()}),confLH.back_office_sinterval)}}}function L(t,e){isNaN(t)||jQuery("#tabs").length>0&&(jQuery("#menu-chat-options").dropdown("toggle"),F.getChatData(t).then((function(n){n.r?document.location=WWW_DIR_JAVASCRIPT+n.r:(lhinst.addOpenTrace("start_chat_by_id"),e?lhinst.startChatBackground(parseInt(t),jQuery("#tabs"),Z(n.nick||"Visitor",10),"backgroundid"):function(t,e){if(jQuery("#tabs").length>0)return lhinst.addOpenTrace("click"),lhinst.startChat(t,jQuery("#tabs"),Z(e||"Visitor",10));lhinst.startChatNewWindow(t,e)}(parseInt(t),Z(n.nick||"Visitor",10)))})))}return t.$$.update=()=>{64&t.$$.dirty[0]&&n(5,i=p.userFilterText),64&t.$$.dirty[0]&&n(4,l=p.depFilterText),64&t.$$.dirty[0]&&n(3,d=p.lmtoggle),64&t.$$.dirty[0]&&n(2,r=p.rmtoggle),64&t.$$.dirty[0]&&n(1,_=p.toggleWidgetData.track_open_chats),64&t.$$.dirty[0]&&n(0,u=p.toggleWidgetData.group_offline_chats),32&t.$$.dirty[0]&&F.searchProvider("users",p.userFilterText).then((function(t){o(s,p.userList=t.items,p)})).catch((function(){o(s,p.userList=[],p)})),16&t.$$.dirty[0]&&F.searchProvider("depswidget",p.depFilterText).then((function(t){o(s,p.userDepartments=t.items,p),o(s,p.userDepartmentsNames=t.items_names,p)})).catch((function(){o(s,p.userDepartments=[],p),o(s,p.userDepartmentsNames=[],p)})),8&t.$$.dirty[0]&&m(),4&t.$$.dirty[0]&&m(),2&t.$$.dirty[0]&&h("track_open_chats"),1&t.$$.dirty[0]&&h("group_offline_chats")},[u,_,r,d,l,i,p]}class nt extends e{constructor(t){super(),n(this,t,et,null,i,{},null,[-1,-1])}}function it(t){let e,n,i,a,s=t[1].lhcNotice.message&&!t[1].inActive&&!t[1].lhcPendingRefresh&&!t[1].lhcConnectivityProblem&&at(t),o=t[1].lhcPendingRefresh&&st(t),c=t[1].lhcConnectivityProblem&&ot(t),l=t[1].inActive&&ct();return{c(){e=m("div"),s&&s.c(),n=d(),o&&o.c(),i=d(),c&&c.c(),a=d(),l&&l.c(),h(e,"ng-non-bindable",""),h(e,"class","version-updated float-start")},m(t,d){_(t,e,d),s&&s.m(e,null),g(e,n),o&&o.m(e,null),g(e,i),c&&c.m(e,null),g(e,a),l&&l.m(e,null)},p(t,d){!t[1].lhcNotice.message||t[1].inActive||t[1].lhcPendingRefresh||t[1].lhcConnectivityProblem?s&&(s.d(1),s=null):s?s.p(t,d):(s=at(t),s.c(),s.m(e,n)),t[1].lhcPendingRefresh?o?o.p(t,d):(o=st(t),o.c(),o.m(e,i)):o&&(o.d(1),o=null),t[1].lhcConnectivityProblem?c?c.p(t,d):(c=ot(t),c.c(),c.m(e,a)):c&&(c.d(1),c=null),t[1].inActive?l||(l=ct(),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d(t){t&&p(e),s&&s.d(),o&&o.d(),c&&c.d(),l&&l.d()}}}function at(t){let e,n,i,a,s,o,c=t[1].lhcNotice.message+"";return{c(){e=m("div"),n=m("i"),i=f("brand_awareness"),s=f(c),h(n,"class",a="material-icons text-"+t[1].lhcNotice.level),h(e,"class",o="text-"+t[1].lhcNotice.level)},m(t,a){_(t,e,a),g(e,n),g(n,i),g(e,s)},p(t,i){2&i&&a!==(a="material-icons text-"+t[1].lhcNotice.level)&&h(n,"class",a),2&i&&c!==(c=t[1].lhcNotice.message+"")&&w(s,c),2&i&&o!==(o="text-"+t[1].lhcNotice.level)&&h(e,"class",o)},d(t){t&&p(e)}}}function st(t){let e,n,i,a,s;return{c(){e=m("div"),n=m("i"),n.textContent="update",i=f("This window will be automatically refreshed in "),a=f(t[2]),s=f(" seconds due to a version update."),h(n,"class","material-icons")},m(t,o){_(t,e,o),g(e,n),g(e,i),g(e,a),g(e,s)},p(t,e){4&e&&w(a,t[2])},d(t){t&&p(e)}}}function ot(t){let e,n,i,a=t[1].lhcConnectivityProblemExplain+"";return{c(){e=m("div"),n=f("You have weak internet connection or the server has problems. Try to refresh the  page. Error code "),i=f(a)},m(t,a){_(t,e,a),g(e,n),g(e,i)},p(t,e){2&e&&a!==(a=t[1].lhcConnectivityProblemExplain+"")&&w(i,a)},d(t){t&&p(e)}}}function ct(t){let e;return{c(){e=m("div"),e.textContent="You went offline because of inactivity. Please close other chat windows if you have any"},m(t,n){_(t,e,n)},d(t){t&&p(e)}}}function lt(t){let e,n,i,a,s,o,c,l,r=t[1].last_actions_index<t[1].last_actions.length-1&&dt(t),u=t[1].last_actions_index>0&&rt(t),f=t[1].last_actions_index>0&&_t(),w="user_wrote"==t[1].last_actions[t[1].last_actions_index].type&&ut(t),b="user_wrote"!=t[1].last_actions[t[1].last_actions_index].type&&"info_history"!=t[1].last_actions[t[1].last_actions_index].type&&"mac"!=t[1].last_actions[t[1].last_actions_index].type&&"mac_history"!=t[1].last_actions[t[1].last_actions_index].type&&pt(t),v="mac"==t[1].last_actions[t[1].last_actions_index].type&&mt(t),y="mac_history"==t[1].last_actions[t[1].last_actions_index].type&&ht(t),x="info_history"==t[1].last_actions[t[1].last_actions_index].type&&gt(t);return{c(){e=m("div"),r&&r.c(),n=d(),u&&u.c(),i=d(),f&&f.c(),a=d(),w&&w.c(),s=d(),b&&b.c(),o=d(),v&&v.c(),c=d(),y&&y.c(),l=d(),x&&x.c(),h(e,"ng-non-bindable",""),h(e,"class","text-muted float-start fs12 abbr-list d-none d-sm-block")},m(t,d){_(t,e,d),r&&r.m(e,null),g(e,n),u&&u.m(e,null),g(e,i),f&&f.m(e,null),g(e,a),w&&w.m(e,null),g(e,s),b&&b.m(e,null),g(e,o),v&&v.m(e,null),g(e,c),y&&y.m(e,null),g(e,l),x&&x.m(e,null)},p(t,d){t[1].last_actions_index<t[1].last_actions.length-1?r?r.p(t,d):(r=dt(t),r.c(),r.m(e,n)):r&&(r.d(1),r=null),t[1].last_actions_index>0?u?u.p(t,d):(u=rt(t),u.c(),u.m(e,i)):u&&(u.d(1),u=null),t[1].last_actions_index>0?f||(f=_t(),f.c(),f.m(e,a)):f&&(f.d(1),f=null),"user_wrote"==t[1].last_actions[t[1].last_actions_index].type?w?w.p(t,d):(w=ut(t),w.c(),w.m(e,s)):w&&(w.d(1),w=null),"user_wrote"!=t[1].last_actions[t[1].last_actions_index].type&&"info_history"!=t[1].last_actions[t[1].last_actions_index].type&&"mac"!=t[1].last_actions[t[1].last_actions_index].type&&"mac_history"!=t[1].last_actions[t[1].last_actions_index].type?b?b.p(t,d):(b=pt(t),b.c(),b.m(e,o)):b&&(b.d(1),b=null),"mac"==t[1].last_actions[t[1].last_actions_index].type?v?v.p(t,d):(v=mt(t),v.c(),v.m(e,c)):v&&(v.d(1),v=null),"mac_history"==t[1].last_actions[t[1].last_actions_index].type?y?y.p(t,d):(y=ht(t),y.c(),y.m(e,l)):y&&(y.d(1),y=null),"info_history"==t[1].last_actions[t[1].last_actions_index].type?x?x.p(t,d):(x=gt(t),x.c(),x.m(e,null)):x&&(x.d(1),x=null)},d(t){t&&p(e),r&&r.d(),u&&u.d(),f&&f.d(),w&&w.d(),b&&b.d(),v&&v.d(),y&&y.d(),x&&x.d()}}}function dt(t){let e,n,i;return{c(){e=m("span"),e.textContent="expand_more",h(e,"class","material-icons action-image")},m(a,s){_(a,e,s),n||(i=b(e,"click",t[4]),n=!0)},p:u,d(t){t&&p(e),n=!1,i()}}}function rt(t){let e,n,i;return{c(){e=m("span"),e.textContent="expand_less",h(e,"class","material-icons action-image")},m(a,s){_(a,e,s),n||(i=b(e,"click",t[5]),n=!0)},p:u,d(t){t&&p(e),n=!1,i()}}}function _t(t){let e;return{c(){e=m("span"),e.textContent="hourglass_full",h(e,"class","material-icons")},m(t,n){_(t,e,n)},d(t){t&&p(e)}}}function ut(t){let e,n,i,a,s,o,c,l,d=t[1].last_actions[t[1].last_actions_index].nick+"",r=t[1].last_actions[t[1].last_actions_index].msg+"",u=t[1].last_actions[t[1].last_actions_index].chat_id+"";return{c(){e=m("span"),n=m("b"),i=f(d),a=f(" - "),s=m("i"),o=f(r),c=f(" in chat - "),l=f(u)},m(t,d){_(t,e,d),g(e,n),g(n,i),g(e,a),g(e,s),g(s,o),g(e,c),g(e,l)},p(t,e){2&e&&d!==(d=t[1].last_actions[t[1].last_actions_index].nick+"")&&w(i,d),2&e&&r!==(r=t[1].last_actions[t[1].last_actions_index].msg+"")&&w(o,r),2&e&&u!==(u=t[1].last_actions[t[1].last_actions_index].chat_id+"")&&w(l,u)},d(t){t&&p(e)}}}function pt(t){let e,n,i,a,s,o,c,l,d=t[1].last_actions[t[1].last_actions_index].nick+"",r=t[1].last_actions[t[1].last_actions_index].msg+"",u=t[1].last_actions[t[1].last_actions_index].chat_id+"";return{c(){e=m("span"),n=m("b"),i=f(d),a=f(" - "),s=m("i"),o=f(r),c=f(" - "),l=f(u)},m(t,d){_(t,e,d),g(e,n),g(n,i),g(e,a),g(e,s),g(s,o),g(e,c),g(e,l)},p(t,e){2&e&&d!==(d=t[1].last_actions[t[1].last_actions_index].nick+"")&&w(i,d),2&e&&r!==(r=t[1].last_actions[t[1].last_actions_index].msg+"")&&w(o,r),2&e&&u!==(u=t[1].last_actions[t[1].last_actions_index].chat_id+"")&&w(l,u)},d(t){t&&p(e)}}}function mt(t){let e,n,i,a,s,o=t[1].last_actions[t[1].last_actions_index].nick+"",c=t[1].last_actions[t[1].last_actions_index].chat_id+"";return{c(){e=m("span"),n=m("b"),i=f(o),a=f(" - active chat was opened - "),s=f(c)},m(t,o){_(t,e,o),g(e,n),g(n,i),g(e,a),g(e,s)},p(t,e){2&e&&o!==(o=t[1].last_actions[t[1].last_actions_index].nick+"")&&w(i,o),2&e&&c!==(c=t[1].last_actions[t[1].last_actions_index].chat_id+"")&&w(s,c)},d(t){t&&p(e)}}}function ht(t){let e,n,i,a,s,o=t[1].last_actions[t[1].last_actions_index].nick+"",c=t[1].last_actions[t[1].last_actions_index].chat_id+"";return{c(){e=m("span"),n=m("b"),i=f(o),a=f(" - previously loaded chat was opened - "),s=f(c)},m(t,o){_(t,e,o),g(e,n),g(n,i),g(e,a),g(e,s)},p(t,e){2&e&&o!==(o=t[1].last_actions[t[1].last_actions_index].nick+"")&&w(i,o),2&e&&c!==(c=t[1].last_actions[t[1].last_actions_index].chat_id+"")&&w(s,c)},d(t){t&&p(e)}}}function gt(t){let e,n,i=t[1].last_actions[t[1].last_actions_index].msg+"";return{c(){e=m("span"),n=f(i)},m(t,i){_(t,e,i),g(e,n)},p(t,e){2&e&&i!==(i=t[1].last_actions[t[1].last_actions_index].msg+"")&&w(n,i)},d(t){t&&p(e)}}}function ft(t){let e,n,i=(t[1].lhcPendingRefresh||t[1].lhcConnectivityProblem||t[1].inActive||t[1].lhcNotice.message)&&it(t),a=0==t[0]&&!(t[1].lhcPendingRefresh||1==t[1].lhcConnectivityProblem||1==t[1].inActive||t[1].lhcNotice.message)&&t[1].last_actions.length>0&&lt(t);return{c(){i&&i.c(),e=d(),a&&a.c(),n=r()},m(t,s){i&&i.m(t,s),_(t,e,s),a&&a.m(t,s),_(t,n,s)},p(t,[s]){t[1].lhcPendingRefresh||t[1].lhcConnectivityProblem||t[1].inActive||t[1].lhcNotice.message?i?i.p(t,s):(i=it(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),0==t[0]&&!t[1].lhcPendingRefresh&&1!=t[1].lhcConnectivityProblem&&1!=t[1].inActive&&!t[1].lhcNotice.message&&t[1].last_actions.length>0?a?a.p(t,s):(a=lt(t),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},i:u,o:u,d(t){t&&(p(e),p(n)),i&&i.d(t),a&&a.d(t)}}}function wt(t,e,n){let i,c;a(t,s,(t=>n(1,c=t)));let{hide_quick_notification:l=0}=e,d=8,r=0;return t.$$set=t=>{"hide_quick_notification"in t&&n(0,l=t.hide_quick_notification)},t.$$.update=()=>{2&t.$$.dirty&&n(3,i=c.lhcVersion),2&t.$$.dirty&&c.lhcNotice,8&t.$$.dirty&&(0==r&&(r=i),r>0&&i>0&&r!=i&&(o(s,c.lhcPendingRefresh=!0,c),setInterval((()=>{n(2,d-=1),0==d&&document.location.reload(!0)}),1e3)))},[l,c,d,i,t=>o(s,c.last_actions_index++,c),t=>o(s,c.last_actions_index--,c)]}customElements.define("lhc-app",t(nt,{},[],[],!1));class bt extends e{constructor(t){super(),n(this,t,wt,ft,i,{hide_quick_notification:0})}get hide_quick_notification(){return this.$$.ctx[0]}set hide_quick_notification(t){this.$$set({hide_quick_notification:t}),l()}}async function vt(t){t.e&&(t.e.stopPropagation(),t.e.preventDefault());const e=await fetch(WWW_DIR_JAVASCRIPT+t.url,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}}).catch((t=>{alert("We could not change your settings! "+t)})),n=await e.json();!1===n.error?t.store.update((e=>(e[t.attr]=!e[t.attr],e))):void 0!==n.message?alert(n.message):void 0!==n.msg?alert(n.msg):alert(n)}function yt(t){let e;function n(t,e){return 1==t[3].hideOnline?$t:xt}let i=n(t),a=i(t);return{c(){a.c(),e=r()},m(t,n){a.m(t,n),_(t,e,n)},p(t,s){i===(i=n(t))&&a?a.p(t,s):(a.d(1),a=i(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){t&&p(e),a.d(t)}}}function xt(t){let e,n=t[4]("homepage.status_online")+"";return{c(){e=f(n)},m(t,n){_(t,e,n)},p(t,i){16&i&&n!==(n=t[4]("homepage.status_online")+"")&&w(e,n)},d(t){t&&p(e)}}}function $t(t){let e,n=t[4]("homepage.status_offline")+"";return{c(){e=f(n)},m(t,n){_(t,e,n)},p(t,i){16&i&&n!==(n=t[4]("homepage.status_offline")+"")&&w(e,n)},d(t){t&&p(e)}}}function jt(t){let e,n,i,a,s,o,c,l=1==t[3].hideOnline?"flash_off":"flash_on",d=t[1]&&yt(t);return{c(){e=m("a"),n=m("i"),i=f(l),d&&d.c(),h(n,"id","online-offline-user"),h(n,"class",a="material-icons "+(!0===t[3].hideOnline?"text-danger":"text-success")),h(n,"title",s=t[4]("homepage.change_online_status")),h(e,"href","#"),h(e,"class",t[2])},m(a,s){_(a,e,s),g(e,n),g(n,i),d&&d.m(e,null),o||(c=[b(window,"keydown",(function(){y(t[0]&&t[5])&&(t[0]&&t[5]).apply(this,arguments)})),b(e,"click",t[6])],o=!0)},p(o,[c]){t=o,8&c&&l!==(l=1==t[3].hideOnline?"flash_off":"flash_on")&&w(i,l),8&c&&a!==(a="material-icons "+(!0===t[3].hideOnline?"text-danger":"text-success"))&&h(n,"class",a),16&c&&s!==(s=t[4]("homepage.change_online_status"))&&h(n,"title",s),t[1]?d?d.p(t,c):(d=yt(t),d.c(),d.m(e,null)):d&&(d.d(1),d=null),4&c&&h(e,"class",t[2])},i:u,o:u,d(t){t&&p(e),d&&d.d(),o=!1,v(c)}}}function Ct(t,e,n){let i,o;a(t,s,(t=>n(3,i=t))),a(t,x,(t=>n(4,o=t)));let{enable_shortcut:c=!1}=e,{show_text:l=!1}=e,{css_class:d="nav-link"}=e;return t.$$set=t=>{"enable_shortcut"in t&&n(0,c=t.enable_shortcut),"show_text"in t&&n(1,l=t.show_text),"css_class"in t&&n(2,d=t.css_class)},[c,l,d,i,o,t=>{!0===t.ctrlKey&&123===t.keyCode&&(!0===lhinst.disableSync&&lhinst.channel?(ee.emitEvent("svelteWentActive"),lhinst.channel.postMessage({action:"went_active",args:{}})):vt({store:s,e:t,attr:"hideOnline",url:"user/setoffline/"+(1==!i.hideOnline?"true":"false")}))},t=>vt({store:s,e:t,attr:"hideOnline",url:"user/setoffline/"+(1==!i.hideOnline?"true":"false")})]}customElements.define("lhc-status",t(bt,{hide_quick_notification:{}},[],[],!1));class Wt extends e{constructor(t){super(),n(this,t,Ct,jt,i,{enable_shortcut:0,show_text:1,css_class:2})}get enable_shortcut(){return this.$$.ctx[0]}set enable_shortcut(t){this.$$set({enable_shortcut:t}),l()}get show_text(){return this.$$.ctx[1]}set show_text(t){this.$$set({show_text:t}),l()}get css_class(){return this.$$.ctx[2]}set css_class(t){this.$$set({css_class:t}),l()}}function kt(t){let e,n=t[1]("homepage.always_online_activity")+"";return{c(){e=f(n)},m(t,n){_(t,e,n)},p(t,i){2&i&&n!==(n=t[1]("homepage.always_online_activity")+"")&&w(e,n)},d(t){t&&p(e)}}}function Dt(t){let e,n=t[1]("homepage.always_online_mode")+"";return{c(){e=f(n)},m(t,n){_(t,e,n)},p(t,i){2&i&&n!==(n=t[1]("homepage.always_online_mode")+"")&&w(e,n)},d(t){t&&p(e)}}}function St(t){let e,n,i,a,s,o,c=1==t[0].hideOnline?"flash_off":1==t[0].alwaysOnline?"toggle_on":"toggle_off";function l(t,e){return 1==t[0].alwaysOnline?Dt:kt}let d=l(t),r=d(t);return{c(){e=m("a"),n=m("i"),i=f(c),r.c(),h(n,"class","material-icons"),h(e,"href","#"),h(e,"class","dropdown-item ps-2"),h(e,"title",a=t[1]("homepage.always_online"))},m(a,c){_(a,e,c),g(e,n),g(n,i),r.m(e,null),s||(o=b(e,"click",t[2]),s=!0)},p(t,[n]){1&n&&c!==(c=1==t[0].hideOnline?"flash_off":1==t[0].alwaysOnline?"toggle_on":"toggle_off")&&w(i,c),d===(d=l(t))&&r?r.p(t,n):(r.d(1),r=d(t),r&&(r.c(),r.m(e,null))),2&n&&a!==(a=t[1]("homepage.always_online"))&&h(e,"title",a)},i:u,o:u,d(t){t&&p(e),r.d(),s=!1,o()}}}function Lt(t,e,n){let i,o;a(t,s,(t=>n(0,i=t))),a(t,x,(t=>n(1,o=t)));return[i,o,t=>vt({store:s,e:t,attr:"alwaysOnline",url:"user/setalwaysonline/"+(1==!i.alwaysOnline?"true":"false")})]}customElements.define("change-online-status",t(Wt,{enable_shortcut:{type:"Boolean"},show_text:{type:"Boolean"},css_class:{}},[],[],!1));class At extends e{constructor(t){super(),n(this,t,Lt,St,i,{})}}function It(t){let e;function n(t,e){return 1==t[2].hideInvisible?Tt:Nt}let i=n(t),a=i(t);return{c(){a.c(),e=r()},m(t,n){a.m(t,n),_(t,e,n)},p(t,s){i===(i=n(t))&&a?a.p(t,s):(a.d(1),a=i(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){t&&p(e),a.d(t)}}}function Nt(t){let e,n=t[3]("homepage.visible")+"";return{c(){e=f(n)},m(t,n){_(t,e,n)},p(t,i){8&i&&n!==(n=t[3]("homepage.visible")+"")&&w(e,n)},d(t){t&&p(e)}}}function Tt(t){let e,n=t[3]("homepage.invisible")+"";return{c(){e=f(n)},m(t,n){_(t,e,n)},p(t,i){8&i&&n!==(n=t[3]("homepage.invisible")+"")&&w(e,n)},d(t){t&&p(e)}}}function Et(t){let e,n,i,a,s,o,c=1==t[2].hideInvisible?"visibility_off":"visibility",l=!t[1]&&It(t);return{c(){e=m("a"),n=m("i"),i=f(c),l&&l.c(),h(n,"id","vi-in-user"),h(n,"class","material-icons"),h(n,"title",a=t[3]("homepage.change_visibility")),h(e,"href","#"),h(e,"class",t[0])},m(a,c){_(a,e,c),g(e,n),g(n,i),l&&l.m(e,null),s||(o=b(e,"click",t[4]),s=!0)},p(t,[s]){4&s&&c!==(c=1==t[2].hideInvisible?"visibility_off":"visibility")&&w(i,c),8&s&&a!==(a=t[3]("homepage.change_visibility"))&&h(n,"title",a),t[1]?l&&(l.d(1),l=null):l?l.p(t,s):(l=It(t),l.c(),l.m(e,null)),1&s&&h(e,"class",t[0])},i:u,o:u,d(t){t&&p(e),l&&l.d(),s=!1,o()}}}function Rt(t,e,n){let i,o;a(t,s,(t=>n(2,i=t))),a(t,x,(t=>n(3,o=t)));let{css_class:c="dropdown-item ps-2"}=e,{hide_text:l=!1}=e;return t.$$set=t=>{"css_class"in t&&n(0,c=t.css_class),"hide_text"in t&&n(1,l=t.hide_text)},[c,l,i,o,t=>vt({store:s,e:t,attr:"hideInvisible",url:"user/setinvisible/"+(1==!i.hideInvisible?"true":"false")})]}customElements.define("change-always-online",t(At,{},[],[],!1));class Ot extends e{constructor(t){super(),n(this,t,Rt,Et,i,{css_class:0,hide_text:1})}get css_class(){return this.$$.ctx[0]}set css_class(t){this.$$set({css_class:t}),l()}get hide_text(){return this.$$.ctx[1]}set hide_text(t){this.$$set({hide_text:t}),l()}}function Pt(t){let e,n,i,a,s,o,c,l,r,f;return{c(){e=m("div"),n=m("div"),i=m("input"),s=d(),o=m("button"),c=m("i"),c.textContent="chat",h(i,"type","text"),h(i,"class","form-control"),h(i,"placeholder",a=t[1]("front_default.chat_id_to_open")),h(i,"aria-describedby","inputGroupPrepend"),i.required=!0,h(c,"class","material-icons me-0"),h(o,"class","btn btn-secondary"),h(o,"title",l=t[1]("front_default.open_a_chat")),h(o,"type","button"),h(n,"class","input-group input-group-sm"),h(e,"class","dropdown-item")},m(a,l){_(a,e,l),g(e,n),g(n,i),$(i,t[0].chat_to_open),g(n,s),g(n,o),g(o,c),r||(f=[b(i,"input",t[2]),b(i,"keyup",t[3]),b(o,"click",t[4])],r=!0)},p(t,[e]){2&e&&a!==(a=t[1]("front_default.chat_id_to_open"))&&h(i,"placeholder",a),1&e&&i.value!==t[0].chat_to_open&&$(i,t[0].chat_to_open),2&e&&l!==(l=t[1]("front_default.open_a_chat"))&&h(o,"title",l)},i:u,o:u,d(t){t&&p(e),r=!1,v(f)}}}function Bt(t,e,n){let i,o;a(t,s,(t=>n(0,i=t))),a(t,x,(t=>n(1,o=t)));return[i,o,function(){i.chat_to_open=this.value,s.set(i)},t=>{13===t.keyCode&&ee.emitEvent("angularStartChatbyId",[i.chat_to_open])},t=>ee.emitEvent("angularStartChatbyId",[i.chat_to_open])]}customElements.define("change-visibility-mode",t(Ot,{css_class:{},hide_text:{type:"Boolean"}},[],[],!1));class Ht extends e{constructor(t){super(),n(this,t,Bt,Pt,i,{})}}function Mt(t){let e,n,i,a=(!0===t[1].lhcCoreLoaded&&t[1][t[0]]&&t[1][t[0]].list?t[1][t[0]].list.length:0)+"";return{c(){e=f("("),n=f(a),i=f(")")},m(t,a){_(t,e,a),_(t,n,a),_(t,i,a)},p(t,[e]){3&e&&a!==(a=(!0===t[1].lhcCoreLoaded&&t[1][t[0]]&&t[1][t[0]].list?t[1][t[0]].list.length:0)+"")&&w(n,a)},i:u,o:u,d(t){t&&(p(e),p(n),p(i))}}}function Vt(t,e,n){let i;a(t,s,(t=>n(1,i=t)));let{type:o="pending_chats"}=e;return t.$$set=t=>{"type"in t&&n(0,o=t.type)},[o,i]}customElements.define("lhc-open-chat",t(Ht,{},[],[],!1));class Jt extends e{constructor(t){super(),n(this,t,Vt,Mt,i,{type:0})}get type(){return this.$$.ctx[0]}set type(t){this.$$set({type:t}),l()}}function Gt(t,e,n){const i=t.slice();return i[84]=e[n],i}function Qt(t,e,n){const i=t.slice();return i[91]=e[n],i}function qt(t,e,n){const i=t.slice();return i[94]=e[n],i}function Ft(t,e,n){const i=t.slice();return i[97]=e[n],i}function Ut(t,e,n){const i=t.slice();return i[91]=e[n],i}function Kt(t,e,n){const i=t.slice();return i[94]=e[n],i}function Xt(t,e,n){const i=t.slice();return i[97]=e[n],i}function Yt(t,e,n){const i=t.slice();return i[106]=e[n][0],i[107]=e[n][1],i}function zt(t,e,n){const i=t.slice();return i[110]=e[n],i}function Zt(t,e,n){const i=t.slice();return i[84]=e[n],i}function te(t,e,n){const i=t.slice();return i[84]=e[n],i}function ne(t,e,n){const i=t.slice();return i[78]=e[n],i}function ie(t,e,n){const i=t.slice();return i[81]=e[n],i}function ae(t,e,n){const i=t.slice();return i[94]=e[n],i}function se(t,e,n){const i=t.slice();return i[115]=e[n],i}function oe(t){let e,n,i,a,s,o,c,l,r,u,f,w,b;function v(t,e){return"online_op"==t[1]?ue:"depgroups_stats"==t[1]?_e:"pending_chats"==t[1]?re:"active_chats"==t[1]?de:"group_chats"==t[1]?le:ce}let y=v(t),x=y(t),$="transfer_chats"==t[1]&&fe(t),j=C(t[24]),k=[];for(let e=0;e<j.length;e+=1)k[e]=be(se(t,j,e));let D=!1===t[4]&&t[32]&&t[30].additionalColumns&&ve(t),S=("subject_chats"==t[1]||"alarm_mails"==t[1]||t[16])&&Ce(t),L=!t[6]&&ke(t),A="online_op"==t[1]&&Oe(t),I="active_chats"==t[1]&&Me(t),N="depgroups_stats"==t[1]&&Ve(t),T=("active_mails"==t[1]||"alarm_mails"==t[1]||t[15])&&Je(t),E=!t[5]&&Qe(t);return{c(){e=m("thead"),n=m("tr"),i=m("th"),x.c(),a=d(),$&&$.c(),s=d();for(let t=0;t<k.length;t+=1)k[t].c();o=d(),D&&D.c(),c=d(),S&&S.c(),l=d(),L&&L.c(),r=d(),A&&A.c(),u=d(),I&&I.c(),f=d(),N&&N.c(),w=d(),T&&T.c(),b=d(),E&&E.c(),h(i,"width",t[26])},m(t,d){_(t,e,d),g(e,n),g(n,i),x.m(i,null),g(i,a),$&&$.m(i,null),g(i,s);for(let t=0;t<k.length;t+=1)k[t]&&k[t].m(i,null);g(n,o),D&&D.m(n,null),g(n,c),S&&S.m(n,null),g(n,l),L&&L.m(n,null),g(n,r),A&&A.m(n,null),g(n,u),I&&I.m(n,null),g(n,f),N&&N.m(n,null),g(n,w),T&&T.m(n,null),g(n,b),E&&E.m(n,null)},p(t,e){if(y===(y=v(t))&&x?x.p(t,e):(x.d(1),x=y(t),x&&(x.c(),x.m(i,a))),"transfer_chats"==t[1]?$?$.p(t,e):($=fe(t),$.c(),$.m(i,s)):$&&($.d(1),$=null),1090519044&e[0]){let n;for(j=C(t[24]),n=0;n<j.length;n+=1){const a=se(t,j,n);k[n]?k[n].p(a,e):(k[n]=be(a),k[n].c(),k[n].m(i,null))}for(;n<k.length;n+=1)k[n].d(1);k.length=j.length}67108864&e[0]&&h(i,"width",t[26]),!1===t[4]&&t[32]&&t[30].additionalColumns?D?D.p(t,e):(D=ve(t),D.c(),D.m(n,c)):D&&(D.d(1),D=null),"subject_chats"==t[1]||"alarm_mails"==t[1]||t[16]?S?S.p(t,e):(S=Ce(t),S.c(),S.m(n,l)):S&&(S.d(1),S=null),t[6]?L&&(L.d(1),L=null):L?L.p(t,e):(L=ke(t),L.c(),L.m(n,r)),"online_op"==t[1]?A?A.p(t,e):(A=Oe(t),A.c(),A.m(n,u)):A&&(A.d(1),A=null),"active_chats"==t[1]?I?I.p(t,e):(I=Me(t),I.c(),I.m(n,f)):I&&(I.d(1),I=null),"depgroups_stats"==t[1]?N?N.p(t,e):(N=Ve(t),N.c(),N.m(n,w)):N&&(N.d(1),N=null),"active_mails"==t[1]||"alarm_mails"==t[1]||t[15]?T?T.p(t,e):(T=Je(t),T.c(),T.m(n,b)):T&&(T.d(1),T=null),t[5]?E&&(E.d(1),E=null):E?E.p(t,e):(E=Qe(t),E.c(),E.m(n,null))},d(t){t&&p(e),x.d(),$&&$.d(),W(k,t),D&&D.d(),S&&S.d(),L&&L.d(),A&&A.d(),I&&I.d(),N&&N.d(),T&&T.d(),E&&E.d()}}}function ce(t){let e,n,i,a,s=(t[12]?t[12]:"face")+"",o=t[13]&&pe(t);return{c(){e=m("i"),n=f(s),o&&o.c(),a=r(),h(e,"title",i=t[31]("widget."+(t[11]?t[11]:"visitor"))),h(e,"class","material-icons")},m(t,i){_(t,e,i),g(e,n),o&&o.m(t,i),_(t,a,i)},p(t,c){4096&c[0]&&s!==(s=(t[12]?t[12]:"face")+"")&&w(n,s),2048&c[0]|1&c[1]&&i!==(i=t[31]("widget."+(t[11]?t[11]:"visitor")))&&h(e,"title",i),t[13]?o?o.p(t,c):(o=pe(t),o.c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},d(t){t&&(p(e),p(a)),o&&o.d(t)}}}function le(t){let e,n,i;return{c(){e=m("i"),n=f("group"),h(e,"title",i=t[31]("group_chat.group_name")),h(e,"class","material-icons")},m(t,i){_(t,e,i),g(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("group_chat.group_name"))&&h(e,"title",i)},d(t){t&&p(e)}}}function de(t){let e,n,i,a,s,o,c,l,r,u,y,x,$,C,W,k,D,S,L,A="loc_dsc"==t[30].toggleWidgetData[t[0]]||"loc_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down",I="u_dsc"==t[30].toggleWidgetData[t[0]]||"u_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=m("a"),n=m("i"),i=f("location_on"),s=d(),o=m("i"),c=f(A),r=f("   "),u=m("a"),y=m("i"),x=f("face"),C=d(),W=m("i"),k=f(I),h(n,"title",a=t[31]("widget.location")),h(n,"class","material-icons"),h(o,"title",l=t[31]("widget.sort_by_location")),h(o,"class","material-icons"),j(o,"text-muted","loc_asc"!=t[30].toggleWidgetData[t[0]]&&"loc_dsc"!=t[30].toggleWidgetData[t[0]]),h(y,"title",$=t[31]("widget.visitor")),h(y,"class","material-icons"),h(W,"title",D=t[31]("widget.sort_by_nick")),h(W,"class","material-icons"),j(W,"text-muted","u_asc"!=t[30].toggleWidgetData[t[0]]&&"u_dsc"!=t[30].toggleWidgetData[t[0]])},m(a,l){_(a,e,l),g(e,n),g(n,i),g(e,s),g(e,o),g(o,c),_(a,r,l),_(a,u,l),g(u,y),g(y,x),g(u,C),g(u,W),g(W,k),S||(L=[b(e,"click",t[39]),b(u,"click",t[40])],S=!0)},p(t,e){1&e[1]&&a!==(a=t[31]("widget.location"))&&h(n,"title",a),1073741825&e[0]&&A!==(A="loc_dsc"==t[30].toggleWidgetData[t[0]]||"loc_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&w(c,A),1&e[1]&&l!==(l=t[31]("widget.sort_by_location"))&&h(o,"title",l),1073741825&e[0]&&j(o,"text-muted","loc_asc"!=t[30].toggleWidgetData[t[0]]&&"loc_dsc"!=t[30].toggleWidgetData[t[0]]),1&e[1]&&$!==($=t[31]("widget.visitor"))&&h(y,"title",$),1073741825&e[0]&&I!==(I="u_dsc"==t[30].toggleWidgetData[t[0]]||"u_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&w(k,I),1&e[1]&&D!==(D=t[31]("widget.sort_by_nick"))&&h(W,"title",D),1073741825&e[0]&&j(W,"text-muted","u_asc"!=t[30].toggleWidgetData[t[0]]&&"u_dsc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&(p(e),p(r),p(u)),S=!1,v(L)}}}function re(t){let e,n,i,a,s,o,c,l,r,u,v="id_dsc"===t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=m("a"),n=m("i"),i=f("face"),s=d(),o=m("i"),c=f(v),h(n,"title",a=t[31]("widget.visitor")),h(n,"class","chat-active material-icons"),j(n,"text-muted","id_dsc"!=t[30].toggleWidgetData[t[0]]&&"id_asc"!=t[30].toggleWidgetData[t[0]]),h(o,"title",l=t[31]("widget.sort_pending")),h(o,"class","material-icons")},m(a,l){_(a,e,l),g(e,n),g(n,i),g(e,s),g(e,o),g(o,c),r||(u=b(e,"click",t[38]),r=!0)},p(t,e){1&e[1]&&a!==(a=t[31]("widget.visitor"))&&h(n,"title",a),1073741825&e[0]&&j(n,"text-muted","id_dsc"!=t[30].toggleWidgetData[t[0]]&&"id_asc"!=t[30].toggleWidgetData[t[0]]),1073741825&e[0]&&v!==(v="id_dsc"===t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&w(c,v),1&e[1]&&l!==(l=t[31]("widget.sort_pending"))&&h(o,"title",l)},d(t){t&&p(e),r=!1,u()}}}function _e(t){let e,n,i;return{c(){e=m("i"),n=f(""),h(e,"title",i=t[31]("widget.dep_group")),h(e,"class","material-icons")},m(t,i){_(t,e,i),g(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.dep_group"))&&h(e,"title",i)},d(t){t&&p(e)}}}function ue(t){let e,n,i,a,s,o,c,l,u,f,w,y,x,$=!t[8]&&me(t),C=!t[8]&&he(t),W="online_op"==t[1]&&ge(t);return{c(){e=m("a"),n=m("i"),n.textContent="account_box",i=d(),$&&$.c(),s=d(),o=m("a"),c=m("i"),c.textContent="flash_on",l=d(),C&&C.c(),f=d(),W&&W.c(),w=r(),h(n,"class","material-icons chat-active"),j(n,"text-muted","onn_dsc"!=t[30].toggleWidgetData[t[0]]&&"onn_asc"!=t[30].toggleWidgetData[t[0]]),h(e,"title",a=t[31]("widget.sort_by_online_name")),h(c,"class","material-icons chat-active"),j(c,"text-muted","onl_dsc"!=t[30].toggleWidgetData[t[0]]&&"onl_asc"!=t[30].toggleWidgetData[t[0]]),h(o,"title",u=t[31]("widget.sort_by_online_status"))},m(a,d){_(a,e,d),g(e,n),g(e,i),$&&$.m(e,null),_(a,s,d),_(a,o,d),g(o,c),g(o,l),C&&C.m(o,null),_(a,f,d),W&&W.m(a,d),_(a,w,d),y||(x=[b(e,"click",t[36]),b(o,"click",t[37])],y=!0)},p(t,i){1073741825&i[0]&&j(n,"text-muted","onn_dsc"!=t[30].toggleWidgetData[t[0]]&&"onn_asc"!=t[30].toggleWidgetData[t[0]]),t[8]?$&&($.d(1),$=null):$?$.p(t,i):($=me(t),$.c(),$.m(e,null)),1&i[1]&&a!==(a=t[31]("widget.sort_by_online_name"))&&h(e,"title",a),1073741825&i[0]&&j(c,"text-muted","onl_dsc"!=t[30].toggleWidgetData[t[0]]&&"onl_asc"!=t[30].toggleWidgetData[t[0]]),t[8]?C&&(C.d(1),C=null):C?C.p(t,i):(C=he(t),C.c(),C.m(o,null)),1&i[1]&&u!==(u=t[31]("widget.sort_by_online_status"))&&h(o,"title",u),"online_op"==t[1]?W?W.p(t,i):(W=ge(t),W.c(),W.m(w.parentNode,w)):W&&(W.d(1),W=null)},d(t){t&&(p(e),p(s),p(o),p(f),p(w)),$&&$.d(),C&&C.d(),W&&W.d(t),y=!1,v(x)}}}function pe(t){let e,n=t[31]("widget."+(t[11]?t[11]:"visitor"))+"";return{c(){e=f(n)},m(t,n){_(t,e,n)},p(t,i){2048&i[0]|1&i[1]&&n!==(n=t[31]("widget."+(t[11]?t[11]:"visitor"))+"")&&w(e,n)},d(t){t&&p(e)}}}function me(t){let e,n,i="onn_dsc"==t[30].toggleWidgetData[t[0]]||"onn_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=m("i"),n=f(i),h(e,"class","material-icons"),j(e,"text-muted","onn_dsc"!=t[30].toggleWidgetData[t[0]]&&"onn_asc"!=t[30].toggleWidgetData[t[0]])},m(t,i){_(t,e,i),g(e,n)},p(t,a){1073741825&a[0]&&i!==(i="onn_dsc"==t[30].toggleWidgetData[t[0]]||"onn_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&w(n,i),1073741825&a[0]&&j(e,"text-muted","onn_dsc"!=t[30].toggleWidgetData[t[0]]&&"onn_asc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&p(e)}}}function he(t){let e,n,i="onl_dsc"==t[30].toggleWidgetData[t[0]]||"onl_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=m("i"),n=f(i),h(e,"class","material-icons"),j(e,"text-muted","onl_dsc"!=t[30].toggleWidgetData[t[0]]&&"onl_asc"!=t[30].toggleWidgetData[t[0]])},m(t,i){_(t,e,i),g(e,n)},p(t,a){1073741825&a[0]&&i!==(i="onl_dsc"==t[30].toggleWidgetData[t[0]]||"onl_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&w(n,i),1073741825&a[0]&&j(e,"text-muted","onl_dsc"!=t[30].toggleWidgetData[t[0]]&&"onl_asc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&p(e)}}}function ge(t){let e,n,i,a=t[30][t[1]].op_on+"";return{c(){e=m("span"),n=f(a),h(e,"class","text-success"),h(e,"title",i=t[31]("widget.online"))},m(t,i){_(t,e,i),g(e,n)},p(t,s){1073741826&s[0]&&a!==(a=t[30][t[1]].op_on+"")&&w(n,a),1&s[1]&&i!==(i=t[31]("widget.online"))&&h(e,"title",i)},d(t){t&&p(e)}}}function fe(t){let e,n=t[31]("widget.transferred_to_you")+"";return{c(){e=f(n)},m(t,n){_(t,e,n)},p(t,i){1&i[1]&&n!==(n=t[31]("widget.transferred_to_you")+"")&&w(e,n)},d(t){t&&p(e)}}}function we(t){let e,n,i;function a(...e){return t[42](t[115],...e)}return{c(){e=m("a"),e.innerHTML='<span class="material-icons">close</span>',h(e,"class","text-muted"),h(e,"title","Remove sort")},m(t,s){_(t,e,s),n||(i=b(e,"click",a),n=!0)},p(e,n){t=e},d(t){t&&p(e),n=!1,i()}}}function be(t){let e,n,i,a,s,o,c,l,u,v,y=(t[30].toggleWidgetData[t[115].sort_identifier]==t[115].sort_options[1]?t[115]["sort_icon_"+t[115].sort_options[1]]:t[115]["sort_icon_"+t[115].sort_options[0]])+"";function x(...e){return t[41](t[115],...e)}let $=(t[30].toggleWidgetData[t[115].sort_identifier]==t[115].sort_options[0]||t[30].toggleWidgetData[t[115].sort_identifier]==t[115].sort_options[1])&&we(t);return{c(){e=f("| "),n=m("a"),i=m("i"),a=f(y),c=d(),$&&$.c(),l=r(),h(i,"title",s=t[115].title),h(i,"class",o="material-icons chat-active "+(t[30].toggleWidgetData[t[115].sort_identifier]!=t[115].sort_options[1]&&t[30].toggleWidgetData[t[115].sort_identifier]!=t[115].sort_options[0]?"text-muted":""))},m(t,s){_(t,e,s),_(t,n,s),g(n,i),g(i,a),_(t,c,s),$&&$.m(t,s),_(t,l,s),u||(v=b(n,"click",x),u=!0)},p(e,n){t=e,1090519040&n[0]&&y!==(y=(t[30].toggleWidgetData[t[115].sort_identifier]==t[115].sort_options[1]?t[115]["sort_icon_"+t[115].sort_options[1]]:t[115]["sort_icon_"+t[115].sort_options[0]])+"")&&w(a,y),16777216&n[0]&&s!==(s=t[115].title)&&h(i,"title",s),1090519040&n[0]&&o!==(o="material-icons chat-active "+(t[30].toggleWidgetData[t[115].sort_identifier]!=t[115].sort_options[1]&&t[30].toggleWidgetData[t[115].sort_identifier]!=t[115].sort_options[0]?"text-muted":""))&&h(i,"class",o),t[30].toggleWidgetData[t[115].sort_identifier]==t[115].sort_options[0]||t[30].toggleWidgetData[t[115].sort_identifier]==t[115].sort_options[1]?$?$.p(t,n):($=we(t),$.c(),$.m(l.parentNode,l)):$&&($.d(1),$=null)},d(t){t&&(p(e),p(n),p(c),p(l)),$&&$.d(t),u=!1,v()}}}function ve(t){let e,n=C(t[30].additionalColumns),i=[];for(let e=0;e<n.length;e+=1)i[e]=je(ae(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=r()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);_(t,e,n)},p(t,a){if(1342177284&a[0]){let s;for(n=C(t[30].additionalColumns),s=0;s<n.length;s+=1){const o=ae(t,n,s);i[s]?i[s].p(o,a):(i[s]=je(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&p(e),W(i,t)}}}function ye(t){let e,n,i,a,s=t[94].name+"",o=""!==t[94].icon&&xe(t),c=""!==t[28]&&t[94].sorten&&$e(t);return{c(){e=m("th"),o&&o.c(),n=f(s),i=d(),c&&c.c(),a=d(),h(e,"width","20%")},m(t,s){_(t,e,s),o&&o.m(e,null),g(e,n),g(e,i),c&&c.m(e,null),g(e,a)},p(t,i){""!==t[94].icon?o?o.p(t,i):(o=xe(t),o.c(),o.m(e,n)):o&&(o.d(1),o=null),1073741824&i[0]&&s!==(s=t[94].name+"")&&w(n,s),""!==t[28]&&t[94].sorten?c?c.p(t,i):(c=$e(t),c.c(),c.m(e,a)):c&&(c.d(1),c=null)},d(t){t&&p(e),o&&o.d(),c&&c.d()}}}function xe(t){let e,n,i=t[94].icon+"";return{c(){e=m("i"),n=f(i),h(e,"class","material-icons chat-active"),j(e,"text-muted",!t[28]||!t[94].sorten||t[30].toggleWidgetData[t[28]]!=t[94].items[0]+"_asc"&&t[30].toggleWidgetData[t[28]]!=t[94].items[0]+"_dsc")},m(t,i){_(t,e,i),g(e,n)},p(t,a){1073741824&a[0]&&i!==(i=t[94].icon+"")&&w(n,i),1342177280&a[0]&&j(e,"text-muted",!t[28]||!t[94].sorten||t[30].toggleWidgetData[t[28]]!=t[94].items[0]+"_asc"&&t[30].toggleWidgetData[t[28]]!=t[94].items[0]+"_dsc")},d(t){t&&p(e)}}}function $e(t){let e,n,i,a,s,o=t[30].toggleWidgetData[t[28]]==t[94].items[0]+"_dsc"||t[30].toggleWidgetData[t[28]]!=t[94].items[0]+"_asc"?"trending_up":"trending_down";function c(...e){return t[43](t[94],...e)}return{c(){e=m("a"),n=m("i"),i=f(o),h(n,"class","material-icons"),j(n,"text-muted",t[30].toggleWidgetData[t[28]]!=t[94].items[0]+"_asc"&&t[30].toggleWidgetData[t[28]]!=t[94].items[0]+"_dsc")},m(t,o){_(t,e,o),g(e,n),g(n,i),a||(s=b(e,"click",c),a=!0)},p(e,a){t=e,1342177280&a[0]&&o!==(o=t[30].toggleWidgetData[t[28]]==t[94].items[0]+"_dsc"||t[30].toggleWidgetData[t[28]]!=t[94].items[0]+"_asc"?"trending_up":"trending_down")&&w(i,o),1342177280&a[0]&&j(n,"text-muted",t[30].toggleWidgetData[t[28]]!=t[94].items[0]+"_asc"&&t[30].toggleWidgetData[t[28]]!=t[94].items[0]+"_dsc")},d(t){t&&p(e),a=!1,s()}}}function je(t){let e,n=1==t[94].cenabl&&!t[94].iconm&&ye(t);return{c(){n&&n.c(),e=r()},m(t,i){n&&n.m(t,i),_(t,e,i)},p(t,i){1!=t[94].cenabl||t[94].iconm?n&&(n.d(1),n=null):n?n.p(t,i):(n=ye(t),n.c(),n.m(e.parentNode,e))},d(t){t&&p(e),n&&n.d(t)}}}function Ce(t){let e,n,i,a,s=t[18]&&We(t);return{c(){e=m("th"),n=m("span"),i=f("label"),s&&s.c(),h(n,"title",a=t[31]("widget.subject")),h(n,"class","material-icons"),h(e,"width","25%")},m(t,a){_(t,e,a),g(e,n),g(n,i),s&&s.m(e,null)},p(t,i){1&i[1]&&a!==(a=t[31]("widget.subject"))&&h(n,"title",a),t[18]?s?s.p(t,i):(s=We(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(t){t&&p(e),s&&s.d()}}}function We(t){let e,n=t[31]("widget.subject")+"";return{c(){e=f(n)},m(t,n){_(t,e,n)},p(t,i){1&i[1]&&n!==(n=t[31]("widget.subject")+"")&&w(e,n)},d(t){t&&p(e)}}}function ke(t){let e,n,i,a,s,o,c,l,r,u="depgroups_stats"===t[1]&&De(t),f="online_op"===t[1]&&Se(t),w=("my_mails"===t[1]||"alarm_mails"===t[1]||"active_mails"===t[1]||"pending_mails"===t[1])&&Le(t),b="pending_chats"===t[1]&&Ae(t),v="my_chats"===t[1]&&Ie(t),y="unread_chats"===t[1]&&Ne(t),x=("active_chats"===t[1]||"bot_chats"===t[1])&&Te(t),$="subject_chats"==t[1]&&Ee(t),j="transfer_chats"==t[1]&&Re(t);return{c(){e=m("th"),u&&u.c(),n=d(),f&&f.c(),i=d(),w&&w.c(),a=d(),b&&b.c(),s=d(),v&&v.c(),o=d(),y&&y.c(),c=d(),x&&x.c(),l=d(),$&&$.c(),r=d(),j&&j.c(),h(e,"width",t[25])},m(t,d){_(t,e,d),u&&u.m(e,null),g(e,n),f&&f.m(e,null),g(e,i),w&&w.m(e,null),g(e,a),b&&b.m(e,null),g(e,s),v&&v.m(e,null),g(e,o),y&&y.m(e,null),g(e,c),x&&x.m(e,null),g(e,l),$&&$.m(e,null),g(e,r),j&&j.m(e,null)},p(t,d){"depgroups_stats"===t[1]?u?u.p(t,d):(u=De(t),u.c(),u.m(e,n)):u&&(u.d(1),u=null),"online_op"===t[1]?f?f.p(t,d):(f=Se(t),f.c(),f.m(e,i)):f&&(f.d(1),f=null),"my_mails"===t[1]||"alarm_mails"===t[1]||"active_mails"===t[1]||"pending_mails"===t[1]?w?w.p(t,d):(w=Le(t),w.c(),w.m(e,a)):w&&(w.d(1),w=null),"pending_chats"===t[1]?b?b.p(t,d):(b=Ae(t),b.c(),b.m(e,s)):b&&(b.d(1),b=null),"my_chats"===t[1]?v?v.p(t,d):(v=Ie(t),v.c(),v.m(e,o)):v&&(v.d(1),v=null),"unread_chats"===t[1]?y?y.p(t,d):(y=Ne(t),y.c(),y.m(e,c)):y&&(y.d(1),y=null),"active_chats"===t[1]||"bot_chats"===t[1]?x?x.p(t,d):(x=Te(t),x.c(),x.m(e,l)):x&&(x.d(1),x=null),"subject_chats"==t[1]?$?$.p(t,d):($=Ee(t),$.c(),$.m(e,r)):$&&($.d(1),$=null),"transfer_chats"==t[1]?j?j.p(t,d):(j=Re(t),j.c(),j.m(e,null)):j&&(j.d(1),j=null),33554432&d[0]&&h(e,"width",t[25])},d(t){t&&p(e),u&&u.d(),f&&f.d(),w&&w.d(),b&&b.d(),v&&v.d(),y&&y.d(),x&&x.d(),$&&$.d(),j&&j.d()}}}function De(t){let e,n,i;return{c(){e=m("i"),n=f("chat"),h(e,"title",i=t[31]("widget_title.pending_chats")),h(e,"class","material-icons chat-pending")},m(t,i){_(t,e,i),g(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget_title.pending_chats"))&&h(e,"title",i)},d(t){t&&p(e)}}}function Se(t){let e,n,i;return{c(){e=m("i"),n=f("assignment_ind"),h(e,"title",i=t[31]("widget.last_assignment_ago")),h(e,"class","material-icons")},m(t,i){_(t,e,i),g(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.last_assignment_ago"))&&h(e,"title",i)},d(t){t&&p(e)}}}function Le(t){let e,n,i;return{c(){e=m("i"),n=f("access_time"),h(e,"title",i=t[31]("widget.wait_time")),h(e,"class","material-icons")},m(t,i){_(t,e,i),g(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.wait_time"))&&h(e,"title",i)},d(t){t&&p(e)}}}function Ae(t){let e,n,i,a,s,o,c,l,d,r="wtime_dsc"===t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=m("a"),n=m("i"),i=f("access_time"),s=m("i"),o=f(r),h(n,"title",a=t[31]("widget.wait_time")),h(n,"class","material-icons chat-active"),j(n,"text-muted","wtime_dsc"!=t[30].toggleWidgetData[t[0]]&&"wtime_asc"!=t[30].toggleWidgetData[t[0]]),h(s,"title",c=t[31]("widget.sort_wait_time")),h(s,"class","material-icons")},m(a,c){_(a,e,c),g(e,n),g(n,i),g(e,s),g(s,o),l||(d=b(e,"click",t[44]),l=!0)},p(t,e){1&e[1]&&a!==(a=t[31]("widget.wait_time"))&&h(n,"title",a),1073741825&e[0]&&j(n,"text-muted","wtime_dsc"!=t[30].toggleWidgetData[t[0]]&&"wtime_asc"!=t[30].toggleWidgetData[t[0]]),1073741825&e[0]&&r!==(r="wtime_dsc"===t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&w(o,r),1&e[1]&&c!==(c=t[31]("widget.sort_wait_time"))&&h(s,"title",c)},d(t){t&&p(e),l=!1,d()}}}function Ie(t){let e,n,i;return{c(){e=m("i"),n=f("access_time"),h(e,"title",i=t[31]("widget.last_message")),h(e,"class","material-icons")},m(t,i){_(t,e,i),g(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.last_message"))&&h(e,"title",i)},d(t){t&&p(e)}}}function Ne(t){let e,n,i;return{c(){e=m("i"),n=f("access_time"),h(e,"title",i=t[31]("widget.time_ago")),h(e,"class","material-icons")},m(t,i){_(t,e,i),g(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.time_ago"))&&h(e,"title",i)},d(t){t&&p(e)}}}function Te(t){let e,n,i,a,s,o,c,l,r,u,y,x="lmt_dsc"==t[30].toggleWidgetData[t[0]]||"lmt_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down",$="id_dsc"==t[30].toggleWidgetData[t[0]]||"id_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=m("a"),n=m("i"),i=f(x),s=d(),o=m("a"),c=m("i"),l=f($),h(n,"title",a=t[31]("widget.sort_by_last_msg_time")),h(n,"class","material-icons"),j(n,"text-muted","lmt_asc"!=t[30].toggleWidgetData[t[0]]&&"lmt_dsc"!=t[30].toggleWidgetData[t[0]]),h(c,"title",r=t[31]("widget.sort_by_start_time")),h(c,"class","material-icons"),j(c,"text-muted","id_asc"!=t[30].toggleWidgetData[t[0]]&&"id_dsc"!=t[30].toggleWidgetData[t[0]])},m(a,d){_(a,e,d),g(e,n),g(n,i),_(a,s,d),_(a,o,d),g(o,c),g(c,l),u||(y=[b(e,"click",t[45]),b(o,"click",t[46])],u=!0)},p(t,e){1073741825&e[0]&&x!==(x="lmt_dsc"==t[30].toggleWidgetData[t[0]]||"lmt_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&w(i,x),1&e[1]&&a!==(a=t[31]("widget.sort_by_last_msg_time"))&&h(n,"title",a),1073741825&e[0]&&j(n,"text-muted","lmt_asc"!=t[30].toggleWidgetData[t[0]]&&"lmt_dsc"!=t[30].toggleWidgetData[t[0]]),1073741825&e[0]&&$!==($="id_dsc"==t[30].toggleWidgetData[t[0]]||"id_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&w(l,$),1&e[1]&&r!==(r=t[31]("widget.sort_by_start_time"))&&h(c,"title",r),1073741825&e[0]&&j(c,"text-muted","id_asc"!=t[30].toggleWidgetData[t[0]]&&"id_dsc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&(p(e),p(s),p(o)),u=!1,v(y)}}}function Ee(t){let e,n,i;return{c(){e=m("i"),n=f("access_time"),h(e,"title",i=t[31]("widget.time_since_last_msg")),h(e,"class","material-icons")},m(t,i){_(t,e,i),g(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.time_since_last_msg"))&&h(e,"title",i)},d(t){t&&p(e)}}}function Re(t){let e,n,i;return{c(){e=m("i"),n=f("access_time"),h(e,"title",i=t[31]("widget.created_at")),h(e,"class","material-icons")},m(t,i){_(t,e,i),g(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.created_at"))&&h(e,"title",i)},d(t){t&&p(e)}}}function Oe(t){let e,n,i,a,s,o,c,l,r,u="rac_dsc"==t[30].toggleWidgetData[t[0]]||"rac_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down",v=!t[7]&&Pe(t),y=!t[9]&&Be(t);return{c(){e=m("th"),n=m("a"),v&&v.c(),i=d(),a=m("i"),s=f(u),c=d(),y&&y.c(),h(a,"title",o=t[31]("widget.sort_by_chat_number_real")),h(a,"class","material-icons"),j(a,"text-muted","rac_asc"!=t[30].toggleWidgetData[t[0]]&&"rac_dsc"!=t[30].toggleWidgetData[t[0]]),h(e,"width","15%")},m(o,d){_(o,e,d),g(e,n),v&&v.m(n,null),g(n,i),g(n,a),g(a,s),g(e,c),y&&y.m(e,null),l||(r=b(n,"click",t[47]),l=!0)},p(t,c){t[7]?v&&(v.d(1),v=null):v?v.p(t,c):(v=Pe(t),v.c(),v.m(n,i)),1073741825&c[0]&&u!==(u="rac_dsc"==t[30].toggleWidgetData[t[0]]||"rac_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&w(s,u),1&c[1]&&o!==(o=t[31]("widget.sort_by_chat_number_real"))&&h(a,"title",o),1073741825&c[0]&&j(a,"text-muted","rac_asc"!=t[30].toggleWidgetData[t[0]]&&"rac_dsc"!=t[30].toggleWidgetData[t[0]]),t[9]?y&&(y.d(1),y=null):y?y.p(t,c):(y=Be(t),y.c(),y.m(e,null))},d(t){t&&p(e),v&&v.d(),y&&y.d(),l=!1,r()}}}function Pe(t){let e,n,i;return{c(){e=m("i"),n=f("sms"),h(e,"title",i=t[31]("widget.live_chats")),h(e,"class","material-icons chat-active"),j(e,"text-muted","rac_asc"!=t[30].toggleWidgetData[t[0]]&&"rac_dsc"!=t[30].toggleWidgetData[t[0]])},m(t,i){_(t,e,i),g(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.live_chats"))&&h(e,"title",i),1073741825&n[0]&&j(e,"text-muted","rac_asc"!=t[30].toggleWidgetData[t[0]]&&"rac_dsc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&p(e)}}}function Be(t){let e,n,i,a,s,o,c,l="ac_dsc"==t[30].toggleWidgetData[t[0]]||"ac_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down",r=!t[7]&&He(t);return{c(){e=m("a"),r&&r.c(),n=d(),i=m("i"),a=f(l),h(i,"title",s=t[31]("widget.sort_by_chat_number")),h(i,"class","material-icons"),j(i,"text-muted","ac_dsc"!=t[30].toggleWidgetData[t[0]]&&"ac_asc"!=t[30].toggleWidgetData[t[0]])},m(s,l){_(s,e,l),r&&r.m(e,null),g(e,n),g(e,i),g(i,a),o||(c=b(e,"click",t[48]),o=!0)},p(t,o){t[7]?r&&(r.d(1),r=null):r?r.p(t,o):(r=He(t),r.c(),r.m(e,n)),1073741825&o[0]&&l!==(l="ac_dsc"==t[30].toggleWidgetData[t[0]]||"ac_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&w(a,l),1&o[1]&&s!==(s=t[31]("widget.sort_by_chat_number"))&&h(i,"title",s),1073741825&o[0]&&j(i,"text-muted","ac_dsc"!=t[30].toggleWidgetData[t[0]]&&"ac_asc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&p(e),r&&r.d(),o=!1,c()}}}function He(t){let e,n,i;return{c(){e=m("i"),n=f("chat"),h(e,"title",i=t[31]("widget_title.active_chats")),h(e,"class","material-icons chat-active"),j(e,"text-muted","ac_dsc"!=t[30].toggleWidgetData[t[0]]&&"ac_asc"!=t[30].toggleWidgetData[t[0]])},m(t,i){_(t,e,i),g(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget_title.active_chats"))&&h(e,"title",i),1073741825&n[0]&&j(e,"text-muted","ac_dsc"!=t[30].toggleWidgetData[t[0]]&&"ac_asc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&p(e)}}}function Me(t){let e,n,i,a,s,o,c,l="op_dsc"==t[30].toggleWidgetData[t[0]]||"op_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=m("th"),n=m("a"),i=m("i"),a=f(l),h(i,"title",s=t[31]("widget.sort_by_op")),h(i,"class","material-icons"),j(i,"text-muted","op_asc"!=t[30].toggleWidgetData[t[0]]&&"op_dsc"!=t[30].toggleWidgetData[t[0]]),h(e,"width","20%")},m(s,l){_(s,e,l),g(e,n),g(n,i),g(i,a),o||(c=b(n,"click",t[49]),o=!0)},p(t,e){1073741825&e[0]&&l!==(l="op_dsc"==t[30].toggleWidgetData[t[0]]||"op_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&w(a,l),1&e[1]&&s!==(s=t[31]("widget.sort_by_op"))&&h(i,"title",s),1073741825&e[0]&&j(i,"text-muted","op_asc"!=t[30].toggleWidgetData[t[0]]&&"op_dsc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&p(e),o=!1,c()}}}function Ve(t){let e,n,i,a,s,o,c,l,r;return{c(){e=m("th"),n=m("i"),i=f("chat"),s=d(),o=m("th"),c=m("i"),l=f("android"),h(n,"title",a=t[31]("widget_title.active_chats")),h(n,"class","material-icons chat-active"),h(e,"width","12%"),h(c,"title",r=t[31]("widget_title.bot_chats")),h(c,"class","material-icons chat-active"),h(o,"width","12%")},m(t,a){_(t,e,a),g(e,n),g(n,i),_(t,s,a),_(t,o,a),g(o,c),g(c,l)},p(t,e){1&e[1]&&a!==(a=t[31]("widget_title.active_chats"))&&h(n,"title",a),1&e[1]&&r!==(r=t[31]("widget_title.bot_chats"))&&h(c,"title",r)},d(t){t&&(p(e),p(s),p(o))}}}function Je(t){let e,n,i,a,s=t[19]&&Ge(t);return{c(){e=m("th"),n=m("i"),i=f("face"),s&&s.c(),h(n,"title",a=t[31]("widget.operator")),h(n,"class","material-icons"),h(e,"width","20%")},m(t,a){_(t,e,a),g(e,n),g(n,i),s&&s.m(e,null)},p(t,i){1&i[1]&&a!==(a=t[31]("widget.operator"))&&h(n,"title",a),t[19]?s?s.p(t,i):(s=Ge(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(t){t&&p(e),s&&s.d()}}}function Ge(t){let e,n=t[31]("widget.operator")+"";return{c(){e=f(n)},m(t,n){_(t,e,n)},p(t,i){1&i[1]&&n!==(n=t[31]("widget.operator")+"")&&w(e,n)},d(t){t&&p(e)}}}function Qe(t){let e,n,i,a="depgroups_stats"==t[1]&&qe(t);function s(t,e){return"group_chats"==t[1]?Ke:"active_chats"==t[1]?Ue:"transfer_chats"!=t[1]&&"depgroups_stats"!=t[1]?Fe:void 0}let o=s(t),c=o&&o(t),l=!1===t[20]&&Ye(t);return{c(){e=m("th"),a&&a.c(),n=d(),c&&c.c(),i=d(),l&&l.c(),h(e,"width",t[27])},m(t,s){_(t,e,s),a&&a.m(e,null),g(e,n),c&&c.m(e,null),g(e,i),l&&l.m(e,null)},p(t,d){"depgroups_stats"==t[1]?a?a.p(t,d):(a=qe(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),o===(o=s(t))&&c?c.p(t,d):(c&&c.d(1),c=o&&o(t),c&&(c.c(),c.m(e,i))),!1===t[20]?l?l.p(t,d):(l=Ye(t),l.c(),l.m(e,null)):l&&(l.d(1),l=null),134217728&d[0]&&h(e,"width",t[27])},d(t){t&&p(e),a&&a.d(),c&&c.d(),l&&l.d()}}}function qe(t){let e,n,i;return{c(){e=m("i"),n=f("donut_large"),h(e,"title",i=t[31]("widget.load_statistic")),h(e,"class","material-icons text-info")},m(t,i){_(t,e,i),g(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.load_statistic"))&&h(e,"title",i)},d(t){t&&p(e)}}}function Fe(t){let e,n,i,a,s=t[17]&&Xe(t);return{c(){e=m("i"),n=f("home"),s&&s.c(),a=r(),h(e,"title",i=t[31]("widget.department")),h(e,"class","material-icons")},m(t,i){_(t,e,i),g(e,n),s&&s.m(t,i),_(t,a,i)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.department"))&&h(e,"title",i),t[17]?s?s.p(t,n):(s=Xe(t),s.c(),s.m(a.parentNode,a)):s&&(s.d(1),s=null)},d(t){t&&(p(e),p(a)),s&&s.d(t)}}}function Ue(t){let e,n,i,a,s,o,c="dep_dsc"==t[30].toggleWidgetData[t[0]]||"dep_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=m("a"),n=m("i"),i=f(c),h(n,"title",a=t[31]("widget.sort_by_dep")),h(n,"class","material-icons"),j(n,"text-muted","dep_asc"!=t[30].toggleWidgetData[t[0]]&&"dep_dsc"!=t[30].toggleWidgetData[t[0]])},m(a,c){_(a,e,c),g(e,n),g(n,i),s||(o=b(e,"click",t[50]),s=!0)},p(t,e){1073741825&e[0]&&c!==(c="dep_dsc"==t[30].toggleWidgetData[t[0]]||"dep_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&w(i,c),1&e[1]&&a!==(a=t[31]("widget.sort_by_dep"))&&h(n,"title",a),1073741825&e[0]&&j(n,"text-muted","dep_asc"!=t[30].toggleWidgetData[t[0]]&&"dep_dsc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&p(e),s=!1,o()}}}function Ke(t){let e,n,i;return{c(){e=m("i"),n=f("access_time"),h(e,"title",i=t[31]("widget.time_ago")),h(e,"class","material-icons")},m(t,i){_(t,e,i),g(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.time_ago"))&&h(e,"title",i)},d(t){t&&p(e)}}}function Xe(t){let e,n=t[31]("widget.department")+"";return{c(){e=f(n)},m(t,n){_(t,e,n)},p(t,i){1&i[1]&&n!==(n=t[31]("widget.department")+"")&&w(e,n)},d(t){t&&p(e)}}}function Ye(t){let e,n,i,a,s,o,c,l,r,u,w,x;return{c(){e=m("div"),n=m("a"),i=m("i"),a=f("expand"),o=d(),c=m("a"),l=m("i"),r=f("compress"),h(i,"title",s=t[31]("widget.more_rows")),h(i,"class","material-icons"),h(n,"class","text-muted disable-select"),h(l,"title",u=t[31]("widget.less_rows")),h(l,"class","material-icons"),h(c,"class","text-muted disable-select"),h(e,"class","float-end expand-actions")},m(s,d){_(s,e,d),g(e,n),g(n,i),g(i,a),g(e,o),g(e,c),g(c,l),g(l,r),w||(x=[b(n,"click",(function(){y(F.changeWidgetHeight(t[2],t[21],!0))&&F.changeWidgetHeight(t[2],t[21],!0).apply(this,arguments)})),b(c,"click",(function(){y(F.changeWidgetHeight(t[2],t[21],!1))&&F.changeWidgetHeight(t[2],t[21],!1).apply(this,arguments)}))],w=!0)},p(e,n){t=e,1&n[1]&&s!==(s=t[31]("widget.more_rows"))&&h(i,"title",s),1&n[1]&&u!==(u=t[31]("widget.less_rows"))&&h(l,"title",u)},d(t){t&&p(e),w=!1,v(x)}}}function ze(t){let e,n,i=[],a=new Map,s=C(t[30][t[1]].list);const o=t=>t[84].id;for(let e=0;e<s.length;e+=1){let n=Gt(t,s,e),c=o(n);a.set(c,i[e]=Li(c,n))}let c="group_chats"==t[1]&&Ai(t);return{c(){e=m("tbody");for(let t=0;t<i.length;t+=1)i[t].c();n=d(),c&&c.c()},m(t,a){_(t,e,a);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,null);g(e,n),c&&c.m(e,null)},p(t,l){1623311738&l[0]|31&l[1]&&(s=C(t[30][t[1]].list),i=S(i,l,o,1,t,s,a,e,L,Li,n,Gt)),"group_chats"==t[1]?c?c.p(t,l):(c=Ai(t),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(t){t&&p(e);for(let t=0;t<i.length;t+=1)i[t].d();c&&c.d()}}}function Ze(t){let e,n,i,a=C(t[30][t[1]].list),s=[];for(let e=0;e<a.length;e+=1)s[e]=Ti(te(t,a,e));let o=t[30].transfer_dep_chats.list.length>0&&Ei(t);return{c(){e=m("tbody");for(let t=0;t<s.length;t+=1)s[t].c();n=d(),o&&o.c(),i=r()},m(t,a){_(t,e,a);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null);_(t,n,a),o&&o.m(t,a),_(t,i,a)},p(t,n){if(1073741834&n[0]|1&n[1]){let i;for(a=C(t[30][t[1]].list),i=0;i<a.length;i+=1){const o=te(t,a,i);s[i]?s[i].p(o,n):(s[i]=Ti(o),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=a.length}t[30].transfer_dep_chats.list.length>0?o?o.p(t,n):(o=Ei(t),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(t){t&&(p(e),p(n),p(i)),W(s,t),o&&o.d(t)}}}function tn(t){let e,n,i=!t[30].departmentd_hide_dgroup&&Pi(t),a=!t[30].departmentd_hide_dep&&t[30].departments_stats.list.length>0&&Vi(t);return{c(){i&&i.c(),e=d(),a&&a.c(),n=r()},m(t,s){i&&i.m(t,s),_(t,e,s),a&&a.m(t,s),_(t,n,s)},p(t,s){t[30].departmentd_hide_dgroup?i&&(i.d(1),i=null):i?i.p(t,s):(i=Pi(t),i.c(),i.m(e.parentNode,e)),!t[30].departmentd_hide_dep&&t[30].departments_stats.list.length>0?a?a.p(t,s):(a=Vi(t),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(t){t&&(p(e),p(n)),i&&i.d(t),a&&a.d(t)}}}function en(t){let e,n,i,a,s;return{c(){e=m("span"),n=m("img"),N(n.src,i=t[3]+"/"+t[84].country_code+".png")||h(n,"src",i),h(n,"alt",a=t[84].country_name),h(n,"title",s=t[84].country_name)},m(t,i){_(t,e,i),g(e,n)},p(t,e){1073741834&e[0]&&!N(n.src,i=t[3]+"/"+t[84].country_code+".png")&&h(n,"src",i),1073741826&e[0]&&a!==(a=t[84].country_name)&&h(n,"alt",a),1073741826&e[0]&&s!==(s=t[84].country_name)&&h(n,"title",s)},d(t){t&&p(e)}}}function nn(t){let e;function n(t,e){return t[110].class?on:sn}let i=n(t),a=i(t);return{c(){a.c(),e=r()},m(t,n){a.m(t,n),_(t,e,n)},p(t,s){i===(i=n(t))&&a?a.p(t,s):(a.d(1),a=i(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){t&&p(e),a.d(t)}}}function an(t){let e,n=(t[84][t[110].icon_attr]&&t[110].icon_attr_true&&"bool"==t[110].icon_attr_type||"bool"==t[110].icon_attr_type&&!t[84][t[110].icon_attr]&&t[110].icon_attr_false||"cmp"==t[110].icon_attr_type&&t[84][t[110].icon_attr]==t[110].icon_attr_val)&&cn(t);return{c(){n&&n.c(),e=r()},m(t,i){n&&n.m(t,i),_(t,e,i)},p(t,i){t[84][t[110].icon_attr]&&t[110].icon_attr_true&&"bool"==t[110].icon_attr_type||"bool"==t[110].icon_attr_type&&!t[84][t[110].icon_attr]&&t[110].icon_attr_false||"cmp"==t[110].icon_attr_type&&t[84][t[110].icon_attr]==t[110].icon_attr_val?n?n.p(t,i):(n=cn(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&p(e),n&&n.d(t)}}}function sn(t){let e,n,i,a=(t[110].icon_attr_prepend?t[110].icon_attr_prepend:"")+"",s=t[84][t[110].icon_attr]+"",o=(t[110].icon_attr_append?t[110].icon_attr_append:"")+"";return{c(){e=f(a),n=f(s),i=f(o)},m(t,a){_(t,e,a),_(t,n,a),_(t,i,a)},p(t,c){8388608&c[0]&&a!==(a=(t[110].icon_attr_prepend?t[110].icon_attr_prepend:"")+"")&&w(e,a),1082130434&c[0]&&s!==(s=t[84][t[110].icon_attr]+"")&&w(n,s),8388608&c[0]&&o!==(o=(t[110].icon_attr_append?t[110].icon_attr_append:"")+"")&&w(i,o)},d(t){t&&(p(e),p(n),p(i))}}}function on(t){let e,n,i,a,s,o,c=(t[110].icon_attr_prepend?t[110].icon_attr_prepend:"")+"",l=t[84][t[110].icon_attr]+"",d=(t[110].icon_attr_append?t[110].icon_attr_append:"")+"";return{c(){e=m("span"),n=f(c),i=f(l),a=f(d),h(e,"title",s=t[110].title?t[110].title:null),h(e,"class",o=t[110].class)},m(t,s){_(t,e,s),g(e,n),g(e,i),g(e,a)},p(t,r){8388608&r[0]&&c!==(c=(t[110].icon_attr_prepend?t[110].icon_attr_prepend:"")+"")&&w(n,c),1082130434&r[0]&&l!==(l=t[84][t[110].icon_attr]+"")&&w(i,l),8388608&r[0]&&d!==(d=(t[110].icon_attr_append?t[110].icon_attr_append:"")+"")&&w(a,d),8388608&r[0]&&s!==(s=t[110].title?t[110].title:null)&&h(e,"title",s),8388608&r[0]&&o!==(o=t[110].class)&&h(e,"class",o)},d(t){t&&p(e)}}}function cn(t){let e,n,i,a,s,o,c=(t[84][t[110].icon_attr]&&"bool"==t[110].icon_attr_type||t[84][t[110].icon_attr]==t[110].icon_attr_val&&"cmp"==t[110].icon_attr_type?t[110].icon_attr_true:t[110].icon_attr_false)+"";function l(...e){return t[59](t[110],t[84],...e)}return{c(){e=m("span"),n=f(c),h(e,"title",i=t[110].title?t[110].title:null),h(e,"class",a=t[110].class+" me-0 "+(t[110].class_false?Fi(t[84],t[110].class_false,!1):"")+" "+(t[110].class_true?Fi(t[84],t[110].class_true,!0):""))},m(t,i){_(t,e,i),g(e,n),s||(o=b(e,"click",l),s=!0)},p(s,o){t=s,1082130434&o[0]&&c!==(c=(t[84][t[110].icon_attr]&&"bool"==t[110].icon_attr_type||t[84][t[110].icon_attr]==t[110].icon_attr_val&&"cmp"==t[110].icon_attr_type?t[110].icon_attr_true:t[110].icon_attr_false)+"")&&w(n,c),8388608&o[0]&&i!==(i=t[110].title?t[110].title:null)&&h(e,"title",i),1082130434&o[0]&&a!==(a=t[110].class+" me-0 "+(t[110].class_false?Fi(t[84],t[110].class_false,!1):"")+" "+(t[110].class_true?Fi(t[84],t[110].class_true,!0):""))&&h(e,"class",a)},d(t){t&&p(e),s=!1,o()}}}function ln(t){let e;function n(t,e){return"bool"==t[110].icon_attr_type||"cmp"==t[110].icon_attr_type?an:"string"==t[110].icon_attr_type?nn:void 0}let i=n(t),a=i&&i(t);return{c(){a&&a.c(),e=r()},m(t,n){a&&a.m(t,n),_(t,e,n)},p(t,s){i===(i=n(t))&&a?a.p(t,s):(a&&a.d(1),a=i&&i(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){t&&p(e),a&&a.d(t)}}}function dn(t){let e,n,i,a,s,o,c,l,u,m,h,g="pending_chats"==t[1]&&-1!==t[22].indexOf("lhchat_deletechat"),f=t[84].can_edit_chat&&"pending_chats"==t[1]&&-1!==t[22].indexOf("lhchat_redirectcontact"),w="subject_chats"==t[1]&&un(t),b=g&&pn(t),v=f&&mn(t);function y(t,e){return"my_mails"==t[1]||"active_mails"==t[1]||"pending_mails"==t[1]||"alarm_mails"==t[1]?gn:t[14]?void 0:hn}let x=y(t),$=x&&x(t),j=7==t[84].status_sub&&bn(t),C="bot_chats"==t[1]&&vn(t),W=t[84].hum&&("active_chats"==t[1]||"my_chats"==t[1])&&xn(t),k=t[84].aicons&&$n(t),D=!1===t[4]&&t[32]&&t[30].additionalColumns&&Dn(t),S="my_mails"!=t[1]&&"active_mails"!=t[1]&&"pending_mails"!=t[1]&&"alarm_mails"!=t[1]&&Nn(t),L=t[84].subject_list&&("pending_chats"==t[1]||"bot_chats"==t[1]||"active_chats"==t[1]||"my_chats"==t[1])&&Tn(t);return{c(){w&&w.c(),e=d(),b&&b.c(),n=d(),v&&v.c(),i=d(),$&&$.c(),a=d(),j&&j.c(),s=d(),C&&C.c(),o=d(),W&&W.c(),c=d(),k&&k.c(),l=d(),D&&D.c(),u=d(),S&&S.c(),m=d(),L&&L.c(),h=r()},m(t,d){w&&w.m(t,d),_(t,e,d),b&&b.m(t,d),_(t,n,d),v&&v.m(t,d),_(t,i,d),$&&$.m(t,d),_(t,a,d),j&&j.m(t,d),_(t,s,d),C&&C.m(t,d),_(t,o,d),W&&W.m(t,d),_(t,c,d),k&&k.m(t,d),_(t,l,d),D&&D.m(t,d),_(t,u,d),S&&S.m(t,d),_(t,m,d),L&&L.m(t,d),_(t,h,d)},p(t,d){"subject_chats"==t[1]?w?w.p(t,d):(w=un(t),w.c(),w.m(e.parentNode,e)):w&&(w.d(1),w=null),4194306&d[0]&&(g="pending_chats"==t[1]&&-1!==t[22].indexOf("lhchat_deletechat")),g?b?b.p(t,d):(b=pn(t),b.c(),b.m(n.parentNode,n)):b&&(b.d(1),b=null),1077936130&d[0]&&(f=t[84].can_edit_chat&&"pending_chats"==t[1]&&-1!==t[22].indexOf("lhchat_redirectcontact")),f?v?v.p(t,d):(v=mn(t),v.c(),v.m(i.parentNode,i)):v&&(v.d(1),v=null),x===(x=y(t))&&$?$.p(t,d):($&&$.d(1),$=x&&x(t),$&&($.c(),$.m(a.parentNode,a))),7==t[84].status_sub?j?j.p(t,d):(j=bn(t),j.c(),j.m(s.parentNode,s)):j&&(j.d(1),j=null),"bot_chats"==t[1]?C?C.p(t,d):(C=vn(t),C.c(),C.m(o.parentNode,o)):C&&(C.d(1),C=null),!t[84].hum||"active_chats"!=t[1]&&"my_chats"!=t[1]?W&&(W.d(1),W=null):W?W.p(t,d):(W=xn(t),W.c(),W.m(c.parentNode,c)),t[84].aicons?k?k.p(t,d):(k=$n(t),k.c(),k.m(l.parentNode,l)):k&&(k.d(1),k=null),!1===t[4]&&t[32]&&t[30].additionalColumns?D?D.p(t,d):(D=Dn(t),D.c(),D.m(u.parentNode,u)):D&&(D.d(1),D=null),"my_mails"!=t[1]&&"active_mails"!=t[1]&&"pending_mails"!=t[1]&&"alarm_mails"!=t[1]?S?S.p(t,d):(S=Nn(t),S.c(),S.m(m.parentNode,m)):S&&(S.d(1),S=null),!t[84].subject_list||"pending_chats"!=t[1]&&"bot_chats"!=t[1]&&"active_chats"!=t[1]&&"my_chats"!=t[1]?L&&(L.d(1),L=null):L?L.p(t,d):(L=Tn(t),L.c(),L.m(h.parentNode,h))},d(t){t&&(p(e),p(n),p(i),p(a),p(s),p(o),p(c),p(l),p(u),p(m),p(h)),w&&w.d(t),b&&b.d(t),v&&v.d(t),$&&$.d(t),j&&j.d(t),C&&C.d(t),W&&W.d(t),k&&k.d(t),D&&D.d(t),S&&S.d(t),L&&L.d(t)}}}function rn(t){let e,n,i,a,s,o,c,l,r,u,v=1==t[84].type?"security":"public",y=t[84].tm+"",x=t[84].name+"",$=1==t[84].is_member&&(!t[84].ls_id||t[84].ls_id<t[84].last_msg_id)&&Rn(t),j=t[84].user_id==t[30].current_user_id&&On();function C(...e){return t[63](t[84],...e)}return{c(){e=m("a"),$&&$.c(),n=d(),i=m("i"),a=f(v),j&&j.c(),s=f("["),o=f(y),c=f("] "),l=f(x),h(i,"class","material-icons"),h(e,"class","d-block action-image")},m(t,d){_(t,e,d),$&&$.m(e,null),g(e,n),g(e,i),g(i,a),j&&j.m(e,null),g(e,s),g(e,o),g(e,c),g(e,l),r||(u=b(e,"click",C),r=!0)},p(i,c){1==(t=i)[84].is_member&&(!t[84].ls_id||t[84].ls_id<t[84].last_msg_id)?$?$.p(t,c):($=Rn(t),$.c(),$.m(e,n)):$&&($.d(1),$=null),1073741826&c[0]&&v!==(v=1==t[84].type?"security":"public")&&w(a,v),t[84].user_id==t[30].current_user_id?j||(j=On(),j.c(),j.m(e,s)):j&&(j.d(1),j=null),1073741826&c[0]&&y!==(y=t[84].tm+"")&&w(o,y),1073741826&c[0]&&x!==(x=t[84].name+"")&&w(l,x)},d(t){t&&p(e),$&&$.d(),j&&j.d(),r=!1,u()}}}function _n(t){let e,n,i,a,s,o,c,l=t[84].user_id!=t[30].current_user_id&&-1!==t[22].indexOf("lhgroupchat_use"),u=t[84].avatar&&!t[10]&&Pn(t),m=l&&Bn(t),h=t[84].offline_since_s&&Hn(t);function g(t,e){return 4194304&e[0]&&(a=null),null==a&&(a=!(-1===t[22].indexOf("lhuser_setopstatus"))),a?Vn:Mn}let f=g(t,[-1,-1,-1,-1]),w=f(t);function b(t,e){return 4194304&e[0]&&(o=null),null==o&&(o=!(-1===t[22].indexOf("lhstatistic_userstats"))),o?Gn:Jn}let v=b(t,[-1,-1,-1,-1]),y=v(t);return{c(){u&&u.c(),e=d(),m&&m.c(),n=d(),h&&h.c(),i=d(),w.c(),s=d(),y.c(),c=r()},m(t,a){u&&u.m(t,a),_(t,e,a),m&&m.m(t,a),_(t,n,a),h&&h.m(t,a),_(t,i,a),w.m(t,a),_(t,s,a),y.m(t,a),_(t,c,a)},p(t,a){t[84].avatar&&!t[10]?u?u.p(t,a):(u=Pn(t),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),1077936130&a[0]&&(l=t[84].user_id!=t[30].current_user_id&&-1!==t[22].indexOf("lhgroupchat_use")),l?m?m.p(t,a):(m=Bn(t),m.c(),m.m(n.parentNode,n)):m&&(m.d(1),m=null),t[84].offline_since_s?h?h.p(t,a):(h=Hn(t),h.c(),h.m(i.parentNode,i)):h&&(h.d(1),h=null),f===(f=g(t,a))&&w?w.p(t,a):(w.d(1),w=f(t),w&&(w.c(),w.m(s.parentNode,s))),v===(v=b(t,a))&&y?y.p(t,a):(y.d(1),y=v(t),y&&(y.c(),y.m(c.parentNode,c)))},d(t){t&&(p(e),p(n),p(i),p(s),p(c)),u&&u.d(t),m&&m.d(t),h&&h.d(t),w.d(t),y.d(t)}}}function un(t){let e,n,i=5==t[84].status?"android":"chat";return{c(){e=m("span"),n=f(i),h(e,"class","material-icons chat-pending me-0"),j(e,"chat-active",1==t[84].status||5==t[84].status)},m(t,i){_(t,e,i),g(e,n)},p(t,a){1073741826&a[0]&&i!==(i=5==t[84].status?"android":"chat")&&w(n,i),1073741826&a[0]&&j(e,"chat-active",1==t[84].status||5==t[84].status)},d(t){t&&p(e)}}}function pn(t){let e,n,i,a,s;function o(...e){return t[64](t[84],...e)}return{c(){e=m("a"),n=f("delete"),h(e,"title",i=t[31]("widget.delete_chat")),h(e,"class","material-icons float-end")},m(t,i){_(t,e,i),g(e,n),a||(s=b(e,"click",o),a=!0)},p(n,a){t=n,1&a[1]&&i!==(i=t[31]("widget.delete_chat"))&&h(e,"title",i)},d(t){t&&p(e),a=!1,s()}}}function mn(t){let e,n,i,a,s;function o(...e){return t[65](t[84],...e)}return{c(){e=m("a"),n=f("reply"),h(e,"class","material-icons me-0"),h(e,"title",i=t[31]("widget.redirect_contact"))},m(t,i){_(t,e,i),g(e,n),a||(s=b(e,"click",o),a=!0)},p(n,a){t=n,1&a[1]&&i!==(i=t[31]("widget.redirect_contact"))&&h(e,"title",i)},d(t){t&&p(e),a=!1,s()}}}function hn(t){let e,n,i,a,s;function o(...e){return t[67](t[84],...e)}return{c(){e=m("a"),n=f("info_outline"),h(e,"title",i="["+t[84].id+"] "+t[84].time_created_front),h(e,"class","material-icons me-0")},m(t,i){_(t,e,i),g(e,n),a||(s=b(e,"click",o),a=!0)},p(n,a){t=n,1073741826&a[0]&&i!==(i="["+t[84].id+"] "+t[84].time_created_front)&&h(e,"title",i)},d(t){t&&p(e),a=!1,s()}}}function gn(t){let e,n,i,a,s,o,c,l,r,u,v,y,x,$=t[84].from_name+"",j=t[84].subject_front+"",C="my_mails"==t[1]&&1!=t[84].status&&fn();function W(...e){return t[66](t[84],...e)}let k="alarm_mails"==t[1]&&wn(t);return{c(){C&&C.c(),e=d(),n=m("a"),i=f("info_outline"),s=d(),k&&k.c(),o=d(),c=m("span"),l=f($),r=f(" | "),u=f(j),h(n,"title",a=t[84].id),h(n,"class","material-icons"),h(c,"title",v=t[84].from_address)},m(t,a){C&&C.m(t,a),_(t,e,a),_(t,n,a),g(n,i),_(t,s,a),k&&k.m(t,a),_(t,o,a),_(t,c,a),g(c,l),g(c,r),g(c,u),y||(x=b(n,"click",W),y=!0)},p(i,s){"my_mails"==(t=i)[1]&&1!=t[84].status?C||(C=fn(),C.c(),C.m(e.parentNode,e)):C&&(C.d(1),C=null),1073741826&s[0]&&a!==(a=t[84].id)&&h(n,"title",a),"alarm_mails"==t[1]?k?k.p(t,s):(k=wn(t),k.c(),k.m(o.parentNode,o)):k&&(k.d(1),k=null),1073741826&s[0]&&$!==($=t[84].from_name+"")&&w(l,$),1073741826&s[0]&&j!==(j=t[84].subject_front+"")&&w(u,j),1073741826&s[0]&&v!==(v=t[84].from_address)&&h(c,"title",v)},d(t){t&&(p(e),p(n),p(s),p(o),p(c)),C&&C.d(t),k&&k.d(t),y=!1,x()}}}function fn(t){let e;return{c(){e=m("i"),e.textContent="",h(e,"title","Pending chat"),h(e,"class","material-icons me-0 chat-unread")},m(t,n){_(t,e,n)},d(t){t&&p(e)}}}function wn(t){let e,n,i;return{c(){e=m("i"),n=f("mail_outline"),h(e,"class",i="material-icons me-0 "+(1==t[84].status?"chat-active":"chat-pending"))},m(t,i){_(t,e,i),g(e,n)},p(t,n){1073741826&n[0]&&i!==(i="material-icons me-0 "+(1==t[84].status?"chat-active":"chat-pending"))&&h(e,"class",i)},d(t){t&&p(e)}}}function bn(t){let e,n,i;return{c(){e=m("i"),n=f("mail"),h(e,"class","material-icons me-0"),h(e,"title",i=t[31]("widget.offline_request"))},m(t,i){_(t,e,i),g(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.offline_request"))&&h(e,"title",i)},d(t){t&&p(e)}}}function vn(t){let e,n,i,a,s,o,c,l=(t[84].msg_v||0)+"",u=t[84].msg_v>t[30].bot_st.msg_nm&&yn(t);return{c(){e=m("span"),n=f("["),i=f(l),a=f("]"),o=d(),u&&u.c(),c=r(),h(e,"title",s=t[31]("widget.msg_v_number"))},m(t,s){_(t,e,s),g(e,n),g(e,i),g(e,a),_(t,o,s),u&&u.m(t,s),_(t,c,s)},p(t,n){1073741826&n[0]&&l!==(l=(t[84].msg_v||0)+"")&&w(i,l),1&n[1]&&s!==(s=t[31]("widget.msg_v_number"))&&h(e,"title",s),t[84].msg_v>t[30].bot_st.msg_nm?u?u.p(t,n):(u=yn(t),u.c(),u.m(c.parentNode,c)):u&&(u.d(1),u=null)},d(t){t&&(p(e),p(o),p(c)),u&&u.d(t)}}}function yn(t){let e,n,i;return{c(){e=m("i"),n=f("whatshot"),h(e,"title",i=t[31]("widget.more_than")+" "+String(t[30].bot_st.msg_nm)+" "+t[31]("widget.user_msgs")),h(e,"class","material-icons text-warning me-0")},m(t,i){_(t,e,i),g(e,n)},p(t,n){1073741824&n[0]|1&n[1]&&i!==(i=t[31]("widget.more_than")+" "+String(t[30].bot_st.msg_nm)+" "+t[31]("widget.user_msgs"))&&h(e,"title",i)},d(t){t&&p(e)}}}function xn(t){let e,n,i;return{c(){e=m("i"),n=f("feedback"),h(e,"title",i=t[31]("widget.has_unread_messages")),h(e,"class","material-icons me-0 text-danger")},m(t,i){_(t,e,i),g(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.has_unread_messages"))&&h(e,"title",i)},d(t){t&&p(e)}}}function $n(t){let e,n=C(Object.entries(t[84].aicons)),i=[];for(let e=0;e<n.length;e+=1)i[e]=kn(Yt(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=r()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);_(t,e,n)},p(t,a){if(1073741826&a[0]){let s;for(n=C(Object.entries(t[84].aicons)),s=0;s<n.length;s+=1){const o=Yt(t,n,s);i[s]?i[s].p(o,a):(i[s]=kn(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&p(e),W(i,t)}}}function jn(t){let e,n;function i(t,n){return 1073741826&n[0]&&(e=null),null==e&&(e=!(!t[107].i||!t[107].i.includes("/"))),e?Wn:Cn}let a=i(t,[-1,-1,-1,-1]),s=a(t);return{c(){s.c(),n=r()},m(t,e){s.m(t,e),_(t,n,e)},p(t,e){a===(a=i(t,e))&&s?s.p(t,e):(s.d(1),s=a(t),s&&(s.c(),s.m(n.parentNode,n)))},d(t){t&&p(n),s.d(t)}}}function Cn(t){let e,n,i,a=(t[107].i||t[107])+"";return{c(){e=m("i"),n=f(a),h(e,"class","material-icons me-0"),h(e,"title",i=t[107].t?t[107].t:t[107].i),T(e,"color",t[107].c?t[107].c:"#6c757d")},m(t,i){_(t,e,i),g(e,n)},p(t,s){1073741826&s[0]&&a!==(a=(t[107].i||t[107])+"")&&w(n,a),1073741826&s[0]&&i!==(i=t[107].t?t[107].t:t[107].i)&&h(e,"title",i),1073741826&s[0]&&T(e,"color",t[107].c?t[107].c:"#6c757d")},d(t){t&&p(e)}}}function Wn(t){let e,n,i;return{c(){e=m("img"),N(e.src,n=t[107].i)||h(e,"src",n),h(e,"title",i=t[107].t?t[107].t:t[107].i)},m(t,n){_(t,e,n)},p(t,a){1073741826&a[0]&&!N(e.src,n=t[107].i)&&h(e,"src",n),1073741826&a[0]&&i!==(i=t[107].t?t[107].t:t[107].i)&&h(e,"title",i)},d(t){t&&p(e)}}}function kn(t){let e,n=0==t[30].excludeIcons.length||-1===t[30].excludeIcons.indexOf(t[107].i),i=n&&jn(t);return{c(){i&&i.c(),e=r()},m(t,n){i&&i.m(t,n),_(t,e,n)},p(t,a){1073741826&a[0]&&(n=0==t[30].excludeIcons.length||-1===t[30].excludeIcons.indexOf(t[107].i)),n?i?i.p(t,a):(i=jn(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(t){t&&p(e),i&&i.d(t)}}}function Dn(t){let e,n=C(t[30].additionalColumns),i=[];for(let e=0;e<n.length;e+=1)i[e]=In(Kt(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=r()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);_(t,e,n)},p(t,a){if(1073741826&a[0]){let s;for(n=C(t[30].additionalColumns),s=0;s<n.length;s+=1){const o=Kt(t,n,s);i[s]?i[s].p(o,a):(i[s]=In(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&p(e),W(i,t)}}}function Sn(t){let e,n=C(t[94].items),i=[];for(let e=0;e<n.length;e+=1)i[e]=An(Xt(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=r()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);_(t,e,n)},p(t,a){if(1073741826&a[0]){let s;for(n=C(t[94].items),s=0;s<n.length;s+=1){const o=Xt(t,n,s);i[s]?i[s].p(o,a):(i[s]=An(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&p(e),W(i,t)}}}function Ln(t){let e,n,i,a,s,o=(t[94].icon[t[84][t[97]]]&&t[94].icon[t[84][t[97]]].icon?t[94].icon[t[84][t[97]]].icon:"unknown_document")+"";function c(...e){return t[68](t[94],t[84],...e)}return{c(){e=m("span"),n=f(o),h(e,"class","material-icons me-0"),h(e,"title",i=(1==t[94].iconp?"Click for more information | ":"")+(t[84][t[97]+"_tt"]?t[84][t[97]+"_tt"]:t[84][t[97]])),T(e,"color",t[94].icon[t[84][t[97]]]&&t[94].icon[t[84][t[97]]].color?t[94].icon[t[84][t[97]]].color:"#CECECE")},m(t,i){_(t,e,i),g(e,n),a||(s=b(e,"click",c),a=!0)},p(a,s){t=a,1073741826&s[0]&&o!==(o=(t[94].icon[t[84][t[97]]]&&t[94].icon[t[84][t[97]]].icon?t[94].icon[t[84][t[97]]].icon:"unknown_document")+"")&&w(n,o),1073741826&s[0]&&i!==(i=(1==t[94].iconp?"Click for more information | ":"")+(t[84][t[97]+"_tt"]?t[84][t[97]+"_tt"]:t[84][t[97]]))&&h(e,"title",i),1073741826&s[0]&&T(e,"color",t[94].icon[t[84][t[97]]]&&t[94].icon[t[84][t[97]]].color?t[94].icon[t[84][t[97]]].color:"#CECECE")},d(t){t&&p(e),a=!1,s()}}}function An(t){let e,n=t[84][t[97]]&&Ln(t);return{c(){n&&n.c(),e=r()},m(t,i){n&&n.m(t,i),_(t,e,i)},p(t,i){t[84][t[97]]?n?n.p(t,i):(n=Ln(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&p(e),n&&n.d(t)}}}function In(t){let e,n=1==t[94].cenabl&&1==t[94].iconm&&Sn(t);return{c(){n&&n.c(),e=r()},m(t,i){n&&n.m(t,i),_(t,e,i)},p(t,i){1==t[94].cenabl&&1==t[94].iconm?n?n.p(t,i):(n=Sn(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&p(e),n&&n.d(t)}}}function Nn(t){let e,n,i,a,s=(t[84].nick?t[84].nick:"")+"",o="pending_chats"!=t[1]&&"subject_chats"!=t[1]||void 0===t[84].plain_user_name?"":" | "+t[84].plain_user_name;return{c(){e=m("span"),n=f(s),i=m("small"),a=f(o),j(e,"fw-bold",t[84].nb),T(e,"color",t[84].nc?t[84].nc:null)},m(t,s){_(t,e,s),g(e,n),_(t,i,s),g(i,a)},p(t,i){1073741826&i[0]&&s!==(s=(t[84].nick?t[84].nick:"")+"")&&w(n,s),1073741826&i[0]&&j(e,"fw-bold",t[84].nb),1073741826&i[0]&&T(e,"color",t[84].nc?t[84].nc:null),1073741826&i[0]&&o!==(o="pending_chats"!=t[1]&&"subject_chats"!=t[1]||void 0===t[84].plain_user_name?"":" | "+t[84].plain_user_name)&&w(a,o)},d(t){t&&(p(e),p(i))}}}function Tn(t){let e,n=C(t[84].subject_list),i=[];for(let e=0;e<n.length;e+=1)i[e]=En(Ut(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=r()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);_(t,e,n)},p(t,a){if(1073741826&a[0]){let s;for(n=C(t[84].subject_list),s=0;s<n.length;s+=1){const o=Ut(t,n,s);i[s]?i[s].p(o,a):(i[s]=En(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&p(e),W(i,t)}}}function En(t){let e,n,i=t[91].n+"";return{c(){e=m("span"),n=f(i),h(e,"class","badge bg-info fs12 me-1"),T(e,"background-color",t[91].c?"#"+t[91].c:null,1)},m(t,i){_(t,e,i),g(e,n)},p(t,a){1073741826&a[0]&&i!==(i=t[91].n+"")&&w(n,i),1073741826&a[0]&&T(e,"background-color",t[91].c?"#"+t[91].c:null,1)},d(t){t&&p(e)}}}function Rn(t){let e,n,i;return{c(){e=m("i"),n=f("whatshot"),h(e,"class","material-icons text-warning"),h(e,"title",i=t[31]("group_chat.unread_messages"))},m(t,i){_(t,e,i),g(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("group_chat.unread_messages"))&&h(e,"title",i)},d(t){t&&p(e)}}}function On(t){let e;return{c(){e=m("i"),e.textContent="account_balance",h(e,"class","material-icons")},m(t,n){_(t,e,n)},d(t){t&&p(e)}}}function Pn(t){let e,n;return{c(){e=m("img"),h(e,"class","rounded-circle"),N(e.src,n=t[84].avatar)||h(e,"src",n),h(e,"alt",""),h(e,"width","20")},m(t,n){_(t,e,n)},p(t,i){1073741826&i[0]&&!N(e.src,n=t[84].avatar)&&h(e,"src",n)},d(t){t&&p(e)}}}function Bn(t){let e,n,i,a,s;function o(...e){return t[60](t[84],...e)}return{c(){e=m("a"),n=m("i"),n.textContent="chat",h(n,"class","material-icons me-0"),h(e,"href","#"),h(e,"title",i=t[31]("widget.start_chat"))},m(t,i){_(t,e,i),g(e,n),a||(s=b(e,"click",o),a=!0)},p(n,a){t=n,1&a[1]&&i!==(i=t[31]("widget.start_chat"))&&h(e,"title",i)},d(t){t&&p(e),a=!1,s()}}}function Hn(t){let e,n,i,a="clock_loader_"+t[84].offline_since_s.i;return{c(){e=m("i"),n=f(a),h(e,"class","material-icons me-0"),h(e,"title",i=t[31]("widget.went_offline_ago",{ago:t[84].offline_since})),T(e,"color",t[84].offline_since_s.c?t[84].offline_since_s.c:null)},m(t,i){_(t,e,i),g(e,n)},p(t,s){1073741826&s[0]&&a!==(a="clock_loader_"+t[84].offline_since_s.i)&&w(n,a),1073741826&s[0]|1&s[1]&&i!==(i=t[31]("widget.went_offline_ago",{ago:t[84].offline_since}))&&h(e,"title",i),1073741826&s[0]&&T(e,"color",t[84].offline_since_s.c?t[84].offline_since_s.c:null)},d(t){t&&p(e)}}}function Mn(t){let e,n,i=1==t[84].hide_online?"flash_off":"flash_on";return{c(){e=m("i"),n=f(i),h(e,"class","material-icons me-0 ")},m(t,i){_(t,e,i),g(e,n)},p(t,e){1073741826&e[0]&&i!==(i=1==t[84].hide_online?"flash_off":"flash_on")&&w(n,i)},d(t){t&&p(e)}}}function Vn(t){let e,n,i,a,s,o=1==t[84].hide_online?"flash_off":"flash_on";function c(...e){return t[61](t[84],...e)}return{c(){e=m("i"),n=f(o),h(e,"class","material-icons me-0 action-image"),h(e,"title",i=t[31]("widget.change_op_status"))},m(t,i){_(t,e,i),g(e,n),a||(s=b(e,"click",c),a=!0)},p(a,s){t=a,1073741826&s[0]&&o!==(o=1==t[84].hide_online?"flash_off":"flash_on")&&w(n,o),1&s[1]&&i!==(i=t[31]("widget.change_op_status"))&&h(e,"title",i)},d(t){t&&p(e),a=!1,s()}}}function Jn(t){let e,n,i,a,s=t[84].name_official+"",o=t[84].hide_online&&t[84].offline_since&&Qn(t);return{c(){e=m("span"),n=f(s),o&&o.c(),a=r(),h(e,"title",i=t[31]("widget.last_activity_ago")+" "+t[84].lastactivity_ago)},m(t,i){_(t,e,i),g(e,n),o&&o.m(t,i),_(t,a,i)},p(t,c){1073741826&c[0]&&s!==(s=t[84].name_official+"")&&w(n,s),1073741826&c[0]|1&c[1]&&i!==(i=t[31]("widget.last_activity_ago")+" "+t[84].lastactivity_ago)&&h(e,"title",i),t[84].hide_online&&t[84].offline_since?o?o.p(t,c):(o=Qn(t),o.c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},d(t){t&&(p(e),p(a)),o&&o.d(t)}}}function Gn(t){let e,n,i,a,s,o=t[84].name_official+"",c=t[84].hide_online&&t[84].offline_since&&qn(t);function l(...e){return t[62](t[84],...e)}return{c(){e=m("a"),n=f(o),c&&c.c(),h(e,"href","#"),h(e,"title",i=t[31]("widget.last_activity_ago")+" "+t[84].lastactivity_ago+" "+t[31]("widget.see_op_stats")),j(e,"text-muted",t[84].ro)},m(t,i){_(t,e,i),g(e,n),c&&c.m(e,null),a||(s=b(e,"click",l),a=!0)},p(a,s){t=a,1073741826&s[0]&&o!==(o=t[84].name_official+"")&&w(n,o),t[84].hide_online&&t[84].offline_since?c?c.p(t,s):(c=qn(t),c.c(),c.m(e,null)):c&&(c.d(1),c=null),1073741826&s[0]|1&s[1]&&i!==(i=t[31]("widget.last_activity_ago")+" "+t[84].lastactivity_ago+" "+t[31]("widget.see_op_stats"))&&h(e,"title",i),1073741826&s[0]&&j(e,"text-muted",t[84].ro)},d(t){t&&p(e),c&&c.d(),a=!1,s()}}}function Qn(t){let e,n,i,a,s=t[84].offline_since+"";return{c(){e=f(", "),n=m("span"),i=f(s),h(n,"title",a=t[31]("widget.went_offline_ago",{ago:t[84].offline_since}))},m(t,a){_(t,e,a),_(t,n,a),g(n,i)},p(t,e){1073741826&e[0]&&s!==(s=t[84].offline_since+"")&&w(i,s),1073741826&e[0]|1&e[1]&&a!==(a=t[31]("widget.went_offline_ago",{ago:t[84].offline_since}))&&h(n,"title",a)},d(t){t&&(p(e),p(n))}}}function qn(t){let e,n,i,a,s=t[84].offline_since+"";return{c(){e=m("span"),n=f(", "),i=f(s),h(e,"title",a=t[31]("widget.went_offline_ago",{ago:t[84].offline_since}))},m(t,a){_(t,e,a),g(e,n),g(e,i)},p(t,n){1073741826&n[0]&&s!==(s=t[84].offline_since+"")&&w(i,s),1073741826&n[0]|1&n[1]&&a!==(a=t[31]("widget.went_offline_ago",{ago:t[84].offline_since}))&&h(e,"title",a)},d(t){t&&p(e)}}}function Fn(t){let e,n=C(t[30].additionalColumns),i=[];for(let e=0;e<n.length;e+=1)i[e]=Yn(qt(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=r()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);_(t,e,n)},p(t,a){if(1073741826&a[0]){let s;for(n=C(t[30].additionalColumns),s=0;s<n.length;s+=1){const o=qt(t,n,s);i[s]?i[s].p(o,a):(i[s]=Yn(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&p(e),W(i,t)}}}function Un(t){let e,n,i=C(t[94].items),a=[];for(let e=0;e<i.length;e+=1)a[e]=Xn(Ft(t,i,e));return{c(){e=m("td");for(let t=0;t<a.length;t+=1)a[t].c();n=d()},m(t,i){_(t,e,i);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(e,null);g(e,n)},p(t,s){if(1073741826&s[0]){let o;for(i=C(t[94].items),o=0;o<i.length;o+=1){const c=Ft(t,i,o);a[o]?a[o].p(c,s):(a[o]=Xn(c),a[o].c(),a[o].m(e,n))}for(;o<a.length;o+=1)a[o].d(1);a.length=i.length}},d(t){t&&p(e),W(a,t)}}}function Kn(t){let e,n,i=t[84][t[97]]+"";return{c(){e=m("div"),n=f(i),h(e,"class","abbr-list")},m(t,i){_(t,e,i),g(e,n)},p(t,e){1073741826&e[0]&&i!==(i=t[84][t[97]]+"")&&w(n,i)},d(t){t&&p(e)}}}function Xn(t){let e,n=t[84][t[97]]&&Kn(t);return{c(){n&&n.c(),e=r()},m(t,i){n&&n.m(t,i),_(t,e,i)},p(t,i){t[84][t[97]]?n?n.p(t,i):(n=Kn(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&p(e),n&&n.d(t)}}}function Yn(t){let e,n=1==t[94].cenabl&&!t[94].iconm&&Un(t);return{c(){n&&n.c(),e=r()},m(t,i){n&&n.m(t,i),_(t,e,i)},p(t,i){1!=t[94].cenabl||t[94].iconm?n&&(n.d(1),n=null):n?n.p(t,i):(n=Un(t),n.c(),n.m(e.parentNode,e))},d(t){t&&p(e),n&&n.d(t)}}}function zn(t){let e,n=t[84].subject_list&&Zn(t);return{c(){e=m("td"),n&&n.c()},m(t,i){_(t,e,i),n&&n.m(e,null)},p(t,i){t[84].subject_list?n?n.p(t,i):(n=Zn(t),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},d(t){t&&p(e),n&&n.d()}}}function Zn(t){let e,n=C(t[84].subject_list),i=[];for(let e=0;e<n.length;e+=1)i[e]=ti(Qt(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=r()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);_(t,e,n)},p(t,a){if(1073741826&a[0]){let s;for(n=C(t[84].subject_list),s=0;s<n.length;s+=1){const o=Qt(t,n,s);i[s]?i[s].p(o,a):(i[s]=ti(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&p(e),W(i,t)}}}function ti(t){let e,n,i=t[91].n+"";return{c(){e=m("span"),n=f(i),h(e,"class","badge bg-info fs12 me-1"),T(e,"background-color",t[91].c?"#"+t[91].c:null,1)},m(t,i){_(t,e,i),g(e,n)},p(t,a){1073741826&a[0]&&i!==(i=t[91].n+"")&&w(n,i),1073741826&a[0]&&T(e,"background-color",t[91].c?"#"+t[91].c:null,1)},d(t){t&&p(e)}}}function ei(t){let e,n,i,a,s,o,c,l,r,u="group_chats"==t[1]&&ni(t),h=t[84].can_edit_chat&&"pending_chats"==t[1]&&ci(t),f=("my_mails"==t[1]||"pending_mails"==t[1])&&li(t),w="active_mails"==t[1]&&di(t),b="alarm_mails"==t[1]&&ri(t),v="online_op"==t[1]&&_i(t),y=("active_chats"==t[1]||"subject_chats"==t[1]||"bot_chats"==t[1])&&ui(t),x="unread_chats"==t[1]&&hi(t),$="my_chats"==t[1]&&gi(t);return{c(){e=m("td"),u&&u.c(),n=d(),h&&h.c(),i=d(),f&&f.c(),a=d(),w&&w.c(),s=d(),b&&b.c(),o=d(),v&&v.c(),c=d(),y&&y.c(),l=d(),x&&x.c(),r=d(),$&&$.c(),j(e,"align-middle","online_op"==t[1])},m(t,d){_(t,e,d),u&&u.m(e,null),g(e,n),h&&h.m(e,null),g(e,i),f&&f.m(e,null),g(e,a),w&&w.m(e,null),g(e,s),b&&b.m(e,null),g(e,o),v&&v.m(e,null),g(e,c),y&&y.m(e,null),g(e,l),x&&x.m(e,null),g(e,r),$&&$.m(e,null)},p(t,d){"group_chats"==t[1]?u?u.p(t,d):(u=ni(t),u.c(),u.m(e,n)):u&&(u.d(1),u=null),t[84].can_edit_chat&&"pending_chats"==t[1]?h?h.p(t,d):(h=ci(t),h.c(),h.m(e,i)):h&&(h.d(1),h=null),"my_mails"==t[1]||"pending_mails"==t[1]?f?f.p(t,d):(f=li(t),f.c(),f.m(e,a)):f&&(f.d(1),f=null),"active_mails"==t[1]?w?w.p(t,d):(w=di(t),w.c(),w.m(e,s)):w&&(w.d(1),w=null),"alarm_mails"==t[1]?b?b.p(t,d):(b=ri(t),b.c(),b.m(e,o)):b&&(b.d(1),b=null),"online_op"==t[1]?v?v.p(t,d):(v=_i(t),v.c(),v.m(e,c)):v&&(v.d(1),v=null),"active_chats"==t[1]||"subject_chats"==t[1]||"bot_chats"==t[1]?y?y.p(t,d):(y=ui(t),y.c(),y.m(e,l)):y&&(y.d(1),y=null),"unread_chats"==t[1]?x?x.p(t,d):(x=hi(t),x.c(),x.m(e,r)):x&&(x.d(1),x=null),"my_chats"==t[1]?$?$.p(t,d):($=gi(t),$.c(),$.m(e,null)):$&&($.d(1),$=null),2&d[0]&&j(e,"align-middle","online_op"==t[1])},d(t){t&&p(e),u&&u.d(),h&&h.d(),f&&f.d(),w&&w.d(),b&&b.d(),v&&v.d(),y&&y.d(),x&&x.d(),$&&$.d()}}}function ni(t){let e,n,i,a,s=1==t[84].is_member&&0==t[84].jtime&&ii(t),o=1==t[84].is_member&&0==t[84].jtime&&ai(t),c=0==t[84].is_member&&0==t[84].jtime&&si(t),l=1==t[84].is_member&&t[84].jtime>0&&oi(t);return{c(){s&&s.c(),e=d(),o&&o.c(),n=d(),c&&c.c(),i=d(),l&&l.c(),a=r()},m(t,d){s&&s.m(t,d),_(t,e,d),o&&o.m(t,d),_(t,n,d),c&&c.m(t,d),_(t,i,d),l&&l.m(t,d),_(t,a,d)},p(t,d){1==t[84].is_member&&0==t[84].jtime?s?s.p(t,d):(s=ii(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),1==t[84].is_member&&0==t[84].jtime?o?o.p(t,d):(o=ai(t),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),0==t[84].is_member&&0==t[84].jtime?c?c.p(t,d):(c=si(t),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null),1==t[84].is_member&&t[84].jtime>0?l?l.p(t,d):(l=oi(t),l.c(),l.m(a.parentNode,a)):l&&(l.d(1),l=null)},d(t){t&&(p(e),p(n),p(i),p(a)),s&&s.d(t),o&&o.d(t),c&&c.d(t),l&&l.d(t)}}}function ii(t){let e,n,i,a,s;function o(...e){return t[69](t[84],...e)}return{c(){e=m("button"),n=f("Accept invite"),h(e,"title",i=t[31]("group_chat.accept_join")),h(e,"class","btn btn-xs btn-outline-info")},m(t,i){_(t,e,i),g(e,n),a||(s=b(e,"click",o),a=!0)},p(n,a){t=n,1&a[1]&&i!==(i=t[31]("group_chat.accept_join"))&&h(e,"title",i)},d(t){t&&p(e),a=!1,s()}}}function ai(t){let e,n,i,a,s;function o(...e){return t[70](t[84],...e)}return{c(){e=m("button"),n=f("Reject invite"),h(e,"title",i=t[31]("group_chat.reject_private")),h(e,"class","btn btn-xs btn-outline-danger")},m(t,i){_(t,e,i),g(e,n),a||(s=b(e,"click",o),a=!0)},p(n,a){t=n,1&a[1]&&i!==(i=t[31]("group_chat.reject_private"))&&h(e,"title",i)},d(t){t&&p(e),a=!1,s()}}}function si(t){let e,n,i,a,s;function o(...e){return t[71](t[84],...e)}return{c(){e=m("button"),n=f("Join public chat"),h(e,"title",i=t[31]("group_chat.join_public")),h(e,"class","btn btn-xs btn-outline-info")},m(t,i){_(t,e,i),g(e,n),a||(s=b(e,"click",o),a=!0)},p(n,a){t=n,1&a[1]&&i!==(i=t[31]("group_chat.join_public"))&&h(e,"title",i)},d(t){t&&p(e),a=!1,s()}}}function oi(t){let e,n,i,a,s;function o(...e){return t[72](t[84],...e)}return{c(){e=m("button"),n=f("Member"),h(e,"title",i=t[31]("group_chat.already_member")),h(e,"class","btn btn-xs btn-outline-secondary")},m(t,i){_(t,e,i),g(e,n),a||(s=b(e,"click",o),a=!0)},p(n,a){t=n,1&a[1]&&i!==(i=t[31]("group_chat.already_member"))&&h(e,"title",i)},d(t){t&&p(e),a=!1,s()}}}function ci(t){let e,n,i,a=t[84].wait_time_pending+"";return{c(){e=m("div"),n=f(a),h(e,"class","abbr-list"),h(e,"title",i=t[84].wait_time_pending)},m(t,i){_(t,e,i),g(e,n)},p(t,s){1073741826&s[0]&&a!==(a=t[84].wait_time_pending+"")&&w(n,a),1073741826&s[0]&&i!==(i=t[84].wait_time_pending)&&h(e,"title",i)},d(t){t&&p(e)}}}function li(t){let e,n,i,a=t[84].wait_time_pending+"";return{c(){e=m("div"),n=f(a),h(e,"class","abbr-list"),h(e,"title",i=t[84].wait_time_pending)},m(t,i){_(t,e,i),g(e,n)},p(t,s){1073741826&s[0]&&a!==(a=t[84].wait_time_pending+"")&&w(n,a),1073741826&s[0]&&i!==(i=t[84].wait_time_pending)&&h(e,"title",i)},d(t){t&&p(e)}}}function di(t){let e,n,i,a=t[84].pnd_time_front+"";return{c(){e=m("div"),n=f(a),h(e,"class","abbr-list"),h(e,"title",i=t[84].pnd_time_front)},m(t,i){_(t,e,i),g(e,n)},p(t,s){1073741826&s[0]&&a!==(a=t[84].pnd_time_front+"")&&w(n,a),1073741826&s[0]&&i!==(i=t[84].pnd_time_front)&&h(e,"title",i)},d(t){t&&p(e)}}}function ri(t){let e,n,i=(t[84].status?t[84].wait_time_response:t[84].wait_time_pending)+"";return{c(){e=m("div"),n=f(i),h(e,"class","abbr-list")},m(t,i){_(t,e,i),g(e,n)},p(t,e){1073741826&e[0]&&i!==(i=(t[84].status?t[84].wait_time_response:t[84].wait_time_pending)+"")&&w(n,i)},d(t){t&&p(e)}}}function _i(t){let e,n,i,a=(t[84].last_accepted_ago||"-")+"";return{c(){e=m("div"),n=f(a),h(e,"class","abbr-list"),h(e,"title",i=t[31]("widget.last_assignment_ago"))},m(t,i){_(t,e,i),g(e,n)},p(t,s){1073741826&s[0]&&a!==(a=(t[84].last_accepted_ago||"-")+"")&&w(n,a),1&s[1]&&i!==(i=t[31]("widget.last_assignment_ago"))&&h(e,"title",i)},d(t){t&&p(e)}}}function ui(t){let e,n,i,a,s,o=!0===t[84].pnd_rsp?"call_received":"call_made";function c(t,e){return t[84].last_msg_time_front?mi:pi}let l=c(t),d=l(t);return{c(){e=m("div"),n=m("span"),i=f(o),d.c(),h(n,"class","material-icons text-success"),h(n,"title",a=t[31]("widget.send_receive")),j(n,"text-danger",t[84].pnd_rsp),h(e,"class","abbr-list"),h(e,"title",s="Chat started at - "+t[84].time_created_front)},m(t,a){_(t,e,a),g(e,n),g(n,i),d.m(e,null)},p(t,r){1073741826&r[0]&&o!==(o=!0===t[84].pnd_rsp?"call_received":"call_made")&&w(i,o),1&r[1]&&a!==(a=t[31]("widget.send_receive"))&&h(n,"title",a),1073741826&r[0]&&j(n,"text-danger",t[84].pnd_rsp),l===(l=c(t))&&d?d.p(t,r):(d.d(1),d=l(t),d&&(d.c(),d.m(e,null))),1073741826&r[0]&&s!==(s="Chat started at - "+t[84].time_created_front)&&h(e,"title",s)},d(t){t&&p(e),d.d()}}}function pi(t){let e;return{c(){e=f("✉")},m(t,n){_(t,e,n)},p:u,d(t){t&&p(e)}}}function mi(t){let e,n=t[84].last_msg_time_front+"";return{c(){e=f(n)},m(t,n){_(t,e,n)},p(t,i){1073741826&i[0]&&n!==(n=t[84].last_msg_time_front+"")&&w(e,n)},d(t){t&&p(e)}}}function hi(t){let e,n,i,a,s,o,c,l,d=t[84].unread_time.hours+"",r=t[84].unread_time.minits+"",u=t[84].unread_time.seconds+"";return{c(){e=m("div"),n=f(d),i=f(" h. "),a=f(r),s=f(" m. "),o=f(u),c=f(" s."),h(e,"class","abbr-list"),h(e,"title",l=t[84].unread_time.hours+" h. "+t[84].unread_time.minits+" m. "+t[84].unread_time.seconds+" s.")},m(t,l){_(t,e,l),g(e,n),g(e,i),g(e,a),g(e,s),g(e,o),g(e,c)},p(t,i){1073741826&i[0]&&d!==(d=t[84].unread_time.hours+"")&&w(n,d),1073741826&i[0]&&r!==(r=t[84].unread_time.minits+"")&&w(a,r),1073741826&i[0]&&u!==(u=t[84].unread_time.seconds+"")&&w(o,u),1073741826&i[0]&&l!==(l=t[84].unread_time.hours+" h. "+t[84].unread_time.minits+" m. "+t[84].unread_time.seconds+" s.")&&h(e,"title",l)},d(t){t&&p(e)}}}function gi(t){let e,n,i,a,s,o=!0===t[84].pnd_rsp?"call_received":"call_made",c=1!=t[84].status&&fi(t);function l(t,e){return t[84].status?wi:bi}let d=l(t),r=d(t);return{c(){e=m("div"),c&&c.c(),n=m("span"),i=f(o),r.c(),h(n,"class","material-icons text-success"),h(n,"title",a=t[31]("widget.send_receive")),j(n,"text-danger",t[84].pnd_rsp),h(e,"class","abbr-list"),h(e,"title",s=1==t[84].status?t[31]("widget.active"):t[31]("widget.pending"))},m(t,a){_(t,e,a),c&&c.m(e,null),g(e,n),g(n,i),r.m(e,null)},p(t,_){1!=t[84].status?c?c.p(t,_):(c=fi(t),c.c(),c.m(e,n)):c&&(c.d(1),c=null),1073741826&_[0]&&o!==(o=!0===t[84].pnd_rsp?"call_received":"call_made")&&w(i,o),1&_[1]&&a!==(a=t[31]("widget.send_receive"))&&h(n,"title",a),1073741826&_[0]&&j(n,"text-danger",t[84].pnd_rsp),d===(d=l(t))&&r?r.p(t,_):(r.d(1),r=d(t),r&&(r.c(),r.m(e,null))),1073741826&_[0]|1&_[1]&&s!==(s=1==t[84].status?t[31]("widget.active"):t[31]("widget.pending"))&&h(e,"title",s)},d(t){t&&p(e),c&&c.d(),r.d()}}}function fi(t){let e,n,i;return{c(){e=m("i"),n=f(""),h(e,"title",i=t[31]("widget.pending")),h(e,"class","material-icons chat-unread")},m(t,i){_(t,e,i),g(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.pending"))&&h(e,"title",i)},d(t){t&&p(e)}}}function wi(t){let e,n=t[84].last_msg_time_front+"";return{c(){e=f(n)},m(t,n){_(t,e,n)},p(t,i){1073741826&i[0]&&n!==(n=t[84].last_msg_time_front+"")&&w(e,n)},d(t){t&&p(e)}}}function bi(t){let e,n,i=t[84].wait_time_pending+"";return{c(){e=f("⏳ "),n=f(i)},m(t,i){_(t,e,i),_(t,n,i)},p(t,e){1073741826&e[0]&&i!==(i=t[84].wait_time_pending+"")&&w(n,i)},d(t){t&&(p(e),p(n))}}}function vi(t){let e,n,i,a,s=t[84].live_chats+"",o=!t[8]&&yi(t);return{c(){e=m("td"),n=f(s),i=d(),o&&o.c(),h(e,"title",a=t[31]("widget.op_chats_statistic")),h(e,"class","align-middle"),j(e,"text-danger",t[84].max_chats&&t[84].max_chats>0&&t[84].free_slots<=0),j(e,"text-success",t[84].max_chats&&t[84].max_chats>0&&t[84].free_slots>=1)},m(t,a){_(t,e,a),g(e,n),g(e,i),o&&o.m(e,null)},p(t,i){1073741826&i[0]&&s!==(s=t[84].live_chats+"")&&w(n,s),t[8]?o&&(o.d(1),o=null):o?o.p(t,i):(o=yi(t),o.c(),o.m(e,null)),1&i[1]&&a!==(a=t[31]("widget.op_chats_statistic"))&&h(e,"title",a),1073741826&i[0]&&j(e,"text-danger",t[84].max_chats&&t[84].max_chats>0&&t[84].free_slots<=0),1073741826&i[0]&&j(e,"text-success",t[84].max_chats&&t[84].max_chats>0&&t[84].free_slots>=1)},d(t){t&&p(e),o&&o.d()}}}function yi(t){let e,n,i,a,s,o,c,l,r,u=(t[84].max_chats&&t[84].max_chats>0?t[84].free_slots:" n/a")+"";return{c(){e=m("abbr"),n=f("l.c"),a=f(", "),s=f(u),o=d(),c=m("abbr"),l=f("f.s"),h(e,"title",i=t[31]("widget.live_chats")+"\n("+t[84].active_chats+" + "+t[84].pending_chats+" - "+t[84].inactive_chats+")"),h(c,"title",r=t[31]("widget.free_slots")+"\n"+t[84].max_chats+" - (("+t[84].active_chats+" + "+t[84].pending_chats+") - "+t[84].inactive_chats+")")},m(t,i){_(t,e,i),g(e,n),_(t,a,i),_(t,s,i),_(t,o,i),_(t,c,i),g(c,l)},p(t,n){1073741826&n[0]|1&n[1]&&i!==(i=t[31]("widget.live_chats")+"\n("+t[84].active_chats+" + "+t[84].pending_chats+" - "+t[84].inactive_chats+")")&&h(e,"title",i),1073741826&n[0]&&u!==(u=(t[84].max_chats&&t[84].max_chats>0?t[84].free_slots:" n/a")+"")&&w(s,u),1073741826&n[0]|1&n[1]&&r!==(r=t[31]("widget.free_slots")+"\n"+t[84].max_chats+" - (("+t[84].active_chats+" + "+t[84].pending_chats+") - "+t[84].inactive_chats+")")&&h(c,"title",r)},d(t){t&&(p(e),p(a),p(s),p(o),p(c))}}}function xi(t){let e,n,i,a,s=t[84].n_office+"";return{c(){e=m("td"),n=m("div"),i=f(s),h(n,"class","abbr-list"),h(n,"title",a=t[84].n_off_full+" | "+t[84].plain_user_name)},m(t,a){_(t,e,a),g(e,n),g(n,i)},p(t,e){1073741826&e[0]&&s!==(s=t[84].n_office+"")&&w(i,s),1073741826&e[0]&&a!==(a=t[84].n_off_full+" | "+t[84].plain_user_name)&&h(n,"title",a)},d(t){t&&p(e)}}}function $i(t){let e,n,i=(t[84].plain_user_name?t[84].plain_user_name:"")+"";return{c(){e=m("td"),n=f(i)},m(t,i){_(t,e,i),g(e,n)},p(t,e){1073741826&e[0]&&i!==(i=(t[84].plain_user_name?t[84].plain_user_name:"")+"")&&w(n,i)},d(t){t&&p(e)}}}function ji(t){let e;function n(t,e){return"online_op"==t[1]?ki:"group_chats"==t[1]?Wi:Ci}let i=n(t),a=i(t);return{c(){e=m("td"),a.c(),j(e,"align-middle","online_op"==t[1])},m(t,n){_(t,e,n),a.m(e,null)},p(t,s){i===(i=n(t))&&a?a.p(t,s):(a.d(1),a=i(t),a&&(a.c(),a.m(e,null))),2&s[0]&&j(e,"align-middle","online_op"==t[1])},d(t){t&&p(e),a.d()}}}function Ci(t){let e,n,i;function a(t,e){return 4194306&e[0]&&(n=null),null==n&&(n=!("active_chats"!==t[1]&&"pending_chats"!==t[1]||-1===t[22].indexOf("lhstatistic_statisticdep"))),n?Si:Di}let s=a(t,[-1,-1,-1,-1]),o=s(t);return{c(){e=m("div"),o.c(),h(e,"class","abbr-list"),h(e,"title",i=t[84].department_name+(t[84].product_name?" | "+t[84].product_name:""))},m(t,n){_(t,e,n),o.m(e,null)},p(t,n){s===(s=a(t,n))&&o?o.p(t,n):(o.d(1),o=s(t),o&&(o.c(),o.m(e,null))),1073741826&n[0]&&i!==(i=t[84].department_name+(t[84].product_name?" | "+t[84].product_name:""))&&h(e,"title",i)},d(t){t&&p(e),o.d()}}}function Wi(t){let e,n,i,a=t[84].time_front+"";return{c(){e=m("div"),n=f(a),h(e,"class","abbr-list"),h(e,"title",i=t[84].time_front)},m(t,i){_(t,e,i),g(e,n)},p(t,s){1073741826&s[0]&&a!==(a=t[84].time_front+"")&&w(n,a),1073741826&s[0]&&i!==(i=t[84].time_front)&&h(e,"title",i)},d(t){t&&p(e)}}}function ki(t){let e,n,i,a=t[84].departments_names.join(", ")+"";return{c(){e=m("div"),n=f(a),h(e,"class","abbr-list"),h(e,"title",i=t[84].departments_names.join(", "))},m(t,i){_(t,e,i),g(e,n)},p(t,s){1073741826&s[0]&&a!==(a=t[84].departments_names.join(", ")+"")&&w(n,a),1073741826&s[0]&&i!==(i=t[84].departments_names.join(", "))&&h(e,"title",i)},d(t){t&&p(e)}}}function Di(t){let e,n,i=t[84].department_name+"",a=t[84].product_name?" | "+t[84].product_name:"";return{c(){e=f(i),n=f(a)},m(t,i){_(t,e,i),_(t,n,i)},p(t,s){1073741826&s[0]&&i!==(i=t[84].department_name+"")&&w(e,i),1073741826&s[0]&&a!==(a=t[84].product_name?" | "+t[84].product_name:"")&&w(n,a)},d(t){t&&(p(e),p(n))}}}function Si(t){let e,n,i,a,s,o,c=t[84].department_name+"",l=t[84].product_name?" | "+t[84].product_name:"";function d(...e){return t[73](t[84],...e)}return{c(){e=m("a"),n=m("i"),n.textContent="donut_large",i=f(c),a=f(l),h(n,"class","material-icons"),h(e,"class","text-primary")},m(t,c){_(t,e,c),g(e,n),g(e,i),g(e,a),s||(o=b(e,"click",d),s=!0)},p(e,n){t=e,1073741826&n[0]&&c!==(c=t[84].department_name+"")&&w(i,c),1073741826&n[0]&&l!==(l=t[84].product_name?" | "+t[84].product_name:"")&&w(a,l)},d(t){t&&p(e),s=!1,o()}}}function Li(t,e){let n,i,a,s,o,c,l,r,u,f,w,v,y,x,$=e[84].country_code&&en(e),k=C(e[23]),D=[];for(let t=0;t<k.length;t+=1)D[t]=ln(zt(e,k,t));function S(t,e){return"online_op"==t[1]?_n:"group_chats"==t[1]?rn:dn}let L=S(e),A=L(e),I=!1===e[4]&&e[32]&&e[30].additionalColumns&&Fn(e),N=("subject_chats"==e[1]||"alarm_mails"==e[1]||e[16])&&zn(e),T=!e[6]&&ei(e),E="online_op"==e[1]&&vi(e),R="active_chats"==e[1]&&xi(e),O=("active_mails"==e[1]||"alarm_mails"==e[1]||e[15])&&$i(e),P=!e[5]&&ji(e);function B(...t){return e[74](e[84],...t)}return{key:t,first:null,c(){n=m("tr"),i=m("td"),a=m("div"),$&&$.c(),s=d();for(let t=0;t<D.length;t+=1)D[t].c();o=d(),A.c(),c=d(),I&&I.c(),l=d(),N&&N.c(),r=d(),T&&T.c(),u=d(),E&&E.c(),f=d(),R&&R.c(),w=d(),O&&O.c(),v=d(),P&&P.c(),h(a,"class","abbr-list"),j(n,"user-away-row",e[33]&&e[32]&&2==e[84].user_status_front),j(n,"user-online-row",e[33]&&e[32]&&!e[84].user_status_front),this.first=n},m(t,e){_(t,n,e),g(n,i),g(i,a),$&&$.m(a,null),g(a,s);for(let t=0;t<D.length;t+=1)D[t]&&D[t].m(a,null);g(a,o),A.m(a,null),g(n,c),I&&I.m(n,null),g(n,l),N&&N.m(n,null),g(n,r),T&&T.m(n,null),g(n,u),E&&E.m(n,null),g(n,f),R&&R.m(n,null),g(n,w),O&&O.m(n,null),g(n,v),P&&P.m(n,null),y||(x=b(n,"click",B),y=!0)},p(t,i){if((e=t)[84].country_code?$?$.p(e,i):($=en(e),$.c(),$.m(a,s)):$&&($.d(1),$=null),1082130434&i[0]){let t;for(k=C(e[23]),t=0;t<k.length;t+=1){const n=zt(e,k,t);D[t]?D[t].p(n,i):(D[t]=ln(n),D[t].c(),D[t].m(a,o))}for(;t<D.length;t+=1)D[t].d(1);D.length=k.length}L===(L=S(e))&&A?A.p(e,i):(A.d(1),A=L(e),A&&(A.c(),A.m(a,null))),!1===e[4]&&e[32]&&e[30].additionalColumns?I?I.p(e,i):(I=Fn(e),I.c(),I.m(n,l)):I&&(I.d(1),I=null),"subject_chats"==e[1]||"alarm_mails"==e[1]||e[16]?N?N.p(e,i):(N=zn(e),N.c(),N.m(n,r)):N&&(N.d(1),N=null),e[6]?T&&(T.d(1),T=null):T?T.p(e,i):(T=ei(e),T.c(),T.m(n,u)),"online_op"==e[1]?E?E.p(e,i):(E=vi(e),E.c(),E.m(n,f)):E&&(E.d(1),E=null),"active_chats"==e[1]?R?R.p(e,i):(R=xi(e),R.c(),R.m(n,w)):R&&(R.d(1),R=null),"active_mails"==e[1]||"alarm_mails"==e[1]||e[15]?O?O.p(e,i):(O=$i(e),O.c(),O.m(n,v)):O&&(O.d(1),O=null),e[5]?P&&(P.d(1),P=null):P?P.p(e,i):(P=ji(e),P.c(),P.m(n,null)),1073741826&i[0]|6&i[1]&&j(n,"user-away-row",e[33]&&e[32]&&2==e[84].user_status_front),1073741826&i[0]|6&i[1]&&j(n,"user-online-row",e[33]&&e[32]&&!e[84].user_status_front)},d(t){t&&p(n),$&&$.d(),W(D,t),A.d(),I&&I.d(),N&&N.d(),T&&T.d(),E&&E.d(),R&&R.d(),O&&O.d(),P&&P.d(),y=!1,x()}}}function Ai(t){let e,n,i,a,s,o,c,l,r,u,y,x,j,C,W,k=t[31]("group_chat.private_group")+"",D=-1!==t[22].indexOf("lhgroupchat_public_chat"),S=t[31]("group_chat.new")+"",L=D&&Ii(t);return{c(){e=m("tr"),n=m("td"),i=m("input"),s=d(),o=m("td"),c=m("select"),l=m("option"),r=f(k),L&&L.c(),u=d(),y=m("td"),x=m("button"),j=f(S),h(i,"type","text"),h(i,"name",""),h(i,"class","form-control form-control-sm"),h(i,"placeholder",a=t[31]("group_chat.new_group_name")),l.__value="1",$(l,l.__value),h(c,"class","form-control form-control-sm"),void 0===t[30].new_group_type&&A((()=>t[76].call(c))),h(x,"type","button"),h(x,"class","btn btn-sm btn-outline-secondary w-100 d-block")},m(a,d){_(a,e,d),g(e,n),g(n,i),$(i,t[30].new_group_name),g(e,s),g(e,o),g(o,c),g(c,l),g(l,r),L&&L.m(c,null),I(c,t[30].new_group_type,!0),g(e,u),g(e,y),g(y,x),g(x,j),C||(W=[b(i,"input",t[75]),b(c,"change",t[76]),b(x,"click",t[77])],C=!0)},p(t,e){1&e[1]&&a!==(a=t[31]("group_chat.new_group_name"))&&h(i,"placeholder",a),1073741824&e[0]&&i.value!==t[30].new_group_name&&$(i,t[30].new_group_name),1&e[1]&&k!==(k=t[31]("group_chat.private_group")+"")&&w(r,k),4194304&e[0]&&(D=-1!==t[22].indexOf("lhgroupchat_public_chat")),D?L?L.p(t,e):(L=Ii(t),L.c(),L.m(c,null)):L&&(L.d(1),L=null),1073741824&e[0]&&I(c,t[30].new_group_type),1&e[1]&&S!==(S=t[31]("group_chat.new")+"")&&w(j,S)},d(t){t&&p(e),L&&L.d(),C=!1,v(W)}}}function Ii(t){let e,n,i=t[31]("group_chat.public_group")+"";return{c(){e=m("option"),n=f(i),e.__value="",$(e,e.__value)},m(t,i){_(t,e,i),g(e,n)},p(t,e){1&e[1]&&i!==(i=t[31]("group_chat.public_group")+"")&&w(n,i)},d(t){t&&p(e)}}}function Ni(t){let e,n,i,a,s;return{c(){e=m("span"),n=m("img"),N(n.src,i=t[3]+"/"+t[84].country_code+".png")||h(n,"src",i),h(n,"alt",a=t[84].country_name),h(n,"title",s=t[84].country_name)},m(t,i){_(t,e,i),g(e,n)},p(t,e){1073741834&e[0]&&!N(n.src,i=t[3]+"/"+t[84].country_code+".png")&&h(n,"src",i),1073741826&e[0]&&a!==(a=t[84].country_name)&&h(n,"alt",a),1073741826&e[0]&&s!==(s=t[84].country_name)&&h(n,"title",s)},d(t){t&&p(e)}}}function Ti(t){let e,n,i,a,s,o,c,l,r,u,y,x,$,j,C,W,k,D,S,L,A,I=t[84].nick+"",N=t[84].time_front+"",T=t[84].country_code&&Ni(t);function E(...e){return t[53](t[84],...e)}function R(...e){return t[54](t[84],...e)}function O(...e){return t[55](t[84],...e)}return{c(){e=m("tr"),n=m("td"),T&&T.c(),i=d(),a=m("a"),s=f("open_in_new"),c=d(),l=m("a"),r=f("info_outline"),y=d(),x=m("a"),$=f(I),C=d(),W=m("td"),k=m("div"),D=f(N),S=d(),h(a,"title",o=t[31]("widget.open_new_window")),h(a,"class","material-icons"),h(l,"title",u="["+t[84].id+"]"),h(l,"class","material-icons"),h(x,"title",j=t[31]("widget.accept_chat")),h(k,"class","abbr-list"),h(W,"nowrap","nowrap"),h(W,"colspan","2")},m(t,o){_(t,e,o),g(e,n),T&&T.m(n,null),g(n,i),g(n,a),g(a,s),g(n,c),g(n,l),g(l,r),g(n,y),g(n,x),g(x,$),g(e,C),g(e,W),g(W,k),g(k,D),g(e,S),L||(A=[b(a,"click",E),b(l,"click",R),b(x,"click",O)],L=!0)},p(e,s){(t=e)[84].country_code?T?T.p(t,s):(T=Ni(t),T.c(),T.m(n,i)):T&&(T.d(1),T=null),1&s[1]&&o!==(o=t[31]("widget.open_new_window"))&&h(a,"title",o),1073741826&s[0]&&u!==(u="["+t[84].id+"]")&&h(l,"title",u),1073741826&s[0]&&I!==(I=t[84].nick+"")&&w($,I),1&s[1]&&j!==(j=t[31]("widget.accept_chat"))&&h(x,"title",j),1073741826&s[0]&&N!==(N=t[84].time_front+"")&&w(D,N)},d(t){t&&p(e),T&&T.d(),L=!1,v(A)}}}function Ei(t){let e,n,i,a,s,o,c,l,r,u,b,v,y,x=t[31]("widget.transferred_to_dep")+"",$=C(t[30].transfer_dep_chats.list),j=[];for(let e=0;e<$.length;e+=1)j[e]=Oi(Zt(t,$,e));return{c(){e=m("thead"),n=m("tr"),i=m("th"),a=m("i"),a.textContent="face",s=d(),o=f(x),c=d(),l=m("th"),r=m("i"),u=f("access_time"),v=d(),y=m("tbody");for(let t=0;t<j.length;t+=1)j[t].c();h(a,"title","Visitor"),h(a,"class","material-icons"),h(i,"width","60%"),h(r,"title",b=t[31]("widget.transfer_time")),h(r,"class","material-icons"),h(l,"width","40%"),h(l,"colspan","2")},m(t,d){_(t,e,d),g(e,n),g(n,i),g(i,a),g(i,s),g(i,o),g(n,c),g(n,l),g(l,r),g(r,u),_(t,v,d),_(t,y,d);for(let t=0;t<j.length;t+=1)j[t]&&j[t].m(y,null)},p(t,e){if(1&e[1]&&x!==(x=t[31]("widget.transferred_to_dep")+"")&&w(o,x),1&e[1]&&b!==(b=t[31]("widget.transfer_time"))&&h(r,"title",b),1073741832&e[0]|1&e[1]){let n;for($=C(t[30].transfer_dep_chats.list),n=0;n<$.length;n+=1){const i=Zt(t,$,n);j[n]?j[n].p(i,e):(j[n]=Oi(i),j[n].c(),j[n].m(y,null))}for(;n<j.length;n+=1)j[n].d(1);j.length=$.length}},d(t){t&&(p(e),p(v),p(y)),W(j,t)}}}function Ri(t){let e,n,i,a,s;return{c(){e=m("span"),n=m("img"),N(n.src,i=t[3]+"/"+t[84].country_code+".png")||h(n,"src",i),h(n,"alt",a=t[84].country_name),h(n,"title",s=t[84].country_name)},m(t,i){_(t,e,i),g(e,n)},p(t,e){1073741832&e[0]&&!N(n.src,i=t[3]+"/"+t[84].country_code+".png")&&h(n,"src",i),1073741824&e[0]&&a!==(a=t[84].country_name)&&h(n,"alt",a),1073741824&e[0]&&s!==(s=t[84].country_name)&&h(n,"title",s)},d(t){t&&p(e)}}}function Oi(t){let e,n,i,a,s,o,c,l,r,u,y,x,$,j,C,W,k,D,S,L,A,I=t[84].nick+"",N=t[84].time_front+"",T=t[84].country_code&&Ri(t);function E(...e){return t[56](t[84],...e)}function R(...e){return t[57](t[84],...e)}function O(...e){return t[58](t[84],...e)}return{c(){e=m("tr"),n=m("td"),T&&T.c(),i=d(),a=m("a"),s=f("open_in_new"),c=d(),l=m("a"),r=f("info_outline"),y=d(),x=m("a"),$=f(I),C=d(),W=m("td"),k=m("div"),D=f(N),S=d(),h(a,"title",o=t[31]("widget.open_new_window")),h(a,"class","material-icons"),h(l,"title",u="["+t[84].id+"]"),h(l,"class","material-icons"),h(x,"title",j=t[31]("widget.accept_chat")),h(k,"class","abbr-list"),h(W,"nowrap","nowrap"),h(W,"colspan","2")},m(t,o){_(t,e,o),g(e,n),T&&T.m(n,null),g(n,i),g(n,a),g(a,s),g(n,c),g(n,l),g(l,r),g(n,y),g(n,x),g(x,$),g(e,C),g(e,W),g(W,k),g(k,D),g(e,S),L||(A=[b(a,"click",E),b(l,"click",R),b(x,"click",O)],L=!0)},p(e,s){(t=e)[84].country_code?T?T.p(t,s):(T=Ri(t),T.c(),T.m(n,i)):T&&(T.d(1),T=null),1&s[1]&&o!==(o=t[31]("widget.open_new_window"))&&h(a,"title",o),1073741824&s[0]&&u!==(u="["+t[84].id+"]")&&h(l,"title",u),1073741824&s[0]&&I!==(I=t[84].nick+"")&&w($,I),1&s[1]&&j!==(j=t[31]("widget.accept_chat"))&&h(x,"title",j),1073741824&s[0]&&N!==(N=t[84].time_front+"")&&w(D,N)},d(t){t&&p(e),T&&T.d(),L=!1,v(A)}}}function Pi(t){let e,n=[],i=new Map,a=C(t[30][t[1]].list);const s=t=>t[81].id;for(let e=0;e<a.length;e+=1){let o=ie(t,a,e),c=s(o);i.set(c,n[e]=Mi(c,o))}return{c(){e=m("tbody");for(let t=0;t<n.length;t+=1)n[t].c()},m(t,i){_(t,e,i);for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,null)},p(t,o){1077936130&o[0]|1&o[1]&&(a=C(t[30][t[1]].list),n=S(n,o,s,1,t,a,i,e,L,Mi,null,ie))},d(t){t&&p(e);for(let t=0;t<n.length;t+=1)n[t].d()}}}function Bi(t){let e,n,i,a,s,o,c=(t[81].max_load_h?t[81].max_load_h-((t[81].acopchats_cnt?t[81].acopchats_cnt:0)-(t[81].inopchats_cnt?t[81].inopchats_cnt:0)):"n/a")+"",l=(t[81].max_load?t[81].max_load-((t[81].achats_cnt?t[81].achats_cnt:0)-(t[81].inachats_cnt?t[81].inachats_cnt:0)):"n/a")+"";return{c(){e=m("span"),n=f(c),a=f(" ("),s=f(l),o=f(")"),h(e,"class",i=t[81].max_load_h&&t[81].max_load_h-((t[81].acopchats_cnt?t[81].acopchats_cnt:0)-(t[81].inopchats_cnt?t[81].inopchats_cnt:0))<=3?"text-danger fw-bold":"")},m(t,i){_(t,e,i),g(e,n),_(t,a,i),_(t,s,i),_(t,o,i)},p(t,a){1073741826&a[0]&&c!==(c=(t[81].max_load_h?t[81].max_load_h-((t[81].acopchats_cnt?t[81].acopchats_cnt:0)-(t[81].inopchats_cnt?t[81].inopchats_cnt:0)):"n/a")+"")&&w(n,c),1073741826&a[0]&&i!==(i=t[81].max_load_h&&t[81].max_load_h-((t[81].acopchats_cnt?t[81].acopchats_cnt:0)-(t[81].inopchats_cnt?t[81].inopchats_cnt:0))<=3?"text-danger fw-bold":"")&&h(e,"class",i),1073741826&a[0]&&l!==(l=(t[81].max_load?t[81].max_load-((t[81].achats_cnt?t[81].achats_cnt:0)-(t[81].inachats_cnt?t[81].inachats_cnt:0)):"n/a")+"")&&w(s,l)},d(t){t&&(p(e),p(a),p(s),p(o))}}}function Hi(t){let e,n,i,a,s,o,c,l,d,r=(t[81].max_load_h?t[81].max_load_h-((t[81].acopchats_cnt?t[81].acopchats_cnt:0)-(t[81].inopchats_cnt?t[81].inopchats_cnt:0)):"n/a")+"",u=(t[81].max_load?t[81].max_load-((t[81].achats_cnt?t[81].achats_cnt:0)-(t[81].inachats_cnt?t[81].inachats_cnt:0)):"n/a")+"";function v(...e){return t[51](t[81],...e)}return{c(){e=m("a"),n=m("span"),i=f(r),s=f(" ("),o=f(u),c=f(")"),h(n,"class",a=t[81].max_load_h&&t[81].max_load_h-((t[81].acopchats_cnt?t[81].acopchats_cnt:0)-(t[81].inopchats_cnt?t[81].inopchats_cnt:0))<=3?"text-danger fw-bold":""),h(e,"href","#")},m(t,a){_(t,e,a),g(e,n),g(n,i),g(e,s),g(e,o),g(e,c),l||(d=b(e,"click",v),l=!0)},p(e,s){t=e,1073741826&s[0]&&r!==(r=(t[81].max_load_h?t[81].max_load_h-((t[81].acopchats_cnt?t[81].acopchats_cnt:0)-(t[81].inopchats_cnt?t[81].inopchats_cnt:0)):"n/a")+"")&&w(i,r),1073741826&s[0]&&a!==(a=t[81].max_load_h&&t[81].max_load_h-((t[81].acopchats_cnt?t[81].acopchats_cnt:0)-(t[81].inopchats_cnt?t[81].inopchats_cnt:0))<=3?"text-danger fw-bold":"")&&h(n,"class",a),1073741826&s[0]&&u!==(u=(t[81].max_load?t[81].max_load-((t[81].achats_cnt?t[81].achats_cnt:0)-(t[81].inachats_cnt?t[81].inachats_cnt:0)):"n/a")+"")&&w(o,u)},d(t){t&&p(e),l=!1,d()}}}function Mi(t,e){let n,i,a,s,o,c,l,r,u,b,v,y,x,$,j,C,W,k,D,S,L,A,I,N,T,E,R,O=e[81].name+"",P=(e[81].pchats_cnt?e[81].pchats_cnt:0)+"",B=(e[81].achats_cnt?e[81].achats_cnt:0)+"",H=(e[81].bchats_cnt?e[81].bchats_cnt:0)+"";function M(t,e){return 4194304&e[0]&&(T=null),null==T&&(T=!(-1===t[22].indexOf("lhstatistic_statisticdep"))),T?Hi:Bi}let V=M(e,[-1,-1,-1,-1]),J=V(e);return{key:t,first:null,c(){n=m("tr"),i=m("td"),a=m("div"),s=m("a"),o=f(O),r=d(),u=m("td"),b=m("a"),v=f(P),x=d(),$=m("td"),j=m("a"),C=f(B),k=d(),D=m("td"),S=m("a"),L=f(H),I=d(),N=m("td"),J.c(),R=d(),h(s,"class","d-block"),h(s,"href",c=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[81].id+"/(chat_status_ids)/0/1/5"),h(a,"class","abbr-list"),h(a,"title",l=e[81].name),h(b,"class","d-block"),h(b,"href",y=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[81].id+"/(chat_status_ids)/0"),h(j,"class","d-block"),h(j,"href",W=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[81].id+"/(chat_status_ids)/1"),h(S,"class","d-block"),h(S,"href",A=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[81].id+"/(chat_status_ids)/5"),h(N,"nowrap",""),h(N,"title",E=(e[81].inachats_cnt?e[81].inachats_cnt:"0")+" "+e[31]("widget.inactive_chats")+".\n"+(e[81].inopchats_cnt?e[81].inopchats_cnt:"0")+" "+e[31]("widget.inactive_op_chats")+".\n"+(e[81].acopchats_cnt?e[81].acopchats_cnt:"0")+" "+e[31]("widget.active_op_chats")+".\n"+e[31]("widget.hard_limit")+" - "+(e[81].max_load_h?e[81].max_load_h:"0")+", "+e[31]("widget.soft_limit")+" - "+(e[81].max_load?e[81].max_load:"0")+".\n"+e[31]("widget.hard_limit_explain")),this.first=n},m(t,e){_(t,n,e),g(n,i),g(i,a),g(a,s),g(s,o),g(n,r),g(n,u),g(u,b),g(b,v),g(n,x),g(n,$),g($,j),g(j,C),g(n,k),g(n,D),g(D,S),g(S,L),g(n,I),g(n,N),J.m(N,null),g(n,R)},p(t,n){e=t,1073741826&n[0]&&O!==(O=e[81].name+"")&&w(o,O),1073741826&n[0]&&c!==(c=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[81].id+"/(chat_status_ids)/0/1/5")&&h(s,"href",c),1073741826&n[0]&&l!==(l=e[81].name)&&h(a,"title",l),1073741826&n[0]&&P!==(P=(e[81].pchats_cnt?e[81].pchats_cnt:0)+"")&&w(v,P),1073741826&n[0]&&y!==(y=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[81].id+"/(chat_status_ids)/0")&&h(b,"href",y),1073741826&n[0]&&B!==(B=(e[81].achats_cnt?e[81].achats_cnt:0)+"")&&w(C,B),1073741826&n[0]&&W!==(W=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[81].id+"/(chat_status_ids)/1")&&h(j,"href",W),1073741826&n[0]&&H!==(H=(e[81].bchats_cnt?e[81].bchats_cnt:0)+"")&&w(L,H),1073741826&n[0]&&A!==(A=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[81].id+"/(chat_status_ids)/5")&&h(S,"href",A),V===(V=M(e,n))&&J?J.p(e,n):(J.d(1),J=V(e),J&&(J.c(),J.m(N,null))),1073741826&n[0]|1&n[1]&&E!==(E=(e[81].inachats_cnt?e[81].inachats_cnt:"0")+" "+e[31]("widget.inactive_chats")+".\n"+(e[81].inopchats_cnt?e[81].inopchats_cnt:"0")+" "+e[31]("widget.inactive_op_chats")+".\n"+(e[81].acopchats_cnt?e[81].acopchats_cnt:"0")+" "+e[31]("widget.active_op_chats")+".\n"+e[31]("widget.hard_limit")+" - "+(e[81].max_load_h?e[81].max_load_h:"0")+", "+e[31]("widget.soft_limit")+" - "+(e[81].max_load?e[81].max_load:"0")+".\n"+e[31]("widget.hard_limit_explain"))&&h(N,"title",E)},d(t){t&&p(n),J.d()}}}function Vi(t){let e,n,i,a,s,o,c,l,r,u,w,b,v,y,x,$,j,W,k,D,A,I,N,T,E,R,O,P,B=[],H=new Map,M=C(t[30].departments_stats.list);const V=t=>t[78].id;for(let e=0;e<M.length;e+=1){let n=ne(t,M,e),i=V(n);H.set(i,B[e]=Qi(i,n))}return{c(){e=m("thead"),n=m("tr"),i=m("th"),a=m("i"),s=f("home"),c=d(),l=m("th"),r=m("i"),u=f("chat"),b=d(),v=m("th"),y=m("i"),x=f("chat"),j=d(),W=m("th"),k=m("i"),D=f("android"),I=d(),N=m("th"),T=m("i"),E=f("donut_large"),O=d(),P=m("tbody");for(let t=0;t<B.length;t+=1)B[t].c();h(a,"title",o=t[31]("widget.department")),h(a,"class","material-icons"),h(i,"width","40%"),h(r,"title",w=t[31]("widget_title.pending_chats")),h(r,"class","material-icons chat-pending"),h(l,"width","12%"),h(y,"title",$=t[31]("widget_title.active_chats")),h(y,"class","material-icons chat-active"),h(v,"width","12%"),h(k,"title",A=t[31]("widget_title.bot_chats")),h(k,"class","material-icons chat-active"),h(W,"width","12%"),h(T,"title",R=t[31]("widget.load_statistic")),h(T,"class","material-icons text-info"),h(N,"width","21%")},m(t,o){_(t,e,o),g(e,n),g(n,i),g(i,a),g(a,s),g(n,c),g(n,l),g(l,r),g(r,u),g(n,b),g(n,v),g(v,y),g(y,x),g(n,j),g(n,W),g(W,k),g(k,D),g(n,I),g(n,N),g(N,T),g(T,E),_(t,O,o),_(t,P,o);for(let t=0;t<B.length;t+=1)B[t]&&B[t].m(P,null)},p(t,e){1&e[1]&&o!==(o=t[31]("widget.department"))&&h(a,"title",o),1&e[1]&&w!==(w=t[31]("widget_title.pending_chats"))&&h(r,"title",w),1&e[1]&&$!==($=t[31]("widget_title.active_chats"))&&h(y,"title",$),1&e[1]&&A!==(A=t[31]("widget_title.bot_chats"))&&h(k,"title",A),1&e[1]&&R!==(R=t[31]("widget.load_statistic"))&&h(T,"title",R),1077936128&e[0]|1&e[1]&&(M=C(t[30].departments_stats.list),B=S(B,e,V,1,t,M,H,P,L,Qi,null,ne))},d(t){t&&(p(e),p(O),p(P));for(let t=0;t<B.length;t+=1)B[t].d()}}}function Ji(t){let e,n,i,a,s,o,c=(t[78].max_load_h?t[78].max_load_h-((t[78].acop_chats_cnt?t[78].acop_chats_cnt:0)-(t[78].inop_chats_cnt?t[78].inop_chats_cnt:0)):"n/a")+"",l=(t[78].max_load?t[78].max_load-((t[78].active_chats_counter?t[78].active_chats_counter:0)-(t[78].inactive_chats_cnt?t[78].inactive_chats_cnt:0)):"n/a")+"";return{c(){e=m("span"),n=f(c),a=f(" ("),s=f(l),o=f(")"),h(e,"class",i=t[78].max_load_h&&t[78].max_load_h-((t[78].acop_chats_cnt?t[78].acop_chats_cnt:0)-(t[78].inop_chats_cnt?t[78].inop_chats_cnt:0))<=3?"text-danger fw-bold":"")},m(t,i){_(t,e,i),g(e,n),_(t,a,i),_(t,s,i),_(t,o,i)},p(t,a){1073741824&a[0]&&c!==(c=(t[78].max_load_h?t[78].max_load_h-((t[78].acop_chats_cnt?t[78].acop_chats_cnt:0)-(t[78].inop_chats_cnt?t[78].inop_chats_cnt:0)):"n/a")+"")&&w(n,c),1073741824&a[0]&&i!==(i=t[78].max_load_h&&t[78].max_load_h-((t[78].acop_chats_cnt?t[78].acop_chats_cnt:0)-(t[78].inop_chats_cnt?t[78].inop_chats_cnt:0))<=3?"text-danger fw-bold":"")&&h(e,"class",i),1073741824&a[0]&&l!==(l=(t[78].max_load?t[78].max_load-((t[78].active_chats_counter?t[78].active_chats_counter:0)-(t[78].inactive_chats_cnt?t[78].inactive_chats_cnt:0)):"n/a")+"")&&w(s,l)},d(t){t&&(p(e),p(a),p(s),p(o))}}}function Gi(t){let e,n,i,a,s,o,c,l,d,r=(t[78].max_load_h?t[78].max_load_h-((t[78].acop_chats_cnt?t[78].acop_chats_cnt:0)-(t[78].inop_chats_cnt?t[78].inop_chats_cnt:0)):"n/a")+"",u=(t[78].max_load?t[78].max_load-((t[78].active_chats_counter?t[78].active_chats_counter:0)-(t[78].inactive_chats_cnt?t[78].inactive_chats_cnt:0)):"n/a")+"";function v(...e){return t[52](t[78],...e)}return{c(){e=m("a"),n=m("span"),i=f(r),s=f(" ("),o=f(u),c=f(")"),h(n,"class",a=t[78].max_load_h&&t[78].max_load_h-((t[78].acop_chats_cnt?t[78].acop_chats_cnt:0)-(t[78].inop_chats_cnt?t[78].inop_chats_cnt:0))<=3?"text-danger fw-bold":""),h(e,"href","#")},m(t,a){_(t,e,a),g(e,n),g(n,i),g(e,s),g(e,o),g(e,c),l||(d=b(e,"click",v),l=!0)},p(e,s){t=e,1073741824&s[0]&&r!==(r=(t[78].max_load_h?t[78].max_load_h-((t[78].acop_chats_cnt?t[78].acop_chats_cnt:0)-(t[78].inop_chats_cnt?t[78].inop_chats_cnt:0)):"n/a")+"")&&w(i,r),1073741824&s[0]&&a!==(a=t[78].max_load_h&&t[78].max_load_h-((t[78].acop_chats_cnt?t[78].acop_chats_cnt:0)-(t[78].inop_chats_cnt?t[78].inop_chats_cnt:0))<=3?"text-danger fw-bold":"")&&h(n,"class",a),1073741824&s[0]&&u!==(u=(t[78].max_load?t[78].max_load-((t[78].active_chats_counter?t[78].active_chats_counter:0)-(t[78].inactive_chats_cnt?t[78].inactive_chats_cnt:0)):"n/a")+"")&&w(o,u)},d(t){t&&p(e),l=!1,d()}}}function Qi(t,e){let n,i,a,s,o,c,l,r,u,b,v,y,x,$,j,C,W,k,D,S,L,A,I,N,T,E,R,O=e[78].name+"",P=(e[78].pending_chats_counter?e[78].pending_chats_counter:0)+"",B=(e[78].active_chats_counter?e[78].active_chats_counter:0)+"",H=(e[78].bot_chats_counter?e[78].bot_chats_counter:0)+"";function M(t,e){return 4194304&e[0]&&(T=null),null==T&&(T=!(-1===t[22].indexOf("lhstatistic_statisticdep"))),T?Gi:Ji}let V=M(e,[-1,-1,-1,-1]),J=V(e);return{key:t,first:null,c(){n=m("tr"),i=m("td"),a=m("div"),s=m("a"),o=f(O),r=d(),u=m("td"),b=m("a"),v=f(P),x=d(),$=m("td"),j=m("a"),C=f(B),k=d(),D=m("td"),S=m("a"),L=f(H),I=d(),N=m("td"),J.c(),R=d(),h(s,"class","d-block"),h(s,"href",c=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[78].id+"/(chat_status_ids)/0/1/5"),h(a,"class","abbr-list"),h(a,"title",l=e[78].name),h(b,"class","d-block"),h(b,"href",y=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[78].id+"/(chat_status_ids)/0"),h(j,"class","d-block"),h(j,"href",W=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[78].id+"/(chat_status_ids)/1"),h(S,"class","d-block"),h(S,"href",A=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[78].id+"/(chat_status_ids)/5"),h(N,"nowrap",""),h(N,"title",E=(e[78].inactive_chats_cnt?e[78].inactive_chats_cnt:"0")+" "+e[31]("widget.inactive_chats")+".\n"+(e[78].inop_chats_cnt?e[78].inop_chats_cnt:"0")+" "+e[31]("widget.inactive_op_chats")+".\n"+(e[78].acop_chats_cnt?e[78].acop_chats_cnt:"0")+" "+e[31]("widget.active_op_chats")+".\n"+e[31]("widget.hard_limit")+" - "+(e[78].max_load_h?e[78].max_load_h:"0")+", "+e[31]("widget.soft_limit")+" - "+(e[78].max_load?e[78].max_load:"0")+".\n"+e[31]("widget.hard_limit_explain")),this.first=n},m(t,e){_(t,n,e),g(n,i),g(i,a),g(a,s),g(s,o),g(n,r),g(n,u),g(u,b),g(b,v),g(n,x),g(n,$),g($,j),g(j,C),g(n,k),g(n,D),g(D,S),g(S,L),g(n,I),g(n,N),J.m(N,null),g(n,R)},p(t,n){e=t,1073741824&n[0]&&O!==(O=e[78].name+"")&&w(o,O),1073741824&n[0]&&c!==(c=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[78].id+"/(chat_status_ids)/0/1/5")&&h(s,"href",c),1073741824&n[0]&&l!==(l=e[78].name)&&h(a,"title",l),1073741824&n[0]&&P!==(P=(e[78].pending_chats_counter?e[78].pending_chats_counter:0)+"")&&w(v,P),1073741824&n[0]&&y!==(y=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[78].id+"/(chat_status_ids)/0")&&h(b,"href",y),1073741824&n[0]&&B!==(B=(e[78].active_chats_counter?e[78].active_chats_counter:0)+"")&&w(C,B),1073741824&n[0]&&W!==(W=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[78].id+"/(chat_status_ids)/1")&&h(j,"href",W),1073741824&n[0]&&H!==(H=(e[78].bot_chats_counter?e[78].bot_chats_counter:0)+"")&&w(L,H),1073741824&n[0]&&A!==(A=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[78].id+"/(chat_status_ids)/5")&&h(S,"href",A),V===(V=M(e,n))&&J?J.p(e,n):(J.d(1),J=V(e),J&&(J.c(),J.m(N,null))),1073741824&n[0]|1&n[1]&&E!==(E=(e[78].inactive_chats_cnt?e[78].inactive_chats_cnt:"0")+" "+e[31]("widget.inactive_chats")+".\n"+(e[78].inop_chats_cnt?e[78].inop_chats_cnt:"0")+" "+e[31]("widget.inactive_op_chats")+".\n"+(e[78].acop_chats_cnt?e[78].acop_chats_cnt:"0")+" "+e[31]("widget.active_op_chats")+".\n"+e[31]("widget.hard_limit")+" - "+(e[78].max_load_h?e[78].max_load_h:"0")+", "+e[31]("widget.soft_limit")+" - "+(e[78].max_load?e[78].max_load:"0")+".\n"+e[31]("widget.hard_limit_explain"))&&h(N,"title",E)},d(t){t&&p(n),J.d()}}}function qi(t){let e,n,i=("depgroups_stats"!=t[1]||!t[30].departmentd_hide_dgroup&&t[30][t[1]].list.length>0)&&oe(t);function a(t,e){return"depgroups_stats"==t[1]?tn:"transfer_chats"==t[1]?Ze:ze}let s=a(t),o=s(t);return{c(){e=m("table"),i&&i.c(),n=d(),o.c(),h(e,"class","table table-sm mb-0 table-small table-fixed"),j(e,"list-chat-table",t[32]||t[29])},m(t,a){_(t,e,a),i&&i.m(e,null),g(e,n),o.m(e,null)},p(t,c){"depgroups_stats"!=t[1]||!t[30].departmentd_hide_dgroup&&t[30][t[1]].list.length>0?i?i.p(t,c):(i=oe(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),s===(s=a(t))&&o?o.p(t,c):(o.d(1),o=s(t),o&&(o.c(),o.m(e,null))),536870912&c[0]|2&c[1]&&j(e,"list-chat-table",t[32]||t[29])},i:u,o:u,d(t){t&&p(e),i&&i.d(),o.d()}}}function Fi(t,e,n){let i=[];return Object.entries(e).forEach((([e,a])=>{(!1===n&&!t[a]||!0===n&&t[a])&&i.push(e)})),i.join(" ")}function Ui(t,e,n){let i,s,o=u,c=()=>(o(),o=k(r,(t=>n(30,i=t))),r);a(t,x,(t=>n(31,s=t))),t.$$.on_destroy.push((()=>o()));let{sort_identifier:l=null}=e,{type:d=null}=e,{lhcList:r=null}=e;c();let{www_dir_flags:_=null}=e,{no_additional_column:p=!1}=e,{hide_third_column:m=!1}=e,{hide_2_column:h=!1}=e,{hide_ac_op_icon:g=!1}=e,{hide_ac_stats:f=!1}=e,{hide_ac_sort:w=!1}=e,{hide_op_avatar:b=!1}=e,{custom_visitor_title:v=null}=e,{custom_visitor_icon:y=null}=e,{show_visitor_title:$=!1}=e,{no_chat_preview:j=!1}=e,{show_username_always:C=!1}=e,{show_always_subject:W=!1}=e,{show_department_title:S=!1}=e,{show_subject_title:L=!1}=e,{show_username_title:A=!1}=e,{no_expand:I=!1}=e,{panel_id:N=null}=e,{permissions:T=[]}=e,{custom_icons:E=[]}=e,{custom_sort_icons:R=[]}=e,{column_2_width:O="20%"}=e,{column_1_width:P="40%"}=e,{column_3_width:B="20%"}=e,{additional_sort:H=""}=e,{override_item_open:M=null}=e,V=!M&&"transfer_chats"!==d&&"group_chats"!==d&&"online_op"!==d&&"depgroups_stats"!==d,J=!M&&"my_mails"!==d&&"active_mails"!==d&&"pending_mails"!==d&&"alarm_mails"!==d;function G(t){"group_chats"===d?F.startGroupChat(t.id,t.name):"my_mails"===d||"active_mails"===d||"pending_mails"===d||"alarm_mails"===d?F.startMailChat(t.id,t.subject_front):F.startChat(t.id,t.nick)}function Q(t){ee.emitEvent(M,[t])}return t.$$set=t=>{"sort_identifier"in t&&n(0,l=t.sort_identifier),"type"in t&&n(1,d=t.type),"lhcList"in t&&c(n(2,r=t.lhcList)),"www_dir_flags"in t&&n(3,_=t.www_dir_flags),"no_additional_column"in t&&n(4,p=t.no_additional_column),"hide_third_column"in t&&n(5,m=t.hide_third_column),"hide_2_column"in t&&n(6,h=t.hide_2_column),"hide_ac_op_icon"in t&&n(7,g=t.hide_ac_op_icon),"hide_ac_stats"in t&&n(8,f=t.hide_ac_stats),"hide_ac_sort"in t&&n(9,w=t.hide_ac_sort),"hide_op_avatar"in t&&n(10,b=t.hide_op_avatar),"custom_visitor_title"in t&&n(11,v=t.custom_visitor_title),"custom_visitor_icon"in t&&n(12,y=t.custom_visitor_icon),"show_visitor_title"in t&&n(13,$=t.show_visitor_title),"no_chat_preview"in t&&n(14,j=t.no_chat_preview),"show_username_always"in t&&n(15,C=t.show_username_always),"show_always_subject"in t&&n(16,W=t.show_always_subject),"show_department_title"in t&&n(17,S=t.show_department_title),"show_subject_title"in t&&n(18,L=t.show_subject_title),"show_username_title"in t&&n(19,A=t.show_username_title),"no_expand"in t&&n(20,I=t.no_expand),"panel_id"in t&&n(21,N=t.panel_id),"permissions"in t&&n(22,T=t.permissions),"custom_icons"in t&&n(23,E=t.custom_icons),"custom_sort_icons"in t&&n(24,R=t.custom_sort_icons),"column_2_width"in t&&n(25,O=t.column_2_width),"column_1_width"in t&&n(26,P=t.column_1_width),"column_3_width"in t&&n(27,B=t.column_3_width),"additional_sort"in t&&n(28,H=t.additional_sort),"override_item_open"in t&&n(29,M=t.override_item_open)},[l,d,r,_,p,m,h,g,f,w,b,v,y,$,j,C,W,S,L,A,I,N,T,E,R,O,P,B,H,M,i,s,V,J,G,Q,t=>F.toggleWidgetSort(r,l,"onn_dsc","onn_asc",!0),t=>F.toggleWidgetSort(r,l,"onl_dsc","onl_asc",!0),t=>F.toggleWidgetSort(r,l,"id_dsc","id_asc",!0),t=>F.toggleWidgetSort(r,l,"loc_dsc","loc_asc",!0),t=>F.toggleWidgetSort(r,l,"u_dsc","u_asc",!0),(t,e)=>F.toggleWidgetSort(r,t.sort_identifier,t.sort_options[0],t.sort_options[1],!0),(t,e)=>F.toggleWidgetSort(r,t.sort_identifier,"","",!0),(t,e)=>F.toggleWidgetSort(r,H,t.items[0]+"_dsc",t.items[0]+"_asc",!0),t=>F.toggleWidgetSort(r,l,"wtime_dsc","wtime_asc",!0),t=>F.toggleWidgetSort(r,l,"lmt_dsc","lmt_asc",!0),t=>F.toggleWidgetSort(r,l,"id_dsc","id_asc",!0),t=>F.toggleWidgetSort(r,l,"rac_dsc","rac_asc",!0),t=>F.toggleWidgetSort(r,l,"ac_dsc","ac_asc",!0),t=>F.toggleWidgetSort(r,l,"op_dsc","op_asc",!0),t=>F.toggleWidgetSort(r,l,"dep_dsc","dep_asc",!0),(t,e)=>F.openModal("statistic/departmentstats/"+t.id+"/(type)/group"),(t,e)=>F.openModal("statistic/departmentstats/"+t.id),(t,e)=>F.startChatNewWindowTransfer(t.id,t.nick,t.transfer_id,t.transfer_scope),(t,e)=>{1==t.transfer_scope?F.previewMail(t.id,e):F.previewChat(t.id,e)},(t,e)=>F.startChatTransfer(t.id,t.nick,t.transfer_id,t.transfer_scope),(t,e)=>F.startChatNewWindowTransfer(t.id,t.nick,t.transfer_id,t.transfer_scope),(t,e)=>{1==t.transfer_scope?F.previewMail(t.id,e):F.previewChat(t.id,e)},(t,e)=>F.startChatTransfer(t.id,t.nick,t.transfer_id,t.transfer_scope),(t,e,n)=>t.click?ee.emitEvent(t.click,[e]):null,(t,e)=>F.startChatOperator(t.user_id),(t,e)=>F.openModal("user/setopstatus/"+t.user_id),(t,e)=>F.openModal("statistic/userstats/"+t.user_id),(t,e)=>F.startGroupChat(t.id,t.name),(t,e)=>{F.deleteChat(t.id),e.stopPropagation()},(t,e)=>F.redirectContact(t.id,s("widget.are_you_sure"),e),(t,e)=>F.previewMail(t.id,e),(t,e)=>F.previewChat(t.id,e),(t,e,n)=>{t.iconp&&F.openModal("chat/icondetailed/"+e.id+"/"+t.id,n)},(t,e)=>F.startGroupChat(t.id,t.name),(t,e)=>F.rejectGroupChat(t.id,e),(t,e)=>F.startGroupChat(t.id,t.name),(t,e)=>F.startGroupChat(t.id,t.name),(t,e)=>F.openModal("statistic/departmentstats/"+t.dep_id,e),(t,e)=>V&&G(t)||M&&Q(t),function(){i.new_group_name=this.value,r.set(i)},function(){i.new_group_type=D(this),r.set(i)},()=>F.startNewGroupChat(r,i.new_group_name,i.new_group_type)]}customElements.define("lhc-chats-counter",t(Jt,{type:{}},[],[],!1));class Ki extends e{constructor(t){super(),n(this,t,Ui,qi,i,{sort_identifier:0,type:1,lhcList:2,www_dir_flags:3,no_additional_column:4,hide_third_column:5,hide_2_column:6,hide_ac_op_icon:7,hide_ac_stats:8,hide_ac_sort:9,hide_op_avatar:10,custom_visitor_title:11,custom_visitor_icon:12,show_visitor_title:13,no_chat_preview:14,show_username_always:15,show_always_subject:16,show_department_title:17,show_subject_title:18,show_username_title:19,no_expand:20,panel_id:21,permissions:22,custom_icons:23,custom_sort_icons:24,column_2_width:25,column_1_width:26,column_3_width:27,additional_sort:28,override_item_open:29},null,[-1,-1,-1,-1])}get sort_identifier(){return this.$$.ctx[0]}set sort_identifier(t){this.$$set({sort_identifier:t}),l()}get type(){return this.$$.ctx[1]}set type(t){this.$$set({type:t}),l()}get lhcList(){return this.$$.ctx[2]}set lhcList(t){this.$$set({lhcList:t}),l()}get www_dir_flags(){return this.$$.ctx[3]}set www_dir_flags(t){this.$$set({www_dir_flags:t}),l()}get no_additional_column(){return this.$$.ctx[4]}set no_additional_column(t){this.$$set({no_additional_column:t}),l()}get hide_third_column(){return this.$$.ctx[5]}set hide_third_column(t){this.$$set({hide_third_column:t}),l()}get hide_2_column(){return this.$$.ctx[6]}set hide_2_column(t){this.$$set({hide_2_column:t}),l()}get hide_ac_op_icon(){return this.$$.ctx[7]}set hide_ac_op_icon(t){this.$$set({hide_ac_op_icon:t}),l()}get hide_ac_stats(){return this.$$.ctx[8]}set hide_ac_stats(t){this.$$set({hide_ac_stats:t}),l()}get hide_ac_sort(){return this.$$.ctx[9]}set hide_ac_sort(t){this.$$set({hide_ac_sort:t}),l()}get hide_op_avatar(){return this.$$.ctx[10]}set hide_op_avatar(t){this.$$set({hide_op_avatar:t}),l()}get custom_visitor_title(){return this.$$.ctx[11]}set custom_visitor_title(t){this.$$set({custom_visitor_title:t}),l()}get custom_visitor_icon(){return this.$$.ctx[12]}set custom_visitor_icon(t){this.$$set({custom_visitor_icon:t}),l()}get show_visitor_title(){return this.$$.ctx[13]}set show_visitor_title(t){this.$$set({show_visitor_title:t}),l()}get no_chat_preview(){return this.$$.ctx[14]}set no_chat_preview(t){this.$$set({no_chat_preview:t}),l()}get show_username_always(){return this.$$.ctx[15]}set show_username_always(t){this.$$set({show_username_always:t}),l()}get show_always_subject(){return this.$$.ctx[16]}set show_always_subject(t){this.$$set({show_always_subject:t}),l()}get show_department_title(){return this.$$.ctx[17]}set show_department_title(t){this.$$set({show_department_title:t}),l()}get show_subject_title(){return this.$$.ctx[18]}set show_subject_title(t){this.$$set({show_subject_title:t}),l()}get show_username_title(){return this.$$.ctx[19]}set show_username_title(t){this.$$set({show_username_title:t}),l()}get no_expand(){return this.$$.ctx[20]}set no_expand(t){this.$$set({no_expand:t}),l()}get panel_id(){return this.$$.ctx[21]}set panel_id(t){this.$$set({panel_id:t}),l()}get permissions(){return this.$$.ctx[22]}set permissions(t){this.$$set({permissions:t}),l()}get custom_icons(){return this.$$.ctx[23]}set custom_icons(t){this.$$set({custom_icons:t}),l()}get custom_sort_icons(){return this.$$.ctx[24]}set custom_sort_icons(t){this.$$set({custom_sort_icons:t}),l()}get column_2_width(){return this.$$.ctx[25]}set column_2_width(t){this.$$set({column_2_width:t}),l()}get column_1_width(){return this.$$.ctx[26]}set column_1_width(t){this.$$set({column_1_width:t}),l()}get column_3_width(){return this.$$.ctx[27]}set column_3_width(t){this.$$set({column_3_width:t}),l()}get additional_sort(){return this.$$.ctx[28]}set additional_sort(t){this.$$set({additional_sort:t}),l()}get override_item_open(){return this.$$.ctx[29]}set override_item_open(t){this.$$set({override_item_open:t}),l()}}function Xi(t){let e,n,i,a,s,o=0==t[19]&&Yi(t),c=(!0===t[1]||!0!==t[47].toggleWidgetData[t[36]])&&la(t);return{c(){e=m("div"),o&&o.c(),n=d(),c&&c.c(),h(e,"class",i=(!1===t[25]?"card card-dashboard":"")+" card-"+t[14]+" "+(t[47][t[0]].list.length>0?"has-chats":"")),h(e,"data-panel-id",a=t[41]||t[0])},m(t,i){_(t,e,i),o&&o.m(e,null),g(e,n),c&&c.m(e,null),s=!0},p(t,l){0==t[19]?o?o.p(t,l):(o=Yi(t),o.c(),o.m(e,n)):o&&(o.d(1),o=null),!0===t[1]||!0!==t[47].toggleWidgetData[t[36]]?c?(c.p(t,l),2&l[0]|65568&l[1]&&E(c,1)):(c=la(t),c.c(),E(c,1),c.m(e,null)):c&&(H(),R(c,1,1,(()=>{c=null})),O()),(!s||33570817&l[0]|65536&l[1]&&i!==(i=(!1===t[25]?"card card-dashboard":"")+" card-"+t[14]+" "+(t[47][t[0]].list.length>0?"has-chats":"")))&&h(e,"class",i),(!s||1&l[0]|1024&l[1]&&a!==(a=t[41]||t[0]))&&h(e,"data-panel-id",a)},i(t){s||(E(c),s=!0)},o(t){R(c),s=!1},d(t){t&&p(e),o&&o.d(),c&&c.d()}}}function Yi(t){let e,n,i,a,s,o,c,l,r="depgroups_stats"==t[0]&&-1!==t[45].indexOf("lhstatistic_exportxls"),u=t[39]&&zi(t);function f(t,e){return t[33]?Zi:ta}let w=f(t),b=w(t),v="online_op"==t[0]&&ia(t),y=r&&aa(t),x=!t[2]&&sa(t),$=!t[34]&&t[47][t[0]].tt&&oa(t),j="depgroups_stats"==t[0]&&t[47].departments_stats.tt&&ca(t);return{c(){e=m("div"),u&&u.c(),n=d(),b.c(),i=d(),v&&v.c(),a=d(),y&&y.c(),s=d(),x&&x.c(),o=d(),$&&$.c(),c=d(),j&&j.c(),h(e,"class",l=t[37]+" card-header")},m(t,l){_(t,e,l),u&&u.m(e,null),g(e,n),b.m(e,null),g(e,i),v&&v.m(e,null),g(e,a),y&&y.m(e,null),g(e,s),x&&x.m(e,null),g(e,o),$&&$.m(e,null),g(e,c),j&&j.m(e,null)},p(t,d){t[39]?u?u.p(t,d):(u=zi(t),u.c(),u.m(e,n)):u&&(u.d(1),u=null),w===(w=f(t))&&b?b.p(t,d):(b.d(1),b=w(t),b&&(b.c(),b.m(e,i))),"online_op"==t[0]?v?v.p(t,d):(v=ia(t),v.c(),v.m(e,a)):v&&(v.d(1),v=null),1&d[0]|16384&d[1]&&(r="depgroups_stats"==t[0]&&-1!==t[45].indexOf("lhstatistic_exportxls")),r?y?y.p(t,d):(y=aa(t),y.c(),y.m(e,s)):y&&(y.d(1),y=null),t[2]?x&&(x.d(1),x=null):x?x.p(t,d):(x=sa(t),x.c(),x.m(e,o)),!t[34]&&t[47][t[0]].tt?$?$.p(t,d):($=oa(t),$.c(),$.m(e,c)):$&&($.d(1),$=null),"depgroups_stats"==t[0]&&t[47].departments_stats.tt?j?j.p(t,d):(j=ca(t),j.c(),j.m(e,null)):j&&(j.d(1),j=null),64&d[1]&&l!==(l=t[37]+" card-header")&&h(e,"class",l)},d(t){t&&p(e),u&&u.d(),b.d(),v&&v.d(),y&&y.d(),x&&x.d(),$&&$.d(),j&&j.d()}}}function zi(t){let e,n,i,a,s=(t[16]||"settings_applications")+"";return{c(){e=m("i"),n=f(s),h(e,"class","material-icons me-0 action-image")},m(s,o){_(s,e,o),g(e,n),i||(a=b(e,"click",t[57]),i=!0)},p(t,e){65536&e[0]&&s!==(s=(t[16]||"settings_applications")+"")&&w(n,s)},d(t){t&&p(e),i=!1,a()}}}function Zi(t){let e,n,i,a,s,o,c,l,u=t[48]("widget_title."+t[0])+"",b=!t[35]&&ea(t);return{c(){e=m("i"),n=f(t[32]),a=m("span"),s=f(u),c=d(),b&&b.c(),l=r(),h(e,"class",i="material-icons "+t[31]),h(a,"class",o="d-none d-lg-inline "+t[38])},m(t,i){_(t,e,i),g(e,n),_(t,a,i),g(a,s),_(t,c,i),b&&b.m(t,i),_(t,l,i)},p(t,c){2&c[1]&&w(n,t[32]),1&c[1]&&i!==(i="material-icons "+t[31])&&h(e,"class",i),1&c[0]|131072&c[1]&&u!==(u=t[48]("widget_title."+t[0])+"")&&w(s,u),128&c[1]&&o!==(o="d-none d-lg-inline "+t[38])&&h(a,"class",o),t[35]?b&&(b.d(1),b=null):b?b.p(t,c):(b=ea(t),b.c(),b.m(l.parentNode,l))},d(t){t&&(p(e),p(a),p(c),p(l)),b&&b.d(t)}}}function ta(t){let e,n,i,a,s,o,c,l,r=t[48]("widget_title."+t[0])+"",u=!t[35]&&na(t);return{c(){e=m("a"),n=m("i"),i=f(t[32]),s=m("span"),o=f(r),l=d(),u&&u.c(),h(n,"class",a="material-icons "+t[31]),h(s,"class",c="d-none d-lg-inline "+t[38]),h(e,"href",t[30])},m(t,a){_(t,e,a),g(e,n),g(n,i),g(e,s),g(s,o),g(e,l),u&&u.m(e,null)},p(t,l){2&l[1]&&w(i,t[32]),1&l[1]&&a!==(a="material-icons "+t[31])&&h(n,"class",a),1&l[0]|131072&l[1]&&r!==(r=t[48]("widget_title."+t[0])+"")&&w(o,r),128&l[1]&&c!==(c="d-none d-lg-inline "+t[38])&&h(s,"class",c),t[35]?u&&(u.d(1),u=null):u?u.p(t,l):(u=na(t),u.c(),u.m(e,null)),1073741824&l[0]&&h(e,"href",t[30])},d(t){t&&p(e),u&&u.d()}}}function ea(t){let e,n,i,a,s,o=t[47][t[0]].list.length+"",c=t[47][t[0]].list.length==t[47][t[46].limitid]?"+":"";return{c(){e=m("span"),n=f("("),i=f(o),a=f(c),s=f(")"),h(e,"class",t[38])},m(t,o){_(t,e,o),g(e,n),g(e,i),g(e,a),g(e,s)},p(t,n){1&n[0]|65536&n[1]&&o!==(o=t[47][t[0]].list.length+"")&&w(i,o),1&n[0]|98304&n[1]&&c!==(c=t[47][t[0]].list.length==t[47][t[46].limitid]?"+":"")&&w(a,c),128&n[1]&&h(e,"class",t[38])},d(t){t&&p(e)}}}function na(t){let e,n,i,a,s,o=t[47][t[0]].list.length+"",c=t[47][t[0]].list.length==t[47][t[46].limitid]?"+":"";return{c(){e=m("span"),n=f("("),i=f(o),a=f(c),s=f(")"),h(e,"class",t[38])},m(t,o){_(t,e,o),g(e,n),g(e,i),g(e,a),g(e,s)},p(t,n){1&n[0]|65536&n[1]&&o!==(o=t[47][t[0]].list.length+"")&&w(i,o),1&n[0]|98304&n[1]&&c!==(c=t[47][t[0]].list.length==t[47][t[46].limitid]?"+":"")&&w(a,c),128&n[1]&&h(e,"class",t[38])},d(t){t&&p(e)}}}function ia(t){let e,n,i,a=t[47][t[0]].op_on+"";return{c(){e=m("span"),n=f(a),h(e,"class","text-success"),h(e,"title",i=t[48]("widget.online"))},m(t,i){_(t,e,i),g(e,n)},p(t,s){1&s[0]|65536&s[1]&&a!==(a=t[47][t[0]].op_on+"")&&w(n,a),131072&s[1]&&i!==(i=t[48]("widget.online"))&&h(e,"title",i)},d(t){t&&p(e)}}}function aa(t){let e,n,i;return{c(){e=m("a"),n=f("file_download"),h(e,"class","material-icons"),h(e,"target","_blank"),h(e,"href",WWW_DIR_JAVASCRIPT+"statistic/departmentstatusxls"),h(e,"title",i=t[48]("widget.download_xls"))},m(t,i){_(t,e,i),g(e,n)},p(t,n){131072&n[1]&&i!==(i=t[48]("widget.download_xls"))&&h(e,"title",i)},d(t){t&&p(e)}}}function sa(t){let e,n,i,a,s,o=0==t[47].toggleWidgetData[t[36]]?"expand_less":"expand_more";return{c(){e=m("a"),n=f(o),h(e,"title",i=t[48]("widget.collapse_expand")),h(e,"class","fs24 float-end material-icons exp-cntr")},m(i,o){_(i,e,o),g(e,n),a||(s=b(e,"click",t[58]),a=!0)},p(t,a){65568&a[1]&&o!==(o=0==t[47].toggleWidgetData[t[36]]?"expand_less":"expand_more")&&w(n,o),131072&a[1]&&i!==(i=t[48]("widget.collapse_expand"))&&h(e,"title",i)},d(t){t&&p(e),a=!1,s()}}}function oa(t){let e,n,i,a,s=t[47][t[0]].tt+"";return{c(){e=m("span"),n=f(s),i=f(" s."),h(e,"title",a=t[48]("widget.taken_time")),h(e,"class","d-none d-xl-inline badge me-1 float-end bg-light text-muted p-1 fs11 fw-light border")},m(t,a){_(t,e,a),g(e,n),g(e,i)},p(t,i){1&i[0]|65536&i[1]&&s!==(s=t[47][t[0]].tt+"")&&w(n,s),131072&i[1]&&a!==(a=t[48]("widget.taken_time"))&&h(e,"title",a)},d(t){t&&p(e)}}}function ca(t){let e,n,i,a,s=t[47].departments_stats.tt+"";return{c(){e=m("span"),n=f(s),i=f(" s."),h(e,"title",a=t[48]("widget.taken_time_dep")),h(e,"class","d-none d-xl-inline badge me-1 float-end bg-light text-muted p-1 fs11 fw-light border")},m(t,a){_(t,e,a),g(e,n),g(e,i)},p(t,i){65536&i[1]&&s!==(s=t[47].departments_stats.tt+"")&&w(n,s),131072&i[1]&&a!==(a=t[48]("widget.taken_time_dep"))&&h(e,"title",a)},d(t){t&&p(e)}}}function la(t){let e,n,i,a,s=!t[20]&&da(t),o=(t[47][t[0]].list.length>0||"onlineusers"===t[0]||"depgroups_stats"===t[0])&&ra(t),c=0===t[47][t[0]].list.length&&"onlineusers"!==t[0]&&"depgroups_stats"!==t[0]&&pa(t);return{c(){e=m("div"),s&&s.c(),n=d(),o&&o.c(),i=d(),c&&c.c()},m(t,l){_(t,e,l),s&&s.m(e,null),g(e,n),o&&o.m(e,null),g(e,i),c&&c.m(e,null),a=!0},p(t,a){t[20]?s&&(H(),R(s,1,1,(()=>{s=null})),O()):s?(s.p(t,a),1048576&a[0]&&E(s,1)):(s=da(t),s.c(),E(s,1),s.m(e,n)),t[47][t[0]].list.length>0||"onlineusers"===t[0]||"depgroups_stats"===t[0]?o?(o.p(t,a),1&a[0]|65536&a[1]&&E(o,1)):(o=ra(t),o.c(),E(o,1),o.m(e,i)):o&&(H(),R(o,1,1,(()=>{o=null})),O()),0===t[47][t[0]].list.length&&"onlineusers"!==t[0]&&"depgroups_stats"!==t[0]?c?c.p(t,a):(c=pa(t),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(t){a||(E(s),E(o),a=!0)},o(t){R(s),R(o),a=!1},d(t){t&&p(e),s&&s.d(),o&&o.d(),c&&c.d()}}}function da(t){let e,n;return e=new U({props:{optionsPanel:t[46],lhcList:s}}),{c(){M(e.$$.fragment)},m(t,i){V(e,t,i),n=!0},p(t,n){const i={};32768&n[1]&&(i.optionsPanel=t[46]),e.$set(i)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){R(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function ra(t){let e,n,i,a;const s=[ua,_a],o=[];function c(t,e){return"onlineusers"==t[0]?0:1}return e=c(t),n=o[e]=s[e](t),{c(){n.c(),i=r()},m(t,n){o[e].m(t,n),_(t,i,n),a=!0},p(t,a){let l=e;e=c(t),e===l?o[e].p(t,a):(H(),R(o[l],1,1,(()=>{o[l]=null})),O(),n=o[e],n?n.p(t,a):(n=o[e]=s[e](t),n.c()),E(n,1),n.m(i.parentNode,i))},i(t){a||(E(n),a=!0)},o(t){R(n),a=!1},d(t){t&&p(i),o[e].d(t)}}}function _a(t){let e,n,i,a;return n=new Ki({props:{hide_2_column:t[5],hide_ac_sort:t[8],hide_ac_stats:t[7],hide_ac_op_icon:t[9],hide_op_avatar:t[6],hide_third_column:t[4],custom_visitor_icon:t[12],show_visitor_title:t[13],custom_visitor_title:t[10],show_username_title:t[3],show_subject_title:t[22],show_department_title:t[21],no_expand:t[2],show_always_subject:t[24],show_username_always:t[23],override_item_open:t[27],no_chat_preview:t[28],no_additional_column:t[26],additional_sort:t[40],column_1_width:t[43],column_3_width:t[44],column_2_width:t[42],permissions:t[45],www_dir_flags:t[29],custom_sort_icons:t[46].custom_sort_icons?t[46].custom_sort_icons:[],custom_icons:t[46].custom_icons?t[46].custom_icons:[],panel_id:t[46].panelid,lhcList:s,type:t[0],sort_identifier:t[18]}}),{c(){e=m("div"),M(n.$$.fragment),h(e,"class","panel-list"),h(e,"id",i=!1===t[15]?t[17]:null),T(e,"max-height",t[11]?t[11]:t[47][t[46].panelid+"_m_h"]??"330px")},m(t,i){_(t,e,i),V(n,e,null),a=!0},p(t,s){const o={};32&s[0]&&(o.hide_2_column=t[5]),256&s[0]&&(o.hide_ac_sort=t[8]),128&s[0]&&(o.hide_ac_stats=t[7]),512&s[0]&&(o.hide_ac_op_icon=t[9]),64&s[0]&&(o.hide_op_avatar=t[6]),16&s[0]&&(o.hide_third_column=t[4]),4096&s[0]&&(o.custom_visitor_icon=t[12]),8192&s[0]&&(o.show_visitor_title=t[13]),1024&s[0]&&(o.custom_visitor_title=t[10]),8&s[0]&&(o.show_username_title=t[3]),4194304&s[0]&&(o.show_subject_title=t[22]),2097152&s[0]&&(o.show_department_title=t[21]),4&s[0]&&(o.no_expand=t[2]),16777216&s[0]&&(o.show_always_subject=t[24]),8388608&s[0]&&(o.show_username_always=t[23]),134217728&s[0]&&(o.override_item_open=t[27]),268435456&s[0]&&(o.no_chat_preview=t[28]),67108864&s[0]&&(o.no_additional_column=t[26]),512&s[1]&&(o.additional_sort=t[40]),4096&s[1]&&(o.column_1_width=t[43]),8192&s[1]&&(o.column_3_width=t[44]),2048&s[1]&&(o.column_2_width=t[42]),16384&s[1]&&(o.permissions=t[45]),536870912&s[0]&&(o.www_dir_flags=t[29]),32768&s[1]&&(o.custom_sort_icons=t[46].custom_sort_icons?t[46].custom_sort_icons:[]),32768&s[1]&&(o.custom_icons=t[46].custom_icons?t[46].custom_icons:[]),32768&s[1]&&(o.panel_id=t[46].panelid),1&s[0]&&(o.type=t[0]),262144&s[0]&&(o.sort_identifier=t[18]),n.$set(o),(!a||163840&s[0]&&i!==(i=!1===t[15]?t[17]:null))&&h(e,"id",i),2048&s[0]|98304&s[1]&&T(e,"max-height",t[11]?t[11]:t[47][t[46].panelid+"_m_h"]??"330px")},i(t){a||(E(n.$$.fragment,t),a=!0)},o(t){R(n.$$.fragment,t),a=!1},d(t){t&&p(e),J(n)}}}function ua(t){let e,n;const i=[t[49]];let a={};for(let t=0;t<i.length;t+=1)a=P(a,i[t]);return e=new K({props:a}),{c(){M(e.$$.fragment)},m(t,i){V(e,t,i),n=!0},p(t,n){const a=262144&n[1]?function(t,e){const n={},i={},a={$$scope:1};let s=t.length;for(;s--;){const o=t[s],c=e[s];if(c){for(const t in o)t in c||(i[t]=1);for(const t in c)a[t]||(n[t]=c[t],a[t]=1);t[s]=c}else for(const t in o)a[t]=1}for(const t in i)t in n||(n[t]=void 0);return n}(i,[(s=t[49],"object"==typeof s&&null!==s?s:{})]):{};var s;e.$set(a)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){R(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function pa(t){let e,n,i,a=t[48]("widget.items_appear_here")+"";return{c(){e=m("div"),n=m("i"),n.textContent="search",i=f(a),h(n,"class","material-icons"),h(e,"class","m-1 alert alert-light")},m(t,a){_(t,e,a),g(e,n),g(e,i)},p(t,e){131072&e[1]&&a!==(a=t[48]("widget.items_appear_here")+"")&&w(i,a)},d(t){t&&p(e)}}}function ma(t){let e,n,i=!0===t[47].lhcCoreLoaded&&t[47][t[0]]&&t[47][t[0]].list&&Xi(t);return{c(){i&&i.c(),e=r()},m(t,a){i&&i.m(t,a),_(t,e,a),n=!0},p(t,n){!0===t[47].lhcCoreLoaded&&t[47][t[0]]&&t[47][t[0]].list?i?(i.p(t,n),1&n[0]|65536&n[1]&&E(i,1)):(i=Xi(t),i.c(),E(i,1),i.m(e.parentNode,e)):i&&(H(),R(i,1,1,(()=>{i=null})),O())},i(t){n||(E(i),n=!0)},o(t){R(i),n=!1},d(t){t&&p(e),i&&i.d(t)}}}function ha(t,e,n){let i,o,c,l;a(t,s,(t=>n(47,c=t))),a(t,x,(t=>n(48,l=t)));let{type:d="pending_chats"}=e,{no_collapse:r=!1}=e,{no_expand:_=!1}=e,{show_username_title:u=!1}=e,{hide_third_column:p=!1}=e,{hide_2_column:m=!1}=e,{hide_op_avatar:h=!1}=e,{hide_ac_stats:g=!1}=e,{hide_ac_sort:f=!1}=e,{hide_ac_op_icon:w=!1}=e,{custom_visitor_title:b=null}=e,{mh_widget:v=null}=e,{custom_visitor_icon:y=null}=e,{show_visitor_title:$=!1}=e,{list_identifier:j="pending"}=e,{no_panel_id:C=!1}=e,{custom_settings_url_icon:W=null}=e,{panel_list_identifier:k="pendingd-panel-list"}=e,{sort_identifier:D="pending_chats_sort"}=e,{status_id:S=0}=e,{status_key:L="chat_status_ids"}=e,{hide_header:A=!1}=e,{hide_filter_options:I=!1}=e,{show_department_title:N=!1}=e,{show_subject_title:T=!1}=e,{default_expand:E=!1}=e,{show_username_always:R=!1}=e,{show_always_subject:O=!1}=e,{right_panel_mode:H=!1}=e,{no_additional_column:M=!1}=e,{override_item_open:V=null}=e,{no_chat_preview:J=!1}=e,{default_sort:G="id_asc"}=e,{www_dir_flags:Q=null}=e,{base_url:q="chat/list"}=e,{url:U=WWW_DIR_JAVASCRIPT+q+"/("+L+")/"+S}=e,{icon_class:K="chat-pending"}=e,{card_icon:X="chat"}=e,{no_link:Y=!1}=e,{no_duration:z=!1}=e,{no_counter:Z=!1}=e,{expand_identifier:tt="pchats_widget_exp"}=e,{custom_card_class:et=""}=e,{custom_title_class:nt=""}=e,{custom_settings_url:it=""}=e,{additional_sort:at=""}=e,{data_panel_id:st=""}=e,{column_2_width:ot="20%"}=e,{column_1_width:ct="40%"}=e,{column_3_width:lt="20%"}=e,{permissions:dt=[]}=e,{optionsPanel:rt={panelid:"pendingd",limitid:"limitp",userid:"pendingu"}}=e;F.getToggleWidget(s,tt),F.getToggleWidgetSort(s,D,G);return t.$$set=t=>{n(49,e=P(P({},e),B(t))),"type"in t&&n(0,d=t.type),"no_collapse"in t&&n(1,r=t.no_collapse),"no_expand"in t&&n(2,_=t.no_expand),"show_username_title"in t&&n(3,u=t.show_username_title),"hide_third_column"in t&&n(4,p=t.hide_third_column),"hide_2_column"in t&&n(5,m=t.hide_2_column),"hide_op_avatar"in t&&n(6,h=t.hide_op_avatar),"hide_ac_stats"in t&&n(7,g=t.hide_ac_stats),"hide_ac_sort"in t&&n(8,f=t.hide_ac_sort),"hide_ac_op_icon"in t&&n(9,w=t.hide_ac_op_icon),"custom_visitor_title"in t&&n(10,b=t.custom_visitor_title),"mh_widget"in t&&n(11,v=t.mh_widget),"custom_visitor_icon"in t&&n(12,y=t.custom_visitor_icon),"show_visitor_title"in t&&n(13,$=t.show_visitor_title),"list_identifier"in t&&n(14,j=t.list_identifier),"no_panel_id"in t&&n(15,C=t.no_panel_id),"custom_settings_url_icon"in t&&n(16,W=t.custom_settings_url_icon),"panel_list_identifier"in t&&n(17,k=t.panel_list_identifier),"sort_identifier"in t&&n(18,D=t.sort_identifier),"status_id"in t&&n(50,S=t.status_id),"status_key"in t&&n(51,L=t.status_key),"hide_header"in t&&n(19,A=t.hide_header),"hide_filter_options"in t&&n(20,I=t.hide_filter_options),"show_department_title"in t&&n(21,N=t.show_department_title),"show_subject_title"in t&&n(22,T=t.show_subject_title),"default_expand"in t&&n(52,E=t.default_expand),"show_username_always"in t&&n(23,R=t.show_username_always),"show_always_subject"in t&&n(24,O=t.show_always_subject),"right_panel_mode"in t&&n(25,H=t.right_panel_mode),"no_additional_column"in t&&n(26,M=t.no_additional_column),"override_item_open"in t&&n(27,V=t.override_item_open),"no_chat_preview"in t&&n(28,J=t.no_chat_preview),"default_sort"in t&&n(53,G=t.default_sort),"www_dir_flags"in t&&n(29,Q=t.www_dir_flags),"base_url"in t&&n(54,q=t.base_url),"url"in t&&n(30,U=t.url),"icon_class"in t&&n(31,K=t.icon_class),"card_icon"in t&&n(32,X=t.card_icon),"no_link"in t&&n(33,Y=t.no_link),"no_duration"in t&&n(34,z=t.no_duration),"no_counter"in t&&n(35,Z=t.no_counter),"expand_identifier"in t&&n(36,tt=t.expand_identifier),"custom_card_class"in t&&n(37,et=t.custom_card_class),"custom_title_class"in t&&n(38,nt=t.custom_title_class),"custom_settings_url"in t&&n(39,it=t.custom_settings_url),"additional_sort"in t&&n(40,at=t.additional_sort),"data_panel_id"in t&&n(41,st=t.data_panel_id),"column_2_width"in t&&n(42,ot=t.column_2_width),"column_1_width"in t&&n(43,ct=t.column_1_width),"column_3_width"in t&&n(44,lt=t.column_3_width),"permissions"in t&&n(55,dt=t.permissions),"optionsPanel"in t&&n(56,rt=t.optionsPanel)},t.$$.update=()=>{33554432&t.$$.dirty[1]&&n(46,i="string"==typeof rt?JSON.parse(rt):rt),16777216&t.$$.dirty[1]&&n(45,o="string"==typeof dt?JSON.parse(dt):dt)},e=B(e),[d,r,_,u,p,m,h,g,f,w,b,v,y,$,j,C,W,k,D,A,I,N,T,R,O,H,M,V,J,Q,U,K,X,Y,z,Z,tt,et,nt,it,at,st,ot,ct,lt,o,i,c,l,e,S,L,E,G,q,dt,rt,t=>F.openModal(it),t=>F.toggleWidget(s,tt)]}t(Ki,{sort_identifier:{},type:{},lhcList:{},www_dir_flags:{},no_additional_column:{type:"Boolean"},hide_third_column:{type:"Boolean"},hide_2_column:{type:"Boolean"},hide_ac_op_icon:{type:"Boolean"},hide_ac_stats:{type:"Boolean"},hide_ac_sort:{type:"Boolean"},hide_op_avatar:{type:"Boolean"},custom_visitor_title:{},custom_visitor_icon:{},show_visitor_title:{type:"Boolean"},no_chat_preview:{type:"Boolean"},show_username_always:{type:"Boolean"},show_always_subject:{type:"Boolean"},show_department_title:{type:"Boolean"},show_subject_title:{type:"Boolean"},show_username_title:{type:"Boolean"},no_expand:{type:"Boolean"},panel_id:{},permissions:{},custom_icons:{},custom_sort_icons:{},column_2_width:{},column_1_width:{},column_3_width:{},additional_sort:{},override_item_open:{}},[],[],!0);class ga extends e{constructor(t){super(),n(this,t,ha,ma,i,{type:0,no_collapse:1,no_expand:2,show_username_title:3,hide_third_column:4,hide_2_column:5,hide_op_avatar:6,hide_ac_stats:7,hide_ac_sort:8,hide_ac_op_icon:9,custom_visitor_title:10,mh_widget:11,custom_visitor_icon:12,show_visitor_title:13,list_identifier:14,no_panel_id:15,custom_settings_url_icon:16,panel_list_identifier:17,sort_identifier:18,status_id:50,status_key:51,hide_header:19,hide_filter_options:20,show_department_title:21,show_subject_title:22,default_expand:52,show_username_always:23,show_always_subject:24,right_panel_mode:25,no_additional_column:26,override_item_open:27,no_chat_preview:28,default_sort:53,www_dir_flags:29,base_url:54,url:30,icon_class:31,card_icon:32,no_link:33,no_duration:34,no_counter:35,expand_identifier:36,custom_card_class:37,custom_title_class:38,custom_settings_url:39,additional_sort:40,data_panel_id:41,column_2_width:42,column_1_width:43,column_3_width:44,permissions:55,optionsPanel:56},null,[-1,-1])}get type(){return this.$$.ctx[0]}set type(t){this.$$set({type:t}),l()}get no_collapse(){return this.$$.ctx[1]}set no_collapse(t){this.$$set({no_collapse:t}),l()}get no_expand(){return this.$$.ctx[2]}set no_expand(t){this.$$set({no_expand:t}),l()}get show_username_title(){return this.$$.ctx[3]}set show_username_title(t){this.$$set({show_username_title:t}),l()}get hide_third_column(){return this.$$.ctx[4]}set hide_third_column(t){this.$$set({hide_third_column:t}),l()}get hide_2_column(){return this.$$.ctx[5]}set hide_2_column(t){this.$$set({hide_2_column:t}),l()}get hide_op_avatar(){return this.$$.ctx[6]}set hide_op_avatar(t){this.$$set({hide_op_avatar:t}),l()}get hide_ac_stats(){return this.$$.ctx[7]}set hide_ac_stats(t){this.$$set({hide_ac_stats:t}),l()}get hide_ac_sort(){return this.$$.ctx[8]}set hide_ac_sort(t){this.$$set({hide_ac_sort:t}),l()}get hide_ac_op_icon(){return this.$$.ctx[9]}set hide_ac_op_icon(t){this.$$set({hide_ac_op_icon:t}),l()}get custom_visitor_title(){return this.$$.ctx[10]}set custom_visitor_title(t){this.$$set({custom_visitor_title:t}),l()}get mh_widget(){return this.$$.ctx[11]}set mh_widget(t){this.$$set({mh_widget:t}),l()}get custom_visitor_icon(){return this.$$.ctx[12]}set custom_visitor_icon(t){this.$$set({custom_visitor_icon:t}),l()}get show_visitor_title(){return this.$$.ctx[13]}set show_visitor_title(t){this.$$set({show_visitor_title:t}),l()}get list_identifier(){return this.$$.ctx[14]}set list_identifier(t){this.$$set({list_identifier:t}),l()}get no_panel_id(){return this.$$.ctx[15]}set no_panel_id(t){this.$$set({no_panel_id:t}),l()}get custom_settings_url_icon(){return this.$$.ctx[16]}set custom_settings_url_icon(t){this.$$set({custom_settings_url_icon:t}),l()}get panel_list_identifier(){return this.$$.ctx[17]}set panel_list_identifier(t){this.$$set({panel_list_identifier:t}),l()}get sort_identifier(){return this.$$.ctx[18]}set sort_identifier(t){this.$$set({sort_identifier:t}),l()}get status_id(){return this.$$.ctx[50]}set status_id(t){this.$$set({status_id:t}),l()}get status_key(){return this.$$.ctx[51]}set status_key(t){this.$$set({status_key:t}),l()}get hide_header(){return this.$$.ctx[19]}set hide_header(t){this.$$set({hide_header:t}),l()}get hide_filter_options(){return this.$$.ctx[20]}set hide_filter_options(t){this.$$set({hide_filter_options:t}),l()}get show_department_title(){return this.$$.ctx[21]}set show_department_title(t){this.$$set({show_department_title:t}),l()}get show_subject_title(){return this.$$.ctx[22]}set show_subject_title(t){this.$$set({show_subject_title:t}),l()}get default_expand(){return this.$$.ctx[52]}set default_expand(t){this.$$set({default_expand:t}),l()}get show_username_always(){return this.$$.ctx[23]}set show_username_always(t){this.$$set({show_username_always:t}),l()}get show_always_subject(){return this.$$.ctx[24]}set show_always_subject(t){this.$$set({show_always_subject:t}),l()}get right_panel_mode(){return this.$$.ctx[25]}set right_panel_mode(t){this.$$set({right_panel_mode:t}),l()}get no_additional_column(){return this.$$.ctx[26]}set no_additional_column(t){this.$$set({no_additional_column:t}),l()}get override_item_open(){return this.$$.ctx[27]}set override_item_open(t){this.$$set({override_item_open:t}),l()}get no_chat_preview(){return this.$$.ctx[28]}set no_chat_preview(t){this.$$set({no_chat_preview:t}),l()}get default_sort(){return this.$$.ctx[53]}set default_sort(t){this.$$set({default_sort:t}),l()}get www_dir_flags(){return this.$$.ctx[29]}set www_dir_flags(t){this.$$set({www_dir_flags:t}),l()}get base_url(){return this.$$.ctx[54]}set base_url(t){this.$$set({base_url:t}),l()}get url(){return this.$$.ctx[30]}set url(t){this.$$set({url:t}),l()}get icon_class(){return this.$$.ctx[31]}set icon_class(t){this.$$set({icon_class:t}),l()}get card_icon(){return this.$$.ctx[32]}set card_icon(t){this.$$set({card_icon:t}),l()}get no_link(){return this.$$.ctx[33]}set no_link(t){this.$$set({no_link:t}),l()}get no_duration(){return this.$$.ctx[34]}set no_duration(t){this.$$set({no_duration:t}),l()}get no_counter(){return this.$$.ctx[35]}set no_counter(t){this.$$set({no_counter:t}),l()}get expand_identifier(){return this.$$.ctx[36]}set expand_identifier(t){this.$$set({expand_identifier:t}),l()}get custom_card_class(){return this.$$.ctx[37]}set custom_card_class(t){this.$$set({custom_card_class:t}),l()}get custom_title_class(){return this.$$.ctx[38]}set custom_title_class(t){this.$$set({custom_title_class:t}),l()}get custom_settings_url(){return this.$$.ctx[39]}set custom_settings_url(t){this.$$set({custom_settings_url:t}),l()}get additional_sort(){return this.$$.ctx[40]}set additional_sort(t){this.$$set({additional_sort:t}),l()}get data_panel_id(){return this.$$.ctx[41]}set data_panel_id(t){this.$$set({data_panel_id:t}),l()}get column_2_width(){return this.$$.ctx[42]}set column_2_width(t){this.$$set({column_2_width:t}),l()}get column_1_width(){return this.$$.ctx[43]}set column_1_width(t){this.$$set({column_1_width:t}),l()}get column_3_width(){return this.$$.ctx[44]}set column_3_width(t){this.$$set({column_3_width:t}),l()}get permissions(){return this.$$.ctx[55]}set permissions(t){this.$$set({permissions:t}),l()}get optionsPanel(){return this.$$.ctx[56]}set optionsPanel(t){this.$$set({optionsPanel:t}),l()}}function fa(t,e){return{update(e){let n=e=e.replaceAll("&nbsp;"," ").replaceAll("&amp;","&").replace(/<(b|i|u|strike)\sstyle=".*?">/g,"<$1>").replace(/<suggester.*?>.*?<\/suggester>/g,"").replace(/<span style=".*?">(.*?)<\/span>/g,"$1").replace(/<span>(.*?)<\/span>/g,"$1");"<br>"===(e=(e=(t=>{var e=document.createElement("div");return e.innerHTML=t.replaceAll("<br>","___BR___").replaceAll("\r\n","___BR___").replaceAll("\n","___BR___").replaceAll("<b>","___BLD___").replaceAll("</b>","___BLDC___").replaceAll("</i>","___ITAC___").replaceAll("<i>","___ITA___").replaceAll("</u>","___UNDC___").replaceAll("<u>","___UND___").replaceAll("<strike>","___STRIKE___").replaceAll("</strike>","___STRIKEC___").replaceAll("&gt;","___GT___").replaceAll("&lt;","___LT___"),e.innerText.replaceAll("___BR___","<br>").replaceAll("___BLD___","<b>").replaceAll("___BLDC___","</b>").replaceAll("___ITAC___","</i>").replaceAll("___ITA___","<i>").replaceAll("___UNDC___","</u>").replaceAll("___UND___","<u>").replaceAll("___STRIKE___","<strike>").replaceAll("___STRIKEC___","</strike>").replaceAll("___GT___","&gt;").replaceAll("___LT___","&lt;")})(e=(t=>{var e=document.createElement("textarea");return e.innerHTML=t.replaceAll("&gt;","___GT___").replaceAll("&lt;","___LT___"),e.value.replaceAll("___GT___","&gt;").replaceAll("___LT___","&lt;")})(e))).replace(/\u00a0/g," "))?t.innerHTML="":JSON.stringify(e.replace(/\s+/g,""))!=JSON.stringify(n.replace(/\s+/g,""))&&(t.innerHTML=e)}}}function wa(t,e,n,i,a){let s=n&&n.startOffset!=n.endOffset,o={b:"bold",i:"italic",u:"underline",s:"strikethrough"};o[t]?(!0===s&&xa(n,i),document.execCommand(o[t],!1,null),i.focus()):(xa(n,i),function(t,e){var n,i;if(window.getSelection&&(n=window.getSelection()).getRangeAt&&n.rangeCount){let a=(i=n.getRangeAt(0)).cloneContents();i.deleteContents(),i.insertNode(document.createTextNode(e)),i.insertNode(a),i.insertNode(document.createTextNode(t)),i.collapse(!1)}}("["+t+"]","[/"+e+"]")),s&&a.set(i.innerHTML)}function ba(t){var e,n;(e=document.createRange()).selectNodeContents(t),e.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(e)}function va(){if(window.getSelection){let t=window.getSelection();if(t.getRangeAt&&t.rangeCount){let e=t.getRangeAt(0);return e.startOffset!=e.endOffset}}return!1}function ya(){if(window.getSelection){let t=window.getSelection();if(t.getRangeAt&&t.rangeCount)return t.getRangeAt(0)}else if(document.selection&&document.selection.createRange)return document.selection.createRange();return null}function xa(t,e,n){if(t)if(window.getSelection){let e=window.getSelection();if(e.removeAllRanges(),e.addRange(t),n&&n.replace_from){t.setStart(t.startContainer,0),t.setEnd(t.endContainer,t.endOffset);let e=t.toString();-1!==e.lastIndexOf("#")&&(t.setStart(t.startContainer,e.lastIndexOf("#")),t.deleteContents())}}else document.selection&&t.select&&t.select();else ba(e)}function $a(t,e,n,i,a){xa(e,n,a),function(t){var e,n;if(window.getSelection){if((e=window.getSelection()).getRangeAt&&e.rangeCount){let i=(n=e.getRangeAt(0)).createContextualFragment(t);n.insertNode(i),n.collapse(!1)}}else document.selection&&document.selection.createRange&&(document.selection.createRange().text=t)}(t),i.set(n.innerHTML)}function ja(t,e,n){t.stopPropagation(),t.preventDefault(),function(t){t=t.replaceAll("\r\n","\n");var e,n,i=t.split("\n");if(window.getSelection){if((e=window.getSelection()).getRangeAt&&e.rangeCount){(n=e.getRangeAt(0)).deleteContents();for(var a=i.length-1;a>=0;a--)a<i.length-1&&n.insertNode(document.createElement("br")),n.insertNode(document.createTextNode(i[a]));n.collapse(!1)}}else document.selection&&document.selection.createRange&&(document.selection.createRange().text=t)}((t.clipboardData||window.clipboardData).getData("text/plain")),n.set(e.innerHTML)}function Ca(t){let e,n,i,a,s,o,c;return{c(){e=m("div"),n=d(),i=m("div"),a=f(t[10]),s=d(),o=m("pre"),c=f(t[7])},m(l,d){_(l,e,d),e.innerHTML=t[10],_(l,n,d),_(l,i,d),g(i,a),_(l,s,d),_(l,o,d),g(o,c)},p(t,n){1024&n[0]&&(e.innerHTML=t[10]),1024&n[0]&&w(a,t[10]),128&n[0]&&w(c,t[7])},d(t){t&&(p(e),p(n),p(i),p(s),p(o))}}}function Wa(t){let e,n,i,a,s,o,c,l,g=t[1]&&Ca(t);return{c(){e=m("div"),s=d(),g&&g.c(),o=r(),h(e,"contenteditable","true"),h(e,"id",n="editor-"+t[0]),h(e,"class",i="lhc-editor form-control form-control-sm form-send-textarea form-group"+("1"===t[5]?" bg-light":"")+(!0===t[2]?" form-control-warning":"")+(t[8]?" hide-suggester":"")),h(e,"placeholder",t[3]),void 0!==t[10]&&void 0!==t[7]||A((()=>t[36].call(e))),T(e,"min-height",27*t[6]+"px")},m(n,i){_(n,e,i),void 0!==t[10]&&(e.innerHTML=t[10]),void 0!==t[7]&&(e.textContent=t[7]),t[37](e),_(n,s,i),g&&g.m(n,i),_(n,o,i),c||(l=[b(e,"paste",t[35]),b(e,"keydown",t[13]),b(e,"click",t[14]),b(e,"keyup",t[14]),b(e,"focusout",t[14]),b(e,"input",t[36]),b(e,"input",t[15]),Q(a=fa.call(null,e,t[10]))],c=!0)},p(t,s){1&s[0]&&n!==(n="editor-"+t[0])&&h(e,"id",n),292&s[0]&&i!==(i="lhc-editor form-control form-control-sm form-send-textarea form-group"+("1"===t[5]?" bg-light":"")+(!0===t[2]?" form-control-warning":"")+(t[8]?" hide-suggester":""))&&h(e,"class",i),8&s[0]&&h(e,"placeholder",t[3]),1024&s[0]&&t[10]!==e.innerHTML&&(e.innerHTML=t[10]),128&s[0]&&t[7]!==e.textContent&&(e.textContent=t[7]),a&&y(a.update)&&1024&s[0]&&a.update.call(null,t[10]),64&s[0]&&T(e,"min-height",27*t[6]+"px"),t[1]?g?g.p(t,s):(g=Ca(t),g.c(),g.m(o.parentNode,o)):g&&(g.d(1),g=null)},i:u,o:u,d(n){n&&(p(e),p(s),p(o)),t[37](null),g&&g.d(n),c=!1,v(l)}}}function ka(t,e,n){let i,s,o="",{host:l}=e,{scope:d="chat"}=e,{record_id:r="0"}=e,{debug:_=!1}=e,{warning_area:u=!1}=e,{placeholder:p=""}=e,{readonly:m=null}=e,{whisper:h}=e,{enable_canned_suggester:g}=e,{disable_key_listeners:f}=e,{data_rows_default:w=2}=e,{disable_bb_bold:b=null}=e,{disable_bb_underline:v=null}=e,{disable_bb_italic:y=null}=e;const x={"&amp;":"&","&lt;":"<","&gt;":">","<br>":"\n","<b>":"[b]","<i>":"[i]","</i>":"[/i]","</b>":"[/b]","<u>":"[u]","</u>":"[/u]","</strike>":"[/s]","<strike>":"[s]"},$={"\r\n":"","\n":"","<br>":"\n","<b>":"[b]","</b>":"[/b]","<i>":"[i]","</i>":"[/i]","<u>":"[u]","</u>":"[/u]","</strike>":"[/s]","<strike>":"[s]","&nbsp;":" ","&amp;":"&","&lt;":"<","&gt;":">"};let j=null,C=!1,W=!1,k=G("");a(t,k,(t=>n(10,s=t)));let D,S=function(t){const{subscribe:e,set:n,update:i,get:a}=G(t);return{subscribe:e,update:i,get:a,set:n,addOne:()=>i((t=>t+1)),reset:()=>n(0),goPrev:()=>i((e=>(e.index>0&&e.index--,t))),goNext:()=>i((e=>(e.index<e.history.length-1&&e.index++,t))),setCurrent:t=>i((e=>(e.current=t,e))),addHistory:t=>i((e=>("<br>"==t&&(t=""),e.current==t||(e.index!=e.history.length-1&&e.history.splice(e.index+1),e.history.length>=10&&e.history.shift(),e.history.push(t),e.index=e.history.length-1,e.current=t),e)))}}({index:0,current:"",history:[""]});a(t,S,(t=>n(44,i=t)));let L=!1,A=null,I=500,N=!1;function T(t){t=t.replaceAll("\r\n","\n");for(const[e,n]of Object.entries(x))t=t.replaceAll(n,e);return t=t.replace(/ {2,}/g,(t=>Array.from(t,((t,e)=>e%2==0?"&nbsp;":" ")).join("")))}function E(t,e){n(8,C=!0),e&&(e.convert_bbcode&&(t=T(t)),e.new_line&&""!==D.innerHTML&&(t="\n"+t)),$a(t,j,D,k,e)}function R(){let t=D.getElementsByTagName("suggester");for(const e of t)D.removeChild(e)}function O(t,e){-1===["b","i","u","s","quote","youtube","html","code","fs10","fs11","fs12","fs13","fs14","fs15","fs16"].indexOf(t)&&0!==t.indexOf("color=")||wa(t,e,j,D,k)}function P(){setTimeout((()=>{ba(D)}),1)}function B(){!0===N&&(clearTimeout(A),S.addHistory(s.replace(/<suggester.*?>.*?<\/suggester>/g,"")),N=!1)}function H(t){t=function(t){var e=document.createElement("div");e.innerHTML=t;const n=["U","B","I","STRIKE","SPAN"],i={"font-style: italic":"i","font-weight: bold":"b","text-decoration: underline":"u","text-decoration: line-through":"strike"};return function t(e){Array.from(e.childNodes).forEach((a=>{if(a.nodeType===Node.ELEMENT_NODE&&n.includes(a.tagName)){let n=a.getAttribute("style");n&&Object.keys(i).forEach((t=>{if(n.includes(t)){const n=document.createElement(i[t]);a.removeAttribute("style");let s=a.cloneNode(!0);if("SPAN"!==a.tagName)n.appendChild(s);else for(;s.firstChild;)n.appendChild(s.firstChild);e.replaceChild(n,a),a=n}})),t(a)}}))}(e),e.innerHTML}(t),t=t.replace(/<(b|i|u|strike)\sstyle=".*?">/g,"<$1>").replace(/<span style=".*?">(.*?)<\/span>/g,"$1").replace(/<span>(.*?)<\/span>/g,"$1");for(const[e,n]of Object.entries($))t=t.replaceAll(e,n);return t}c((()=>{let t=document.getElementById("chat-tab-li-"+r);if(t&&t.firstChild&&t.firstChild.classList.contains("active")&&P(),g)var e=new LHCCannedMessageAutoSuggest({textarea:D,chat_id:r,uppercase_enabled:confLH.auto_uppercase});return document.getElementById("fileupload-"+r)&&window["file_upload_"+r]&&lhinst.addFileUpload(window["file_upload_"+r]),ee.emitEvent("adminChatEditorLoaded",[r,D]),()=>{clearInterval(A),e.unbindEvents()}})),k.subscribe((t=>{let e=t.replace(/<suggester.*?>.*?<\/suggester>/g,"");"<br>"===e&&(e="",n(9,D.innerHTML="",D)),""===e?(l.removeAttribute("content_modified"),!1===W?(l.removeAttribute("subjects_ids"),l.removeAttribute("canned_id")):W=!1):l.setAttribute("content_modified",!0),!1===L?(N=!0,clearTimeout(A),A=setTimeout((()=>{N=!1,S.addHistory(e)}),I)):S.setCurrent(e)}));return t.$$set=t=>{"host"in t&&n(16,l=t.host),"scope"in t&&n(17,d=t.scope),"record_id"in t&&n(0,r=t.record_id),"debug"in t&&n(1,_=t.debug),"warning_area"in t&&n(2,u=t.warning_area),"placeholder"in t&&n(3,p=t.placeholder),"readonly"in t&&n(4,m=t.readonly),"whisper"in t&&n(5,h=t.whisper),"enable_canned_suggester"in t&&n(18,g=t.enable_canned_suggester),"disable_key_listeners"in t&&n(19,f=t.disable_key_listeners),"data_rows_default"in t&&n(6,w=t.data_rows_default),"disable_bb_bold"in t&&n(20,b=t.disable_bb_bold),"disable_bb_underline"in t&&n(21,v=t.disable_bb_underline),"disable_bb_italic"in t&&n(22,y=t.disable_bb_italic)},[r,_,u,p,m,h,w,o,C,D,s,k,S,function(t){var e=!0;let a=!1;if(!f)if(!t.altKey||38!==t.keyCode&&40!==t.keyCode){if(m)return t.preventDefault(),void t.stopPropagation();if(r&&lhinst.operatorTypingCallback(r),t.ctrlKey)switch(t.keyCode){case 32:ba(D),j=ya(),E("&nbsp;"),e=!1;break;case 90:n(8,C=!0),B(),e=!1,S.goPrev(),L=!0,k.set(i.history[i.index]),P(),L=!1;break;case 89:n(8,C=!0),B(),e=!1,L=!0,S.goNext(),k.set(i.history[i.index]),P(),L=!1;break;case 66:b?e=!1:!0===va()&&(I=0,O("b","b"),j=ya(),e=!1);break;case 73:case 105:y?e=!1:!0===va()&&(I=0,O("i","i"),j=ya(),e=!1);break;case 85:case 117:v?e=!1:!0===va()&&(I=0,O("u","u"),j=ya(),e=!1)}else if(t.shiftKey){if(13===t.keyCode)a=!0}else if(13===t.keyCode){e=!1,B();let t=H(i.current).trim();t&&(ee.emitEvent("svelte_"+d+"_"+r+"_msg",[t]),lhinst.addmsgadmin(r),ee.emitEvent("afterAdminMessageSent",[r]))}else 38===t.keyCode&&(B(),lhinst.editPrevious(r));!0===a||32===t.keyCode?(I=0,n(8,C=!0)):I=500,!1===e&&(t.preventDefault(),t.stopPropagation())}else ee.emitEvent("activateNextTab",[r,38===t.keyCode])},function(t){var e,i,a,s;j=ya(),!t||!t.keyCode||40!==t.keyCode&&37!==t.keyCode?(n(8,C=!1),window.getSelection&&(e=window.getSelection()).getRangeAt&&e.rangeCount&&((i=e.getRangeAt(0)).startOffset!=i.endOffset&&n(8,C=!0),(a=document.createRange()).selectNodeContents(D),a.setStart(i.endContainer,i.endOffset),(s=a.cloneContents()).lastElementChild&&"SUGGESTER"==s.lastElementChild.tagName&&s.removeChild(s.lastElementChild),!1===(0===s.textContent.length)&&n(8,C=!0))):n(8,C=!0)},function(){k.set(D.innerHTML)},l,d,g,f,b,v,y,function(){return D},function(t,e){n(8,C=!0),e&&(e.ignore_meta&&(W=!0),e.convert_bbcode&&(t=T(t))),k.set(t.trim())},E,function(t){j=ya(),function(t,e,n,i){if(e)if(window.getSelection){e.setStart(e.startContainer,0),e.setEnd(e.endContainer,e.endOffset),e.deleteContents();let n=e.createContextualFragment(t);e.insertNode(n),e.collapse(!1);let i=window.getSelection();i.removeAllRanges(),i.addRange(e)}else document.selection&&range.select&&range.select()}(t,j)},R,function(t){if(R(),t&&!D.classList.contains("hide-suggester")&&"<br>"!=s.substr(s.length-4)){const e=document.createElement("template");e.innerHTML="<suggester style='color: #cecece; user-select: none' contentEditable=\"false\">"+t+"</suggester>",D.appendChild(e.content.firstChild)}},O,function(){return H(i.current).trim()},function(){return H(s.replace(/<suggester.*?>.*?<\/suggester>/g,"")).trim()},P,function(){var t,e,n,i;return!!(window.getSelection&&(t=window.getSelection()).getRangeAt&&t.rangeCount)&&((e=t.getRangeAt(0)).startOffset==e.endOffset&&((n=document.createRange()).selectNodeContents(D),n.setStart(e.endContainer,e.endOffset),(i=n.cloneContents()).lastElementChild&&"SUGGESTER"==i.lastElementChild.tagName&&i.removeChild(i.lastElementChild),i.textContent.length,!0))},function(t){if(window.getSelection){var e=window.getSelection();if(e.rangeCount){let t=e.getRangeAt(0),n=document.createRange();n.selectNodeContents(D),n.setStart(t.startContainer,0),n.setEnd(t.endContainer,t.endOffset);let i=n.cloneContents();return i.lastElementChild&&"SUGGESTER"==i.lastElementChild.tagName&&i.removeChild(i.lastElementChild),{caret:t.endOffset,content:i.textContent.replace(/\u00a0/g," "),full_content:D.textContent.replace(/\u00a0/g," ")}}}return{caret:0,content:"",full_content:D.textContent.replace(/\u00a0/g," ")}},t=>{if(m)return t.preventDefault(),void t.stopPropagation();ja(t,D,k)},function(){s=this.innerHTML,k.set(s),o=this.textContent,n(7,o)},function(t){q[t?"unshift":"push"]((()=>{D=t,n(9,D)}))}]}customElements.define("lhc-widget",t(ga,{type:{},no_collapse:{type:"Boolean"},no_expand:{type:"Boolean"},show_username_title:{type:"Boolean"},hide_third_column:{type:"Boolean"},hide_2_column:{type:"Boolean"},hide_op_avatar:{type:"Boolean"},hide_ac_stats:{type:"Boolean"},hide_ac_sort:{type:"Boolean"},hide_ac_op_icon:{type:"Boolean"},custom_visitor_title:{},mh_widget:{},custom_visitor_icon:{},show_visitor_title:{type:"Boolean"},list_identifier:{},no_panel_id:{type:"Boolean"},custom_settings_url_icon:{},panel_list_identifier:{},sort_identifier:{},status_id:{},status_key:{},hide_header:{type:"Boolean"},hide_filter_options:{type:"Boolean"},show_department_title:{type:"Boolean"},show_subject_title:{type:"Boolean"},default_expand:{type:"Boolean"},show_username_always:{type:"Boolean"},show_always_subject:{type:"Boolean"},right_panel_mode:{type:"Boolean"},no_additional_column:{type:"Boolean"},override_item_open:{},no_chat_preview:{type:"Boolean"},default_sort:{},www_dir_flags:{},base_url:{},url:{},icon_class:{},card_icon:{},no_link:{type:"Boolean"},no_duration:{type:"Boolean"},no_counter:{type:"Boolean"},expand_identifier:{},custom_card_class:{},custom_title_class:{},custom_settings_url:{},additional_sort:{},data_panel_id:{},column_2_width:{},column_1_width:{},column_3_width:{},permissions:{},optionsPanel:{}},[],[],!1));class Da extends e{constructor(t){super(),n(this,t,ka,Wa,i,{host:16,scope:17,record_id:0,debug:1,warning_area:2,placeholder:3,readonly:4,whisper:5,enable_canned_suggester:18,disable_key_listeners:19,data_rows_default:6,disable_bb_bold:20,disable_bb_underline:21,disable_bb_italic:22,getEditor:23,setContent:24,insertContent:25,replaceRange:26,removeSuggester:27,setSuggester:28,insertFormating:29,getContent:30,getContentLive:31,setFocus:32,isCursorAtEnd:33,getCaretPositionAndContent:34},null,[-1,-1])}get host(){return this.$$.ctx[16]}set host(t){this.$$set({host:t}),l()}get scope(){return this.$$.ctx[17]}set scope(t){this.$$set({scope:t}),l()}get record_id(){return this.$$.ctx[0]}set record_id(t){this.$$set({record_id:t}),l()}get debug(){return this.$$.ctx[1]}set debug(t){this.$$set({debug:t}),l()}get warning_area(){return this.$$.ctx[2]}set warning_area(t){this.$$set({warning_area:t}),l()}get placeholder(){return this.$$.ctx[3]}set placeholder(t){this.$$set({placeholder:t}),l()}get readonly(){return this.$$.ctx[4]}set readonly(t){this.$$set({readonly:t}),l()}get whisper(){return this.$$.ctx[5]}set whisper(t){this.$$set({whisper:t}),l()}get enable_canned_suggester(){return this.$$.ctx[18]}set enable_canned_suggester(t){this.$$set({enable_canned_suggester:t}),l()}get disable_key_listeners(){return this.$$.ctx[19]}set disable_key_listeners(t){this.$$set({disable_key_listeners:t}),l()}get data_rows_default(){return this.$$.ctx[6]}set data_rows_default(t){this.$$set({data_rows_default:t}),l()}get disable_bb_bold(){return this.$$.ctx[20]}set disable_bb_bold(t){this.$$set({disable_bb_bold:t}),l()}get disable_bb_underline(){return this.$$.ctx[21]}set disable_bb_underline(t){this.$$set({disable_bb_underline:t}),l()}get disable_bb_italic(){return this.$$.ctx[22]}set disable_bb_italic(t){this.$$set({disable_bb_italic:t}),l()}get getEditor(){return this.$$.ctx[23]}get setContent(){return this.$$.ctx[24]}get insertContent(){return this.$$.ctx[25]}get replaceRange(){return this.$$.ctx[26]}get removeSuggester(){return this.$$.ctx[27]}get setSuggester(){return this.$$.ctx[28]}get insertFormating(){return this.$$.ctx[29]}get getContent(){return this.$$.ctx[30]}get getContentLive(){return this.$$.ctx[31]}get setFocus(){return this.$$.ctx[32]}get isCursorAtEnd(){return this.$$.ctx[33]}get getCaretPositionAndContent(){return this.$$.ctx[34]}}customElements.define("lhc-editor",t(Da,{host:{},scope:{},record_id:{},debug:{type:"Boolean"},warning_area:{type:"Boolean"},placeholder:{},readonly:{},whisper:{},enable_canned_suggester:{},disable_key_listeners:{},data_rows_default:{},disable_bb_bold:{},disable_bb_underline:{},disable_bb_italic:{}},[],["getEditor","setContent","insertContent","replaceRange","removeSuggester","setSuggester","insertFormating","getContent","getContentLive","setFocus","isCursorAtEnd","getCaretPositionAndContent"],!1,(t=>class extends t{constructor(){super(),this.host=this}})));export{At as ChangeAlwaysOnline,Wt as ChangeOnlineStatus,Ot as ChangeVisibilityMode,Jt as ChatsCounter,nt as LHC,Da as LHCEditor,bt as LHCStatus,ga as LHCWidget,Ht as OpenChat};
//# sourceMappingURL=main.js.map
