import{c as t,S as e,i as n,s as i,g as a,J as s,h as o,o as c,f as l,n as d,d as r,a as _,b as u,e as p,p as m,r as h,u as g,m as f,t as w,q as b,v,w as y,K as x,A as $,L as C,M as j,j as k,k as W,N as D,O as L,x as A,P as S,Q as I,R as E,z as N,y as T,C as R,D as P,E as O,F as B,T as M,U as H,G as V,H as J,I as G,V as q,W as Q,X as U}from"./i18n.B4Bqyi2p.js";import{l as F,W as K,L as X}from"./onlinevisitors.Fc3E8hGs.js";function Y(t,e){if(localStorage)try{localStorage.setItem(t,e)}catch(t){}}function z(t){if(localStorage)try{localStorage.removeItem(t)}catch(t){}}function Z(t){if(localStorage)try{var e=localStorage.getItem(t);if(null!==e&&""!==e)return e.split(",")}catch(t){}return[]}function tt(t,e,n){return isNaN(e)&&(e=10),void 0===n&&(n="..."),t.length<=e||t.length-n.length<=e?t:String(t).substring(0,e-n.length)+n}function et(t,e,n){if(void 0!==t)for(var i=t.length-1;i>=0;i--){var a=t[i];-1===e.indexOf(a)&&lhinst.hideNotification(a.split("_")[0],n)}}function nt(t,e,n){let i,l,d,r,_,u,p;function m(){let t=document.getElementById("menu-rmtoggle");t&&(p.rmtoggle?t.classList.add("hide"):t.classList.remove("hide")),t=document.getElementById("wrapper"),t&&(p.lmtoggle?t.classList.add("toggled"):t.classList.remove("toggled"))}function h(t){if(!document.getElementById(t))return;let e=document.getElementById(t).getElementsByTagName("i")[0];!0===p.toggleWidgetData[t]?(e.classList.remove("chat-closed"),e.classList.add("chat-active")):(e.classList.remove("chat-active"),e.classList.add("chat-closed"))}a(t,s,(t=>n(6,p=t))),window.$_LHC_API={};let g={timeoutActivity:null,timeoutActivityTime:300,blockSync:!1,timeoutControl:null,setTimeoutEnabled:!0,isListLoaded:!1,lastd_activity:Math.round((new Date).getTime()/1e3),lhcListRequestInProgress:!1,lhcSettingUpdateProgress:[],lhcSettingAllSelected:!1,channel:null,abortController:new AbortController};lhinst.channel=g.channel=new BroadcastChannel("lhc_dashboard"),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",(function(t){"lhc_open_chat"===t.data.action?A(t.data.chat_id):"lhc_open_url"===t.data.action&&t.data.url&&(document.location=t.data.url)})),g.channel.addEventListener("message",(function(t){if(t.isTrusted&&t.data.action){if("went_active"===t.data.action)return jQuery("#myModal").modal("hide"),void w();var e=jQuery("#tabs");t.data.args.chat_id&&-1!==lhinst.chatsSynchronising.indexOf(t.data.args.chat_id)?"close_chat"===t.data.action?e.length>0&&lhinst.removeDialogTab(t.data.args.chat_id,e,!0):"update_chat"===t.data.action||"startbackground_chat"===t.data.action?e.length>0&&lhinst.updateVoteStatus(t.data.args.chat_id,!0):"reload_chat"===t.data.action&&(lhinst.addOpenTrace("channel_message_reload"),e.length>0&&lhinst.reloadTab(t.data.args.chat_id,e,t.data.args.nick,!0)):"startbackground_chat"===t.data.action?(lhinst.addOpenTrace("channel_message_open"),e.length>0&&lhinst.startChatBackground(t.data.args.chat_id,e,t.data.args.nick)||ee.emitEvent("chatTabPreload",[t.data.args.chat_id,{focus:!1}])):"close_chat"===t.data.action?ee.emitEvent("removeSynchroChat",[parseInt(t.data.args.chat_id)]):t.data.args.mail_id&&"close_mail"==t.data.action&&lhinst.removeDialogTabMail(t.data.args.mail_id,jQuery("#tabs"),!0,!0)}})),ee.addListener("svelteWentActive",(function(){jQuery("#myModal").modal("hide"),w()})),ee.addListener("angularStartChatbyId",(function(t){lhinst.addOpenTrace("view_clicked"),A(t)})),ee.addListener("svelteOpenChat",(function(t){lhinst.addOpenTrace("click"),A(t,p.isCTRLPressed)})),ee.addListener("svelteOpenMail",(function(t,e){lhinst.startMailChat(t,jQuery("#tabs"),tt(e,10),p.isCTRLPressed)})),ee.addListener("svelteAction",(function(t){C(t)})),ee.addListener("svelteDebug",(function(){console.log(p),console.log(g)})),ee.addListener("angularLoadChatList",(function(){g.isListLoaded=!1,g.lhcListRequestInProgress=!1,L()})),ee.addListener("svelteTestNotification",(function(t){F.getNotificationsData(t).then((function(t){t.forEach((function(t){lhinst.playSoundNewAction(t.last_id_identifier,parseInt(t.last_id),t.nick?t.nick:"Live Help",t.msg?t.msg:confLH.transLation.new_chat,t.nt)}))}))})),ee.addListener("svelteResetTimeoutActivity",(function(){W()})),ee.addListener("angularStartChatOperatorPublic",(function(t){F.startChatOperator(t)})),ee.addListener("svelteallDepartmentsChanged",(function(t,e){v(t,e)})),ee.addListener("svelteProductChanged",(function(t){j(t)})),ee.addListener("svelteDepartmentChanged",(function(t){b(t)})),ee.addListener("svelteLimitChanged",(function(t){F.setLocalSettings(t,p[t]),L()})),ee.addListener("angularSyncDisabled",(function(t){var e;e=t,g.blockSync=e,1==g.blockSync&&(g.abortController.abort(),g.abortController=new AbortController)})),ee.addListener("svelteToggleList",(function(t){!function(t){if(o(s,p[t]=!p[t],p),localStorage)try{localStorage.setItem(t,p[t])}catch(t){}}(t)})),ee.addListener("svelteToggleWidget",(function(t,e){F.toggleWidget(s,t,e)})),ee.addListener("svelteRemoveLocalSetting",(function(t){F.removeLocalSetting(t)})),ee.addListener("svelteStoreLocalSetting",(function(t,e){F.storeLocalSetting(t,e)})),ee.addListener("svelteNoticeUpdated",(function(){!async function(){const t=await fetch(WWW_DIR_JAVASCRIPT+"chat/loadinitialdata",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}),e=await t.json();if(e.logout||e.error_url)return void document.location.reload();e.notice?o(s,p.lhcNotice=e.notice,p):o(s,p.lhcNotice={message:"",level:"primary"},p)}()})),ee.addListener("svelteAppendActiveChats",(function(){F.loadActiveChats().then((function(t){let e=jQuery("#tabs");t.result.forEach((function(t){lhinst.startChatBackground(t.id,e,F.truncate(t.nick||"Visitor",10))})),setTimeout((function(){ee.emitEvent("angularLoadChatList")}),1e3)}))}));let f=[];function w(){F.setInactive("false"),g.isListLoaded=!1,g.blockSync=!1,g.lhcListRequestInProgress=!1,W(),lhinst.disableSync=!1,L(),o(s,p.inActive=!1,p)}function b(t){if(-1===g.lhcSettingUpdateProgress.indexOf(t)){if(g.lhcSettingUpdateProgress.push(t),p[t].length>0){!1===g.lhcSettingAllSelected&&(o(s,p[t+"_all_departments"]=!1,p),v(t,!1)),g.lhcSettingAllSelected=!1;var e=p[t].join("/");""!==e?(y(t,e),$(t)):x(t)}else y(t,null);g.isListLoaded=!1,L()}}function v(t,e){if(!0===p[t+"_all_departments"]?Y(t+"_all_departments",!0):z(t+"_all_departments"),!0===p[t+"_hide_hidden"]?Y(t+"_hide_hidden",!0):z(t+"_hide_hidden"),!0===p[t+"_hide_disabled"]?Y(t+"_hide_disabled",!0):z(t+"_hide_disabled"),!0===p[t+"_only_online"]?Y(t+"_only_online",!0):z(t+"_only_online"),void 0!==p[t+"_hide_dep"]&&(!0===p[t+"_hide_dep"]?Y(t+"_hide_dep",!0):z(t+"_hide_dep")),void 0!==p[t+"_hide_dgroup"]&&(!0===p[t+"_hide_dgroup"]?Y(t+"_hide_dgroup",!0):z(t+"_hide_dgroup")),!0===p[t+"_all_departments"]){let e=[];p.userDepartments.forEach((function(n){(!1===p[t+"_only_explicit_online"]||!0===p[t+"_only_explicit_online"]&&!0===n.oexp)&&(!1===p[t+"_hide_hidden"]||!0===p[t+"_hide_hidden"]&&!1===n.hidden)&&(!1===p[t+"_hide_disabled"]||!0===p[t+"_hide_disabled"]&&!1===n.disabled)&&(!1===p[t+"_only_online"]||!0===p[t+"_only_online"]&&!0===n.ogen)&&e.push(n.id)})),0===e.length&&e.push(-1),g.lhcSettingAllSelected=!0,o(s,p[t]=e,p)}else!0===e&&o(s,p[t]=[],p);!0===e&&(g.isListLoaded=!1,L())}function y(t,e){F.setLocalSettings(t,e).then((function(){x(t)})).catch((function(){x(t)}))}function x(t){g.lhcSettingUpdateProgress.splice(g.lhcSettingUpdateProgress.indexOf(t),1)}function $(t){o(s,p[t+"Names"]=[],p),p[t].forEach((function(e){void 0!==p.userDepartmentsNames&&void 0!==p.userDepartmentsNames[e]?p[t+"Names"].push(p.userDepartmentsNames[e]):void 0!==p.userDepartmentsNames&&(p[t].splice(p[t].indexOf(e),1),b(t))}))}function C(t){p.last_actions.unshift(t),o(s,p.last_actions=p.last_actions.slice(0,5),p)}function j(t){if(p[t].length>0){var e=p[t].join("/");""!==e&&F.setLocalSettings(t,e)}else F.setLocalSettings(t,null);g.isListLoaded=!1,L()}f.push("actived"),f.push("departmentd"),f.push("unreadd"),f.push("pendingd"),f.push("operatord"),f.push("closedd"),f.push("mcd"),f.push("botd"),f.push("subjectd"),f.push("pendingmd"),f.push("activemd"),f.push("alarmmd"),f.push("mmd"),f.push("department_online"),f.forEach((function(t){o(s,p[t+"_all_departments"]="false"!=F.restoreLocalSetting(t+"_all_departments","false",!1),p),o(s,p[t+"_hide_hidden"]="false"!=F.restoreLocalSetting(t+"_hide_hidden","false",!1),p),o(s,p[t+"_hide_disabled"]="false"!=F.restoreLocalSetting(t+"_hide_disabled","false",!1),p),o(s,p[t+"_only_online"]="false"!=F.restoreLocalSetting(t+"_only_online","false",!1),p),o(s,p[t+"_only_explicit_online"]="false"!=F.restoreLocalSetting(t+"_only_explicit_online","false",!1),p),o(s,p[t+"_m_h"]=F.restoreLocalSetting(t+"_m_h",null,!1),p)})),o(s,p.onlineusers_m_h=F.restoreLocalSetting("onlineusers_m_h",null,!1),p),c((async()=>{o(s,p.departmentd_hide_dep="false"!=F.restoreLocalSetting("departmentd_hide_dep","false",!1),p),o(s,p.departmentd_hide_dgroup="false"!=F.restoreLocalSetting("departmentd_hide_dgroup","false",!1),p),o(s,p.lmtoggle="false"!=F.restoreLocalSetting("lmtoggle","false",!1),p),o(s,p.rmtoggle="false"!=F.restoreLocalSetting("rmtoggle","false",!1),p),F.getToggleWidget(s,"track_open_chats"),F.getToggleWidget(s,"group_offline_chats"),document.addEventListener("keydown",(function(t){("Control"===t.key||t.ctrlKey||"Meta"===t.key||t.metaKey)&&o(s,p.isCTRLPressed=!0,p)})),document.addEventListener("keyup",(function(t){("Control"===t.key||t.ctrlKey||"Meta"===t.key||t.metaKey)&&o(s,p.isCTRLPressed=!1,p)})),window.addEventListener("blur",(function(){o(s,p.isCTRLPressed=!1,p)}));var t,e,n="",i=Z("achat_id"),a=Z("gachat_id"),c=Z("machat_id"),l=0,d=0,r=window.location.hash;""!==r&&(null!==(t=r.match(/id-\d+$/))&&t[0]&&(l=parseInt(t[0].replace("id-","")),-1===i.indexOf(l)&&i.push(l)),null==t&&null!==(t=r.match(/mc\d+$/))&&t[0]&&(d=parseInt(t[0].replace("mc","")),-1===c.indexOf(d)&&c.push(d)));(e=document.getElementById("load_chat_id"))&&-1===i.indexOf(e.value)&&(l=parseInt(e.value),i.push(e.value),window.location.hash="#!#chat-id-"+e.value),(e=document.getElementById("load_mail_id"))&&-1===c.indexOf(e.value)&&(d=parseInt(e.value),c.push(e.value),window.location.hash="#!#chat-id-mc"+e.value);let _=jQuery("#tabs").length;_>0&&!1===lhinst.disableremember&&i.length>0&&(n="/(chatopen)/"+i.join("/")),_>0&&!1===lhinst.disableremember&&a.length>0&&(n+="/(chatgopen)/"+a.join("/")),jQuery("#tabs").length>0&&0==lhinst.disableremember&&c.length>0&&(n+="/(chatmopen)/"+c.join("/"));const u=await fetch(WWW_DIR_JAVASCRIPT+"chat/loadinitialdata"+n,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}),m=await u.json();if(m.logout||m.error_url)return void document.location.reload();s.update((t=>(t.userDepartmentsNames=m.dp_names,t.userDepartments=m.dep_list,t.userProductNames=m.pr_names,t.userDepartmentsGroups=m.dp_groups,t.userGroups=m.user_groups,t.hideInvisible=m.im,t.hideOnline=m.ho,t.lhcVersion=m.v,m.notice&&(t.lhcNotice=m.notice),m.message_connection&&(t.lhcMessageConnection=m.message_connection),t.alwaysOnline=m.a_on,t.additionalColumns=m.col,t.widgetsActive=m.widgets,t.bot_st=m.bot_st,t.excludeIcons=m.exc_ic,t.notifIcons=m.not_ic,t)));let h=["subjectd","subjectd_products","subjectd_dpgroups","subjectd_ugroups","activeu","pendingu","oopu","subjectu","closedd","closedd_products","closedd_dpgroups","botd","botd_products","botd_dpgroups","botd_ugroups","pendingd","pendingd_products","pendingd_dpgroups","pendingd_ugroups","unreadd","unreadd_products","unreadd_dpgroups","mcd","mcd_products","mcd_dpgroups","actived","actived_products","actived_dpgroups","actived_ugroups","departmentd_dpgroups","departmentd","operatord_dpgroups","operatord_ugroups","operatord","mmd","mmd_dpgroups","alarmmd","alarmmd_products","alarmmd_dpgroups","alarmmd_ugroups","activemd","activemd_products","activemd_dpgroups","activemd_ugroups","pendingmd","pendingmd_products","pendingmd_dpgroups","pendingmd_ugroups","pendingmu","activemu","alarmmu","department_online","department_online_dpgroups"];var w,b=["limitb","limita","limitu","limitp","limito","limitc","limitd","limitmc","limitgc","limits","limitpm","limitam","limitalm","limitmm"];m.dw_filters&&Object.keys(m.dw_filters).forEach((t=>{var e,n,i;-1!==h.indexOf(t)?o(s,p[t]=(e=m.dw_filters[t],n=e.split("/"),i=[],n.forEach((function(t){i.push(parseInt(t))})),i),p):-1!==b.indexOf(t)&&o(s,p[t]=m.dw_filters[t],p)})),f.forEach((function(t){$(t)})),1===m.track_activity&&(g.timeoutActivityTime=m.timeout_activity,w=function(){W()},k(window,"mousemove",w),k(document,"mousemove",w),k(window,"mousedown",w),k(window,"click",w),k(window,"scroll",w),k(window,"keypress",w),k(window,"load",w),k(document,"scroll",w),k(document,"touchstart",w),k(document,"touchend",w),W()),m.copen.forEach((function(t){lhinst.addOpenTrace("opened_chats"),lhinst.ignoreAdminSync=!0,lhinst.startChat(t.id,jQuery("#tabs"),tt(t.nick||"Visitor",10),t.id===l,0,t.status),lhinst.ignoreAdminSync=!1,C({type:"mac_history",chat_id:t.id,nick:t.nick}),t.id===l&&document.getElementById("tabs").classList.add("chat-tab-selected")})),m.cgopen.forEach((function(t){lhinst.startGroupChat(t.id,jQuery("#tabs"),tt(t.nick||"Visitor",10),!0)})),m.cmopen.forEach((function(t){lhinst.startMailChat(t.id,jQuery("#tabs"),tt(t.subject||"Mail",10),!(t.id===d))})),m.cmdel.forEach((function(t){lhinst.forgetChat(t,"machat_id")})),m.cdel.forEach((function(t){lhinst.forgetChat(t,"achat_id")})),m.cgdel.forEach((function(t){lhinst.forgetChat(t,"gachat_id")})),ee.emitEvent("eventLoadInitialData",[m,p,F]),window.$_LHC_API.initial_data=m,s.update((t=>(t.lhcCoreLoaded=!0,t))),async function(){var t=[],e=[],n=[],i=[];p.userGroups.forEach((function(t){e.push(t.id)})),p.userDepartmentsGroups.forEach((function(t){n.push(t.id)})),p.userProductNames.forEach((function(t){i.push(t.id)}));const a=await fetch(WWW_DIR_JAVASCRIPT+"chat/searchprovider/users_ids/?exclude_disabled=1&q="+p.pendingu.join(",")+","+p.activeu.join(",")+","+p.subjectu.join(",")+","+p.oopu.join(",")+","+p.pendingmu.join(",")+","+p.activemu.join(",")+","+p.alarmmu.join(","),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}}).catch((t=>{})),c=await a.json();o(s,p.userList=c.items,p),p.userList.forEach((function(e){t.push(e.id)}));var l={activeu:t,actived_products:i,actived_ugroups:e,actived_dpgroups:n,pendingu:t,oopu:t,pendingd_ugroups:e,operatord_ugroups:e,pendingd_dpgroups:n,pendingd_products:i,botd_dpgroups:n,botd_products:i,departmentd_dpgroups:n,closedd_products:i,closedd_dpgroups:n,unreadd_dpgroups:n,unreadd_products:i,mcd_products:i,mcd_dpgroups:n,mmd_dpgroups:n,operatord_dpgroups:n};for(const[t,e]of Object.entries(l)){[...p[t]].forEach((function(n){-1===e.indexOf(n)&&(p[t].splice(p[t].indexOf(n),1),j(t))}))}}(),L()}));let k=document.addEventListener?function(t,e,n){if(t&&t.nodeName||t===window)t.addEventListener(e,n,!1);else if(t&&t.length)for(var i=0;i<t.length;i++)k(t[i],e,n)}:function(t,e,n){if(t&&t.nodeName||t===window)t.attachEvent("on"+e,(function(){return n.call(t,window.event)}));else if(t&&t.length)for(var i=0;i<t.length;i++)k(t[i],e,n)};function W(){var t=window.opener;if(t)try{t.ee.emitEvent("svelteResetTimeoutActivity")}catch(t){console.log(t)}else!1===g.blockSync&&(g.lastd_activity=Math.round((new Date).getTime()/1e3),clearTimeout(g.timeoutActivity),g.timeoutActivity=setTimeout((function(){F.setInactive("true").then((function(t){if(!0===t.active)return W(),void(g.lastd_activity=0);lhinst.disableSync=g.blockSync=!0,g.lhcListRequestInProgress=!1,lhc.revealModal({url:WWW_DIR_JAVASCRIPT+"user/wentinactive/false",backdrop:!0,hidecallback(){w(),g.channel.postMessage({action:"went_active",args:{}})}})}))}),1e3*g.timeoutActivityTime))}function D(t){if((1==p[t+"_only_explicit_online"]||1==p[t+"_hide_hidden"]||1==p[t+"_hide_disabled"]||1==p[t+"_only_online"])&&p.userDepartments.length>0){var e=[];return p.userDepartments.forEach((function(n){(0==p[t+"_only_explicit_online"]||1==p[t+"_only_explicit_online"]&&1==n.oexp)&&(0==p[t+"_hide_hidden"]||1==p[t+"_hide_hidden"]&&0==n.hidden)&&(0==p[t+"_hide_disabled"]||1==p[t+"_hide_disabled"]&&0==n.disabled)&&(0==p[t+"_only_online"]||1==p[t+"_only_online"]&&1==n.ogen)&&e.push(n.id)})),0==e.length&&e.push(-1),e}return[]}async function L(){if(localStorage)try{o(s,p.pending_chats_expanded="false"!=localStorage.getItem("pending_chats_expanded"),p),o(s,p.active_chats_expanded="false"!=localStorage.getItem("active_chats_expanded"),p),o(s,p.my_active_chats_expanded="false"!=localStorage.getItem("my_active_chats_expanded"),p),o(s,p.closed_chats_expanded="false"!=localStorage.getItem("closed_chats_expanded"),p),o(s,p.unread_chats_expanded="false"!=localStorage.getItem("unread_chats_expanded"),p),o(s,p.my_chats_expanded="false"!=localStorage.getItem("my_chats_expanded"),p),o(s,p.pending_mails_expanded="false"!=localStorage.getItem("pending_mails_expanded"),p),o(s,p.active_mails_expanded="false"!=localStorage.getItem("pending_mails_expanded"),p),o(s,p.my_mails_expanded="false"!=localStorage.getItem("my_mails_expanded"),p),o(s,p.custom_list_1_expanded="false"!=localStorage.getItem("custom_list_1_expanded"),p),o(s,p.custom_list_2_expanded="false"!=localStorage.getItem("custom_list_2_expanded"),p),o(s,p.custom_list_3_expanded="false"!=localStorage.getItem("custom_list_3_expanded"),p),o(s,p.custom_list_4_expanded="false"!=localStorage.getItem("custom_list_4_expanded"),p)}catch(t){}if(!0===g.blockSync)return clearTimeout(g.timeoutControl),g.timeoutControl=setTimeout((function(){g.isListLoaded=!1,g.lhcListRequestInProgress=!1,L()}),confLH.back_office_sinterval),void(g.lhcListRequestInProgress=!1);if(!0!==g.lhcListRequestInProgress){o(s,p.lhcListRequestInProgress=g.lhcListRequestInProgress=!0,p),clearTimeout(g.timeoutControl);try{const _=await fetch(WWW_DIR_JAVASCRIPT+"chat/syncadmininterface"+function(){o(s,p.custom_extension_filter="",p);var t,e="/(limita)/"+parseInt(p.limita);if(e+="/(limitu)/"+parseInt(p.limitu),e+="/(limitp)/"+parseInt(p.limitp),e+="/(limito)/"+parseInt(p.limito),e+="/(limitc)/"+parseInt(p.limitc),e+="/(limitd)/"+parseInt(p.limitd),e+="/(limits)/"+parseInt(p.limits),e+="/(limitmc)/"+parseInt(p.limitmc),e+="/(limitb)/"+parseInt(p.limitb),e+="/(limitgc)/"+parseInt(p.limitgc),e+="/(limitmm)/"+parseInt(p.limitmm),e+="/(limitpm)/"+parseInt(p.limitpm),e+="/(limitam)/"+parseInt(p.limitam),e+="/(limitalm)/"+parseInt(p.limitalm),"object"==typeof p.widgetsActive&&p.widgetsActive.length>0){let t={my_chats:0,online_operators:1,group_chats:2,pending_chats:3,online_visitors:4,unread_chats:5,active_chats:6,bot_chats:7,transfered_chats:8,departments_stats:9,subject_chats:20,pmails:10,amails:11,malarms:12,my_mails:30},n=[];p.widgetsActive.forEach((function(e){t[e]&&n.push(t[e])})),e+="/(w)/"+n.join("/")}if("object"==typeof p.activeu&&p.activeu.length>0&&(e+="/(activeu)/"+p.activeu.join("/")),"object"==typeof p.pendingu&&p.pendingu.length>0&&(e+="/(pendingu)/"+p.pendingu.join("/")),"object"==typeof p.pendingmu&&p.pendingmu.length>0&&(e+="/(pendingmu)/"+p.pendingmu.join("/")),"object"==typeof p.activemu&&p.activemu.length>0&&(e+="/(activemu)/"+p.activemu.join("/")),"object"==typeof p.alarmmu&&p.alarmmu.length>0&&(e+="/(alarmmu)/"+p.alarmmu.join("/")),"object"==typeof p.oopu&&p.oopu.length>0&&(e+="/(oopu)/"+p.oopu.join("/")),"object"==typeof p.subjectu&&p.subjectu.length>0&&(e+="/(subjectu)/"+p.subjectu.join("/")),"object"==typeof p.actived_dpgroups&&p.actived_dpgroups.length>0&&(e+="/(adgroups)/"+p.actived_dpgroups.join("/")),"object"==typeof p.pendingmd_dpgroups&&p.pendingmd_dpgroups.length>0&&(e+="/(pmd)/"+p.pendingmd_dpgroups.join("/")),"object"==typeof p.activemd_dpgroups&&p.activemd_dpgroups.length>0&&(e+="/(amd)/"+p.activemd_dpgroups.join("/")),"object"==typeof p.alarmmd_dpgroups&&p.alarmmd_dpgroups.length>0&&(e+="/(almd)/"+p.alarmmd_dpgroups.join("/")),"object"==typeof p.pendingd_dpgroups&&p.pendingd_dpgroups.length>0&&(e+="/(pdgroups)/"+p.pendingd_dpgroups.join("/")),"object"==typeof p.subjectd_dpgroups&&p.subjectd_dpgroups.length>0&&(e+="/(sdgroups)/"+p.subjectd_dpgroups.join("/")),"object"==typeof p.closedd_dpgroups&&p.closedd_dpgroups.length>0&&(e+="/(cdgroups)/"+p.closedd_dpgroups.join("/")),"object"==typeof p.botd_dpgroups&&p.botd_dpgroups.length>0&&(e+="/(bdgroups)/"+p.botd_dpgroups.join("/")),"object"==typeof p.mcd_dpgroups&&p.mcd_dpgroups.length>0&&(e+="/(mdgroups)/"+p.mcd_dpgroups.join("/")),"object"==typeof p.mmd_dpgroups&&p.mmd_dpgroups.length>0&&(e+="/(mmdgroups)/"+p.mmd_dpgroups.join("/")),"object"==typeof p.unreadd_dpgroups&&p.unreadd_dpgroups.length>0&&(e+="/(udgroups)/"+p.unreadd_dpgroups.join("/")),"object"==typeof p.departmentd_dpgroups&&p.departmentd_dpgroups.length>0&&(e+="/(ddgroups)/"+p.departmentd_dpgroups.join("/")),"object"==typeof p.operatord_dpgroups&&p.operatord_dpgroups.length>0&&(e+="/(odpgroups)/"+p.operatord_dpgroups.join("/")),"object"==typeof p.actived)if(p.actived.length>0)e+="/(actived)/"+p.actived.join("/");else{let t=D("actived");t.length>0&&(e+="/(actived)/"+t.join("/"))}if("object"==typeof p.subjectd)if(p.subjectd.length>0)e+="/(subjectd)/"+p.subjectd.join("/");else{let t=D("subjectd");t.length>0&&(e+="/(subjectd)/"+t.join("/"))}if("object"==typeof p.mcd)if(p.mcd.length>0)e+="/(mcd)/"+p.mcd.join("/");else{let t=D("mcd");t.length>0&&(e+="/(mcd)/"+t.join("/"))}if("object"==typeof p.mmd&&(p.mmd.length>0?e+="/(mmd)/"+p.mmd.join("/"):(t=D("mmd")).length>0&&(e+="/(mmd)/"+t.join("/"))),"object"==typeof p.pendingmd&&(p.pendingmd.length>0?e+="/(pendingmd)/"+p.pendingmd.join("/"):(t=D("pendingmd")).length>0&&(e+="/(pendingmd)/"+t.join("/"))),"object"==typeof p.activemd&&(p.activemd.length>0?e+="/(activemd)/"+p.activemd.join("/"):(t=D("activemd")).length>0&&(e+="/(activemd)/"+t.join("/"))),"object"==typeof p.alarmmd&&(p.alarmmd.length>0?e+="/(alarmmd)/"+p.alarmmd.join("/"):(t=D("alarmmd")).length>0&&(e+="/(alarmmd)/"+t.join("/"))),"object"==typeof p.unreadd)if(p.unreadd.length>0)e+="/(unreadd)/"+p.unreadd.join("/");else{let t=D("unreadd");t.length>0&&(e+="/(unreadd)/"+t.join("/"))}if("object"==typeof p.botd)if(p.botd.length>0)e+="/(botd)/"+p.botd.join("/");else{let t=D("botd");t.length>0&&(e+="/(botd)/"+t.join("/"))}if("object"==typeof p.pendingd){if(p.pendingd.length>0)e+="/(pendingd)/"+p.pendingd.join("/");else{let t=D("pendingd");t.length>0&&(e+="/(pendingd)/"+t.join("/"))}void 0!==p.toggleWidgetData.pending_chats_sort&&""!==p.toggleWidgetData.pending_chats_sort&&(e+="/(psort)/"+p.toggleWidgetData.pending_chats_sort)}if("object"==typeof p.operatord)if(p.operatord.length>0)e+="/(operatord)/"+p.operatord.join("/");else{let t=D("operatord");t.length>0&&(e+="/(operatord)/"+t.join("/"))}if("object"==typeof p.closedd&&p.closedd.length>0&&(e+="/(closedd)/"+p.closedd.join("/")),"object"==typeof p.departmentd)if(p.departmentd.length>0)e+="/(departmentd)/"+p.departmentd.join("/");else{let t=D("departmentd");t.length>0&&(e+="/(departmentd)/"+t.join("/"))}"object"==typeof p.actived_products&&p.actived_products.length>0&&(e+="/(activedprod)/"+p.actived_products.join("/")),"object"==typeof p.pendingd_ugroups&&p.pendingd_ugroups.length>0&&(e+="/(pugroups)/"+p.pendingd_ugroups.join("/")),"object"==typeof p.operatord_ugroups&&p.operatord_ugroups.length>0&&(e+="/(oopugroups)/"+p.operatord_ugroups.join("/")),"object"==typeof p.subjectd_ugroups&&p.subjectd_ugroups.length>0&&(e+="/(sugroups)/"+p.subjectd_ugroups.join("/")),"object"==typeof p.actived_ugroups&&p.actived_ugroups.length>0&&(e+="/(augroups)/"+p.actived_ugroups.join("/")),"object"==typeof p.pendingmd_ugroups&&p.pendingmd_ugroups.length>0&&(e+="/(pmug)/"+p.pendingmd_ugroups.join("/")),"object"==typeof p.activemd_ugroups&&p.activemd_ugroups.length>0&&(e+="/(amug)/"+p.activemd_ugroups.join("/")),"object"==typeof p.alarmmd_ugroups&&p.alarmmd_ugroups.length>0&&(e+="/(almug)/"+p.alarmmd_ugroups.join("/")),"object"==typeof p.mcd_products&&p.mcd_products.length>0&&(e+="/(mcdprod)/"+p.mcd_products.join("/")),"object"==typeof p.unreadd_products&&p.unreadd_products.length>0&&(e+="/(unreaddprod)/"+p.unreadd_products.join("/")),"object"==typeof p.pendingd_products&&p.pendingd_products.length>0&&(e+="/(pendingdprod)/"+p.pendingd_products.join("/")),"object"==typeof p.subjectd_products&&p.subjectd_products.length>0&&(e+="/(subjectdprod)/"+p.subjectd_products.join("/")),"object"==typeof p.botd_products&&p.botd_products.length>0&&(e+="/(botdprod)/"+p.botd_products.join("/")),"object"==typeof p.closedd_products&&p.closedd_products.length>0&&(e+="/(closeddprod)/"+p.closedd_products.join("/")),void 0!==p.toggleWidgetData.track_open_chats&&1==p.toggleWidgetData.track_open_chats&&(e+="/(topen)/true"),void 0!==p.toggleWidgetData.active_chats_sort&&""!==p.toggleWidgetData.active_chats_sort&&(e+="/(acs)/"+p.toggleWidgetData.active_chats_sort),void 0!==p.toggleWidgetData.bot_chats_sort&&""!==p.toggleWidgetData.bot_chats_sort&&(e+="/(bcs)/"+p.toggleWidgetData.bot_chats_sort),void 0!==p.toggleWidgetData.closed_chats_sort&&""!==p.toggleWidgetData.closed_chats_sort&&(e+="/(clcs)/"+p.toggleWidgetData.closed_chats_sort),void 0!==p.toggleWidgetData.onop_sort&&""!==p.toggleWidgetData.onop_sort&&(e+="/(onop)/"+p.toggleWidgetData.onop_sort);var n=[];return!0===p.departmentd_hide_dep&&n.push("dhdep"),!0===p.departmentd_hide_dgroup&&n.push("dhdepg"),n.length>0&&(e+="/(hsub)/"+n.join("/")),g.lastd_activity>0&&(e+="/(lda)/"+g.lastd_activity),g.lastd_activity=0,ee.emitEvent("eventGetSyncFilterSvelte",[p]),e+p.custom_extension_filter}(),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},signal:g.abortController.signal});if(!_.ok)throw new Error("Network response was not OK ["+_.status+"] ["+_.statusText+"]");const u=await _.json();if(g.lhcListRequestInProgress=!1,u.logout||u.error_url)return void document.location.reload();if(1==g.blockSync)return o(s,p.lhcBLockSync=!0,p),clearTimeout(g.timeoutControl),void(g.timeoutControl=setTimeout((function(){g.isListLoaded=!1,L()}),confLH.back_office_sinterval));if(1==p.lhcConnectivityProblem&&o(s,p.lhcConnectivityProblem=!1,p),ee.emitEvent("eventLoadChatListSvelte",[u,p,g]),void 0===u.items_processed){var t=[],e=[],n=[],i=[],a=jQuery("#tabs");for(const[d,r]of Object.entries(u.result))if(-1===p.suspend_widgets.indexOf(d)&&(o(s,p[d]=r,p),0!=a.length||"pending_chat"!=d&&"my_chats"!=d||r.list.forEach((function(t){void 0!==t.user_id&&t.user_id==confLH.user_id&&1==confLH.accept_chats&&(1!==t.status||1===t.status&&!0===t.hum)&&ee.emitEvent("chatTabPreload",[t.id,{focus:!1}])})),a.length>0&&("pending_chat"==d||"my_chats"==d?r.list.forEach((function(t){void 0!==t.user_id&&t.user_id==confLH.user_id&&1==confLH.accept_chats&&(1!==t.status||1===t.status&&!0===t.hum)&&0==jQuery("#chat-tab-link-"+t.id).length&&(a.length>0&&0==lhinst.disableremember&&(lhinst.addOpenTrace("auto_accept"),lhinst.removeSynchroChat(t.id),lhinst.startChatBackground(t.id,a,tt(t.nick||"Visitor",10)),g.channel.postMessage({action:"startbackground_chat",args:{nick:tt(t.nick||"Visitor",10),chat_id:parseInt(t.id)}}),ee.emitEvent("eventLoadChatListSvelteAutoOpen",[t,g])),0==lhinst.disableremember&&i.push(t.id))})):"transfer_chats"==d?r.list.forEach((function(t){void 0!==t.user_id&&t.user_id==confLH.user_id&&(1==confLH.accept_chats||jQuery("#chat-tab-link-"+t.id).length>0)&&(a.length>0&&0==lhinst.disableremember&&(lhinst.addOpenTrace("auto_accept_transfer"),lhinst.startChatTransfer(t.id,a,tt(t.nick||"Visitor",10),t.transfer_id,0==jQuery("#chat-tab-link-"+t.id).length),g.channel.postMessage({action:"startbackground_chat",args:{nick:tt(t.nick||"Visitor",10),chat_id:parseInt(t.id)}})),0==lhinst.disableremember&&i.push(t.id))})):"group_chats"==d?a.length>0&&1==confLH.auto_join_private&&r.list.forEach((function(t){1==t.type&&0==t.jtime&&0==jQuery("#chat-tab-link-gc"+t.id).length&&lhinst.startGroupChat(t.id,a,tt(t.name,10),!0)})):"support_chats"==d?a.length>0&&1==confLH.auto_join_private&&r.list.forEach((function(t){null===document.getElementById("chat-tab-li-"+t.chat_id)?(lhinst.addOpenTrace("support_chat"),A(t.chat_id,!0)):jQuery("#private-chat-tab-link-"+t.chat_id).attr("private-loaded")?jQuery("#chat-tab-link-"+t.chat_id).hasClass("active")?jQuery("#private-chat-tab-link-"+t.chat_id).hasClass("active")||jQuery("#private-chat-tab-link-"+t.chat_id+" > .whatshot").removeClass("d-none"):jQuery("#chat-tab-link-"+t.chat_id+" > .whatshot").removeClass("d-none"):(jQuery("#private-chat-tab-link-"+t.chat_id).attr("private-loaded",!0),ee.emitEvent("privateChatStart",[t.chat_id,{unread:!0}]))})):"pending_mails"!=d&&"my_mails"!=d||a.length>0&&r.list.forEach((function(t){void 0!==t.user_id&&t.user_id==confLH.user_id&&1==confLH.accept_mails&&1!==t.status&&null===document.getElementById("chat-tab-li-mc"+t.id)&&lhinst.startMailChat(t.id,a,tt(t.subject_front,10),!0)}))),r.last_id_identifier)){e=[],t=[];var c=0,l=r.list;"pending_chat"==r.last_id_identifier&&void 0!==p.toggleWidgetData.pending_chats_sort&&"id_asc"==p.toggleWidgetData.pending_chats_sort&&(l=r.list.slice().reverse()),l.forEach((function(n){var i=void 0!==n.user_id?n.user_id:0,a=n.id+"_"+i;if(("bot_chats"!=r.last_id_identifier||n.msg_v&&n.msg_v>p.bot_st.msg_nm&&1==p.bot_st.bot_notifications||n.aalert)&&"transfer_chat_dep"!=r.last_id_identifier){var l=[];if("active_chats"==r.last_id_identifier&&n.aicons&&(a+="_"+(l=Object.keys(n.aicons)).join("_")),t.push(a),void 0===p.statusNotifications[r.last_id_identifier]&&o(s,p.statusNotifications[r.last_id_identifier]=[],p),1==g.isListLoaded&&"subject_chats"==r.last_id_identifier)-1==p.statusNotifications[r.last_id_identifier].indexOf(a)&&-1===lhinst.chatsSynchronising.indexOf(parseInt(n.id))&&e.push(n.id);else if(1==g.isListLoaded&&"active_chats"==r.last_id_identifier){if(-1==p.statusNotifications[r.last_id_identifier].indexOf(a)&&l.length>0&&p.notifIcons.length>0){var d=p.notifIcons.filter((function(t){return-1===p.excludeIcons.indexOf(t)&&-1!==l.indexOf(t)}));d.length>0&&e.push(n.id+"__"+d.join("__"))}}else 1!=g.isListLoaded||0!=c&&2!==n.status_sub_sub||(-1!=p.statusNotifications[r.last_id_identifier].indexOf(a)||0!=i&&"amails"!=r.last_id_identifier||0!=confLH.ownntfonly)&&(-1!=p.statusNotifications[r.last_id_identifier].indexOf(a)||i!=confLH.user_id)?c++:-1===lhinst.chatsSynchronising.indexOf(parseInt(n.id))&&e.push(n.id)}})),e.length>0&&(e.unshift(r.last_id_identifier),n.push(e.join("/"))),!0===g.isListLoaded&&et(p.statusNotifications[r.last_id_identifier],t,r.last_id_identifier),o(s,p.statusNotifications[r.last_id_identifier]=t,p)}i.length>0&&(i.unshift("active_chat"),F.getNotificationsData(i.join("/")).then((function(t){t.forEach((function(t){lhinst.removeBackgroundChat(parseInt(t.last_id)),lhinst.playSoundNewAction(t.last_id_identifier,parseInt(t.last_id),t.nick?t.nick:"Live Help",t.msg?t.msg:confLH.transLation.new_chat,t.nt),lhinst.backgroundChats.push(parseInt(t.last_id))}))}))),n.length>0&&F.getNotificationsData(n.join("/")).then((function(t){t.forEach((function(t){lhinst.playSoundNewAction(t.last_id_identifier,parseInt(t.last_id),t.nick?t.nick:"Live Help",t.msg?t.msg:confLH.transLation.new_chat,t.nt)}))}))}if(void 0!==u.ou&&1==u.ou){jQuery("#lhc_op_operation").remove();var d=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("id","lhc_op_operation"),r.setAttribute("type","text/javascript"),r.setAttribute("src",WWW_DIR_JAVASCRIPT+"chat/loadoperatorjs"),d.appendChild(r)}if(void 0!==u.fs&&u.fs.length>0&&u.fs.forEach((function(t){lhinst.playSoundNewAction("pending_transfered",parseInt(t.id),t.nick?t.nick:"Live Help",confLH.transLation.transfered,t.nt,t.uid)})),void 0!==u.mac&&u.mac.length>0)(a=jQuery("#tabs")).length>0&&0==lhinst.disableremember&&u.mac.forEach((function(t){lhinst.startChatBackground(t.id,a,tt(t.nick||"Visitor",10),!1),C({type:"mac",chat_id:t.id,nick:t.nick})}));s.update((t=>(t.lhcUpdatedAt=u.uat,t.lhcVersion=u.v,t.hideOnline=1===u.ho,t.hideInvisible=1===u.im,t.alwaysOnline=1===u.a_on,t.inActive=1===u.ina,t.lhcListRequestInProgress=!1,t.lhcBLockSync=!1,u.aus.update_required?0===u.aus.updated?(t.lhcConnectivityProblem=!0,t.lhcConnectivityProblemExplain="Last activity update failed!"):(t.lhcConnectivityProblem=!1,t.lhcUpdatedAtActivity=u.aus.updated):t.lhcUpdatedAtActivity=u.aus.updated,t))),!0===g.setTimeoutEnabled&&(g.timeoutControl=setTimeout((function(){L()}),confLH.back_office_sinterval)),g.isListLoaded=!0}catch(t){t instanceof DOMException?(o(s,p.lhcConnectivityProblem=!0,p),o(s,p.lhcConnectivityProblemExplain="DOM Exception",p)):(o(s,p.lhcConnectivityProblem=!0,p),o(s,p.lhcConnectivityProblemExplain=t,p),console.error("There has been a problem with your fetch operation:",t)),g.lhcListRequestInProgress=!1,g.timeoutControl=setTimeout((function(){L()}),confLH.back_office_sinterval)}}}function A(t,e){isNaN(t)||jQuery("#tabs").length>0&&F.getChatData(t).then((function(n){n.r?document.location=WWW_DIR_JAVASCRIPT+n.r:(lhinst.addOpenTrace("start_chat_by_id"),e?lhinst.startChatBackground(parseInt(t),jQuery("#tabs"),tt(n.nick||"Visitor",10),"backgroundid"):function(t,e){if(jQuery("#tabs").length>0)return lhinst.addOpenTrace("click"),lhinst.startChat(t,jQuery("#tabs"),tt(e||"Visitor",10));lhinst.startChatNewWindow(t,e)}(parseInt(t),tt(n.nick||"Visitor",10)))}))}return t.$$.update=()=>{64&t.$$.dirty[0]&&n(5,i=p.userFilterText),64&t.$$.dirty[0]&&n(4,l=p.depFilterText),64&t.$$.dirty[0]&&n(3,d=p.lmtoggle),64&t.$$.dirty[0]&&n(2,r=p.rmtoggle),64&t.$$.dirty[0]&&n(1,_=p.toggleWidgetData.track_open_chats),64&t.$$.dirty[0]&&n(0,u=p.toggleWidgetData.group_offline_chats),32&t.$$.dirty[0]&&F.searchProvider("users",p.userFilterText).then((function(t){o(s,p.userList=t.items,p)})).catch((function(){o(s,p.userList=[],p)})),16&t.$$.dirty[0]&&F.searchProvider("depswidget",p.depFilterText).then((function(t){o(s,p.userDepartments=t.items,p),o(s,p.userDepartmentsNames=t.items_names,p)})).catch((function(){o(s,p.userDepartments=[],p),o(s,p.userDepartmentsNames=[],p)})),8&t.$$.dirty[0]&&m(),4&t.$$.dirty[0]&&m(),2&t.$$.dirty[0]&&h("track_open_chats"),1&t.$$.dirty[0]&&h("group_offline_chats")},[u,_,r,d,l,i,p]}class it extends e{constructor(t){super(),n(this,t,nt,null,i,{},null,[-1,-1])}}function at(t){let e,n,i,a,s=t[1].lhcNotice.message&&!t[1].inActive&&!t[1].lhcPendingRefresh&&!t[1].lhcConnectivityProblem&&st(t),o=t[1].lhcPendingRefresh&&ot(t),c=t[1].lhcConnectivityProblem&&ct(t),l=t[1].inActive&&lt();return{c(){e=h("div"),s&&s.c(),n=u(),o&&o.c(),i=u(),c&&c.c(),a=u(),l&&l.c(),g(e,"ng-non-bindable",""),g(e,"class","version-updated float-start")},m(t,d){_(t,e,d),s&&s.m(e,null),m(e,n),o&&o.m(e,null),m(e,i),c&&c.m(e,null),m(e,a),l&&l.m(e,null)},p(t,d){!t[1].lhcNotice.message||t[1].inActive||t[1].lhcPendingRefresh||t[1].lhcConnectivityProblem?s&&(s.d(1),s=null):s?s.p(t,d):(s=st(t),s.c(),s.m(e,n)),t[1].lhcPendingRefresh?o?o.p(t,d):(o=ot(t),o.c(),o.m(e,i)):o&&(o.d(1),o=null),t[1].lhcConnectivityProblem?c?c.p(t,d):(c=ct(t),c.c(),c.m(e,a)):c&&(c.d(1),c=null),t[1].inActive?l||(l=lt(),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d(t){t&&r(e),s&&s.d(),o&&o.d(),c&&c.d(),l&&l.d()}}}function st(t){let e,n,i,a,s,o,c=t[1].lhcNotice.message+"";return{c(){e=h("div"),n=h("i"),i=w("brand_awareness"),s=w(c),g(n,"class",a="material-icons text-"+t[1].lhcNotice.level),g(e,"class",o="text-"+t[1].lhcNotice.level)},m(t,a){_(t,e,a),m(e,n),m(n,i),m(e,s)},p(t,i){2&i&&a!==(a="material-icons text-"+t[1].lhcNotice.level)&&g(n,"class",a),2&i&&c!==(c=t[1].lhcNotice.message+"")&&f(s,c),2&i&&o!==(o="text-"+t[1].lhcNotice.level)&&g(e,"class",o)},d(t){t&&r(e)}}}function ot(t){let e,n,i,a,s;return{c(){e=h("div"),n=h("i"),n.textContent="update",i=w("This window will be automatically refreshed in "),a=w(t[2]),s=w(" seconds due to a version update."),g(n,"class","material-icons")},m(t,o){_(t,e,o),m(e,n),m(e,i),m(e,a),m(e,s)},p(t,e){4&e&&f(a,t[2])},d(t){t&&r(e)}}}function ct(t){let e,n,i,a,s=t[1].lhcConnectivityProblemExplain+"";return{c(){e=h("div"),n=w("You have weak internet connection or the server has problems. Try to refresh the  page. Error code - "),i=h("b"),a=w(s)},m(t,s){_(t,e,s),m(e,n),m(e,i),m(i,a)},p(t,e){2&e&&s!==(s=t[1].lhcConnectivityProblemExplain+"")&&f(a,s)},d(t){t&&r(e)}}}function lt(t){let e;return{c(){e=h("div"),e.textContent="You went offline because of inactivity. Please close other chat windows if you have any"},m(t,n){_(t,e,n)},d(t){t&&r(e)}}}function dt(t){let e,n,i,a,s,o,c,l,d=t[1].last_actions_index<t[1].last_actions.length-1&&rt(t),p=t[1].last_actions_index>0&&_t(t),f=t[1].last_actions_index>0&&ut(),w="user_wrote"==t[1].last_actions[t[1].last_actions_index].type&&pt(t),b="user_wrote"!=t[1].last_actions[t[1].last_actions_index].type&&"info_history"!=t[1].last_actions[t[1].last_actions_index].type&&"mac"!=t[1].last_actions[t[1].last_actions_index].type&&"mac_history"!=t[1].last_actions[t[1].last_actions_index].type&&mt(t),v="mac"==t[1].last_actions[t[1].last_actions_index].type&&ht(t),y="mac_history"==t[1].last_actions[t[1].last_actions_index].type&&gt(t),x="info_history"==t[1].last_actions[t[1].last_actions_index].type&&ft(t);return{c(){e=h("div"),d&&d.c(),n=u(),p&&p.c(),i=u(),f&&f.c(),a=u(),w&&w.c(),s=u(),b&&b.c(),o=u(),v&&v.c(),c=u(),y&&y.c(),l=u(),x&&x.c(),g(e,"ng-non-bindable",""),g(e,"class","text-muted float-start fs12 abbr-list d-none d-sm-block")},m(t,r){_(t,e,r),d&&d.m(e,null),m(e,n),p&&p.m(e,null),m(e,i),f&&f.m(e,null),m(e,a),w&&w.m(e,null),m(e,s),b&&b.m(e,null),m(e,o),v&&v.m(e,null),m(e,c),y&&y.m(e,null),m(e,l),x&&x.m(e,null)},p(t,r){t[1].last_actions_index<t[1].last_actions.length-1?d?d.p(t,r):(d=rt(t),d.c(),d.m(e,n)):d&&(d.d(1),d=null),t[1].last_actions_index>0?p?p.p(t,r):(p=_t(t),p.c(),p.m(e,i)):p&&(p.d(1),p=null),t[1].last_actions_index>0?f||(f=ut(),f.c(),f.m(e,a)):f&&(f.d(1),f=null),"user_wrote"==t[1].last_actions[t[1].last_actions_index].type?w?w.p(t,r):(w=pt(t),w.c(),w.m(e,s)):w&&(w.d(1),w=null),"user_wrote"!=t[1].last_actions[t[1].last_actions_index].type&&"info_history"!=t[1].last_actions[t[1].last_actions_index].type&&"mac"!=t[1].last_actions[t[1].last_actions_index].type&&"mac_history"!=t[1].last_actions[t[1].last_actions_index].type?b?b.p(t,r):(b=mt(t),b.c(),b.m(e,o)):b&&(b.d(1),b=null),"mac"==t[1].last_actions[t[1].last_actions_index].type?v?v.p(t,r):(v=ht(t),v.c(),v.m(e,c)):v&&(v.d(1),v=null),"mac_history"==t[1].last_actions[t[1].last_actions_index].type?y?y.p(t,r):(y=gt(t),y.c(),y.m(e,l)):y&&(y.d(1),y=null),"info_history"==t[1].last_actions[t[1].last_actions_index].type?x?x.p(t,r):(x=ft(t),x.c(),x.m(e,null)):x&&(x.d(1),x=null)},d(t){t&&r(e),d&&d.d(),p&&p.d(),f&&f.d(),w&&w.d(),b&&b.d(),v&&v.d(),y&&y.d(),x&&x.d()}}}function rt(t){let e,n,i;return{c(){e=h("span"),e.textContent="expand_more",g(e,"class","material-icons action-image")},m(a,s){_(a,e,s),n||(i=b(e,"click",t[4]),n=!0)},p:d,d(t){t&&r(e),n=!1,i()}}}function _t(t){let e,n,i;return{c(){e=h("span"),e.textContent="expand_less",g(e,"class","material-icons action-image")},m(a,s){_(a,e,s),n||(i=b(e,"click",t[5]),n=!0)},p:d,d(t){t&&r(e),n=!1,i()}}}function ut(t){let e;return{c(){e=h("span"),e.textContent="hourglass_full",g(e,"class","material-icons")},m(t,n){_(t,e,n)},d(t){t&&r(e)}}}function pt(t){let e,n,i,a,s,o,c,l,d=t[1].last_actions[t[1].last_actions_index].nick+"",u=t[1].last_actions[t[1].last_actions_index].msg+"",p=t[1].last_actions[t[1].last_actions_index].chat_id+"";return{c(){e=h("span"),n=h("b"),i=w(d),a=w(" - "),s=h("i"),o=w(u),c=w(" in chat - "),l=w(p)},m(t,d){_(t,e,d),m(e,n),m(n,i),m(e,a),m(e,s),m(s,o),m(e,c),m(e,l)},p(t,e){2&e&&d!==(d=t[1].last_actions[t[1].last_actions_index].nick+"")&&f(i,d),2&e&&u!==(u=t[1].last_actions[t[1].last_actions_index].msg+"")&&f(o,u),2&e&&p!==(p=t[1].last_actions[t[1].last_actions_index].chat_id+"")&&f(l,p)},d(t){t&&r(e)}}}function mt(t){let e,n,i,a,s,o,c,l,d=t[1].last_actions[t[1].last_actions_index].nick+"",u=t[1].last_actions[t[1].last_actions_index].msg+"",p=t[1].last_actions[t[1].last_actions_index].chat_id+"";return{c(){e=h("span"),n=h("b"),i=w(d),a=w(" - "),s=h("i"),o=w(u),c=w(" - "),l=w(p)},m(t,d){_(t,e,d),m(e,n),m(n,i),m(e,a),m(e,s),m(s,o),m(e,c),m(e,l)},p(t,e){2&e&&d!==(d=t[1].last_actions[t[1].last_actions_index].nick+"")&&f(i,d),2&e&&u!==(u=t[1].last_actions[t[1].last_actions_index].msg+"")&&f(o,u),2&e&&p!==(p=t[1].last_actions[t[1].last_actions_index].chat_id+"")&&f(l,p)},d(t){t&&r(e)}}}function ht(t){let e,n,i,a,s,o=t[1].last_actions[t[1].last_actions_index].nick+"",c=t[1].last_actions[t[1].last_actions_index].chat_id+"";return{c(){e=h("span"),n=h("b"),i=w(o),a=w(" - active chat was opened - "),s=w(c)},m(t,o){_(t,e,o),m(e,n),m(n,i),m(e,a),m(e,s)},p(t,e){2&e&&o!==(o=t[1].last_actions[t[1].last_actions_index].nick+"")&&f(i,o),2&e&&c!==(c=t[1].last_actions[t[1].last_actions_index].chat_id+"")&&f(s,c)},d(t){t&&r(e)}}}function gt(t){let e,n,i,a,s,o=t[1].last_actions[t[1].last_actions_index].nick+"",c=t[1].last_actions[t[1].last_actions_index].chat_id+"";return{c(){e=h("span"),n=h("b"),i=w(o),a=w(" - previously loaded chat was opened - "),s=w(c)},m(t,o){_(t,e,o),m(e,n),m(n,i),m(e,a),m(e,s)},p(t,e){2&e&&o!==(o=t[1].last_actions[t[1].last_actions_index].nick+"")&&f(i,o),2&e&&c!==(c=t[1].last_actions[t[1].last_actions_index].chat_id+"")&&f(s,c)},d(t){t&&r(e)}}}function ft(t){let e,n,i=t[1].last_actions[t[1].last_actions_index].msg+"";return{c(){e=h("span"),n=w(i)},m(t,i){_(t,e,i),m(e,n)},p(t,e){2&e&&i!==(i=t[1].last_actions[t[1].last_actions_index].msg+"")&&f(n,i)},d(t){t&&r(e)}}}function wt(t){let e,n,i=(t[1].lhcPendingRefresh||t[1].lhcConnectivityProblem||t[1].inActive||t[1].lhcNotice.message)&&at(t),a=0==t[0]&&!(t[1].lhcPendingRefresh||1==t[1].lhcConnectivityProblem||1==t[1].inActive||t[1].lhcNotice.message)&&t[1].last_actions.length>0&&dt(t);return{c(){i&&i.c(),e=u(),a&&a.c(),n=p()},m(t,s){i&&i.m(t,s),_(t,e,s),a&&a.m(t,s),_(t,n,s)},p(t,[s]){t[1].lhcPendingRefresh||t[1].lhcConnectivityProblem||t[1].inActive||t[1].lhcNotice.message?i?i.p(t,s):(i=at(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),0==t[0]&&!t[1].lhcPendingRefresh&&1!=t[1].lhcConnectivityProblem&&1!=t[1].inActive&&!t[1].lhcNotice.message&&t[1].last_actions.length>0?a?a.p(t,s):(a=dt(t),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},i:d,o:d,d(t){t&&(r(e),r(n)),i&&i.d(t),a&&a.d(t)}}}function bt(t,e,n){let i,c;a(t,s,(t=>n(1,c=t)));let{hide_quick_notification:l=0}=e,d=8,r=0;return t.$$set=t=>{"hide_quick_notification"in t&&n(0,l=t.hide_quick_notification)},t.$$.update=()=>{2&t.$$.dirty&&n(3,i=c.lhcVersion),2&t.$$.dirty&&c.lhcNotice,8&t.$$.dirty&&(0==r&&(r=i),r>0&&i>0&&r!=i&&(o(s,c.lhcPendingRefresh=!0,c),setInterval((()=>{n(2,d-=1),0==d&&document.location.reload(!0)}),1e3)))},[l,c,d,i,t=>o(s,c.last_actions_index++,c),t=>o(s,c.last_actions_index--,c)]}customElements.define("lhc-app",t(it,{},[],[],!1));class vt extends e{constructor(t){super(),n(this,t,bt,wt,i,{hide_quick_notification:0})}get hide_quick_notification(){return this.$$.ctx[0]}set hide_quick_notification(t){this.$$set({hide_quick_notification:t}),l()}}function yt(t){let e,n,i;return{c(){e=h("li"),n=h("a"),i=h("i"),i.textContent="volume_off",g(i,"class","material-icons text-danger"),g(n,"class","nav-link"),g(n,"title",t[1]),g(e,"class","list-inline-item nav-item")},m(t,a){_(t,e,a),m(e,n),m(n,i)},p(t,e){2&e&&g(n,"title",t[1])},d(t){t&&r(e)}}}function xt(t){let e,n=!t[0]&&yt(t);return{c(){n&&n.c(),e=p()},m(t,i){n&&n.m(t,i),_(t,e,i)},p(t,[i]){t[0]?n&&(n.d(1),n=null):n?n.p(t,i):(n=yt(t),n.c(),n.m(e.parentNode,e))},i:d,o:d,d(t){t&&r(e),n&&n.d(t)}}}function $t(t,e,n){let i;a(t,v,(t=>n(4,i=t)));let s=!1,o=i("homepage.interact_sound"),l=null,d=!1;const r=async()=>{if(l)n(0,s="running"===l.state),_();else try{l=new(window.AudioContext||window.webkitAudioContext),n(0,s="running"===l.state),_()}catch(t){n(1,o=i("homepage.browser_no_sound")),console.error("Audio Context Error:",t)}},_=()=>{n(1,o=s?"Sound is enabled":i(d?"homepage.sound_disabled":"homepage.interact_sound"))},u=()=>{const t=["click","keydown","touchstart"],e=async()=>{d=!0,await(async()=>{if(l)try{"suspended"===l.state&&(await l.resume(),n(0,s="running"===l.state)),_()}catch(t){n(1,o="Failed to enable audio"),console.error("Enable Sound Error:",t)}})(),await r(),s&&t.forEach((t=>{document.removeEventListener(t,e)}))};t.forEach((t=>{document.addEventListener(t,e,{once:!0})}))};return c((()=>(r(),u(),()=>{l&&l.close()}))),[s,o]}customElements.define("lhc-status",t(vt,{hide_quick_notification:{}},[],[],!1));class Ct extends e{constructor(t){super(),n(this,t,$t,xt,i,{})}}function jt(t){let e,n,i,a,s,o;function c(t,e){return"granted"===t[0]?Dt:"denied"===t[0]?Wt:kt}let l=c(t),d=l(t);return{c(){e=h("li"),n=h("a"),i=h("span"),d.c(),g(i,"class","material-icons"),g(n,"class",a="nav-link status-indicator "+("granted"===t[0]?"text-success":"denied"===t[0]?"text-danger":"text-warning")),g(n,"role","button"),g(n,"title",t[1]),g(n,"tabindex","0"),g(n,"aria-label","Toggle notifications"),g(e,"class","list-inline-item nav-item")},m(a,c){_(a,e,c),m(e,n),m(n,i),d.m(i,null),s||(o=b(n,"click",t[2]),s=!0)},p(t,e){l!==(l=c(t))&&(d.d(1),d=l(t),d&&(d.c(),d.m(i,null))),1&e&&a!==(a="nav-link status-indicator "+("granted"===t[0]?"text-success":"denied"===t[0]?"text-danger":"text-warning"))&&g(n,"class",a),2&e&&g(n,"title",t[1])},d(t){t&&r(e),d.d(),s=!1,o()}}}function kt(t){let e;return{c(){e=w("notifications")},m(t,n){_(t,e,n)},d(t){t&&r(e)}}}function Wt(t){let e;return{c(){e=w("notifications_off")},m(t,n){_(t,e,n)},d(t){t&&r(e)}}}function Dt(t){let e;return{c(){e=w("notifications")},m(t,n){_(t,e,n)},d(t){t&&r(e)}}}function Lt(t){let e,n="granted"!==t[0]&&jt(t);return{c(){n&&n.c(),e=p()},m(t,i){n&&n.m(t,i),_(t,e,i)},p(t,[i]){"granted"!==t[0]?n?n.p(t,i):(n=jt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:d,o:d,d(t){t&&r(e),n&&n.d(t)}}}function At(t,e,n){let i;a(t,v,(t=>n(4,i=t)));let s=!1,o="default",l=i("homepage.enable_notifications");const d=()=>"Notification"in window;return c((()=>{(()=>{if(!d())return n(0,o="denied"),void n(1,l=i("homepage.notifications_not_supported"));n(0,o=Notification.permission),"granted"===o?(s=!0,n(1,l="Notifications enabled")):"denied"===o?(s=!1,n(1,l=i("homepage.notifications_blocked"))):(s=!1,n(1,l=i("homepage.enable_notifications")))})()})),[o,l,()=>{(async()=>{if(d()){if("granted"!==o&&"denied"!==o)try{const t=await Notification.requestPermission();if(n(0,o=t),"granted"===t){s=!0,n(1,l="Notifications enabled");const t=new Notification("Notifications Enabled",{body:i("homepage.notifications_like"),icon:WWW_DIR_JAVASCRIPT_FILES_NOTIFICATION+"/notification.png"});setTimeout((()=>t.close()),3e3)}else"denied"===t&&(s=!1,n(1,l=i("homepage.notifications_blocked")))}catch(t){console.error("Error requesting notification permission:",t),n(1,l="Error enabling notifications")}}else n(1,l=i("homepage.notifications_not_supported"))})()}]}customElements.define("audio-checker",t(Ct,{},[],[],!1));class St extends e{constructor(t){super(),n(this,t,At,Lt,i,{})}}async function It(t){t.e&&(t.e.stopPropagation(),t.e.preventDefault());const e=await fetch(WWW_DIR_JAVASCRIPT+t.url,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}}).catch((t=>{alert("We could not change your settings! "+t)})),n=await e.json();!1===n.error?t.store.update((e=>(e[t.attr]=!e[t.attr],e))):void 0!==n.message?alert(n.message):void 0!==n.msg?alert(n.msg):alert(n)}function Et(t){let e;function n(t,e){return 1==t[3].hideOnline?Tt:Nt}let i=n(t),a=i(t);return{c(){a.c(),e=p()},m(t,n){a.m(t,n),_(t,e,n)},p(t,s){i===(i=n(t))&&a?a.p(t,s):(a.d(1),a=i(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){t&&r(e),a.d(t)}}}function Nt(t){let e,n=t[4]("homepage.status_online")+"";return{c(){e=w(n)},m(t,n){_(t,e,n)},p(t,i){16&i&&n!==(n=t[4]("homepage.status_online")+"")&&f(e,n)},d(t){t&&r(e)}}}function Tt(t){let e,n=t[4]("homepage.status_offline")+"";return{c(){e=w(n)},m(t,n){_(t,e,n)},p(t,i){16&i&&n!==(n=t[4]("homepage.status_offline")+"")&&f(e,n)},d(t){t&&r(e)}}}function Rt(t){let e,n,i,a,s,o,c,l=1==t[3].hideOnline?"flash_off":"flash_on",u=t[1]&&Et(t);return{c(){e=h("a"),n=h("i"),i=w(l),u&&u.c(),g(n,"id","online-offline-user"),g(n,"class",a="material-icons "+(!0===t[3].hideOnline?"text-danger":"text-success")),g(n,"title",s=t[4]("homepage.change_online_status")),g(e,"href","#"),g(e,"class",t[2])},m(a,s){_(a,e,s),m(e,n),m(n,i),u&&u.m(e,null),o||(c=[b(window,"keydown",(function(){x(t[0]&&t[5])&&(t[0]&&t[5]).apply(this,arguments)})),b(e,"click",t[6])],o=!0)},p(o,[c]){t=o,8&c&&l!==(l=1==t[3].hideOnline?"flash_off":"flash_on")&&f(i,l),8&c&&a!==(a="material-icons "+(!0===t[3].hideOnline?"text-danger":"text-success"))&&g(n,"class",a),16&c&&s!==(s=t[4]("homepage.change_online_status"))&&g(n,"title",s),t[1]?u?u.p(t,c):(u=Et(t),u.c(),u.m(e,null)):u&&(u.d(1),u=null),4&c&&g(e,"class",t[2])},i:d,o:d,d(t){t&&r(e),u&&u.d(),o=!1,y(c)}}}function Pt(t,e,n){let i,o;a(t,s,(t=>n(3,i=t))),a(t,v,(t=>n(4,o=t)));let{enable_shortcut:c=!1}=e,{show_text:l=!1}=e,{css_class:d="nav-link"}=e;return t.$$set=t=>{"enable_shortcut"in t&&n(0,c=t.enable_shortcut),"show_text"in t&&n(1,l=t.show_text),"css_class"in t&&n(2,d=t.css_class)},[c,l,d,i,o,t=>{!0===t.ctrlKey&&123===t.keyCode&&(!0===lhinst.disableSync&&lhinst.channel?(ee.emitEvent("svelteWentActive"),lhinst.channel.postMessage({action:"went_active",args:{}})):It({store:s,e:t,attr:"hideOnline",url:"user/setoffline/"+(1==!i.hideOnline?"true":"false")}))},t=>It({store:s,e:t,attr:"hideOnline",url:"user/setoffline/"+(1==!i.hideOnline?"true":"false")})]}customElements.define("browser-notification",t(St,{},[],[],!1));class Ot extends e{constructor(t){super(),n(this,t,Pt,Rt,i,{enable_shortcut:0,show_text:1,css_class:2})}get enable_shortcut(){return this.$$.ctx[0]}set enable_shortcut(t){this.$$set({enable_shortcut:t}),l()}get show_text(){return this.$$.ctx[1]}set show_text(t){this.$$set({show_text:t}),l()}get css_class(){return this.$$.ctx[2]}set css_class(t){this.$$set({css_class:t}),l()}}function Bt(t){let e,n=t[1]("homepage.always_online_activity")+"";return{c(){e=w(n)},m(t,n){_(t,e,n)},p(t,i){2&i&&n!==(n=t[1]("homepage.always_online_activity")+"")&&f(e,n)},d(t){t&&r(e)}}}function Mt(t){let e,n=t[1]("homepage.always_online_mode")+"";return{c(){e=w(n)},m(t,n){_(t,e,n)},p(t,i){2&i&&n!==(n=t[1]("homepage.always_online_mode")+"")&&f(e,n)},d(t){t&&r(e)}}}function Ht(t){let e,n,i,a,s,o,c=1==t[0].hideOnline?"flash_off":1==t[0].alwaysOnline?"toggle_on":"toggle_off";function l(t,e){return 1==t[0].alwaysOnline?Mt:Bt}let u=l(t),p=u(t);return{c(){e=h("a"),n=h("i"),i=w(c),p.c(),g(n,"class","material-icons"),g(e,"href","#"),g(e,"class","dropdown-item ps-2"),g(e,"title",a=t[1]("homepage.always_online"))},m(a,c){_(a,e,c),m(e,n),m(n,i),p.m(e,null),s||(o=b(e,"click",t[2]),s=!0)},p(t,[n]){1&n&&c!==(c=1==t[0].hideOnline?"flash_off":1==t[0].alwaysOnline?"toggle_on":"toggle_off")&&f(i,c),u===(u=l(t))&&p?p.p(t,n):(p.d(1),p=u(t),p&&(p.c(),p.m(e,null))),2&n&&a!==(a=t[1]("homepage.always_online"))&&g(e,"title",a)},i:d,o:d,d(t){t&&r(e),p.d(),s=!1,o()}}}function Vt(t,e,n){let i,o;a(t,s,(t=>n(0,i=t))),a(t,v,(t=>n(1,o=t)));return[i,o,t=>It({store:s,e:t,attr:"alwaysOnline",url:"user/setalwaysonline/"+(1==!i.alwaysOnline?"true":"false")})]}customElements.define("change-online-status",t(Ot,{enable_shortcut:{type:"Boolean"},show_text:{type:"Boolean"},css_class:{}},[],[],!1));class Jt extends e{constructor(t){super(),n(this,t,Vt,Ht,i,{})}}function Gt(t){let e;function n(t,e){return 1==t[2].hideInvisible?Qt:qt}let i=n(t),a=i(t);return{c(){a.c(),e=p()},m(t,n){a.m(t,n),_(t,e,n)},p(t,s){i===(i=n(t))&&a?a.p(t,s):(a.d(1),a=i(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){t&&r(e),a.d(t)}}}function qt(t){let e,n=t[3]("homepage.visible")+"";return{c(){e=w(n)},m(t,n){_(t,e,n)},p(t,i){8&i&&n!==(n=t[3]("homepage.visible")+"")&&f(e,n)},d(t){t&&r(e)}}}function Qt(t){let e,n=t[3]("homepage.invisible")+"";return{c(){e=w(n)},m(t,n){_(t,e,n)},p(t,i){8&i&&n!==(n=t[3]("homepage.invisible")+"")&&f(e,n)},d(t){t&&r(e)}}}function Ut(t){let e,n,i,a,s,o,c=1==t[2].hideInvisible?"visibility_off":"visibility",l=!t[1]&&Gt(t);return{c(){e=h("a"),n=h("i"),i=w(c),l&&l.c(),g(n,"id","vi-in-user"),g(n,"class","material-icons"),g(n,"title",a=t[3]("homepage.change_visibility")),g(e,"href","#"),g(e,"class",t[0])},m(a,c){_(a,e,c),m(e,n),m(n,i),l&&l.m(e,null),s||(o=b(e,"click",t[4]),s=!0)},p(t,[s]){4&s&&c!==(c=1==t[2].hideInvisible?"visibility_off":"visibility")&&f(i,c),8&s&&a!==(a=t[3]("homepage.change_visibility"))&&g(n,"title",a),t[1]?l&&(l.d(1),l=null):l?l.p(t,s):(l=Gt(t),l.c(),l.m(e,null)),1&s&&g(e,"class",t[0])},i:d,o:d,d(t){t&&r(e),l&&l.d(),s=!1,o()}}}function Ft(t,e,n){let i,o;a(t,s,(t=>n(2,i=t))),a(t,v,(t=>n(3,o=t)));let{css_class:c="dropdown-item ps-2"}=e,{hide_text:l=!1}=e;return t.$$set=t=>{"css_class"in t&&n(0,c=t.css_class),"hide_text"in t&&n(1,l=t.hide_text)},[c,l,i,o,t=>It({store:s,e:t,attr:"hideInvisible",url:"user/setinvisible/"+(1==!i.hideInvisible?"true":"false")})]}customElements.define("change-always-online",t(Jt,{},[],[],!1));class Kt extends e{constructor(t){super(),n(this,t,Ft,Ut,i,{css_class:0,hide_text:1})}get css_class(){return this.$$.ctx[0]}set css_class(t){this.$$set({css_class:t}),l()}get hide_text(){return this.$$.ctx[1]}set hide_text(t){this.$$set({hide_text:t}),l()}}function Xt(t){let e,n,i,a,s,o,c,l,p,f;return{c(){e=h("div"),n=h("div"),i=h("input"),s=u(),o=h("button"),c=h("i"),c.textContent="chat",g(i,"type","text"),g(i,"class","form-control"),g(i,"placeholder",a=t[1]("front_default.chat_id_to_open")),g(i,"aria-describedby","inputGroupPrepend"),i.required=!0,g(c,"class","material-icons me-0"),g(o,"class","btn btn-secondary"),g(o,"title",l=t[1]("front_default.open_a_chat")),g(o,"type","button"),g(n,"class","input-group input-group-sm"),g(e,"class","dropdown-item")},m(a,l){_(a,e,l),m(e,n),m(n,i),$(i,t[0].chat_to_open),m(n,s),m(n,o),m(o,c),p||(f=[b(i,"input",t[2]),b(i,"keyup",t[3]),b(o,"click",t[4])],p=!0)},p(t,[e]){2&e&&a!==(a=t[1]("front_default.chat_id_to_open"))&&g(i,"placeholder",a),1&e&&i.value!==t[0].chat_to_open&&$(i,t[0].chat_to_open),2&e&&l!==(l=t[1]("front_default.open_a_chat"))&&g(o,"title",l)},i:d,o:d,d(t){t&&r(e),p=!1,y(f)}}}function Yt(t,e,n){let i,o;a(t,s,(t=>n(0,i=t))),a(t,v,(t=>n(1,o=t)));return[i,o,function(){i.chat_to_open=this.value,s.set(i)},t=>{13===t.keyCode&&ee.emitEvent("angularStartChatbyId",[i.chat_to_open])},t=>ee.emitEvent("angularStartChatbyId",[i.chat_to_open])]}customElements.define("change-visibility-mode",t(Kt,{css_class:{},hide_text:{type:"Boolean"}},[],[],!1));class zt extends e{constructor(t){super(),n(this,t,Yt,Xt,i,{})}}function Zt(t){let e,n,i,a=(!0===t[1].lhcCoreLoaded&&t[1][t[0]]&&t[1][t[0]].list?t[1][t[0]].list.length:0)+"";return{c(){e=w("("),n=w(a),i=w(")")},m(t,a){_(t,e,a),_(t,n,a),_(t,i,a)},p(t,[e]){3&e&&a!==(a=(!0===t[1].lhcCoreLoaded&&t[1][t[0]]&&t[1][t[0]].list?t[1][t[0]].list.length:0)+"")&&f(n,a)},i:d,o:d,d(t){t&&(r(e),r(n),r(i))}}}function te(t,e,n){let i;a(t,s,(t=>n(1,i=t)));let{type:o="pending_chats"}=e;return t.$$set=t=>{"type"in t&&n(0,o=t.type)},[o,i]}customElements.define("lhc-open-chat",t(zt,{},[],[],!1));class ne extends e{constructor(t){super(),n(this,t,te,Zt,i,{type:0})}get type(){return this.$$.ctx[0]}set type(t){this.$$set({type:t}),l()}}function ie(t){let e,n,i,a,s,o=Math.floor(Date.now()/1e3)-t[2].lhcUpdatedAtActivity+"";return{c(){e=h("span"),n=h("span"),n.textContent="progress_activity",i=w(o),a=w(" s."),g(n,"class","material-icons"),g(e,"title",s=t[3]("homepage.lau"))},m(t,s){_(t,e,s),m(e,n),m(e,i),m(e,a)},p(t,n){4&n&&o!==(o=Math.floor(Date.now()/1e3)-t[2].lhcUpdatedAtActivity+"")&&f(i,o),8&n&&s!==(s=t[3]("homepage.lau"))&&g(e,"title",s)},d(t){t&&r(e)}}}function ae(t){let e,n,i=null!==t[1]&&oe(t);function a(t,e){return t[2].lhcBLockSync?le:ce}let s=a(t),o=s(t);return{c(){i&&i.c(),e=u(),o.c(),n=p()},m(t,a){i&&i.m(t,a),_(t,e,a),o.m(t,a),_(t,n,a)},p(t,c){null!==t[1]?i?i.p(t,c):(i=oe(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),s===(s=a(t))&&o?o.p(t,c):(o.d(1),o=s(t),o&&(o.c(),o.m(n.parentNode,n)))},d(t){t&&(r(e),r(n)),i&&i.d(t),o.d(t)}}}function se(t){let e,n,i,a=t[3]("homepage.no_connection")+"";return{c(){e=h("span"),n=h("span"),n.textContent="wifi_off",i=w(a),g(n,"class","material-icons"),g(e,"class","text-danger")},m(t,a){_(t,e,a),m(e,n),m(e,i)},p(t,e){8&e&&a!==(a=t[3]("homepage.no_connection")+"")&&f(i,a)},d(t){t&&r(e)}}}function oe(t){let e,n,i,a,s=t[1]?"bigtop_updates":"signal_disconnected";return{c(){e=h("span"),n=w(s),g(e,"class",i="material-icons"+(t[1]?"":" text-warning")),g(e,"title",a=t[3]("homepage.node_js_status"))},m(t,i){_(t,e,i),m(e,n)},p(t,o){2&o&&s!==(s=t[1]?"bigtop_updates":"signal_disconnected")&&f(n,s),2&o&&i!==(i="material-icons"+(t[1]?"":" text-warning"))&&g(e,"class",i),8&o&&a!==(a=t[3]("homepage.node_js_status"))&&g(e,"title",a)},d(t){t&&r(e)}}}function ce(t){let e,n,i,a,s,o,c=t[2].lhcListRequestInProgress?"sync":t[2].lhcConnectivityProblem?"sync_problem":"history",l=t[2].lhcUpdatedAt+"";return{c(){e=h("span"),n=h("span"),i=w(c),a=w(l),g(n,"class","material-icons"),g(e,"class",s=t[2].lhcConnectivityProblem?" text-danger":" text-muted"),g(e,"title",o=t[3]("homepage.last_updated_at"))},m(t,s){_(t,e,s),m(e,n),m(n,i),m(e,a)},p(t,n){4&n&&c!==(c=t[2].lhcListRequestInProgress?"sync":t[2].lhcConnectivityProblem?"sync_problem":"history")&&f(i,c),4&n&&l!==(l=t[2].lhcUpdatedAt+"")&&f(a,l),4&n&&s!==(s=t[2].lhcConnectivityProblem?" text-danger":" text-muted")&&g(e,"class",s),8&n&&o!==(o=t[3]("homepage.last_updated_at"))&&g(e,"title",o)},d(t){t&&r(e)}}}function le(t){let e,n,i,a=t[3]("homepage.sync_blocked")+"";return{c(){e=h("span"),n=h("span"),n.textContent="sync_problem",i=w(a),g(n,"class","material-icons"),g(e,"class","text-danger")},m(t,a){_(t,e,a),m(e,n),m(e,i)},p(t,e){8&e&&a!==(a=t[3]("homepage.sync_blocked")+"")&&f(i,a)},d(t){t&&r(e)}}}function de(t){let e;function n(t,e){return t[2].lhcMessageConnection?_e:re}let i=n(t),a=i(t);return{c(){a.c(),e=p()},m(t,n){a.m(t,n),_(t,e,n)},p(t,s){i===(i=n(t))&&a?a.p(t,s):(a.d(1),a=i(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){t&&r(e),a.d(t)}}}function re(t){let e,n,i,a=t[3]("homepage.connection_explain")+"";return{c(){e=h("div"),n=h("span"),n.textContent="wifi_off",i=w(a),g(n,"class","material-icons"),g(e,"class","text-danger fs14")},m(t,a){_(t,e,a),m(e,n),m(e,i)},p(t,e){8&e&&a!==(a=t[3]("homepage.connection_explain")+"")&&f(i,a)},d(t){t&&r(e)}}}function _e(t){let e,n,i=t[2].lhcMessageConnection+"";return{c(){e=new C(!1),n=p(),e.a=n},m(t,a){e.m(i,t,a),_(t,n,a)},p(t,n){4&n&&i!==(i=t[2].lhcMessageConnection+"")&&e.p(i)},d(t){t&&(r(n),e.d())}}}function ue(t){let e,n,i,a=t[2].lhcUpdatedAtActivity>0&&ie(t);function s(t,e){return t[0]?ae:se}let o=s(t),c=o(t),l=(!t[0]||t[2].lhcConnectivityProblem)&&de(t);return{c(){e=h("div"),a&&a.c(),n=u(),c.c(),i=u(),l&&l.c(),g(e,"class","py-2 text-center fs12")},m(t,s){_(t,e,s),a&&a.m(e,null),m(e,n),c.m(e,null),m(e,i),l&&l.m(e,null)},p(t,[d]){t[2].lhcUpdatedAtActivity>0?a?a.p(t,d):(a=ie(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),o===(o=s(t))&&c?c.p(t,d):(c.d(1),c=o(t),c&&(c.c(),c.m(e,i))),!t[0]||t[2].lhcConnectivityProblem?l?l.p(t,d):(l=de(t),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:d,o:d,d(t){t&&r(e),a&&a.d(),c.d(),l&&l.d()}}}function pe(t,e,n){let i,o;a(t,s,(t=>n(2,i=t))),a(t,v,(t=>n(3,o=t)));let{type:l="pending_chats"}=e,d=navigator.onLine,r=!0===lh?.nodejsHelperOptions?.socketConnected||!lh.nodejsHelperOptions&&null,_=!1,u=!1;async function p(){try{if(!navigator.onLine||!0===u)return;u=!0;const t=await fetch(WWW_DIR_JAVASCRIPT+"chat/verifytoken",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}});if(!t.ok)throw new Error("Network response was not OK ["+t.status+"] ["+t.statusText+"]");(await t.json()).verified||document.location.reload(),ee.emitEvent("angularLoadChatList"),u=!1}catch(t){document.location.reload()}}function m(){n(0,d=navigator.onLine),d&&p()}return ee.addListener("socketConnected",(()=>{n(1,r=!0),!1!==_?p():_=!0})),ee.addListener("socketDisconnected",(()=>{n(1,r=!1),setTimeout((()=>{p()}),6e4)})),c((()=>{document.addEventListener("visibilitychange",(()=>{document.hidden||p()})),window.addEventListener("focus",p),window.addEventListener("online",m),window.addEventListener("offline",m)})),t.$$set=t=>{"type"in t&&n(4,l=t.type)},[d,r,i,o,l]}customElements.define("lhc-chats-counter",t(ne,{type:{}},[],[],!1));class me extends e{constructor(t){super(),n(this,t,pe,ue,i,{type:4})}get type(){return this.$$.ctx[4]}set type(t){this.$$set({type:t}),l()}}function he(t,e,n){const i=t.slice();return i[86]=e[n],i}function ge(t,e,n){const i=t.slice();return i[93]=e[n],i}function fe(t,e,n){const i=t.slice();return i[96]=e[n],i}function we(t,e,n){const i=t.slice();return i[99]=e[n],i}function be(t,e,n){const i=t.slice();return i[93]=e[n],i}function ve(t,e,n){const i=t.slice();return i[96]=e[n],i}function ye(t,e,n){const i=t.slice();return i[99]=e[n],i}function xe(t,e,n){const i=t.slice();return i[108]=e[n][0],i[109]=e[n][1],i}function $e(t,e,n){const i=t.slice();return i[112]=e[n],i}function Ce(t,e,n){const i=t.slice();return i[86]=e[n],i}function je(t,e,n){const i=t.slice();return i[86]=e[n],i}function ke(t,e,n){const i=t.slice();return i[80]=e[n],i}function We(t,e,n){const i=t.slice();return i[83]=e[n],i}function De(t,e,n){const i=t.slice();return i[96]=e[n],i}function Le(t,e,n){const i=t.slice();return i[117]=e[n],i}function Ae(t){let e,n,i,a,s,o,c,l,d,p,f,w,b,v;function y(t,e){return"online_op"==t[1]?Re:"depgroups_stats"==t[1]?Te:"pending_chats"==t[1]?Ne:"active_chats"==t[1]?Ee:"group_chats"==t[1]?Ie:Se}let x=y(t),$=x(t),C="transfer_chats"==t[1]&&He(t),j=k(t[24]),D=[];for(let e=0;e<j.length;e+=1)D[e]=Je(Le(t,j,e));let L=!1===t[4]&&t[32]&&t[30].additionalColumns&&Ge(t),A=("subject_chats"==t[1]||"alarm_mails"==t[1]||t[16])&&Ke(t),S=!t[6]&&Ye(t),I="online_op"==t[1]&&ln(t),E="active_chats"==t[1]&&un(t),N="depgroups_stats"==t[1]&&pn(t),T=("active_mails"==t[1]||"alarm_mails"==t[1]||t[15])&&mn(t),R=!t[5]&&gn(t),P="depgroups_stats"==t[1]&&$n(t);return{c(){e=h("thead"),n=h("tr"),i=h("th"),$.c(),a=u(),C&&C.c(),s=u();for(let t=0;t<D.length;t+=1)D[t].c();o=u(),L&&L.c(),c=u(),A&&A.c(),l=u(),S&&S.c(),d=u(),I&&I.c(),p=u(),E&&E.c(),f=u(),N&&N.c(),w=u(),T&&T.c(),b=u(),R&&R.c(),v=u(),P&&P.c(),g(i,"width",t[26])},m(t,r){_(t,e,r),m(e,n),m(n,i),$.m(i,null),m(i,a),C&&C.m(i,null),m(i,s);for(let t=0;t<D.length;t+=1)D[t]&&D[t].m(i,null);m(n,o),L&&L.m(n,null),m(n,c),A&&A.m(n,null),m(n,l),S&&S.m(n,null),m(n,d),I&&I.m(n,null),m(n,p),E&&E.m(n,null),m(n,f),N&&N.m(n,null),m(n,w),T&&T.m(n,null),m(n,b),R&&R.m(n,null),m(n,v),P&&P.m(n,null)},p(t,e){if(x===(x=y(t))&&$?$.p(t,e):($.d(1),$=x(t),$&&($.c(),$.m(i,a))),"transfer_chats"==t[1]?C?C.p(t,e):(C=He(t),C.c(),C.m(i,s)):C&&(C.d(1),C=null),1090519044&e[0]){let n;for(j=k(t[24]),n=0;n<j.length;n+=1){const a=Le(t,j,n);D[n]?D[n].p(a,e):(D[n]=Je(a),D[n].c(),D[n].m(i,null))}for(;n<D.length;n+=1)D[n].d(1);D.length=j.length}67108864&e[0]&&g(i,"width",t[26]),!1===t[4]&&t[32]&&t[30].additionalColumns?L?L.p(t,e):(L=Ge(t),L.c(),L.m(n,c)):L&&(L.d(1),L=null),"subject_chats"==t[1]||"alarm_mails"==t[1]||t[16]?A?A.p(t,e):(A=Ke(t),A.c(),A.m(n,l)):A&&(A.d(1),A=null),t[6]?S&&(S.d(1),S=null):S?S.p(t,e):(S=Ye(t),S.c(),S.m(n,d)),"online_op"==t[1]?I?I.p(t,e):(I=ln(t),I.c(),I.m(n,p)):I&&(I.d(1),I=null),"active_chats"==t[1]?E?E.p(t,e):(E=un(t),E.c(),E.m(n,f)):E&&(E.d(1),E=null),"depgroups_stats"==t[1]?N?N.p(t,e):(N=pn(t),N.c(),N.m(n,w)):N&&(N.d(1),N=null),"active_mails"==t[1]||"alarm_mails"==t[1]||t[15]?T?T.p(t,e):(T=mn(t),T.c(),T.m(n,b)):T&&(T.d(1),T=null),t[5]?R&&(R.d(1),R=null):R?R.p(t,e):(R=gn(t),R.c(),R.m(n,v)),"depgroups_stats"==t[1]?P?P.p(t,e):(P=$n(t),P.c(),P.m(n,null)):P&&(P.d(1),P=null)},d(t){t&&r(e),$.d(),C&&C.d(),W(D,t),L&&L.d(),A&&A.d(),S&&S.d(),I&&I.d(),E&&E.d(),N&&N.d(),T&&T.d(),R&&R.d(),P&&P.d()}}}function Se(t){let e,n,i,a,s=(t[12]?t[12]:"face")+"",o=t[13]&&Pe(t);return{c(){e=h("i"),n=w(s),o&&o.c(),a=p(),g(e,"title",i=t[31]("widget."+(t[11]?t[11]:"visitor"))),g(e,"class","material-icons")},m(t,i){_(t,e,i),m(e,n),o&&o.m(t,i),_(t,a,i)},p(t,c){4096&c[0]&&s!==(s=(t[12]?t[12]:"face")+"")&&f(n,s),2048&c[0]|1&c[1]&&i!==(i=t[31]("widget."+(t[11]?t[11]:"visitor")))&&g(e,"title",i),t[13]?o?o.p(t,c):(o=Pe(t),o.c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},d(t){t&&(r(e),r(a)),o&&o.d(t)}}}function Ie(t){let e,n,i;return{c(){e=h("i"),n=w("group"),g(e,"title",i=t[31]("group_chat.group_name")),g(e,"class","material-icons")},m(t,i){_(t,e,i),m(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("group_chat.group_name"))&&g(e,"title",i)},d(t){t&&r(e)}}}function Ee(t){let e,n,i,a,s,o,c,l,d,p,v,x,$,C,k,W,D,L,A,S="loc_dsc"==t[30].toggleWidgetData[t[0]]||"loc_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down",I="u_dsc"==t[30].toggleWidgetData[t[0]]||"u_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=h("a"),n=h("i"),i=w("location_on"),s=u(),o=h("i"),c=w(S),d=w("   "),p=h("a"),v=h("i"),x=w("face"),C=u(),k=h("i"),W=w(I),g(n,"title",a=t[31]("widget.location")),g(n,"class","material-icons"),g(o,"title",l=t[31]("widget.sort_by_location")),g(o,"class","material-icons"),j(o,"text-muted","loc_asc"!=t[30].toggleWidgetData[t[0]]&&"loc_dsc"!=t[30].toggleWidgetData[t[0]]),g(v,"title",$=t[31]("widget.visitor")),g(v,"class","material-icons"),g(k,"title",D=t[31]("widget.sort_by_nick")),g(k,"class","material-icons"),j(k,"text-muted","u_asc"!=t[30].toggleWidgetData[t[0]]&&"u_dsc"!=t[30].toggleWidgetData[t[0]])},m(a,l){_(a,e,l),m(e,n),m(n,i),m(e,s),m(e,o),m(o,c),_(a,d,l),_(a,p,l),m(p,v),m(v,x),m(p,C),m(p,k),m(k,W),L||(A=[b(e,"click",t[39]),b(p,"click",t[40])],L=!0)},p(t,e){1&e[1]&&a!==(a=t[31]("widget.location"))&&g(n,"title",a),1073741825&e[0]&&S!==(S="loc_dsc"==t[30].toggleWidgetData[t[0]]||"loc_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&f(c,S),1&e[1]&&l!==(l=t[31]("widget.sort_by_location"))&&g(o,"title",l),1073741825&e[0]&&j(o,"text-muted","loc_asc"!=t[30].toggleWidgetData[t[0]]&&"loc_dsc"!=t[30].toggleWidgetData[t[0]]),1&e[1]&&$!==($=t[31]("widget.visitor"))&&g(v,"title",$),1073741825&e[0]&&I!==(I="u_dsc"==t[30].toggleWidgetData[t[0]]||"u_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&f(W,I),1&e[1]&&D!==(D=t[31]("widget.sort_by_nick"))&&g(k,"title",D),1073741825&e[0]&&j(k,"text-muted","u_asc"!=t[30].toggleWidgetData[t[0]]&&"u_dsc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&(r(e),r(d),r(p)),L=!1,y(A)}}}function Ne(t){let e,n,i,a,s,o,c,l,d,p,v="id_dsc"===t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=h("a"),n=h("i"),i=w("face"),s=u(),o=h("i"),c=w(v),g(n,"title",a=t[31]("widget.visitor")),g(n,"class","chat-active material-icons"),j(n,"text-muted","id_dsc"!=t[30].toggleWidgetData[t[0]]&&"id_asc"!=t[30].toggleWidgetData[t[0]]),g(o,"title",l=t[31]("widget.sort_pending")),g(o,"class","material-icons")},m(a,l){_(a,e,l),m(e,n),m(n,i),m(e,s),m(e,o),m(o,c),d||(p=b(e,"click",t[38]),d=!0)},p(t,e){1&e[1]&&a!==(a=t[31]("widget.visitor"))&&g(n,"title",a),1073741825&e[0]&&j(n,"text-muted","id_dsc"!=t[30].toggleWidgetData[t[0]]&&"id_asc"!=t[30].toggleWidgetData[t[0]]),1073741825&e[0]&&v!==(v="id_dsc"===t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&f(c,v),1&e[1]&&l!==(l=t[31]("widget.sort_pending"))&&g(o,"title",l)},d(t){t&&r(e),d=!1,p()}}}function Te(t){let e,n,i;return{c(){e=h("i"),n=w(""),g(e,"title",i=t[31]("widget.dep_group")),g(e,"class","material-icons")},m(t,i){_(t,e,i),m(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.dep_group"))&&g(e,"title",i)},d(t){t&&r(e)}}}function Re(t){let e,n,i,a,s,o,c,l,d,f,w,v,x,$=!t[8]&&Oe(t),C=!t[8]&&Be(t),k="online_op"==t[1]&&Me(t);return{c(){e=h("a"),n=h("i"),n.textContent="account_box",i=u(),$&&$.c(),s=u(),o=h("a"),c=h("i"),c.textContent="flash_on",l=u(),C&&C.c(),f=u(),k&&k.c(),w=p(),g(n,"class","material-icons chat-active"),j(n,"text-muted","onn_dsc"!=t[30].toggleWidgetData[t[0]]&&"onn_asc"!=t[30].toggleWidgetData[t[0]]),g(e,"title",a=t[31]("widget.sort_by_online_name")),g(c,"class","material-icons chat-active"),j(c,"text-muted","onl_dsc"!=t[30].toggleWidgetData[t[0]]&&"onl_asc"!=t[30].toggleWidgetData[t[0]]),g(o,"title",d=t[31]("widget.sort_by_online_status"))},m(a,d){_(a,e,d),m(e,n),m(e,i),$&&$.m(e,null),_(a,s,d),_(a,o,d),m(o,c),m(o,l),C&&C.m(o,null),_(a,f,d),k&&k.m(a,d),_(a,w,d),v||(x=[b(e,"click",t[36]),b(o,"click",t[37])],v=!0)},p(t,i){1073741825&i[0]&&j(n,"text-muted","onn_dsc"!=t[30].toggleWidgetData[t[0]]&&"onn_asc"!=t[30].toggleWidgetData[t[0]]),t[8]?$&&($.d(1),$=null):$?$.p(t,i):($=Oe(t),$.c(),$.m(e,null)),1&i[1]&&a!==(a=t[31]("widget.sort_by_online_name"))&&g(e,"title",a),1073741825&i[0]&&j(c,"text-muted","onl_dsc"!=t[30].toggleWidgetData[t[0]]&&"onl_asc"!=t[30].toggleWidgetData[t[0]]),t[8]?C&&(C.d(1),C=null):C?C.p(t,i):(C=Be(t),C.c(),C.m(o,null)),1&i[1]&&d!==(d=t[31]("widget.sort_by_online_status"))&&g(o,"title",d),"online_op"==t[1]?k?k.p(t,i):(k=Me(t),k.c(),k.m(w.parentNode,w)):k&&(k.d(1),k=null)},d(t){t&&(r(e),r(s),r(o),r(f),r(w)),$&&$.d(),C&&C.d(),k&&k.d(t),v=!1,y(x)}}}function Pe(t){let e,n=t[31]("widget."+(t[11]?t[11]:"visitor"))+"";return{c(){e=w(n)},m(t,n){_(t,e,n)},p(t,i){2048&i[0]|1&i[1]&&n!==(n=t[31]("widget."+(t[11]?t[11]:"visitor"))+"")&&f(e,n)},d(t){t&&r(e)}}}function Oe(t){let e,n,i="onn_dsc"==t[30].toggleWidgetData[t[0]]||"onn_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=h("i"),n=w(i),g(e,"class","material-icons"),j(e,"text-muted","onn_dsc"!=t[30].toggleWidgetData[t[0]]&&"onn_asc"!=t[30].toggleWidgetData[t[0]])},m(t,i){_(t,e,i),m(e,n)},p(t,a){1073741825&a[0]&&i!==(i="onn_dsc"==t[30].toggleWidgetData[t[0]]||"onn_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&f(n,i),1073741825&a[0]&&j(e,"text-muted","onn_dsc"!=t[30].toggleWidgetData[t[0]]&&"onn_asc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&r(e)}}}function Be(t){let e,n,i="onl_dsc"==t[30].toggleWidgetData[t[0]]||"onl_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=h("i"),n=w(i),g(e,"class","material-icons"),j(e,"text-muted","onl_dsc"!=t[30].toggleWidgetData[t[0]]&&"onl_asc"!=t[30].toggleWidgetData[t[0]])},m(t,i){_(t,e,i),m(e,n)},p(t,a){1073741825&a[0]&&i!==(i="onl_dsc"==t[30].toggleWidgetData[t[0]]||"onl_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&f(n,i),1073741825&a[0]&&j(e,"text-muted","onl_dsc"!=t[30].toggleWidgetData[t[0]]&&"onl_asc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&r(e)}}}function Me(t){let e,n,i,a=t[30][t[1]].op_on+"";return{c(){e=h("span"),n=w(a),g(e,"class","text-success"),g(e,"title",i=t[31]("widget.online"))},m(t,i){_(t,e,i),m(e,n)},p(t,s){1073741826&s[0]&&a!==(a=t[30][t[1]].op_on+"")&&f(n,a),1&s[1]&&i!==(i=t[31]("widget.online"))&&g(e,"title",i)},d(t){t&&r(e)}}}function He(t){let e,n=t[31]("widget.transferred_to_you")+"";return{c(){e=w(n)},m(t,n){_(t,e,n)},p(t,i){1&i[1]&&n!==(n=t[31]("widget.transferred_to_you")+"")&&f(e,n)},d(t){t&&r(e)}}}function Ve(t){let e,n,i;function a(...e){return t[42](t[117],...e)}return{c(){e=h("a"),e.innerHTML='<span class="material-icons">close</span>',g(e,"class","text-muted"),g(e,"title","Remove sort")},m(t,s){_(t,e,s),n||(i=b(e,"click",a),n=!0)},p(e,n){t=e},d(t){t&&r(e),n=!1,i()}}}function Je(t){let e,n,i,a,s,o,c,l,d,v,y=(t[30].toggleWidgetData[t[117].sort_identifier]==t[117].sort_options[1]?t[117]["sort_icon_"+t[117].sort_options[1]]:t[117]["sort_icon_"+t[117].sort_options[0]])+"";function x(...e){return t[41](t[117],...e)}let $=(t[30].toggleWidgetData[t[117].sort_identifier]==t[117].sort_options[0]||t[30].toggleWidgetData[t[117].sort_identifier]==t[117].sort_options[1])&&Ve(t);return{c(){e=w("| "),n=h("a"),i=h("i"),a=w(y),c=u(),$&&$.c(),l=p(),g(i,"title",s=t[117].title),g(i,"class",o="material-icons chat-active "+(t[30].toggleWidgetData[t[117].sort_identifier]!=t[117].sort_options[1]&&t[30].toggleWidgetData[t[117].sort_identifier]!=t[117].sort_options[0]?"text-muted":""))},m(t,s){_(t,e,s),_(t,n,s),m(n,i),m(i,a),_(t,c,s),$&&$.m(t,s),_(t,l,s),d||(v=b(n,"click",x),d=!0)},p(e,n){t=e,1090519040&n[0]&&y!==(y=(t[30].toggleWidgetData[t[117].sort_identifier]==t[117].sort_options[1]?t[117]["sort_icon_"+t[117].sort_options[1]]:t[117]["sort_icon_"+t[117].sort_options[0]])+"")&&f(a,y),16777216&n[0]&&s!==(s=t[117].title)&&g(i,"title",s),1090519040&n[0]&&o!==(o="material-icons chat-active "+(t[30].toggleWidgetData[t[117].sort_identifier]!=t[117].sort_options[1]&&t[30].toggleWidgetData[t[117].sort_identifier]!=t[117].sort_options[0]?"text-muted":""))&&g(i,"class",o),t[30].toggleWidgetData[t[117].sort_identifier]==t[117].sort_options[0]||t[30].toggleWidgetData[t[117].sort_identifier]==t[117].sort_options[1]?$?$.p(t,n):($=Ve(t),$.c(),$.m(l.parentNode,l)):$&&($.d(1),$=null)},d(t){t&&(r(e),r(n),r(c),r(l)),$&&$.d(t),d=!1,v()}}}function Ge(t){let e,n=k(t[30].additionalColumns),i=[];for(let e=0;e<n.length;e+=1)i[e]=Fe(De(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=p()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);_(t,e,n)},p(t,a){if(1342177284&a[0]){let s;for(n=k(t[30].additionalColumns),s=0;s<n.length;s+=1){const o=De(t,n,s);i[s]?i[s].p(o,a):(i[s]=Fe(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&r(e),W(i,t)}}}function qe(t){let e,n,i,a,s=t[96].name+"",o=""!==t[96].icon&&Qe(t),c=""!==t[28]&&t[96].sorten&&Ue(t);return{c(){e=h("th"),o&&o.c(),n=w(s),i=u(),c&&c.c(),a=u(),g(e,"width","20%")},m(t,s){_(t,e,s),o&&o.m(e,null),m(e,n),m(e,i),c&&c.m(e,null),m(e,a)},p(t,i){""!==t[96].icon?o?o.p(t,i):(o=Qe(t),o.c(),o.m(e,n)):o&&(o.d(1),o=null),1073741824&i[0]&&s!==(s=t[96].name+"")&&f(n,s),""!==t[28]&&t[96].sorten?c?c.p(t,i):(c=Ue(t),c.c(),c.m(e,a)):c&&(c.d(1),c=null)},d(t){t&&r(e),o&&o.d(),c&&c.d()}}}function Qe(t){let e,n,i=t[96].icon+"";return{c(){e=h("i"),n=w(i),g(e,"class","material-icons chat-active"),j(e,"text-muted",!t[28]||!t[96].sorten||t[30].toggleWidgetData[t[28]]!=t[96].items[0]+"_asc"&&t[30].toggleWidgetData[t[28]]!=t[96].items[0]+"_dsc")},m(t,i){_(t,e,i),m(e,n)},p(t,a){1073741824&a[0]&&i!==(i=t[96].icon+"")&&f(n,i),1342177280&a[0]&&j(e,"text-muted",!t[28]||!t[96].sorten||t[30].toggleWidgetData[t[28]]!=t[96].items[0]+"_asc"&&t[30].toggleWidgetData[t[28]]!=t[96].items[0]+"_dsc")},d(t){t&&r(e)}}}function Ue(t){let e,n,i,a,s,o=t[30].toggleWidgetData[t[28]]==t[96].items[0]+"_dsc"||t[30].toggleWidgetData[t[28]]!=t[96].items[0]+"_asc"?"trending_up":"trending_down";function c(...e){return t[43](t[96],...e)}return{c(){e=h("a"),n=h("i"),i=w(o),g(n,"class","material-icons"),j(n,"text-muted",t[30].toggleWidgetData[t[28]]!=t[96].items[0]+"_asc"&&t[30].toggleWidgetData[t[28]]!=t[96].items[0]+"_dsc")},m(t,o){_(t,e,o),m(e,n),m(n,i),a||(s=b(e,"click",c),a=!0)},p(e,a){t=e,1342177280&a[0]&&o!==(o=t[30].toggleWidgetData[t[28]]==t[96].items[0]+"_dsc"||t[30].toggleWidgetData[t[28]]!=t[96].items[0]+"_asc"?"trending_up":"trending_down")&&f(i,o),1342177280&a[0]&&j(n,"text-muted",t[30].toggleWidgetData[t[28]]!=t[96].items[0]+"_asc"&&t[30].toggleWidgetData[t[28]]!=t[96].items[0]+"_dsc")},d(t){t&&r(e),a=!1,s()}}}function Fe(t){let e,n=1==t[96].cenabl&&!t[96].iconm&&qe(t);return{c(){n&&n.c(),e=p()},m(t,i){n&&n.m(t,i),_(t,e,i)},p(t,i){1!=t[96].cenabl||t[96].iconm?n&&(n.d(1),n=null):n?n.p(t,i):(n=qe(t),n.c(),n.m(e.parentNode,e))},d(t){t&&r(e),n&&n.d(t)}}}function Ke(t){let e,n,i,a,s=t[18]&&Xe(t);return{c(){e=h("th"),n=h("span"),i=w("label"),s&&s.c(),g(n,"title",a=t[31]("widget.subject")),g(n,"class","material-icons"),g(e,"width","25%")},m(t,a){_(t,e,a),m(e,n),m(n,i),s&&s.m(e,null)},p(t,i){1&i[1]&&a!==(a=t[31]("widget.subject"))&&g(n,"title",a),t[18]?s?s.p(t,i):(s=Xe(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(t){t&&r(e),s&&s.d()}}}function Xe(t){let e,n=t[31]("widget.subject")+"";return{c(){e=w(n)},m(t,n){_(t,e,n)},p(t,i){1&i[1]&&n!==(n=t[31]("widget.subject")+"")&&f(e,n)},d(t){t&&r(e)}}}function Ye(t){let e,n,i,a,s,o,c,l,d,p="depgroups_stats"===t[1]&&ze(t),f="online_op"===t[1]&&Ze(t),w=("my_mails"===t[1]||"alarm_mails"===t[1]||"active_mails"===t[1]||"pending_mails"===t[1])&&tn(t),b="pending_chats"===t[1]&&en(t),v="my_chats"===t[1]&&nn(t),y="unread_chats"===t[1]&&an(t),x=("active_chats"===t[1]||"bot_chats"===t[1])&&sn(t),$="subject_chats"==t[1]&&on(t),C="transfer_chats"==t[1]&&cn(t);return{c(){e=h("th"),p&&p.c(),n=u(),f&&f.c(),i=u(),w&&w.c(),a=u(),b&&b.c(),s=u(),v&&v.c(),o=u(),y&&y.c(),c=u(),x&&x.c(),l=u(),$&&$.c(),d=u(),C&&C.c(),g(e,"width",t[25])},m(t,r){_(t,e,r),p&&p.m(e,null),m(e,n),f&&f.m(e,null),m(e,i),w&&w.m(e,null),m(e,a),b&&b.m(e,null),m(e,s),v&&v.m(e,null),m(e,o),y&&y.m(e,null),m(e,c),x&&x.m(e,null),m(e,l),$&&$.m(e,null),m(e,d),C&&C.m(e,null)},p(t,r){"depgroups_stats"===t[1]?p?p.p(t,r):(p=ze(t),p.c(),p.m(e,n)):p&&(p.d(1),p=null),"online_op"===t[1]?f?f.p(t,r):(f=Ze(t),f.c(),f.m(e,i)):f&&(f.d(1),f=null),"my_mails"===t[1]||"alarm_mails"===t[1]||"active_mails"===t[1]||"pending_mails"===t[1]?w?w.p(t,r):(w=tn(t),w.c(),w.m(e,a)):w&&(w.d(1),w=null),"pending_chats"===t[1]?b?b.p(t,r):(b=en(t),b.c(),b.m(e,s)):b&&(b.d(1),b=null),"my_chats"===t[1]?v?v.p(t,r):(v=nn(t),v.c(),v.m(e,o)):v&&(v.d(1),v=null),"unread_chats"===t[1]?y?y.p(t,r):(y=an(t),y.c(),y.m(e,c)):y&&(y.d(1),y=null),"active_chats"===t[1]||"bot_chats"===t[1]?x?x.p(t,r):(x=sn(t),x.c(),x.m(e,l)):x&&(x.d(1),x=null),"subject_chats"==t[1]?$?$.p(t,r):($=on(t),$.c(),$.m(e,d)):$&&($.d(1),$=null),"transfer_chats"==t[1]?C?C.p(t,r):(C=cn(t),C.c(),C.m(e,null)):C&&(C.d(1),C=null),33554432&r[0]&&g(e,"width",t[25])},d(t){t&&r(e),p&&p.d(),f&&f.d(),w&&w.d(),b&&b.d(),v&&v.d(),y&&y.d(),x&&x.d(),$&&$.d(),C&&C.d()}}}function ze(t){let e,n,i;return{c(){e=h("i"),n=w("chat"),g(e,"title",i=t[31]("widget_title.pending_chats")),g(e,"class","material-icons chat-pending")},m(t,i){_(t,e,i),m(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget_title.pending_chats"))&&g(e,"title",i)},d(t){t&&r(e)}}}function Ze(t){let e,n,i;return{c(){e=h("i"),n=w("assignment_ind"),g(e,"title",i=t[31]("widget.last_assignment_ago")),g(e,"class","material-icons")},m(t,i){_(t,e,i),m(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.last_assignment_ago"))&&g(e,"title",i)},d(t){t&&r(e)}}}function tn(t){let e,n,i;return{c(){e=h("i"),n=w("access_time"),g(e,"title",i=t[31]("widget.wait_time")),g(e,"class","material-icons")},m(t,i){_(t,e,i),m(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.wait_time"))&&g(e,"title",i)},d(t){t&&r(e)}}}function en(t){let e,n,i,a,s,o,c,l,d,u="wtime_dsc"===t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=h("a"),n=h("i"),i=w("access_time"),s=h("i"),o=w(u),g(n,"title",a=t[31]("widget.wait_time")),g(n,"class","material-icons chat-active"),j(n,"text-muted","wtime_dsc"!=t[30].toggleWidgetData[t[0]]&&"wtime_asc"!=t[30].toggleWidgetData[t[0]]),g(s,"title",c=t[31]("widget.sort_wait_time")),g(s,"class","material-icons")},m(a,c){_(a,e,c),m(e,n),m(n,i),m(e,s),m(s,o),l||(d=b(e,"click",t[44]),l=!0)},p(t,e){1&e[1]&&a!==(a=t[31]("widget.wait_time"))&&g(n,"title",a),1073741825&e[0]&&j(n,"text-muted","wtime_dsc"!=t[30].toggleWidgetData[t[0]]&&"wtime_asc"!=t[30].toggleWidgetData[t[0]]),1073741825&e[0]&&u!==(u="wtime_dsc"===t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&f(o,u),1&e[1]&&c!==(c=t[31]("widget.sort_wait_time"))&&g(s,"title",c)},d(t){t&&r(e),l=!1,d()}}}function nn(t){let e,n,i;return{c(){e=h("i"),n=w("access_time"),g(e,"title",i=t[31]("widget.last_message")),g(e,"class","material-icons")},m(t,i){_(t,e,i),m(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.last_message"))&&g(e,"title",i)},d(t){t&&r(e)}}}function an(t){let e,n,i;return{c(){e=h("i"),n=w("access_time"),g(e,"title",i=t[31]("widget.time_ago")),g(e,"class","material-icons")},m(t,i){_(t,e,i),m(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.time_ago"))&&g(e,"title",i)},d(t){t&&r(e)}}}function sn(t){let e,n,i,a,s,o,c,l,d,p,v,x="lmt_dsc"==t[30].toggleWidgetData[t[0]]||"lmt_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down",$="id_dsc"==t[30].toggleWidgetData[t[0]]||"id_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=h("a"),n=h("i"),i=w(x),s=u(),o=h("a"),c=h("i"),l=w($),g(n,"title",a=t[31]("widget.sort_by_last_msg_time")),g(n,"class","material-icons"),j(n,"text-muted","lmt_asc"!=t[30].toggleWidgetData[t[0]]&&"lmt_dsc"!=t[30].toggleWidgetData[t[0]]),g(c,"title",d=t[31]("widget.sort_by_start_time")),g(c,"class","material-icons"),j(c,"text-muted","id_asc"!=t[30].toggleWidgetData[t[0]]&&"id_dsc"!=t[30].toggleWidgetData[t[0]])},m(a,d){_(a,e,d),m(e,n),m(n,i),_(a,s,d),_(a,o,d),m(o,c),m(c,l),p||(v=[b(e,"click",t[45]),b(o,"click",t[46])],p=!0)},p(t,e){1073741825&e[0]&&x!==(x="lmt_dsc"==t[30].toggleWidgetData[t[0]]||"lmt_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&f(i,x),1&e[1]&&a!==(a=t[31]("widget.sort_by_last_msg_time"))&&g(n,"title",a),1073741825&e[0]&&j(n,"text-muted","lmt_asc"!=t[30].toggleWidgetData[t[0]]&&"lmt_dsc"!=t[30].toggleWidgetData[t[0]]),1073741825&e[0]&&$!==($="id_dsc"==t[30].toggleWidgetData[t[0]]||"id_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&f(l,$),1&e[1]&&d!==(d=t[31]("widget.sort_by_start_time"))&&g(c,"title",d),1073741825&e[0]&&j(c,"text-muted","id_asc"!=t[30].toggleWidgetData[t[0]]&&"id_dsc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&(r(e),r(s),r(o)),p=!1,y(v)}}}function on(t){let e,n,i;return{c(){e=h("i"),n=w("access_time"),g(e,"title",i=t[31]("widget.time_since_last_msg")),g(e,"class","material-icons")},m(t,i){_(t,e,i),m(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.time_since_last_msg"))&&g(e,"title",i)},d(t){t&&r(e)}}}function cn(t){let e,n,i;return{c(){e=h("i"),n=w("access_time"),g(e,"title",i=t[31]("widget.created_at")),g(e,"class","material-icons")},m(t,i){_(t,e,i),m(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.created_at"))&&g(e,"title",i)},d(t){t&&r(e)}}}function ln(t){let e,n,i,a,s,o,c,l,d,p="rac_dsc"==t[30].toggleWidgetData[t[0]]||"rac_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down",v=!t[7]&&dn(t),y=!t[9]&&rn(t);return{c(){e=h("th"),n=h("a"),v&&v.c(),i=u(),a=h("i"),s=w(p),c=u(),y&&y.c(),g(a,"title",o=t[31]("widget.sort_by_chat_number_real")),g(a,"class","material-icons"),j(a,"text-muted","rac_asc"!=t[30].toggleWidgetData[t[0]]&&"rac_dsc"!=t[30].toggleWidgetData[t[0]]),g(e,"width","15%")},m(o,r){_(o,e,r),m(e,n),v&&v.m(n,null),m(n,i),m(n,a),m(a,s),m(e,c),y&&y.m(e,null),l||(d=b(n,"click",t[47]),l=!0)},p(t,c){t[7]?v&&(v.d(1),v=null):v?v.p(t,c):(v=dn(t),v.c(),v.m(n,i)),1073741825&c[0]&&p!==(p="rac_dsc"==t[30].toggleWidgetData[t[0]]||"rac_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&f(s,p),1&c[1]&&o!==(o=t[31]("widget.sort_by_chat_number_real"))&&g(a,"title",o),1073741825&c[0]&&j(a,"text-muted","rac_asc"!=t[30].toggleWidgetData[t[0]]&&"rac_dsc"!=t[30].toggleWidgetData[t[0]]),t[9]?y&&(y.d(1),y=null):y?y.p(t,c):(y=rn(t),y.c(),y.m(e,null))},d(t){t&&r(e),v&&v.d(),y&&y.d(),l=!1,d()}}}function dn(t){let e,n,i;return{c(){e=h("i"),n=w("sms"),g(e,"title",i=t[31]("widget.live_chats")),g(e,"class","material-icons chat-active"),j(e,"text-muted","rac_asc"!=t[30].toggleWidgetData[t[0]]&&"rac_dsc"!=t[30].toggleWidgetData[t[0]])},m(t,i){_(t,e,i),m(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.live_chats"))&&g(e,"title",i),1073741825&n[0]&&j(e,"text-muted","rac_asc"!=t[30].toggleWidgetData[t[0]]&&"rac_dsc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&r(e)}}}function rn(t){let e,n,i,a,s,o,c,l="ac_dsc"==t[30].toggleWidgetData[t[0]]||"ac_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down",d=!t[7]&&_n(t);return{c(){e=h("a"),d&&d.c(),n=u(),i=h("i"),a=w(l),g(i,"title",s=t[31]("widget.sort_by_chat_number")),g(i,"class","material-icons"),j(i,"text-muted","ac_dsc"!=t[30].toggleWidgetData[t[0]]&&"ac_asc"!=t[30].toggleWidgetData[t[0]])},m(s,l){_(s,e,l),d&&d.m(e,null),m(e,n),m(e,i),m(i,a),o||(c=b(e,"click",t[48]),o=!0)},p(t,o){t[7]?d&&(d.d(1),d=null):d?d.p(t,o):(d=_n(t),d.c(),d.m(e,n)),1073741825&o[0]&&l!==(l="ac_dsc"==t[30].toggleWidgetData[t[0]]||"ac_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&f(a,l),1&o[1]&&s!==(s=t[31]("widget.sort_by_chat_number"))&&g(i,"title",s),1073741825&o[0]&&j(i,"text-muted","ac_dsc"!=t[30].toggleWidgetData[t[0]]&&"ac_asc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&r(e),d&&d.d(),o=!1,c()}}}function _n(t){let e,n,i;return{c(){e=h("i"),n=w("chat"),g(e,"title",i=t[31]("widget_title.active_chats")),g(e,"class","material-icons chat-active"),j(e,"text-muted","ac_dsc"!=t[30].toggleWidgetData[t[0]]&&"ac_asc"!=t[30].toggleWidgetData[t[0]])},m(t,i){_(t,e,i),m(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget_title.active_chats"))&&g(e,"title",i),1073741825&n[0]&&j(e,"text-muted","ac_dsc"!=t[30].toggleWidgetData[t[0]]&&"ac_asc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&r(e)}}}function un(t){let e,n,i,a,s,o,c,l="op_dsc"==t[30].toggleWidgetData[t[0]]||"op_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=h("th"),n=h("a"),i=h("i"),a=w(l),g(i,"title",s=t[31]("widget.sort_by_op")),g(i,"class","material-icons"),j(i,"text-muted","op_asc"!=t[30].toggleWidgetData[t[0]]&&"op_dsc"!=t[30].toggleWidgetData[t[0]]),g(e,"width","20%")},m(s,l){_(s,e,l),m(e,n),m(n,i),m(i,a),o||(c=b(n,"click",t[49]),o=!0)},p(t,e){1073741825&e[0]&&l!==(l="op_dsc"==t[30].toggleWidgetData[t[0]]||"op_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&f(a,l),1&e[1]&&s!==(s=t[31]("widget.sort_by_op"))&&g(i,"title",s),1073741825&e[0]&&j(i,"text-muted","op_asc"!=t[30].toggleWidgetData[t[0]]&&"op_dsc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&r(e),o=!1,c()}}}function pn(t){let e,n,i,a,s,o,c,l,d;return{c(){e=h("th"),n=h("i"),i=w("chat"),s=u(),o=h("th"),c=h("i"),l=w("android"),g(n,"title",a=t[31]("widget_title.active_chats")),g(n,"class","material-icons chat-active"),g(e,"width","8%"),g(c,"title",d=t[31]("widget_title.bot_chats")),g(c,"class","material-icons chat-active"),g(o,"width","8%")},m(t,a){_(t,e,a),m(e,n),m(n,i),_(t,s,a),_(t,o,a),m(o,c),m(c,l)},p(t,e){1&e[1]&&a!==(a=t[31]("widget_title.active_chats"))&&g(n,"title",a),1&e[1]&&d!==(d=t[31]("widget_title.bot_chats"))&&g(c,"title",d)},d(t){t&&(r(e),r(s),r(o))}}}function mn(t){let e,n,i,a,s=t[19]&&hn(t);return{c(){e=h("th"),n=h("i"),i=w("face"),s&&s.c(),g(n,"title",a=t[31]("widget.operator")),g(n,"class","material-icons"),g(e,"width","20%")},m(t,a){_(t,e,a),m(e,n),m(n,i),s&&s.m(e,null)},p(t,i){1&i[1]&&a!==(a=t[31]("widget.operator"))&&g(n,"title",a),t[19]?s?s.p(t,i):(s=hn(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(t){t&&r(e),s&&s.d()}}}function hn(t){let e,n=t[31]("widget.operator")+"";return{c(){e=w(n)},m(t,n){_(t,e,n)},p(t,i){1&i[1]&&n!==(n=t[31]("widget.operator")+"")&&f(e,n)},d(t){t&&r(e)}}}function gn(t){let e,n,i,a="depgroups_stats"==t[1]&&fn(t);function s(t,e){return"group_chats"==t[1]?vn:"active_chats"==t[1]?bn:"transfer_chats"!=t[1]&&"depgroups_stats"!=t[1]?wn:void 0}let o=s(t),c=o&&o(t),l=!1===t[20]&&"depgroups_stats"!=t[1]&&xn(t);return{c(){e=h("th"),a&&a.c(),n=u(),c&&c.c(),i=u(),l&&l.c(),g(e,"width",t[27])},m(t,s){_(t,e,s),a&&a.m(e,null),m(e,n),c&&c.m(e,null),m(e,i),l&&l.m(e,null)},p(t,d){"depgroups_stats"==t[1]?a?a.p(t,d):(a=fn(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),o===(o=s(t))&&c?c.p(t,d):(c&&c.d(1),c=o&&o(t),c&&(c.c(),c.m(e,i))),!1===t[20]&&"depgroups_stats"!=t[1]?l?l.p(t,d):(l=xn(t),l.c(),l.m(e,null)):l&&(l.d(1),l=null),134217728&d[0]&&g(e,"width",t[27])},d(t){t&&r(e),a&&a.d(),c&&c.d(),l&&l.d()}}}function fn(t){let e,n,i;return{c(){e=h("i"),n=w("donut_large"),g(e,"title",i=t[31]("widget.load_statistic")),g(e,"class","material-icons text-info")},m(t,i){_(t,e,i),m(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.load_statistic"))&&g(e,"title",i)},d(t){t&&r(e)}}}function wn(t){let e,n,i,a,s=t[17]&&yn(t);return{c(){e=h("i"),n=w("home"),s&&s.c(),a=p(),g(e,"title",i=t[31]("widget.department")),g(e,"class","material-icons")},m(t,i){_(t,e,i),m(e,n),s&&s.m(t,i),_(t,a,i)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.department"))&&g(e,"title",i),t[17]?s?s.p(t,n):(s=yn(t),s.c(),s.m(a.parentNode,a)):s&&(s.d(1),s=null)},d(t){t&&(r(e),r(a)),s&&s.d(t)}}}function bn(t){let e,n,i,a,s,o,c="dep_dsc"==t[30].toggleWidgetData[t[0]]||"dep_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=h("a"),n=h("i"),i=w(c),g(n,"title",a=t[31]("widget.sort_by_dep")),g(n,"class","material-icons"),j(n,"text-muted","dep_asc"!=t[30].toggleWidgetData[t[0]]&&"dep_dsc"!=t[30].toggleWidgetData[t[0]])},m(a,c){_(a,e,c),m(e,n),m(n,i),s||(o=b(e,"click",t[50]),s=!0)},p(t,e){1073741825&e[0]&&c!==(c="dep_dsc"==t[30].toggleWidgetData[t[0]]||"dep_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&f(i,c),1&e[1]&&a!==(a=t[31]("widget.sort_by_dep"))&&g(n,"title",a),1073741825&e[0]&&j(n,"text-muted","dep_asc"!=t[30].toggleWidgetData[t[0]]&&"dep_dsc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&r(e),s=!1,o()}}}function vn(t){let e,n,i;return{c(){e=h("i"),n=w("access_time"),g(e,"title",i=t[31]("widget.time_ago")),g(e,"class","material-icons")},m(t,i){_(t,e,i),m(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.time_ago"))&&g(e,"title",i)},d(t){t&&r(e)}}}function yn(t){let e,n=t[31]("widget.department")+"";return{c(){e=w(n)},m(t,n){_(t,e,n)},p(t,i){1&i[1]&&n!==(n=t[31]("widget.department")+"")&&f(e,n)},d(t){t&&r(e)}}}function xn(t){let e,n,i,a,s,o,c,l,d,p,f,v;return{c(){e=h("div"),n=h("a"),i=h("i"),a=w("expand"),o=u(),c=h("a"),l=h("i"),d=w("compress"),g(i,"title",s=t[31]("widget.more_rows")),g(i,"class","material-icons"),g(n,"class","text-muted disable-select"),g(l,"title",p=t[31]("widget.less_rows")),g(l,"class","material-icons"),g(c,"class","text-muted disable-select"),g(e,"class","float-end expand-actions")},m(s,r){_(s,e,r),m(e,n),m(n,i),m(i,a),m(e,o),m(e,c),m(c,l),m(l,d),f||(v=[b(n,"click",(function(){x(F.changeWidgetHeight(t[2],t[21],!0))&&F.changeWidgetHeight(t[2],t[21],!0).apply(this,arguments)})),b(c,"click",(function(){x(F.changeWidgetHeight(t[2],t[21],!1))&&F.changeWidgetHeight(t[2],t[21],!1).apply(this,arguments)}))],f=!0)},p(e,n){t=e,1&n[1]&&s!==(s=t[31]("widget.more_rows"))&&g(i,"title",s),1&n[1]&&p!==(p=t[31]("widget.less_rows"))&&g(l,"title",p)},d(t){t&&r(e),f=!1,y(v)}}}function $n(t){let e,n,i,a,s,o,c,l,d,p,f,v,$,C,j,k,W;return{c(){e=h("th"),n=h("i"),i=w("support_agent"),s=u(),o=h("div"),c=h("a"),l=h("i"),d=w("expand"),f=u(),v=h("a"),$=h("i"),C=w("compress"),g(n,"title",a=t[31]("widget.op_statistic")),g(n,"class","material-icons text-info"),g(l,"title",p=t[31]("widget.more_rows")),g(l,"class","material-icons"),g(c,"class","text-muted disable-select"),g($,"title",j=t[31]("widget.less_rows")),g($,"class","material-icons"),g(v,"class","text-muted disable-select"),g(o,"class","float-end expand-actions"),g(e,"width","20%")},m(a,r){_(a,e,r),m(e,n),m(n,i),m(e,s),m(e,o),m(o,c),m(c,l),m(l,d),m(o,f),m(o,v),m(v,$),m($,C),k||(W=[b(c,"click",(function(){x(F.changeWidgetHeight(t[2],t[21],!0))&&F.changeWidgetHeight(t[2],t[21],!0).apply(this,arguments)})),b(v,"click",(function(){x(F.changeWidgetHeight(t[2],t[21],!1))&&F.changeWidgetHeight(t[2],t[21],!1).apply(this,arguments)}))],k=!0)},p(e,i){t=e,1&i[1]&&a!==(a=t[31]("widget.op_statistic"))&&g(n,"title",a),1&i[1]&&p!==(p=t[31]("widget.more_rows"))&&g(l,"title",p),1&i[1]&&j!==(j=t[31]("widget.less_rows"))&&g($,"title",j)},d(t){t&&r(e),k=!1,y(W)}}}function Cn(t){let e,n,i=[],a=new Map,s=k(t[30][t[1]].list);const o=t=>t[86].id;for(let e=0;e<s.length;e+=1){let n=he(t,s,e),c=o(n);a.set(c,i[e]=na(c,n))}let c="group_chats"==t[1]&&ia(t);return{c(){e=h("tbody");for(let t=0;t<i.length;t+=1)i[t].c();n=u(),c&&c.c()},m(t,a){_(t,e,a);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,null);m(e,n),c&&c.m(e,null)},p(t,l){1623311738&l[0]|31&l[1]&&(s=k(t[30][t[1]].list),i=A(i,l,o,1,t,s,a,e,T,na,n,he)),"group_chats"==t[1]?c?c.p(t,l):(c=ia(t),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(t){t&&r(e);for(let t=0;t<i.length;t+=1)i[t].d();c&&c.d()}}}function jn(t){let e,n,i,a=k(t[30][t[1]].list),s=[];for(let e=0;e<a.length;e+=1)s[e]=oa(je(t,a,e));let o=t[30].transfer_dep_chats.list.length>0&&ca(t);return{c(){e=h("tbody");for(let t=0;t<s.length;t+=1)s[t].c();n=u(),o&&o.c(),i=p()},m(t,a){_(t,e,a);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null);_(t,n,a),o&&o.m(t,a),_(t,i,a)},p(t,n){if(1073741834&n[0]|1&n[1]){let i;for(a=k(t[30][t[1]].list),i=0;i<a.length;i+=1){const o=je(t,a,i);s[i]?s[i].p(o,n):(s[i]=oa(o),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=a.length}t[30].transfer_dep_chats.list.length>0?o?o.p(t,n):(o=ca(t),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(t){t&&(r(e),r(n),r(i)),W(s,t),o&&o.d(t)}}}function kn(t){let e,n,i=!t[30].departmentd_hide_dgroup&&ra(t),a=!t[30].departmentd_hide_dep&&t[30].departments_stats.list.length>0&&ga(t);return{c(){i&&i.c(),e=u(),a&&a.c(),n=p()},m(t,s){i&&i.m(t,s),_(t,e,s),a&&a.m(t,s),_(t,n,s)},p(t,s){t[30].departmentd_hide_dgroup?i&&(i.d(1),i=null):i?i.p(t,s):(i=ra(t),i.c(),i.m(e.parentNode,e)),!t[30].departmentd_hide_dep&&t[30].departments_stats.list.length>0?a?a.p(t,s):(a=ga(t),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(t){t&&(r(e),r(n)),i&&i.d(t),a&&a.d(t)}}}function Wn(t){let e,n,i,a,s;return{c(){e=h("span"),n=h("img"),E(n.src,i=t[3]+"/"+t[86].country_code+".png")||g(n,"src",i),g(n,"alt",a=t[86].country_name),g(n,"title",s=t[86].country_name)},m(t,i){_(t,e,i),m(e,n)},p(t,e){1073741834&e[0]&&!E(n.src,i=t[3]+"/"+t[86].country_code+".png")&&g(n,"src",i),1073741826&e[0]&&a!==(a=t[86].country_name)&&g(n,"alt",a),1073741826&e[0]&&s!==(s=t[86].country_name)&&g(n,"title",s)},d(t){t&&r(e)}}}function Dn(t){let e;function n(t,e){return t[112].class?Sn:An}let i=n(t),a=i(t);return{c(){a.c(),e=p()},m(t,n){a.m(t,n),_(t,e,n)},p(t,s){i===(i=n(t))&&a?a.p(t,s):(a.d(1),a=i(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){t&&r(e),a.d(t)}}}function Ln(t){let e,n=(t[86][t[112].icon_attr]&&t[112].icon_attr_true&&"bool"==t[112].icon_attr_type||"bool"==t[112].icon_attr_type&&!t[86][t[112].icon_attr]&&t[112].icon_attr_false||"cmp"==t[112].icon_attr_type&&t[86][t[112].icon_attr]==t[112].icon_attr_val)&&In(t);return{c(){n&&n.c(),e=p()},m(t,i){n&&n.m(t,i),_(t,e,i)},p(t,i){t[86][t[112].icon_attr]&&t[112].icon_attr_true&&"bool"==t[112].icon_attr_type||"bool"==t[112].icon_attr_type&&!t[86][t[112].icon_attr]&&t[112].icon_attr_false||"cmp"==t[112].icon_attr_type&&t[86][t[112].icon_attr]==t[112].icon_attr_val?n?n.p(t,i):(n=In(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&r(e),n&&n.d(t)}}}function An(t){let e,n,i,a=(t[112].icon_attr_prepend?t[112].icon_attr_prepend:"")+"",s=t[86][t[112].icon_attr]+"",o=(t[112].icon_attr_append?t[112].icon_attr_append:"")+"";return{c(){e=w(a),n=w(s),i=w(o)},m(t,a){_(t,e,a),_(t,n,a),_(t,i,a)},p(t,c){8388608&c[0]&&a!==(a=(t[112].icon_attr_prepend?t[112].icon_attr_prepend:"")+"")&&f(e,a),1082130434&c[0]&&s!==(s=t[86][t[112].icon_attr]+"")&&f(n,s),8388608&c[0]&&o!==(o=(t[112].icon_attr_append?t[112].icon_attr_append:"")+"")&&f(i,o)},d(t){t&&(r(e),r(n),r(i))}}}function Sn(t){let e,n,i,a,s,o,c=(t[112].icon_attr_prepend?t[112].icon_attr_prepend:"")+"",l=t[86][t[112].icon_attr]+"",d=(t[112].icon_attr_append?t[112].icon_attr_append:"")+"";return{c(){e=h("span"),n=w(c),i=w(l),a=w(d),g(e,"title",s=t[112].title?t[112].title:null),g(e,"class",o=t[112].class)},m(t,s){_(t,e,s),m(e,n),m(e,i),m(e,a)},p(t,r){8388608&r[0]&&c!==(c=(t[112].icon_attr_prepend?t[112].icon_attr_prepend:"")+"")&&f(n,c),1082130434&r[0]&&l!==(l=t[86][t[112].icon_attr]+"")&&f(i,l),8388608&r[0]&&d!==(d=(t[112].icon_attr_append?t[112].icon_attr_append:"")+"")&&f(a,d),8388608&r[0]&&s!==(s=t[112].title?t[112].title:null)&&g(e,"title",s),8388608&r[0]&&o!==(o=t[112].class)&&g(e,"class",o)},d(t){t&&r(e)}}}function In(t){let e,n,i,a,s,o,c=(t[86][t[112].icon_attr]&&"bool"==t[112].icon_attr_type||t[86][t[112].icon_attr]==t[112].icon_attr_val&&"cmp"==t[112].icon_attr_type?t[112].icon_attr_true:t[112].icon_attr_false)+"";function l(...e){return t[61](t[112],t[86],...e)}return{c(){e=h("span"),n=w(c),g(e,"title",i=t[112].title?t[112].title:null),g(e,"class",a=t[112].class+" me-0 "+(t[112].class_false?$a(t[86],t[112].class_false,!1):"")+" "+(t[112].class_true?$a(t[86],t[112].class_true,!0):""))},m(t,i){_(t,e,i),m(e,n),s||(o=b(e,"click",l),s=!0)},p(s,o){t=s,1082130434&o[0]&&c!==(c=(t[86][t[112].icon_attr]&&"bool"==t[112].icon_attr_type||t[86][t[112].icon_attr]==t[112].icon_attr_val&&"cmp"==t[112].icon_attr_type?t[112].icon_attr_true:t[112].icon_attr_false)+"")&&f(n,c),8388608&o[0]&&i!==(i=t[112].title?t[112].title:null)&&g(e,"title",i),1082130434&o[0]&&a!==(a=t[112].class+" me-0 "+(t[112].class_false?$a(t[86],t[112].class_false,!1):"")+" "+(t[112].class_true?$a(t[86],t[112].class_true,!0):""))&&g(e,"class",a)},d(t){t&&r(e),s=!1,o()}}}function En(t){let e;function n(t,e){return"bool"==t[112].icon_attr_type||"cmp"==t[112].icon_attr_type?Ln:"string"==t[112].icon_attr_type?Dn:void 0}let i=n(t),a=i&&i(t);return{c(){a&&a.c(),e=p()},m(t,n){a&&a.m(t,n),_(t,e,n)},p(t,s){i===(i=n(t))&&a?a.p(t,s):(a&&a.d(1),a=i&&i(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){t&&r(e),a&&a.d(t)}}}function Nn(t){let e,n,i,a,s,o,c,l,d,m,h,g="pending_chats"==t[1]&&-1!==t[22].indexOf("lhchat_deletechat"),f=t[86].can_edit_chat&&"pending_chats"==t[1]&&-1!==t[22].indexOf("lhchat_redirectcontact"),w="subject_chats"==t[1]&&Pn(t),b=g&&On(t),v=f&&Bn(t);function y(t,e){return"my_mails"==t[1]||"active_mails"==t[1]||"pending_mails"==t[1]||"alarm_mails"==t[1]?Hn:t[14]?void 0:Mn}let x=y(t),$=x&&x(t),C=7==t[86].status_sub&&Gn(t),j="bot_chats"==t[1]&&qn(t),k=t[86].hum&&("active_chats"==t[1]||"my_chats"==t[1])&&Un(t),W=t[86].aicons&&Fn(t),D=!1===t[4]&&t[32]&&t[30].additionalColumns&&Zn(t),L="my_mails"!=t[1]&&"active_mails"!=t[1]&&"pending_mails"!=t[1]&&"alarm_mails"!=t[1]&&ai(t),A=t[86].subject_list&&("pending_chats"==t[1]||"bot_chats"==t[1]||"active_chats"==t[1]||"my_chats"==t[1])&&si(t);return{c(){w&&w.c(),e=u(),b&&b.c(),n=u(),v&&v.c(),i=u(),$&&$.c(),a=u(),C&&C.c(),s=u(),j&&j.c(),o=u(),k&&k.c(),c=u(),W&&W.c(),l=u(),D&&D.c(),d=u(),L&&L.c(),m=u(),A&&A.c(),h=p()},m(t,r){w&&w.m(t,r),_(t,e,r),b&&b.m(t,r),_(t,n,r),v&&v.m(t,r),_(t,i,r),$&&$.m(t,r),_(t,a,r),C&&C.m(t,r),_(t,s,r),j&&j.m(t,r),_(t,o,r),k&&k.m(t,r),_(t,c,r),W&&W.m(t,r),_(t,l,r),D&&D.m(t,r),_(t,d,r),L&&L.m(t,r),_(t,m,r),A&&A.m(t,r),_(t,h,r)},p(t,r){"subject_chats"==t[1]?w?w.p(t,r):(w=Pn(t),w.c(),w.m(e.parentNode,e)):w&&(w.d(1),w=null),4194306&r[0]&&(g="pending_chats"==t[1]&&-1!==t[22].indexOf("lhchat_deletechat")),g?b?b.p(t,r):(b=On(t),b.c(),b.m(n.parentNode,n)):b&&(b.d(1),b=null),1077936130&r[0]&&(f=t[86].can_edit_chat&&"pending_chats"==t[1]&&-1!==t[22].indexOf("lhchat_redirectcontact")),f?v?v.p(t,r):(v=Bn(t),v.c(),v.m(i.parentNode,i)):v&&(v.d(1),v=null),x===(x=y(t))&&$?$.p(t,r):($&&$.d(1),$=x&&x(t),$&&($.c(),$.m(a.parentNode,a))),7==t[86].status_sub?C?C.p(t,r):(C=Gn(t),C.c(),C.m(s.parentNode,s)):C&&(C.d(1),C=null),"bot_chats"==t[1]?j?j.p(t,r):(j=qn(t),j.c(),j.m(o.parentNode,o)):j&&(j.d(1),j=null),!t[86].hum||"active_chats"!=t[1]&&"my_chats"!=t[1]?k&&(k.d(1),k=null):k?k.p(t,r):(k=Un(t),k.c(),k.m(c.parentNode,c)),t[86].aicons?W?W.p(t,r):(W=Fn(t),W.c(),W.m(l.parentNode,l)):W&&(W.d(1),W=null),!1===t[4]&&t[32]&&t[30].additionalColumns?D?D.p(t,r):(D=Zn(t),D.c(),D.m(d.parentNode,d)):D&&(D.d(1),D=null),"my_mails"!=t[1]&&"active_mails"!=t[1]&&"pending_mails"!=t[1]&&"alarm_mails"!=t[1]?L?L.p(t,r):(L=ai(t),L.c(),L.m(m.parentNode,m)):L&&(L.d(1),L=null),!t[86].subject_list||"pending_chats"!=t[1]&&"bot_chats"!=t[1]&&"active_chats"!=t[1]&&"my_chats"!=t[1]?A&&(A.d(1),A=null):A?A.p(t,r):(A=si(t),A.c(),A.m(h.parentNode,h))},d(t){t&&(r(e),r(n),r(i),r(a),r(s),r(o),r(c),r(l),r(d),r(m),r(h)),w&&w.d(t),b&&b.d(t),v&&v.d(t),$&&$.d(t),C&&C.d(t),j&&j.d(t),k&&k.d(t),W&&W.d(t),D&&D.d(t),L&&L.d(t),A&&A.d(t)}}}function Tn(t){let e,n,i,a,s,o,c,l,d,p,v=1==t[86].type?"security":"public",y=t[86].tm+"",x=t[86].name+"",$=1==t[86].is_member&&(!t[86].ls_id||t[86].ls_id<t[86].last_msg_id)&&ci(t),C=t[86].user_id==t[30].current_user_id&&li();function j(...e){return t[65](t[86],...e)}return{c(){e=h("a"),$&&$.c(),n=u(),i=h("i"),a=w(v),C&&C.c(),s=w("["),o=w(y),c=w("] "),l=w(x),g(i,"class","material-icons"),g(e,"class","d-block action-image")},m(t,r){_(t,e,r),$&&$.m(e,null),m(e,n),m(e,i),m(i,a),C&&C.m(e,null),m(e,s),m(e,o),m(e,c),m(e,l),d||(p=b(e,"click",j),d=!0)},p(i,c){1==(t=i)[86].is_member&&(!t[86].ls_id||t[86].ls_id<t[86].last_msg_id)?$?$.p(t,c):($=ci(t),$.c(),$.m(e,n)):$&&($.d(1),$=null),1073741826&c[0]&&v!==(v=1==t[86].type?"security":"public")&&f(a,v),t[86].user_id==t[30].current_user_id?C||(C=li(),C.c(),C.m(e,s)):C&&(C.d(1),C=null),1073741826&c[0]&&y!==(y=t[86].tm+"")&&f(o,y),1073741826&c[0]&&x!==(x=t[86].name+"")&&f(l,x)},d(t){t&&r(e),$&&$.d(),C&&C.d(),d=!1,p()}}}function Rn(t){let e,n,i,a,s,o,c,l,d=t[86].user_id!=t[30].current_user_id&&-1!==t[22].indexOf("lhgroupchat_use"),m=t[86].avatar&&!t[10]&&di(t),h=d&&ri(t),g=t[86].offline_since_s&&_i(t);function f(t,e){return 4194304&e[0]&&(a=null),null==a&&(a=!(-1===t[22].indexOf("lhuser_setopstatus"))),a?pi:ui}let w=f(t,[-1,-1,-1,-1]),b=w(t);function v(t,e){return 4194304&e[0]&&(o=null),null==o&&(o=!(-1===t[22].indexOf("lhstatistic_userstats"))),o?hi:mi}let y=v(t,[-1,-1,-1,-1]),x=y(t),$=t[86].lac_ago_s>35&&wi(t);return{c(){m&&m.c(),e=u(),h&&h.c(),n=u(),g&&g.c(),i=u(),b.c(),s=u(),x.c(),c=u(),$&&$.c(),l=p()},m(t,a){m&&m.m(t,a),_(t,e,a),h&&h.m(t,a),_(t,n,a),g&&g.m(t,a),_(t,i,a),b.m(t,a),_(t,s,a),x.m(t,a),_(t,c,a),$&&$.m(t,a),_(t,l,a)},p(t,a){t[86].avatar&&!t[10]?m?m.p(t,a):(m=di(t),m.c(),m.m(e.parentNode,e)):m&&(m.d(1),m=null),1077936130&a[0]&&(d=t[86].user_id!=t[30].current_user_id&&-1!==t[22].indexOf("lhgroupchat_use")),d?h?h.p(t,a):(h=ri(t),h.c(),h.m(n.parentNode,n)):h&&(h.d(1),h=null),t[86].offline_since_s?g?g.p(t,a):(g=_i(t),g.c(),g.m(i.parentNode,i)):g&&(g.d(1),g=null),w===(w=f(t,a))&&b?b.p(t,a):(b.d(1),b=w(t),b&&(b.c(),b.m(s.parentNode,s))),y===(y=v(t,a))&&x?x.p(t,a):(x.d(1),x=y(t),x&&(x.c(),x.m(c.parentNode,c))),t[86].lac_ago_s>35?$?$.p(t,a):($=wi(t),$.c(),$.m(l.parentNode,l)):$&&($.d(1),$=null)},d(t){t&&(r(e),r(n),r(i),r(s),r(c),r(l)),m&&m.d(t),h&&h.d(t),g&&g.d(t),b.d(t),x.d(t),$&&$.d(t)}}}function Pn(t){let e,n,i=5==t[86].status?"android":"chat";return{c(){e=h("span"),n=w(i),g(e,"class","material-icons chat-pending me-0"),j(e,"chat-active",1==t[86].status||5==t[86].status)},m(t,i){_(t,e,i),m(e,n)},p(t,a){1073741826&a[0]&&i!==(i=5==t[86].status?"android":"chat")&&f(n,i),1073741826&a[0]&&j(e,"chat-active",1==t[86].status||5==t[86].status)},d(t){t&&r(e)}}}function On(t){let e,n,i,a,s;function o(...e){return t[66](t[86],...e)}return{c(){e=h("a"),n=w("delete"),g(e,"title",i=t[31]("widget.delete_chat")),g(e,"class","material-icons float-end")},m(t,i){_(t,e,i),m(e,n),a||(s=b(e,"click",o),a=!0)},p(n,a){t=n,1&a[1]&&i!==(i=t[31]("widget.delete_chat"))&&g(e,"title",i)},d(t){t&&r(e),a=!1,s()}}}function Bn(t){let e,n,i,a,s;function o(...e){return t[67](t[86],...e)}return{c(){e=h("a"),n=w("reply"),g(e,"class","material-icons me-0"),g(e,"title",i=t[31]("widget.redirect_contact"))},m(t,i){_(t,e,i),m(e,n),a||(s=b(e,"click",o),a=!0)},p(n,a){t=n,1&a[1]&&i!==(i=t[31]("widget.redirect_contact"))&&g(e,"title",i)},d(t){t&&r(e),a=!1,s()}}}function Mn(t){let e,n,i,a,s;function o(...e){return t[69](t[86],...e)}return{c(){e=h("a"),n=w("info_outline"),g(e,"title",i="["+t[86].id+"] "+t[86].time_created_front),g(e,"class","material-icons me-0")},m(t,i){_(t,e,i),m(e,n),a||(s=b(e,"click",o),a=!0)},p(n,a){t=n,1073741826&a[0]&&i!==(i="["+t[86].id+"] "+t[86].time_created_front)&&g(e,"title",i)},d(t){t&&r(e),a=!1,s()}}}function Hn(t){let e,n,i,a,s,o,c,l,d,p,v,y,x,$=t[86].from_name+"",C=t[86].subject_front+"",j="my_mails"==t[1]&&1!=t[86].status&&Vn();function k(...e){return t[68](t[86],...e)}let W="alarm_mails"==t[1]&&Jn(t);return{c(){j&&j.c(),e=u(),n=h("a"),i=w("info_outline"),s=u(),W&&W.c(),o=u(),c=h("span"),l=w($),d=w(" | "),p=w(C),g(n,"title",a=t[86].id),g(n,"class","material-icons"),g(c,"title",v=t[86].from_address)},m(t,a){j&&j.m(t,a),_(t,e,a),_(t,n,a),m(n,i),_(t,s,a),W&&W.m(t,a),_(t,o,a),_(t,c,a),m(c,l),m(c,d),m(c,p),y||(x=b(n,"click",k),y=!0)},p(i,s){"my_mails"==(t=i)[1]&&1!=t[86].status?j||(j=Vn(),j.c(),j.m(e.parentNode,e)):j&&(j.d(1),j=null),1073741826&s[0]&&a!==(a=t[86].id)&&g(n,"title",a),"alarm_mails"==t[1]?W?W.p(t,s):(W=Jn(t),W.c(),W.m(o.parentNode,o)):W&&(W.d(1),W=null),1073741826&s[0]&&$!==($=t[86].from_name+"")&&f(l,$),1073741826&s[0]&&C!==(C=t[86].subject_front+"")&&f(p,C),1073741826&s[0]&&v!==(v=t[86].from_address)&&g(c,"title",v)},d(t){t&&(r(e),r(n),r(s),r(o),r(c)),j&&j.d(t),W&&W.d(t),y=!1,x()}}}function Vn(t){let e;return{c(){e=h("i"),e.textContent="",g(e,"title","Pending chat"),g(e,"class","material-icons me-0 chat-unread")},m(t,n){_(t,e,n)},d(t){t&&r(e)}}}function Jn(t){let e,n,i;return{c(){e=h("i"),n=w("mail_outline"),g(e,"class",i="material-icons me-0 "+(1==t[86].status?"chat-active":"chat-pending"))},m(t,i){_(t,e,i),m(e,n)},p(t,n){1073741826&n[0]&&i!==(i="material-icons me-0 "+(1==t[86].status?"chat-active":"chat-pending"))&&g(e,"class",i)},d(t){t&&r(e)}}}function Gn(t){let e,n,i;return{c(){e=h("i"),n=w("mail"),g(e,"class","material-icons me-0"),g(e,"title",i=t[31]("widget.offline_request"))},m(t,i){_(t,e,i),m(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.offline_request"))&&g(e,"title",i)},d(t){t&&r(e)}}}function qn(t){let e,n,i,a,s,o,c,l=(t[86].msg_v||0)+"",d=t[86].msg_v>t[30].bot_st.msg_nm&&Qn(t);return{c(){e=h("span"),n=w("["),i=w(l),a=w("]"),o=u(),d&&d.c(),c=p(),g(e,"title",s=t[31]("widget.msg_v_number"))},m(t,s){_(t,e,s),m(e,n),m(e,i),m(e,a),_(t,o,s),d&&d.m(t,s),_(t,c,s)},p(t,n){1073741826&n[0]&&l!==(l=(t[86].msg_v||0)+"")&&f(i,l),1&n[1]&&s!==(s=t[31]("widget.msg_v_number"))&&g(e,"title",s),t[86].msg_v>t[30].bot_st.msg_nm?d?d.p(t,n):(d=Qn(t),d.c(),d.m(c.parentNode,c)):d&&(d.d(1),d=null)},d(t){t&&(r(e),r(o),r(c)),d&&d.d(t)}}}function Qn(t){let e,n,i;return{c(){e=h("i"),n=w("whatshot"),g(e,"title",i=t[31]("widget.more_than")+" "+String(t[30].bot_st.msg_nm)+" "+t[31]("widget.user_msgs")),g(e,"class","material-icons text-warning me-0")},m(t,i){_(t,e,i),m(e,n)},p(t,n){1073741824&n[0]|1&n[1]&&i!==(i=t[31]("widget.more_than")+" "+String(t[30].bot_st.msg_nm)+" "+t[31]("widget.user_msgs"))&&g(e,"title",i)},d(t){t&&r(e)}}}function Un(t){let e,n,i;return{c(){e=h("i"),n=w("feedback"),g(e,"title",i=t[31]("widget.has_unread_messages")),g(e,"class","material-icons me-0 text-danger")},m(t,i){_(t,e,i),m(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.has_unread_messages"))&&g(e,"title",i)},d(t){t&&r(e)}}}function Fn(t){let e,n=k(Object.entries(t[86].aicons)),i=[];for(let e=0;e<n.length;e+=1)i[e]=zn(xe(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=p()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);_(t,e,n)},p(t,a){if(1073741826&a[0]){let s;for(n=k(Object.entries(t[86].aicons)),s=0;s<n.length;s+=1){const o=xe(t,n,s);i[s]?i[s].p(o,a):(i[s]=zn(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&r(e),W(i,t)}}}function Kn(t){let e,n;function i(t,n){return 1073741826&n[0]&&(e=null),null==e&&(e=!(!t[109].i||!t[109].i.includes("/"))),e?Yn:Xn}let a=i(t,[-1,-1,-1,-1]),s=a(t);return{c(){s.c(),n=p()},m(t,e){s.m(t,e),_(t,n,e)},p(t,e){a===(a=i(t,e))&&s?s.p(t,e):(s.d(1),s=a(t),s&&(s.c(),s.m(n.parentNode,n)))},d(t){t&&r(n),s.d(t)}}}function Xn(t){let e,n,i,a=(t[109].i||t[109])+"";return{c(){e=h("i"),n=w(a),g(e,"class","material-icons me-0"),g(e,"title",i=t[109].t?t[109].t:t[109].i),N(e,"color",t[109].c?t[109].c:"#6c757d")},m(t,i){_(t,e,i),m(e,n)},p(t,s){1073741826&s[0]&&a!==(a=(t[109].i||t[109])+"")&&f(n,a),1073741826&s[0]&&i!==(i=t[109].t?t[109].t:t[109].i)&&g(e,"title",i),1073741826&s[0]&&N(e,"color",t[109].c?t[109].c:"#6c757d")},d(t){t&&r(e)}}}function Yn(t){let e,n,i;return{c(){e=h("img"),E(e.src,n=t[109].i)||g(e,"src",n),g(e,"title",i=t[109].t?t[109].t:t[109].i)},m(t,n){_(t,e,n)},p(t,a){1073741826&a[0]&&!E(e.src,n=t[109].i)&&g(e,"src",n),1073741826&a[0]&&i!==(i=t[109].t?t[109].t:t[109].i)&&g(e,"title",i)},d(t){t&&r(e)}}}function zn(t){let e,n=0==t[30].excludeIcons.length||-1===t[30].excludeIcons.indexOf(t[109].i),i=n&&Kn(t);return{c(){i&&i.c(),e=p()},m(t,n){i&&i.m(t,n),_(t,e,n)},p(t,a){1073741826&a[0]&&(n=0==t[30].excludeIcons.length||-1===t[30].excludeIcons.indexOf(t[109].i)),n?i?i.p(t,a):(i=Kn(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(t){t&&r(e),i&&i.d(t)}}}function Zn(t){let e,n=k(t[30].additionalColumns),i=[];for(let e=0;e<n.length;e+=1)i[e]=ii(ve(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=p()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);_(t,e,n)},p(t,a){if(1073741826&a[0]){let s;for(n=k(t[30].additionalColumns),s=0;s<n.length;s+=1){const o=ve(t,n,s);i[s]?i[s].p(o,a):(i[s]=ii(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&r(e),W(i,t)}}}function ti(t){let e,n=k(t[96].items),i=[];for(let e=0;e<n.length;e+=1)i[e]=ni(ye(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=p()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);_(t,e,n)},p(t,a){if(1073741826&a[0]){let s;for(n=k(t[96].items),s=0;s<n.length;s+=1){const o=ye(t,n,s);i[s]?i[s].p(o,a):(i[s]=ni(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&r(e),W(i,t)}}}function ei(t){let e,n,i,a,s,o=(t[96].icon[t[86][t[99]]]&&t[96].icon[t[86][t[99]]].icon?t[96].icon[t[86][t[99]]].icon:"unknown_document")+"";function c(...e){return t[70](t[96],t[86],...e)}return{c(){e=h("span"),n=w(o),g(e,"class","material-icons me-0"),g(e,"title",i=(1==t[96].iconp?"Click for more information | ":"")+(t[86][t[99]+"_tt"]?t[86][t[99]+"_tt"]:t[86][t[99]])),N(e,"color",t[96].icon[t[86][t[99]]]&&t[96].icon[t[86][t[99]]].color?t[96].icon[t[86][t[99]]].color:"#CECECE")},m(t,i){_(t,e,i),m(e,n),a||(s=b(e,"click",c),a=!0)},p(a,s){t=a,1073741826&s[0]&&o!==(o=(t[96].icon[t[86][t[99]]]&&t[96].icon[t[86][t[99]]].icon?t[96].icon[t[86][t[99]]].icon:"unknown_document")+"")&&f(n,o),1073741826&s[0]&&i!==(i=(1==t[96].iconp?"Click for more information | ":"")+(t[86][t[99]+"_tt"]?t[86][t[99]+"_tt"]:t[86][t[99]]))&&g(e,"title",i),1073741826&s[0]&&N(e,"color",t[96].icon[t[86][t[99]]]&&t[96].icon[t[86][t[99]]].color?t[96].icon[t[86][t[99]]].color:"#CECECE")},d(t){t&&r(e),a=!1,s()}}}function ni(t){let e,n=t[86][t[99]]&&ei(t);return{c(){n&&n.c(),e=p()},m(t,i){n&&n.m(t,i),_(t,e,i)},p(t,i){t[86][t[99]]?n?n.p(t,i):(n=ei(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&r(e),n&&n.d(t)}}}function ii(t){let e,n=1==t[96].cenabl&&1==t[96].iconm&&ti(t);return{c(){n&&n.c(),e=p()},m(t,i){n&&n.m(t,i),_(t,e,i)},p(t,i){1==t[96].cenabl&&1==t[96].iconm?n?n.p(t,i):(n=ti(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&r(e),n&&n.d(t)}}}function ai(t){let e,n,i,a,s=(t[86].nick?t[86].nick:"")+"",o="pending_chats"!=t[1]&&"subject_chats"!=t[1]||void 0===t[86].plain_user_name?"":" | "+t[86].plain_user_name;return{c(){e=h("span"),n=w(s),i=h("small"),a=w(o),j(e,"fw-bold",t[86].nb),N(e,"color",t[86].nc?t[86].nc:null)},m(t,s){_(t,e,s),m(e,n),_(t,i,s),m(i,a)},p(t,i){1073741826&i[0]&&s!==(s=(t[86].nick?t[86].nick:"")+"")&&f(n,s),1073741826&i[0]&&j(e,"fw-bold",t[86].nb),1073741826&i[0]&&N(e,"color",t[86].nc?t[86].nc:null),1073741826&i[0]&&o!==(o="pending_chats"!=t[1]&&"subject_chats"!=t[1]||void 0===t[86].plain_user_name?"":" | "+t[86].plain_user_name)&&f(a,o)},d(t){t&&(r(e),r(i))}}}function si(t){let e,n=k(t[86].subject_list),i=[];for(let e=0;e<n.length;e+=1)i[e]=oi(be(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=p()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);_(t,e,n)},p(t,a){if(1073741826&a[0]){let s;for(n=k(t[86].subject_list),s=0;s<n.length;s+=1){const o=be(t,n,s);i[s]?i[s].p(o,a):(i[s]=oi(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&r(e),W(i,t)}}}function oi(t){let e,n,i=t[93].n+"";return{c(){e=h("span"),n=w(i),g(e,"class","badge bg-info fs12 me-1"),N(e,"background-color",t[93].c?"#"+t[93].c:null,1)},m(t,i){_(t,e,i),m(e,n)},p(t,a){1073741826&a[0]&&i!==(i=t[93].n+"")&&f(n,i),1073741826&a[0]&&N(e,"background-color",t[93].c?"#"+t[93].c:null,1)},d(t){t&&r(e)}}}function ci(t){let e,n,i;return{c(){e=h("i"),n=w("whatshot"),g(e,"class","material-icons text-warning"),g(e,"title",i=t[31]("group_chat.unread_messages"))},m(t,i){_(t,e,i),m(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("group_chat.unread_messages"))&&g(e,"title",i)},d(t){t&&r(e)}}}function li(t){let e;return{c(){e=h("i"),e.textContent="account_balance",g(e,"class","material-icons")},m(t,n){_(t,e,n)},d(t){t&&r(e)}}}function di(t){let e,n;return{c(){e=h("img"),g(e,"class","rounded-circle"),E(e.src,n=t[86].avatar)||g(e,"src",n),g(e,"alt",""),g(e,"width","20")},m(t,n){_(t,e,n)},p(t,i){1073741826&i[0]&&!E(e.src,n=t[86].avatar)&&g(e,"src",n)},d(t){t&&r(e)}}}function ri(t){let e,n,i,a,s;function o(...e){return t[62](t[86],...e)}return{c(){e=h("a"),n=h("i"),n.textContent="chat",g(n,"class","material-icons me-0"),g(e,"href","#"),g(e,"title",i=t[31]("widget.start_chat"))},m(t,i){_(t,e,i),m(e,n),a||(s=b(e,"click",o),a=!0)},p(n,a){t=n,1&a[1]&&i!==(i=t[31]("widget.start_chat"))&&g(e,"title",i)},d(t){t&&r(e),a=!1,s()}}}function _i(t){let e,n,i,a="clock_loader_"+t[86].offline_since_s.i;return{c(){e=h("i"),n=w(a),g(e,"class","material-icons me-0"),g(e,"title",i=t[31]("widget.went_offline_ago",{ago:t[86].offline_since})),N(e,"color",t[86].offline_since_s.c?t[86].offline_since_s.c:null)},m(t,i){_(t,e,i),m(e,n)},p(t,s){1073741826&s[0]&&a!==(a="clock_loader_"+t[86].offline_since_s.i)&&f(n,a),1073741826&s[0]|1&s[1]&&i!==(i=t[31]("widget.went_offline_ago",{ago:t[86].offline_since}))&&g(e,"title",i),1073741826&s[0]&&N(e,"color",t[86].offline_since_s.c?t[86].offline_since_s.c:null)},d(t){t&&r(e)}}}function ui(t){let e,n,i=1==t[86].hide_online?"flash_off":"flash_on";return{c(){e=h("i"),n=w(i),g(e,"class","material-icons me-0 ")},m(t,i){_(t,e,i),m(e,n)},p(t,e){1073741826&e[0]&&i!==(i=1==t[86].hide_online?"flash_off":"flash_on")&&f(n,i)},d(t){t&&r(e)}}}function pi(t){let e,n,i,a,s,o=1==t[86].hide_online?"flash_off":"flash_on";function c(...e){return t[63](t[86],...e)}return{c(){e=h("i"),n=w(o),g(e,"class","material-icons me-0 action-image"),g(e,"title",i=t[31]("widget.change_op_status"))},m(t,i){_(t,e,i),m(e,n),a||(s=b(e,"click",c),a=!0)},p(a,s){t=a,1073741826&s[0]&&o!==(o=1==t[86].hide_online?"flash_off":"flash_on")&&f(n,o),1&s[1]&&i!==(i=t[31]("widget.change_op_status"))&&g(e,"title",i)},d(t){t&&r(e),a=!1,s()}}}function mi(t){let e,n,i,a,s=t[86].name_official+"",o=t[86].hide_online&&t[86].offline_since&&gi(t);return{c(){e=h("span"),n=w(s),o&&o.c(),a=p(),g(e,"title",i=t[31]("widget.last_activity_ago")+" "+t[86].lastactivity_ago)},m(t,i){_(t,e,i),m(e,n),o&&o.m(t,i),_(t,a,i)},p(t,c){1073741826&c[0]&&s!==(s=t[86].name_official+"")&&f(n,s),1073741826&c[0]|1&c[1]&&i!==(i=t[31]("widget.last_activity_ago")+" "+t[86].lastactivity_ago)&&g(e,"title",i),t[86].hide_online&&t[86].offline_since?o?o.p(t,c):(o=gi(t),o.c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},d(t){t&&(r(e),r(a)),o&&o.d(t)}}}function hi(t){let e,n,i,a,s,o=t[86].name_official+"",c=t[86].hide_online&&t[86].offline_since&&fi(t);function l(...e){return t[64](t[86],...e)}return{c(){e=h("a"),n=w(o),c&&c.c(),g(e,"href","#"),g(e,"title",i=t[31]("widget.last_activity_ago")+" "+t[86].lastactivity_ago+" "+t[31]("widget.see_op_stats")),j(e,"text-muted",t[86].ro)},m(t,i){_(t,e,i),m(e,n),c&&c.m(e,null),a||(s=b(e,"click",l),a=!0)},p(a,s){t=a,1073741826&s[0]&&o!==(o=t[86].name_official+"")&&f(n,o),t[86].hide_online&&t[86].offline_since?c?c.p(t,s):(c=fi(t),c.c(),c.m(e,null)):c&&(c.d(1),c=null),1073741826&s[0]|1&s[1]&&i!==(i=t[31]("widget.last_activity_ago")+" "+t[86].lastactivity_ago+" "+t[31]("widget.see_op_stats"))&&g(e,"title",i),1073741826&s[0]&&j(e,"text-muted",t[86].ro)},d(t){t&&r(e),c&&c.d(),a=!1,s()}}}function gi(t){let e,n,i,a,s=t[86].offline_since+"";return{c(){e=w(", "),n=h("span"),i=w(s),g(n,"title",a=t[31]("widget.went_offline_ago",{ago:t[86].offline_since}))},m(t,a){_(t,e,a),_(t,n,a),m(n,i)},p(t,e){1073741826&e[0]&&s!==(s=t[86].offline_since+"")&&f(i,s),1073741826&e[0]|1&e[1]&&a!==(a=t[31]("widget.went_offline_ago",{ago:t[86].offline_since}))&&g(n,"title",a)},d(t){t&&(r(e),r(n))}}}function fi(t){let e,n,i,a,s=t[86].offline_since+"";return{c(){e=h("span"),n=w(", "),i=w(s),g(e,"title",a=t[31]("widget.went_offline_ago",{ago:t[86].offline_since}))},m(t,a){_(t,e,a),m(e,n),m(e,i)},p(t,n){1073741826&n[0]&&s!==(s=t[86].offline_since+"")&&f(i,s),1073741826&n[0]|1&n[1]&&a!==(a=t[31]("widget.went_offline_ago",{ago:t[86].offline_since}))&&g(e,"title",a)},d(t){t&&r(e)}}}function wi(t){let e,n,i;return{c(){e=h("span"),n=w("wifi_off"),g(e,"title",i=t[31]("widget.no_ping_for")+" "+t[86].lastactivity_ago),g(e,"class","material-icons text-danger")},m(t,i){_(t,e,i),m(e,n)},p(t,n){1073741826&n[0]|1&n[1]&&i!==(i=t[31]("widget.no_ping_for")+" "+t[86].lastactivity_ago)&&g(e,"title",i)},d(t){t&&r(e)}}}function bi(t){let e,n=k(t[30].additionalColumns),i=[];for(let e=0;e<n.length;e+=1)i[e]=$i(fe(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=p()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);_(t,e,n)},p(t,a){if(1073741826&a[0]){let s;for(n=k(t[30].additionalColumns),s=0;s<n.length;s+=1){const o=fe(t,n,s);i[s]?i[s].p(o,a):(i[s]=$i(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&r(e),W(i,t)}}}function vi(t){let e,n,i=k(t[96].items),a=[];for(let e=0;e<i.length;e+=1)a[e]=xi(we(t,i,e));return{c(){e=h("td");for(let t=0;t<a.length;t+=1)a[t].c();n=u()},m(t,i){_(t,e,i);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(e,null);m(e,n)},p(t,s){if(1073741826&s[0]){let o;for(i=k(t[96].items),o=0;o<i.length;o+=1){const c=we(t,i,o);a[o]?a[o].p(c,s):(a[o]=xi(c),a[o].c(),a[o].m(e,n))}for(;o<a.length;o+=1)a[o].d(1);a.length=i.length}},d(t){t&&r(e),W(a,t)}}}function yi(t){let e,n,i=t[86][t[99]]+"";return{c(){e=h("div"),n=w(i),g(e,"class","abbr-list")},m(t,i){_(t,e,i),m(e,n)},p(t,e){1073741826&e[0]&&i!==(i=t[86][t[99]]+"")&&f(n,i)},d(t){t&&r(e)}}}function xi(t){let e,n=t[86][t[99]]&&yi(t);return{c(){n&&n.c(),e=p()},m(t,i){n&&n.m(t,i),_(t,e,i)},p(t,i){t[86][t[99]]?n?n.p(t,i):(n=yi(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&r(e),n&&n.d(t)}}}function $i(t){let e,n=1==t[96].cenabl&&!t[96].iconm&&vi(t);return{c(){n&&n.c(),e=p()},m(t,i){n&&n.m(t,i),_(t,e,i)},p(t,i){1!=t[96].cenabl||t[96].iconm?n&&(n.d(1),n=null):n?n.p(t,i):(n=vi(t),n.c(),n.m(e.parentNode,e))},d(t){t&&r(e),n&&n.d(t)}}}function Ci(t){let e,n=t[86].subject_list&&ji(t);return{c(){e=h("td"),n&&n.c()},m(t,i){_(t,e,i),n&&n.m(e,null)},p(t,i){t[86].subject_list?n?n.p(t,i):(n=ji(t),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},d(t){t&&r(e),n&&n.d()}}}function ji(t){let e,n=k(t[86].subject_list),i=[];for(let e=0;e<n.length;e+=1)i[e]=ki(ge(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=p()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);_(t,e,n)},p(t,a){if(1073741826&a[0]){let s;for(n=k(t[86].subject_list),s=0;s<n.length;s+=1){const o=ge(t,n,s);i[s]?i[s].p(o,a):(i[s]=ki(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&r(e),W(i,t)}}}function ki(t){let e,n,i=t[93].n+"";return{c(){e=h("span"),n=w(i),g(e,"class","badge bg-info fs12 me-1"),N(e,"background-color",t[93].c?"#"+t[93].c:null,1)},m(t,i){_(t,e,i),m(e,n)},p(t,a){1073741826&a[0]&&i!==(i=t[93].n+"")&&f(n,i),1073741826&a[0]&&N(e,"background-color",t[93].c?"#"+t[93].c:null,1)},d(t){t&&r(e)}}}function Wi(t){let e,n,i,a,s,o,c,l,d,p="group_chats"==t[1]&&Di(t),g=t[86].can_edit_chat&&"pending_chats"==t[1]&&Ei(t),f=("my_mails"==t[1]||"pending_mails"==t[1])&&Ni(t),w="active_mails"==t[1]&&Ti(t),b="alarm_mails"==t[1]&&Ri(t),v="online_op"==t[1]&&Pi(t),y=("active_chats"==t[1]||"subject_chats"==t[1]||"bot_chats"==t[1])&&Oi(t),x="unread_chats"==t[1]&&Hi(t),$="my_chats"==t[1]&&Vi(t);return{c(){e=h("td"),p&&p.c(),n=u(),g&&g.c(),i=u(),f&&f.c(),a=u(),w&&w.c(),s=u(),b&&b.c(),o=u(),v&&v.c(),c=u(),y&&y.c(),l=u(),x&&x.c(),d=u(),$&&$.c(),j(e,"align-middle","online_op"==t[1])},m(t,r){_(t,e,r),p&&p.m(e,null),m(e,n),g&&g.m(e,null),m(e,i),f&&f.m(e,null),m(e,a),w&&w.m(e,null),m(e,s),b&&b.m(e,null),m(e,o),v&&v.m(e,null),m(e,c),y&&y.m(e,null),m(e,l),x&&x.m(e,null),m(e,d),$&&$.m(e,null)},p(t,r){"group_chats"==t[1]?p?p.p(t,r):(p=Di(t),p.c(),p.m(e,n)):p&&(p.d(1),p=null),t[86].can_edit_chat&&"pending_chats"==t[1]?g?g.p(t,r):(g=Ei(t),g.c(),g.m(e,i)):g&&(g.d(1),g=null),"my_mails"==t[1]||"pending_mails"==t[1]?f?f.p(t,r):(f=Ni(t),f.c(),f.m(e,a)):f&&(f.d(1),f=null),"active_mails"==t[1]?w?w.p(t,r):(w=Ti(t),w.c(),w.m(e,s)):w&&(w.d(1),w=null),"alarm_mails"==t[1]?b?b.p(t,r):(b=Ri(t),b.c(),b.m(e,o)):b&&(b.d(1),b=null),"online_op"==t[1]?v?v.p(t,r):(v=Pi(t),v.c(),v.m(e,c)):v&&(v.d(1),v=null),"active_chats"==t[1]||"subject_chats"==t[1]||"bot_chats"==t[1]?y?y.p(t,r):(y=Oi(t),y.c(),y.m(e,l)):y&&(y.d(1),y=null),"unread_chats"==t[1]?x?x.p(t,r):(x=Hi(t),x.c(),x.m(e,d)):x&&(x.d(1),x=null),"my_chats"==t[1]?$?$.p(t,r):($=Vi(t),$.c(),$.m(e,null)):$&&($.d(1),$=null),2&r[0]&&j(e,"align-middle","online_op"==t[1])},d(t){t&&r(e),p&&p.d(),g&&g.d(),f&&f.d(),w&&w.d(),b&&b.d(),v&&v.d(),y&&y.d(),x&&x.d(),$&&$.d()}}}function Di(t){let e,n,i,a,s=1==t[86].is_member&&0==t[86].jtime&&Li(t),o=1==t[86].is_member&&0==t[86].jtime&&Ai(t),c=0==t[86].is_member&&0==t[86].jtime&&Si(t),l=1==t[86].is_member&&t[86].jtime>0&&Ii(t);return{c(){s&&s.c(),e=u(),o&&o.c(),n=u(),c&&c.c(),i=u(),l&&l.c(),a=p()},m(t,d){s&&s.m(t,d),_(t,e,d),o&&o.m(t,d),_(t,n,d),c&&c.m(t,d),_(t,i,d),l&&l.m(t,d),_(t,a,d)},p(t,d){1==t[86].is_member&&0==t[86].jtime?s?s.p(t,d):(s=Li(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),1==t[86].is_member&&0==t[86].jtime?o?o.p(t,d):(o=Ai(t),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),0==t[86].is_member&&0==t[86].jtime?c?c.p(t,d):(c=Si(t),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null),1==t[86].is_member&&t[86].jtime>0?l?l.p(t,d):(l=Ii(t),l.c(),l.m(a.parentNode,a)):l&&(l.d(1),l=null)},d(t){t&&(r(e),r(n),r(i),r(a)),s&&s.d(t),o&&o.d(t),c&&c.d(t),l&&l.d(t)}}}function Li(t){let e,n,i,a,s;function o(...e){return t[71](t[86],...e)}return{c(){e=h("button"),n=w("Accept invite"),g(e,"title",i=t[31]("group_chat.accept_join")),g(e,"class","btn btn-xs btn-outline-info")},m(t,i){_(t,e,i),m(e,n),a||(s=b(e,"click",o),a=!0)},p(n,a){t=n,1&a[1]&&i!==(i=t[31]("group_chat.accept_join"))&&g(e,"title",i)},d(t){t&&r(e),a=!1,s()}}}function Ai(t){let e,n,i,a,s;function o(...e){return t[72](t[86],...e)}return{c(){e=h("button"),n=w("Reject invite"),g(e,"title",i=t[31]("group_chat.reject_private")),g(e,"class","btn btn-xs btn-outline-danger")},m(t,i){_(t,e,i),m(e,n),a||(s=b(e,"click",o),a=!0)},p(n,a){t=n,1&a[1]&&i!==(i=t[31]("group_chat.reject_private"))&&g(e,"title",i)},d(t){t&&r(e),a=!1,s()}}}function Si(t){let e,n,i,a,s;function o(...e){return t[73](t[86],...e)}return{c(){e=h("button"),n=w("Join public chat"),g(e,"title",i=t[31]("group_chat.join_public")),g(e,"class","btn btn-xs btn-outline-info")},m(t,i){_(t,e,i),m(e,n),a||(s=b(e,"click",o),a=!0)},p(n,a){t=n,1&a[1]&&i!==(i=t[31]("group_chat.join_public"))&&g(e,"title",i)},d(t){t&&r(e),a=!1,s()}}}function Ii(t){let e,n,i,a,s;function o(...e){return t[74](t[86],...e)}return{c(){e=h("button"),n=w("Member"),g(e,"title",i=t[31]("group_chat.already_member")),g(e,"class","btn btn-xs btn-outline-secondary")},m(t,i){_(t,e,i),m(e,n),a||(s=b(e,"click",o),a=!0)},p(n,a){t=n,1&a[1]&&i!==(i=t[31]("group_chat.already_member"))&&g(e,"title",i)},d(t){t&&r(e),a=!1,s()}}}function Ei(t){let e,n,i,a=t[86].wait_time_pending+"";return{c(){e=h("div"),n=w(a),g(e,"class","abbr-list"),g(e,"title",i=t[86].wait_time_pending)},m(t,i){_(t,e,i),m(e,n)},p(t,s){1073741826&s[0]&&a!==(a=t[86].wait_time_pending+"")&&f(n,a),1073741826&s[0]&&i!==(i=t[86].wait_time_pending)&&g(e,"title",i)},d(t){t&&r(e)}}}function Ni(t){let e,n,i,a=t[86].wait_time_pending+"";return{c(){e=h("div"),n=w(a),g(e,"class","abbr-list"),g(e,"title",i=t[86].wait_time_pending)},m(t,i){_(t,e,i),m(e,n)},p(t,s){1073741826&s[0]&&a!==(a=t[86].wait_time_pending+"")&&f(n,a),1073741826&s[0]&&i!==(i=t[86].wait_time_pending)&&g(e,"title",i)},d(t){t&&r(e)}}}function Ti(t){let e,n,i,a=t[86].pnd_time_front+"";return{c(){e=h("div"),n=w(a),g(e,"class","abbr-list"),g(e,"title",i=t[86].pnd_time_front)},m(t,i){_(t,e,i),m(e,n)},p(t,s){1073741826&s[0]&&a!==(a=t[86].pnd_time_front+"")&&f(n,a),1073741826&s[0]&&i!==(i=t[86].pnd_time_front)&&g(e,"title",i)},d(t){t&&r(e)}}}function Ri(t){let e,n,i=(t[86].status?t[86].wait_time_response:t[86].wait_time_pending)+"";return{c(){e=h("div"),n=w(i),g(e,"class","abbr-list")},m(t,i){_(t,e,i),m(e,n)},p(t,e){1073741826&e[0]&&i!==(i=(t[86].status?t[86].wait_time_response:t[86].wait_time_pending)+"")&&f(n,i)},d(t){t&&r(e)}}}function Pi(t){let e,n,i,a=(t[86].last_accepted_ago||"-")+"";return{c(){e=h("div"),n=w(a),g(e,"class","abbr-list"),g(e,"title",i=t[31]("widget.last_assignment_ago"))},m(t,i){_(t,e,i),m(e,n)},p(t,s){1073741826&s[0]&&a!==(a=(t[86].last_accepted_ago||"-")+"")&&f(n,a),1&s[1]&&i!==(i=t[31]("widget.last_assignment_ago"))&&g(e,"title",i)},d(t){t&&r(e)}}}function Oi(t){let e,n,i,a,s,o=!0===t[86].pnd_rsp?"call_received":"call_made";function c(t,e){return t[86].last_msg_time_front?Mi:Bi}let l=c(t),d=l(t);return{c(){e=h("div"),n=h("span"),i=w(o),d.c(),g(n,"class","material-icons text-success"),g(n,"title",a=t[31]("widget.send_receive")),j(n,"text-danger",t[86].pnd_rsp),g(e,"class","abbr-list"),g(e,"title",s="Chat started at - "+t[86].time_created_front)},m(t,a){_(t,e,a),m(e,n),m(n,i),d.m(e,null)},p(t,r){1073741826&r[0]&&o!==(o=!0===t[86].pnd_rsp?"call_received":"call_made")&&f(i,o),1&r[1]&&a!==(a=t[31]("widget.send_receive"))&&g(n,"title",a),1073741826&r[0]&&j(n,"text-danger",t[86].pnd_rsp),l===(l=c(t))&&d?d.p(t,r):(d.d(1),d=l(t),d&&(d.c(),d.m(e,null))),1073741826&r[0]&&s!==(s="Chat started at - "+t[86].time_created_front)&&g(e,"title",s)},d(t){t&&r(e),d.d()}}}function Bi(t){let e;return{c(){e=w("✉")},m(t,n){_(t,e,n)},p:d,d(t){t&&r(e)}}}function Mi(t){let e,n=t[86].last_msg_time_front+"";return{c(){e=w(n)},m(t,n){_(t,e,n)},p(t,i){1073741826&i[0]&&n!==(n=t[86].last_msg_time_front+"")&&f(e,n)},d(t){t&&r(e)}}}function Hi(t){let e,n,i,a,s,o,c,l,d=t[86].unread_time.hours+"",u=t[86].unread_time.minits+"",p=t[86].unread_time.seconds+"";return{c(){e=h("div"),n=w(d),i=w(" h. "),a=w(u),s=w(" m. "),o=w(p),c=w(" s."),g(e,"class","abbr-list"),g(e,"title",l=t[86].unread_time.hours+" h. "+t[86].unread_time.minits+" m. "+t[86].unread_time.seconds+" s.")},m(t,l){_(t,e,l),m(e,n),m(e,i),m(e,a),m(e,s),m(e,o),m(e,c)},p(t,i){1073741826&i[0]&&d!==(d=t[86].unread_time.hours+"")&&f(n,d),1073741826&i[0]&&u!==(u=t[86].unread_time.minits+"")&&f(a,u),1073741826&i[0]&&p!==(p=t[86].unread_time.seconds+"")&&f(o,p),1073741826&i[0]&&l!==(l=t[86].unread_time.hours+" h. "+t[86].unread_time.minits+" m. "+t[86].unread_time.seconds+" s.")&&g(e,"title",l)},d(t){t&&r(e)}}}function Vi(t){let e,n,i,a,s,o=!0===t[86].pnd_rsp?"call_received":"call_made",c=1!=t[86].status&&Ji(t);function l(t,e){return t[86].status?Gi:qi}let d=l(t),u=d(t);return{c(){e=h("div"),c&&c.c(),n=h("span"),i=w(o),u.c(),g(n,"class","material-icons text-success"),g(n,"title",a=t[31]("widget.send_receive")),j(n,"text-danger",t[86].pnd_rsp),g(e,"class","abbr-list"),g(e,"title",s=1==t[86].status?t[31]("widget.active"):t[31]("widget.pending"))},m(t,a){_(t,e,a),c&&c.m(e,null),m(e,n),m(n,i),u.m(e,null)},p(t,r){1!=t[86].status?c?c.p(t,r):(c=Ji(t),c.c(),c.m(e,n)):c&&(c.d(1),c=null),1073741826&r[0]&&o!==(o=!0===t[86].pnd_rsp?"call_received":"call_made")&&f(i,o),1&r[1]&&a!==(a=t[31]("widget.send_receive"))&&g(n,"title",a),1073741826&r[0]&&j(n,"text-danger",t[86].pnd_rsp),d===(d=l(t))&&u?u.p(t,r):(u.d(1),u=d(t),u&&(u.c(),u.m(e,null))),1073741826&r[0]|1&r[1]&&s!==(s=1==t[86].status?t[31]("widget.active"):t[31]("widget.pending"))&&g(e,"title",s)},d(t){t&&r(e),c&&c.d(),u.d()}}}function Ji(t){let e,n,i;return{c(){e=h("i"),n=w(""),g(e,"title",i=t[31]("widget.pending")),g(e,"class","material-icons chat-unread")},m(t,i){_(t,e,i),m(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.pending"))&&g(e,"title",i)},d(t){t&&r(e)}}}function Gi(t){let e,n=t[86].last_msg_time_front+"";return{c(){e=w(n)},m(t,n){_(t,e,n)},p(t,i){1073741826&i[0]&&n!==(n=t[86].last_msg_time_front+"")&&f(e,n)},d(t){t&&r(e)}}}function qi(t){let e,n,i=t[86].wait_time_pending+"";return{c(){e=w("⏳ "),n=w(i)},m(t,i){_(t,e,i),_(t,n,i)},p(t,e){1073741826&e[0]&&i!==(i=t[86].wait_time_pending+"")&&f(n,i)},d(t){t&&(r(e),r(n))}}}function Qi(t){let e,n,i,a,s=t[86].live_chats+"",o=!t[8]&&Ui(t);return{c(){e=h("td"),n=w(s),i=u(),o&&o.c(),g(e,"title",a=t[31]("widget.op_chats_statistic")),g(e,"class","align-middle"),j(e,"text-danger",t[86].max_chats&&t[86].max_chats>0&&t[86].free_slots<=0),j(e,"text-success",t[86].max_chats&&t[86].max_chats>0&&t[86].free_slots>=1)},m(t,a){_(t,e,a),m(e,n),m(e,i),o&&o.m(e,null)},p(t,i){1073741826&i[0]&&s!==(s=t[86].live_chats+"")&&f(n,s),t[8]?o&&(o.d(1),o=null):o?o.p(t,i):(o=Ui(t),o.c(),o.m(e,null)),1&i[1]&&a!==(a=t[31]("widget.op_chats_statistic"))&&g(e,"title",a),1073741826&i[0]&&j(e,"text-danger",t[86].max_chats&&t[86].max_chats>0&&t[86].free_slots<=0),1073741826&i[0]&&j(e,"text-success",t[86].max_chats&&t[86].max_chats>0&&t[86].free_slots>=1)},d(t){t&&r(e),o&&o.d()}}}function Ui(t){let e,n,i,a,s,o,c,l,d,p=(t[86].max_chats&&t[86].max_chats>0?t[86].free_slots:" n/a")+"";return{c(){e=h("abbr"),n=w("l.c"),a=w(", "),s=w(p),o=u(),c=h("abbr"),l=w("f.s"),g(e,"title",i=t[31]("widget.live_chats")+"\n("+t[86].active_chats+" + "+t[86].pending_chats+" - "+t[86].inactive_chats+")"),g(c,"title",d=t[31]("widget.free_slots")+"\n"+t[86].max_chats+" - (("+t[86].active_chats+" + "+t[86].pending_chats+") - "+t[86].inactive_chats+")")},m(t,i){_(t,e,i),m(e,n),_(t,a,i),_(t,s,i),_(t,o,i),_(t,c,i),m(c,l)},p(t,n){1073741826&n[0]|1&n[1]&&i!==(i=t[31]("widget.live_chats")+"\n("+t[86].active_chats+" + "+t[86].pending_chats+" - "+t[86].inactive_chats+")")&&g(e,"title",i),1073741826&n[0]&&p!==(p=(t[86].max_chats&&t[86].max_chats>0?t[86].free_slots:" n/a")+"")&&f(s,p),1073741826&n[0]|1&n[1]&&d!==(d=t[31]("widget.free_slots")+"\n"+t[86].max_chats+" - (("+t[86].active_chats+" + "+t[86].pending_chats+") - "+t[86].inactive_chats+")")&&g(c,"title",d)},d(t){t&&(r(e),r(a),r(s),r(o),r(c))}}}function Fi(t){let e,n,i,a,s=t[86].n_office+"";return{c(){e=h("td"),n=h("div"),i=w(s),g(n,"class","abbr-list"),g(n,"title",a=t[86].n_off_full+" | "+t[86].plain_user_name)},m(t,a){_(t,e,a),m(e,n),m(n,i)},p(t,e){1073741826&e[0]&&s!==(s=t[86].n_office+"")&&f(i,s),1073741826&e[0]&&a!==(a=t[86].n_off_full+" | "+t[86].plain_user_name)&&g(n,"title",a)},d(t){t&&r(e)}}}function Ki(t){let e,n,i=(t[86].plain_user_name?t[86].plain_user_name:"")+"";return{c(){e=h("td"),n=w(i)},m(t,i){_(t,e,i),m(e,n)},p(t,e){1073741826&e[0]&&i!==(i=(t[86].plain_user_name?t[86].plain_user_name:"")+"")&&f(n,i)},d(t){t&&r(e)}}}function Xi(t){let e;function n(t,e){return"online_op"==t[1]?Zi:"group_chats"==t[1]?zi:Yi}let i=n(t),a=i(t);return{c(){e=h("td"),a.c(),j(e,"align-middle","online_op"==t[1])},m(t,n){_(t,e,n),a.m(e,null)},p(t,s){i===(i=n(t))&&a?a.p(t,s):(a.d(1),a=i(t),a&&(a.c(),a.m(e,null))),2&s[0]&&j(e,"align-middle","online_op"==t[1])},d(t){t&&r(e),a.d()}}}function Yi(t){let e,n,i;function a(t,e){return 4194306&e[0]&&(n=null),null==n&&(n=!("active_chats"!==t[1]&&"pending_chats"!==t[1]||-1===t[22].indexOf("lhstatistic_statisticdep"))),n?ea:ta}let s=a(t,[-1,-1,-1,-1]),o=s(t);return{c(){e=h("div"),o.c(),g(e,"class","abbr-list"),g(e,"title",i=t[86].department_name+(t[86].product_name?" | "+t[86].product_name:""))},m(t,n){_(t,e,n),o.m(e,null)},p(t,n){s===(s=a(t,n))&&o?o.p(t,n):(o.d(1),o=s(t),o&&(o.c(),o.m(e,null))),1073741826&n[0]&&i!==(i=t[86].department_name+(t[86].product_name?" | "+t[86].product_name:""))&&g(e,"title",i)},d(t){t&&r(e),o.d()}}}function zi(t){let e,n,i,a=t[86].time_front+"";return{c(){e=h("div"),n=w(a),g(e,"class","abbr-list"),g(e,"title",i=t[86].time_front)},m(t,i){_(t,e,i),m(e,n)},p(t,s){1073741826&s[0]&&a!==(a=t[86].time_front+"")&&f(n,a),1073741826&s[0]&&i!==(i=t[86].time_front)&&g(e,"title",i)},d(t){t&&r(e)}}}function Zi(t){let e,n,i,a=t[86].departments_names.join(", ")+"";return{c(){e=h("div"),n=w(a),g(e,"class","abbr-list"),g(e,"title",i=t[86].departments_names.join(", "))},m(t,i){_(t,e,i),m(e,n)},p(t,s){1073741826&s[0]&&a!==(a=t[86].departments_names.join(", ")+"")&&f(n,a),1073741826&s[0]&&i!==(i=t[86].departments_names.join(", "))&&g(e,"title",i)},d(t){t&&r(e)}}}function ta(t){let e,n,i=t[86].department_name+"",a=t[86].product_name?" | "+t[86].product_name:"";return{c(){e=w(i),n=w(a)},m(t,i){_(t,e,i),_(t,n,i)},p(t,s){1073741826&s[0]&&i!==(i=t[86].department_name+"")&&f(e,i),1073741826&s[0]&&a!==(a=t[86].product_name?" | "+t[86].product_name:"")&&f(n,a)},d(t){t&&(r(e),r(n))}}}function ea(t){let e,n,i,a,s,o,c=t[86].department_name+"",l=t[86].product_name?" | "+t[86].product_name:"";function d(...e){return t[75](t[86],...e)}return{c(){e=h("a"),n=h("i"),n.textContent="donut_large",i=w(c),a=w(l),g(n,"class","material-icons"),g(e,"class","text-primary")},m(t,c){_(t,e,c),m(e,n),m(e,i),m(e,a),s||(o=b(e,"click",d),s=!0)},p(e,n){t=e,1073741826&n[0]&&c!==(c=t[86].department_name+"")&&f(i,c),1073741826&n[0]&&l!==(l=t[86].product_name?" | "+t[86].product_name:"")&&f(a,l)},d(t){t&&r(e),s=!1,o()}}}function na(t,e){let n,i,a,s,o,c,l,d,p,f,w,v,y,x,$=e[86].country_code&&Wn(e),C=k(e[23]),D=[];for(let t=0;t<C.length;t+=1)D[t]=En($e(e,C,t));function L(t,e){return"online_op"==t[1]?Rn:"group_chats"==t[1]?Tn:Nn}let A=L(e),S=A(e),I=!1===e[4]&&e[32]&&e[30].additionalColumns&&bi(e),E=("subject_chats"==e[1]||"alarm_mails"==e[1]||e[16])&&Ci(e),N=!e[6]&&Wi(e),T="online_op"==e[1]&&Qi(e),R="active_chats"==e[1]&&Fi(e),P=("active_mails"==e[1]||"alarm_mails"==e[1]||e[15])&&Ki(e),O=!e[5]&&Xi(e);function B(...t){return e[76](e[86],...t)}return{key:t,first:null,c(){n=h("tr"),i=h("td"),a=h("div"),$&&$.c(),s=u();for(let t=0;t<D.length;t+=1)D[t].c();o=u(),S.c(),c=u(),I&&I.c(),l=u(),E&&E.c(),d=u(),N&&N.c(),p=u(),T&&T.c(),f=u(),R&&R.c(),w=u(),P&&P.c(),v=u(),O&&O.c(),g(a,"class","abbr-list"),j(n,"user-away-row",e[33]&&e[32]&&2==e[86].user_status_front),j(n,"user-online-row",e[33]&&e[32]&&!e[86].user_status_front),this.first=n},m(t,e){_(t,n,e),m(n,i),m(i,a),$&&$.m(a,null),m(a,s);for(let t=0;t<D.length;t+=1)D[t]&&D[t].m(a,null);m(a,o),S.m(a,null),m(n,c),I&&I.m(n,null),m(n,l),E&&E.m(n,null),m(n,d),N&&N.m(n,null),m(n,p),T&&T.m(n,null),m(n,f),R&&R.m(n,null),m(n,w),P&&P.m(n,null),m(n,v),O&&O.m(n,null),y||(x=b(n,"click",B),y=!0)},p(t,i){if((e=t)[86].country_code?$?$.p(e,i):($=Wn(e),$.c(),$.m(a,s)):$&&($.d(1),$=null),1082130434&i[0]){let t;for(C=k(e[23]),t=0;t<C.length;t+=1){const n=$e(e,C,t);D[t]?D[t].p(n,i):(D[t]=En(n),D[t].c(),D[t].m(a,o))}for(;t<D.length;t+=1)D[t].d(1);D.length=C.length}A===(A=L(e))&&S?S.p(e,i):(S.d(1),S=A(e),S&&(S.c(),S.m(a,null))),!1===e[4]&&e[32]&&e[30].additionalColumns?I?I.p(e,i):(I=bi(e),I.c(),I.m(n,l)):I&&(I.d(1),I=null),"subject_chats"==e[1]||"alarm_mails"==e[1]||e[16]?E?E.p(e,i):(E=Ci(e),E.c(),E.m(n,d)):E&&(E.d(1),E=null),e[6]?N&&(N.d(1),N=null):N?N.p(e,i):(N=Wi(e),N.c(),N.m(n,p)),"online_op"==e[1]?T?T.p(e,i):(T=Qi(e),T.c(),T.m(n,f)):T&&(T.d(1),T=null),"active_chats"==e[1]?R?R.p(e,i):(R=Fi(e),R.c(),R.m(n,w)):R&&(R.d(1),R=null),"active_mails"==e[1]||"alarm_mails"==e[1]||e[15]?P?P.p(e,i):(P=Ki(e),P.c(),P.m(n,v)):P&&(P.d(1),P=null),e[5]?O&&(O.d(1),O=null):O?O.p(e,i):(O=Xi(e),O.c(),O.m(n,null)),1073741826&i[0]|6&i[1]&&j(n,"user-away-row",e[33]&&e[32]&&2==e[86].user_status_front),1073741826&i[0]|6&i[1]&&j(n,"user-online-row",e[33]&&e[32]&&!e[86].user_status_front)},d(t){t&&r(n),$&&$.d(),W(D,t),S.d(),I&&I.d(),E&&E.d(),N&&N.d(),T&&T.d(),R&&R.d(),P&&P.d(),O&&O.d(),y=!1,x()}}}function ia(t){let e,n,i,a,s,o,c,l,d,p,v,x,C,j,k,W=t[31]("group_chat.private_group")+"",D=-1!==t[22].indexOf("lhgroupchat_public_chat"),L=t[31]("group_chat.new")+"",A=D&&aa(t);return{c(){e=h("tr"),n=h("td"),i=h("input"),s=u(),o=h("td"),c=h("select"),l=h("option"),d=w(W),A&&A.c(),p=u(),v=h("td"),x=h("button"),C=w(L),g(i,"type","text"),g(i,"name",""),g(i,"class","form-control form-control-sm"),g(i,"placeholder",a=t[31]("group_chat.new_group_name")),l.__value="1",$(l,l.__value),g(c,"class","form-control form-control-sm"),void 0===t[30].new_group_type&&I((()=>t[78].call(c))),g(x,"type","button"),g(x,"class","btn btn-sm btn-outline-secondary w-100 d-block")},m(a,r){_(a,e,r),m(e,n),m(n,i),$(i,t[30].new_group_name),m(e,s),m(e,o),m(o,c),m(c,l),m(l,d),A&&A.m(c,null),S(c,t[30].new_group_type,!0),m(e,p),m(e,v),m(v,x),m(x,C),j||(k=[b(i,"input",t[77]),b(c,"change",t[78]),b(x,"click",t[79])],j=!0)},p(t,e){1&e[1]&&a!==(a=t[31]("group_chat.new_group_name"))&&g(i,"placeholder",a),1073741824&e[0]&&i.value!==t[30].new_group_name&&$(i,t[30].new_group_name),1&e[1]&&W!==(W=t[31]("group_chat.private_group")+"")&&f(d,W),4194304&e[0]&&(D=-1!==t[22].indexOf("lhgroupchat_public_chat")),D?A?A.p(t,e):(A=aa(t),A.c(),A.m(c,null)):A&&(A.d(1),A=null),1073741824&e[0]&&S(c,t[30].new_group_type),1&e[1]&&L!==(L=t[31]("group_chat.new")+"")&&f(C,L)},d(t){t&&r(e),A&&A.d(),j=!1,y(k)}}}function aa(t){let e,n,i=t[31]("group_chat.public_group")+"";return{c(){e=h("option"),n=w(i),e.__value="",$(e,e.__value)},m(t,i){_(t,e,i),m(e,n)},p(t,e){1&e[1]&&i!==(i=t[31]("group_chat.public_group")+"")&&f(n,i)},d(t){t&&r(e)}}}function sa(t){let e,n,i,a,s;return{c(){e=h("span"),n=h("img"),E(n.src,i=t[3]+"/"+t[86].country_code+".png")||g(n,"src",i),g(n,"alt",a=t[86].country_name),g(n,"title",s=t[86].country_name)},m(t,i){_(t,e,i),m(e,n)},p(t,e){1073741834&e[0]&&!E(n.src,i=t[3]+"/"+t[86].country_code+".png")&&g(n,"src",i),1073741826&e[0]&&a!==(a=t[86].country_name)&&g(n,"alt",a),1073741826&e[0]&&s!==(s=t[86].country_name)&&g(n,"title",s)},d(t){t&&r(e)}}}function oa(t){let e,n,i,a,s,o,c,l,d,p,v,x,$,C,j,k,W,D,L,A,S,I=t[86].nick+"",E=t[86].time_front+"",N=t[86].country_code&&sa(t);function T(...e){return t[55](t[86],...e)}function R(...e){return t[56](t[86],...e)}function P(...e){return t[57](t[86],...e)}return{c(){e=h("tr"),n=h("td"),N&&N.c(),i=u(),a=h("a"),s=w("open_in_new"),c=u(),l=h("a"),d=w("info_outline"),v=u(),x=h("a"),$=w(I),j=u(),k=h("td"),W=h("div"),D=w(E),L=u(),g(a,"title",o=t[31]("widget.open_new_window")),g(a,"class","material-icons"),g(l,"title",p="["+t[86].id+"]"),g(l,"class","material-icons"),g(x,"title",C=t[31]("widget.accept_chat")),g(W,"class","abbr-list"),g(k,"nowrap","nowrap"),g(k,"colspan","2")},m(t,o){_(t,e,o),m(e,n),N&&N.m(n,null),m(n,i),m(n,a),m(a,s),m(n,c),m(n,l),m(l,d),m(n,v),m(n,x),m(x,$),m(e,j),m(e,k),m(k,W),m(W,D),m(e,L),A||(S=[b(a,"click",T),b(l,"click",R),b(x,"click",P)],A=!0)},p(e,s){(t=e)[86].country_code?N?N.p(t,s):(N=sa(t),N.c(),N.m(n,i)):N&&(N.d(1),N=null),1&s[1]&&o!==(o=t[31]("widget.open_new_window"))&&g(a,"title",o),1073741826&s[0]&&p!==(p="["+t[86].id+"]")&&g(l,"title",p),1073741826&s[0]&&I!==(I=t[86].nick+"")&&f($,I),1&s[1]&&C!==(C=t[31]("widget.accept_chat"))&&g(x,"title",C),1073741826&s[0]&&E!==(E=t[86].time_front+"")&&f(D,E)},d(t){t&&r(e),N&&N.d(),A=!1,y(S)}}}function ca(t){let e,n,i,a,s,o,c,l,d,p,b,v,y,x=t[31]("widget.transferred_to_dep")+"",$=k(t[30].transfer_dep_chats.list),C=[];for(let e=0;e<$.length;e+=1)C[e]=da(Ce(t,$,e));return{c(){e=h("thead"),n=h("tr"),i=h("th"),a=h("i"),a.textContent="face",s=u(),o=w(x),c=u(),l=h("th"),d=h("i"),p=w("access_time"),v=u(),y=h("tbody");for(let t=0;t<C.length;t+=1)C[t].c();g(a,"title","Visitor"),g(a,"class","material-icons"),g(i,"width","60%"),g(d,"title",b=t[31]("widget.transfer_time")),g(d,"class","material-icons"),g(l,"width","40%"),g(l,"colspan","2")},m(t,r){_(t,e,r),m(e,n),m(n,i),m(i,a),m(i,s),m(i,o),m(n,c),m(n,l),m(l,d),m(d,p),_(t,v,r),_(t,y,r);for(let t=0;t<C.length;t+=1)C[t]&&C[t].m(y,null)},p(t,e){if(1&e[1]&&x!==(x=t[31]("widget.transferred_to_dep")+"")&&f(o,x),1&e[1]&&b!==(b=t[31]("widget.transfer_time"))&&g(d,"title",b),1073741832&e[0]|1&e[1]){let n;for($=k(t[30].transfer_dep_chats.list),n=0;n<$.length;n+=1){const i=Ce(t,$,n);C[n]?C[n].p(i,e):(C[n]=da(i),C[n].c(),C[n].m(y,null))}for(;n<C.length;n+=1)C[n].d(1);C.length=$.length}},d(t){t&&(r(e),r(v),r(y)),W(C,t)}}}function la(t){let e,n,i,a,s;return{c(){e=h("span"),n=h("img"),E(n.src,i=t[3]+"/"+t[86].country_code+".png")||g(n,"src",i),g(n,"alt",a=t[86].country_name),g(n,"title",s=t[86].country_name)},m(t,i){_(t,e,i),m(e,n)},p(t,e){1073741832&e[0]&&!E(n.src,i=t[3]+"/"+t[86].country_code+".png")&&g(n,"src",i),1073741824&e[0]&&a!==(a=t[86].country_name)&&g(n,"alt",a),1073741824&e[0]&&s!==(s=t[86].country_name)&&g(n,"title",s)},d(t){t&&r(e)}}}function da(t){let e,n,i,a,s,o,c,l,d,p,v,x,$,C,j,k,W,D,L,A,S,I=t[86].nick+"",E=t[86].time_front+"",N=t[86].country_code&&la(t);function T(...e){return t[58](t[86],...e)}function R(...e){return t[59](t[86],...e)}function P(...e){return t[60](t[86],...e)}return{c(){e=h("tr"),n=h("td"),N&&N.c(),i=u(),a=h("a"),s=w("open_in_new"),c=u(),l=h("a"),d=w("info_outline"),v=u(),x=h("a"),$=w(I),j=u(),k=h("td"),W=h("div"),D=w(E),L=u(),g(a,"title",o=t[31]("widget.open_new_window")),g(a,"class","material-icons"),g(l,"title",p="["+t[86].id+"]"),g(l,"class","material-icons"),g(x,"title",C=t[31]("widget.accept_chat")),g(W,"class","abbr-list"),g(k,"nowrap","nowrap"),g(k,"colspan","2")},m(t,o){_(t,e,o),m(e,n),N&&N.m(n,null),m(n,i),m(n,a),m(a,s),m(n,c),m(n,l),m(l,d),m(n,v),m(n,x),m(x,$),m(e,j),m(e,k),m(k,W),m(W,D),m(e,L),A||(S=[b(a,"click",T),b(l,"click",R),b(x,"click",P)],A=!0)},p(e,s){(t=e)[86].country_code?N?N.p(t,s):(N=la(t),N.c(),N.m(n,i)):N&&(N.d(1),N=null),1&s[1]&&o!==(o=t[31]("widget.open_new_window"))&&g(a,"title",o),1073741824&s[0]&&p!==(p="["+t[86].id+"]")&&g(l,"title",p),1073741824&s[0]&&I!==(I=t[86].nick+"")&&f($,I),1&s[1]&&C!==(C=t[31]("widget.accept_chat"))&&g(x,"title",C),1073741824&s[0]&&E!==(E=t[86].time_front+"")&&f(D,E)},d(t){t&&r(e),N&&N.d(),A=!1,y(S)}}}function ra(t){let e,n=[],i=new Map,a=k(t[30][t[1]].list);const s=t=>t[83].id;for(let e=0;e<a.length;e+=1){let o=We(t,a,e),c=s(o);i.set(c,n[e]=ha(c,o))}return{c(){e=h("tbody");for(let t=0;t<n.length;t+=1)n[t].c()},m(t,i){_(t,e,i);for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,null)},p(t,o){1077936130&o[0]|1&o[1]&&(a=k(t[30][t[1]].list),n=A(n,o,s,1,t,a,i,e,T,ha,null,We))},d(t){t&&r(e);for(let t=0;t<n.length;t+=1)n[t].d()}}}function _a(t){let e,n,i,a,s,o,c=(t[83].max_load_h?t[83].max_load_h-((t[83].acopchats_cnt?t[83].acopchats_cnt:0)-(t[83].inopchats_cnt?t[83].inopchats_cnt:0)):"n/a")+"",l=(t[83].max_load?t[83].max_load-((t[83].achats_cnt?t[83].achats_cnt:0)-(t[83].inachats_cnt?t[83].inachats_cnt:0)):"n/a")+"";return{c(){e=h("span"),n=w(c),a=w(" ("),s=w(l),o=w(")"),g(e,"class",i=t[83].max_load_h&&t[83].max_load_h-((t[83].acopchats_cnt?t[83].acopchats_cnt:0)-(t[83].inopchats_cnt?t[83].inopchats_cnt:0))<=3?"text-danger fw-bold":"")},m(t,i){_(t,e,i),m(e,n),_(t,a,i),_(t,s,i),_(t,o,i)},p(t,a){1073741826&a[0]&&c!==(c=(t[83].max_load_h?t[83].max_load_h-((t[83].acopchats_cnt?t[83].acopchats_cnt:0)-(t[83].inopchats_cnt?t[83].inopchats_cnt:0)):"n/a")+"")&&f(n,c),1073741826&a[0]&&i!==(i=t[83].max_load_h&&t[83].max_load_h-((t[83].acopchats_cnt?t[83].acopchats_cnt:0)-(t[83].inopchats_cnt?t[83].inopchats_cnt:0))<=3?"text-danger fw-bold":"")&&g(e,"class",i),1073741826&a[0]&&l!==(l=(t[83].max_load?t[83].max_load-((t[83].achats_cnt?t[83].achats_cnt:0)-(t[83].inachats_cnt?t[83].inachats_cnt:0)):"n/a")+"")&&f(s,l)},d(t){t&&(r(e),r(a),r(s),r(o))}}}function ua(t){let e,n,i,a,s,o,c,l,d,u=(t[83].max_load_h?t[83].max_load_h-((t[83].acopchats_cnt?t[83].acopchats_cnt:0)-(t[83].inopchats_cnt?t[83].inopchats_cnt:0)):"n/a")+"",p=(t[83].max_load?t[83].max_load-((t[83].achats_cnt?t[83].achats_cnt:0)-(t[83].inachats_cnt?t[83].inachats_cnt:0)):"n/a")+"";function v(...e){return t[51](t[83],...e)}return{c(){e=h("a"),n=h("span"),i=w(u),s=w(" ("),o=w(p),c=w(")"),g(n,"class",a=t[83].max_load_h&&t[83].max_load_h-((t[83].acopchats_cnt?t[83].acopchats_cnt:0)-(t[83].inopchats_cnt?t[83].inopchats_cnt:0))<=3?"text-danger fw-bold":""),g(e,"href","#")},m(t,a){_(t,e,a),m(e,n),m(n,i),m(e,s),m(e,o),m(e,c),l||(d=b(e,"click",v),l=!0)},p(e,s){t=e,1073741826&s[0]&&u!==(u=(t[83].max_load_h?t[83].max_load_h-((t[83].acopchats_cnt?t[83].acopchats_cnt:0)-(t[83].inopchats_cnt?t[83].inopchats_cnt:0)):"n/a")+"")&&f(i,u),1073741826&s[0]&&a!==(a=t[83].max_load_h&&t[83].max_load_h-((t[83].acopchats_cnt?t[83].acopchats_cnt:0)-(t[83].inopchats_cnt?t[83].inopchats_cnt:0))<=3?"text-danger fw-bold":"")&&g(n,"class",a),1073741826&s[0]&&p!==(p=(t[83].max_load?t[83].max_load-((t[83].achats_cnt?t[83].achats_cnt:0)-(t[83].inachats_cnt?t[83].inachats_cnt:0)):"n/a")+"")&&f(o,p)},d(t){t&&r(e),l=!1,d()}}}function pa(t){let e,n,i,a,s=(t[83].max_load_op?t[83].max_load_op:"n/a")+"",o=(t[83].max_load_op_h?t[83].max_load_op_h:"n/a")+"";return{c(){e=w(s),n=w(" ("),i=w(o),a=w(")")},m(t,s){_(t,e,s),_(t,n,s),_(t,i,s),_(t,a,s)},p(t,n){1073741826&n[0]&&s!==(s=(t[83].max_load_op?t[83].max_load_op:"n/a")+"")&&f(e,s),1073741826&n[0]&&o!==(o=(t[83].max_load_op_h?t[83].max_load_op_h:"n/a")+"")&&f(i,o)},d(t){t&&(r(e),r(n),r(i),r(a))}}}function ma(t){let e,n,i,a,s,o,c,l=(t[83].max_load_op?t[83].max_load_op:"n/a")+"",d=(t[83].max_load_op_h?t[83].max_load_op_h:"n/a")+"";function u(...e){return t[52](t[83],...e)}return{c(){e=h("a"),n=w(l),i=w(" ("),a=w(d),s=w(")"),g(e,"href","#")},m(t,l){_(t,e,l),m(e,n),m(e,i),m(e,a),m(e,s),o||(c=b(e,"click",u),o=!0)},p(e,i){t=e,1073741826&i[0]&&l!==(l=(t[83].max_load_op?t[83].max_load_op:"n/a")+"")&&f(n,l),1073741826&i[0]&&d!==(d=(t[83].max_load_op_h?t[83].max_load_op_h:"n/a")+"")&&f(a,d)},d(t){t&&r(e),o=!1,c()}}}function ha(t,e){let n,i,a,s,o,c,l,d,p,b,v,y,x,$,C,j,k,W,D,L,A,S,I,E,N,T,R,P,O,B,M=e[83].name+"",H=(e[83].pchats_cnt?e[83].pchats_cnt:0)+"",V=(e[83].achats_cnt?e[83].achats_cnt:0)+"",J=(e[83].bchats_cnt?e[83].bchats_cnt:0)+"";function G(t,e){return 4194304&e[0]&&(N=null),null==N&&(N=!(-1===t[22].indexOf("lhstatistic_statisticdep"))),N?ua:_a}let q=G(e,[-1,-1,-1,-1]),Q=q(e);function U(t,e){return 4194304&e[0]&&(O=null),null==O&&(O=!(-1===t[22].indexOf("lhstatistic_statisticdep"))),O?ma:pa}let F=U(e,[-1,-1,-1,-1]),K=F(e);return{key:t,first:null,c(){n=h("tr"),i=h("td"),a=h("div"),s=h("a"),o=w(M),d=u(),p=h("td"),b=h("a"),v=w(H),x=u(),$=h("td"),C=h("a"),j=w(V),W=u(),D=h("td"),L=h("a"),A=w(J),I=u(),E=h("td"),Q.c(),R=u(),P=h("td"),K.c(),B=u(),g(s,"class","d-block"),g(s,"href",c=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[83].id+"/(chat_status_ids)/0/1/5"),g(a,"class","abbr-list"),g(a,"title",l=e[83].name),g(b,"class","d-block"),g(b,"href",y=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[83].id+"/(chat_status_ids)/0"),g(C,"class","d-block"),g(C,"href",k=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[83].id+"/(chat_status_ids)/1"),g(L,"class","d-block"),g(L,"href",S=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[83].id+"/(chat_status_ids)/5"),g(E,"nowrap",""),g(E,"title",T=(e[83].inachats_cnt?e[83].inachats_cnt:"0")+" "+e[31]("widget.inactive_chats")+".\n"+(e[83].inopchats_cnt?e[83].inopchats_cnt:"0")+" "+e[31]("widget.inactive_op_chats")+".\n"+(e[83].acopchats_cnt?e[83].acopchats_cnt:"0")+" "+e[31]("widget.active_op_chats")+".\n"+e[31]("widget.hard_limit")+" - "+(e[83].max_load_h?e[83].max_load_h:"0")+", "+e[31]("widget.soft_limit")+" - "+(e[83].max_load?e[83].max_load:"0")+".\n"+e[31]("widget.hard_limit_explain")),this.first=n},m(t,e){_(t,n,e),m(n,i),m(i,a),m(a,s),m(s,o),m(n,d),m(n,p),m(p,b),m(b,v),m(n,x),m(n,$),m($,C),m(C,j),m(n,W),m(n,D),m(D,L),m(L,A),m(n,I),m(n,E),Q.m(E,null),m(n,R),m(n,P),K.m(P,null),m(n,B)},p(t,n){e=t,1073741826&n[0]&&M!==(M=e[83].name+"")&&f(o,M),1073741826&n[0]&&c!==(c=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[83].id+"/(chat_status_ids)/0/1/5")&&g(s,"href",c),1073741826&n[0]&&l!==(l=e[83].name)&&g(a,"title",l),1073741826&n[0]&&H!==(H=(e[83].pchats_cnt?e[83].pchats_cnt:0)+"")&&f(v,H),1073741826&n[0]&&y!==(y=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[83].id+"/(chat_status_ids)/0")&&g(b,"href",y),1073741826&n[0]&&V!==(V=(e[83].achats_cnt?e[83].achats_cnt:0)+"")&&f(j,V),1073741826&n[0]&&k!==(k=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[83].id+"/(chat_status_ids)/1")&&g(C,"href",k),1073741826&n[0]&&J!==(J=(e[83].bchats_cnt?e[83].bchats_cnt:0)+"")&&f(A,J),1073741826&n[0]&&S!==(S=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[83].id+"/(chat_status_ids)/5")&&g(L,"href",S),q===(q=G(e,n))&&Q?Q.p(e,n):(Q.d(1),Q=q(e),Q&&(Q.c(),Q.m(E,null))),1073741826&n[0]|1&n[1]&&T!==(T=(e[83].inachats_cnt?e[83].inachats_cnt:"0")+" "+e[31]("widget.inactive_chats")+".\n"+(e[83].inopchats_cnt?e[83].inopchats_cnt:"0")+" "+e[31]("widget.inactive_op_chats")+".\n"+(e[83].acopchats_cnt?e[83].acopchats_cnt:"0")+" "+e[31]("widget.active_op_chats")+".\n"+e[31]("widget.hard_limit")+" - "+(e[83].max_load_h?e[83].max_load_h:"0")+", "+e[31]("widget.soft_limit")+" - "+(e[83].max_load?e[83].max_load:"0")+".\n"+e[31]("widget.hard_limit_explain"))&&g(E,"title",T),F===(F=U(e,n))&&K?K.p(e,n):(K.d(1),K=F(e),K&&(K.c(),K.m(P,null)))},d(t){t&&r(n),Q.d(),K.d()}}}function ga(t){let e,n,i,a,s,o,c,l,d,p,f,b,v,y,x,$,C,j,W,D,L,S,I,E,N,R,P,O,B,M,H,V,J,G=[],q=new Map,Q=k(t[30].departments_stats.list);const U=t=>t[80].id;for(let e=0;e<Q.length;e+=1){let n=ke(t,Q,e),i=U(n);q.set(i,G[e]=ya(i,n))}return{c(){e=h("thead"),n=h("tr"),i=h("th"),a=h("i"),s=w("home"),c=u(),l=h("th"),d=h("i"),p=w("chat"),b=u(),v=h("th"),y=h("i"),x=w("chat"),C=u(),j=h("th"),W=h("i"),D=w("android"),S=u(),I=h("th"),E=h("i"),N=w("donut_large"),P=u(),O=h("th"),B=h("i"),M=w("support_agent"),V=u(),J=h("tbody");for(let t=0;t<G.length;t+=1)G[t].c();g(a,"title",o=t[31]("widget.department")),g(a,"class","material-icons"),g(i,"width","40%"),g(d,"title",f=t[31]("widget_title.pending_chats")),g(d,"class","material-icons chat-pending"),g(l,"width","12%"),g(y,"title",$=t[31]("widget_title.active_chats")),g(y,"class","material-icons chat-active"),g(v,"width","12%"),g(W,"title",L=t[31]("widget_title.bot_chats")),g(W,"class","material-icons chat-active"),g(j,"width","12%"),g(E,"title",R=t[31]("widget.load_statistic")),g(E,"class","material-icons text-info"),g(I,"width","11%"),g(B,"title",H=t[31]("widget.op_statistic")),g(B,"class","material-icons text-info"),g(O,"width","11%")},m(t,o){_(t,e,o),m(e,n),m(n,i),m(i,a),m(a,s),m(n,c),m(n,l),m(l,d),m(d,p),m(n,b),m(n,v),m(v,y),m(y,x),m(n,C),m(n,j),m(j,W),m(W,D),m(n,S),m(n,I),m(I,E),m(E,N),m(n,P),m(n,O),m(O,B),m(B,M),_(t,V,o),_(t,J,o);for(let t=0;t<G.length;t+=1)G[t]&&G[t].m(J,null)},p(t,e){1&e[1]&&o!==(o=t[31]("widget.department"))&&g(a,"title",o),1&e[1]&&f!==(f=t[31]("widget_title.pending_chats"))&&g(d,"title",f),1&e[1]&&$!==($=t[31]("widget_title.active_chats"))&&g(y,"title",$),1&e[1]&&L!==(L=t[31]("widget_title.bot_chats"))&&g(W,"title",L),1&e[1]&&R!==(R=t[31]("widget.load_statistic"))&&g(E,"title",R),1&e[1]&&H!==(H=t[31]("widget.op_statistic"))&&g(B,"title",H),1077936128&e[0]|1&e[1]&&(Q=k(t[30].departments_stats.list),G=A(G,e,U,1,t,Q,q,J,T,ya,null,ke))},d(t){t&&(r(e),r(V),r(J));for(let t=0;t<G.length;t+=1)G[t].d()}}}function fa(t){let e,n,i,a,s,o,c=(t[80].max_load_h?t[80].max_load_h-((t[80].acop_chats_cnt?t[80].acop_chats_cnt:0)-(t[80].inop_chats_cnt?t[80].inop_chats_cnt:0)):"n/a")+"",l=(t[80].max_load?t[80].max_load-((t[80].active_chats_counter?t[80].active_chats_counter:0)-(t[80].inactive_chats_cnt?t[80].inactive_chats_cnt:0)):"n/a")+"";return{c(){e=h("span"),n=w(c),a=w(" ("),s=w(l),o=w(")"),g(e,"class",i=t[80].max_load_h&&t[80].max_load_h-((t[80].acop_chats_cnt?t[80].acop_chats_cnt:0)-(t[80].inop_chats_cnt?t[80].inop_chats_cnt:0))<=3?"text-danger fw-bold":"")},m(t,i){_(t,e,i),m(e,n),_(t,a,i),_(t,s,i),_(t,o,i)},p(t,a){1073741824&a[0]&&c!==(c=(t[80].max_load_h?t[80].max_load_h-((t[80].acop_chats_cnt?t[80].acop_chats_cnt:0)-(t[80].inop_chats_cnt?t[80].inop_chats_cnt:0)):"n/a")+"")&&f(n,c),1073741824&a[0]&&i!==(i=t[80].max_load_h&&t[80].max_load_h-((t[80].acop_chats_cnt?t[80].acop_chats_cnt:0)-(t[80].inop_chats_cnt?t[80].inop_chats_cnt:0))<=3?"text-danger fw-bold":"")&&g(e,"class",i),1073741824&a[0]&&l!==(l=(t[80].max_load?t[80].max_load-((t[80].active_chats_counter?t[80].active_chats_counter:0)-(t[80].inactive_chats_cnt?t[80].inactive_chats_cnt:0)):"n/a")+"")&&f(s,l)},d(t){t&&(r(e),r(a),r(s),r(o))}}}function wa(t){let e,n,i,a,s,o,c,l,d,u=(t[80].max_load_h?t[80].max_load_h-((t[80].acop_chats_cnt?t[80].acop_chats_cnt:0)-(t[80].inop_chats_cnt?t[80].inop_chats_cnt:0)):"n/a")+"",p=(t[80].max_load?t[80].max_load-((t[80].active_chats_counter?t[80].active_chats_counter:0)-(t[80].inactive_chats_cnt?t[80].inactive_chats_cnt:0)):"n/a")+"";function v(...e){return t[53](t[80],...e)}return{c(){e=h("a"),n=h("span"),i=w(u),s=w(" ("),o=w(p),c=w(")"),g(n,"class",a=t[80].max_load_h&&t[80].max_load_h-((t[80].acop_chats_cnt?t[80].acop_chats_cnt:0)-(t[80].inop_chats_cnt?t[80].inop_chats_cnt:0))<=3?"text-danger fw-bold":""),g(e,"href","#")},m(t,a){_(t,e,a),m(e,n),m(n,i),m(e,s),m(e,o),m(e,c),l||(d=b(e,"click",v),l=!0)},p(e,s){t=e,1073741824&s[0]&&u!==(u=(t[80].max_load_h?t[80].max_load_h-((t[80].acop_chats_cnt?t[80].acop_chats_cnt:0)-(t[80].inop_chats_cnt?t[80].inop_chats_cnt:0)):"n/a")+"")&&f(i,u),1073741824&s[0]&&a!==(a=t[80].max_load_h&&t[80].max_load_h-((t[80].acop_chats_cnt?t[80].acop_chats_cnt:0)-(t[80].inop_chats_cnt?t[80].inop_chats_cnt:0))<=3?"text-danger fw-bold":"")&&g(n,"class",a),1073741824&s[0]&&p!==(p=(t[80].max_load?t[80].max_load-((t[80].active_chats_counter?t[80].active_chats_counter:0)-(t[80].inactive_chats_cnt?t[80].inactive_chats_cnt:0)):"n/a")+"")&&f(o,p)},d(t){t&&r(e),l=!1,d()}}}function ba(t){let e,n,i,a,s=(t[80].max_load_op?t[80].max_load_op:"n/a")+"",o=(t[80].max_load_op_h?t[80].max_load_op_h:"n/a")+"";return{c(){e=w(s),n=w(" ("),i=w(o),a=w(")")},m(t,s){_(t,e,s),_(t,n,s),_(t,i,s),_(t,a,s)},p(t,n){1073741824&n[0]&&s!==(s=(t[80].max_load_op?t[80].max_load_op:"n/a")+"")&&f(e,s),1073741824&n[0]&&o!==(o=(t[80].max_load_op_h?t[80].max_load_op_h:"n/a")+"")&&f(i,o)},d(t){t&&(r(e),r(n),r(i),r(a))}}}function va(t){let e,n,i,a,s,o,c,l=(t[80].max_load_op?t[80].max_load_op:"n/a")+"",d=(t[80].max_load_op_h?t[80].max_load_op_h:"n/a")+"";function u(...e){return t[54](t[80],...e)}return{c(){e=h("a"),n=w(l),i=w(" ("),a=w(d),s=w(")"),g(e,"href","#")},m(t,l){_(t,e,l),m(e,n),m(e,i),m(e,a),m(e,s),o||(c=b(e,"click",u),o=!0)},p(e,i){t=e,1073741824&i[0]&&l!==(l=(t[80].max_load_op?t[80].max_load_op:"n/a")+"")&&f(n,l),1073741824&i[0]&&d!==(d=(t[80].max_load_op_h?t[80].max_load_op_h:"n/a")+"")&&f(a,d)},d(t){t&&r(e),o=!1,c()}}}function ya(t,e){let n,i,a,s,o,c,l,d,p,b,v,y,x,$,C,j,k,W,D,L,A,S,I,E,N,T,R,P,O,B,M=e[80].name+"",H=(e[80].pending_chats_counter?e[80].pending_chats_counter:0)+"",V=(e[80].active_chats_counter?e[80].active_chats_counter:0)+"",J=(e[80].bot_chats_counter?e[80].bot_chats_counter:0)+"";function G(t,e){return 4194304&e[0]&&(N=null),null==N&&(N=!(-1===t[22].indexOf("lhstatistic_statisticdep"))),N?wa:fa}let q=G(e,[-1,-1,-1,-1]),Q=q(e);function U(t,e){return 4194304&e[0]&&(O=null),null==O&&(O=!(-1===t[22].indexOf("lhstatistic_statisticdep"))),O?va:ba}let F=U(e,[-1,-1,-1,-1]),K=F(e);return{key:t,first:null,c(){n=h("tr"),i=h("td"),a=h("div"),s=h("a"),o=w(M),d=u(),p=h("td"),b=h("a"),v=w(H),x=u(),$=h("td"),C=h("a"),j=w(V),W=u(),D=h("td"),L=h("a"),A=w(J),I=u(),E=h("td"),Q.c(),R=u(),P=h("td"),K.c(),B=u(),g(s,"class","d-block"),g(s,"href",c=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[80].id+"/(chat_status_ids)/0/1/5"),g(a,"class","abbr-list"),g(a,"title",l=e[80].name),g(b,"class","d-block"),g(b,"href",y=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[80].id+"/(chat_status_ids)/0"),g(C,"class","d-block"),g(C,"href",k=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[80].id+"/(chat_status_ids)/1"),g(L,"class","d-block"),g(L,"href",S=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[80].id+"/(chat_status_ids)/5"),g(E,"nowrap",""),g(E,"title",T=(e[80].inactive_chats_cnt?e[80].inactive_chats_cnt:"0")+" "+e[31]("widget.inactive_chats")+".\n"+(e[80].inop_chats_cnt?e[80].inop_chats_cnt:"0")+" "+e[31]("widget.inactive_op_chats")+".\n"+(e[80].acop_chats_cnt?e[80].acop_chats_cnt:"0")+" "+e[31]("widget.active_op_chats")+".\n"+e[31]("widget.hard_limit")+" - "+(e[80].max_load_h?e[80].max_load_h:"0")+", "+e[31]("widget.soft_limit")+" - "+(e[80].max_load?e[80].max_load:"0")+".\n"+e[31]("widget.hard_limit_explain")),this.first=n},m(t,e){_(t,n,e),m(n,i),m(i,a),m(a,s),m(s,o),m(n,d),m(n,p),m(p,b),m(b,v),m(n,x),m(n,$),m($,C),m(C,j),m(n,W),m(n,D),m(D,L),m(L,A),m(n,I),m(n,E),Q.m(E,null),m(n,R),m(n,P),K.m(P,null),m(n,B)},p(t,n){e=t,1073741824&n[0]&&M!==(M=e[80].name+"")&&f(o,M),1073741824&n[0]&&c!==(c=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[80].id+"/(chat_status_ids)/0/1/5")&&g(s,"href",c),1073741824&n[0]&&l!==(l=e[80].name)&&g(a,"title",l),1073741824&n[0]&&H!==(H=(e[80].pending_chats_counter?e[80].pending_chats_counter:0)+"")&&f(v,H),1073741824&n[0]&&y!==(y=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[80].id+"/(chat_status_ids)/0")&&g(b,"href",y),1073741824&n[0]&&V!==(V=(e[80].active_chats_counter?e[80].active_chats_counter:0)+"")&&f(j,V),1073741824&n[0]&&k!==(k=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[80].id+"/(chat_status_ids)/1")&&g(C,"href",k),1073741824&n[0]&&J!==(J=(e[80].bot_chats_counter?e[80].bot_chats_counter:0)+"")&&f(A,J),1073741824&n[0]&&S!==(S=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[80].id+"/(chat_status_ids)/5")&&g(L,"href",S),q===(q=G(e,n))&&Q?Q.p(e,n):(Q.d(1),Q=q(e),Q&&(Q.c(),Q.m(E,null))),1073741824&n[0]|1&n[1]&&T!==(T=(e[80].inactive_chats_cnt?e[80].inactive_chats_cnt:"0")+" "+e[31]("widget.inactive_chats")+".\n"+(e[80].inop_chats_cnt?e[80].inop_chats_cnt:"0")+" "+e[31]("widget.inactive_op_chats")+".\n"+(e[80].acop_chats_cnt?e[80].acop_chats_cnt:"0")+" "+e[31]("widget.active_op_chats")+".\n"+e[31]("widget.hard_limit")+" - "+(e[80].max_load_h?e[80].max_load_h:"0")+", "+e[31]("widget.soft_limit")+" - "+(e[80].max_load?e[80].max_load:"0")+".\n"+e[31]("widget.hard_limit_explain"))&&g(E,"title",T),F===(F=U(e,n))&&K?K.p(e,n):(K.d(1),K=F(e),K&&(K.c(),K.m(P,null)))},d(t){t&&r(n),Q.d(),K.d()}}}function xa(t){let e,n,i=("depgroups_stats"!=t[1]||!t[30].departmentd_hide_dgroup&&t[30][t[1]].list.length>0)&&Ae(t);function a(t,e){return"depgroups_stats"==t[1]?kn:"transfer_chats"==t[1]?jn:Cn}let s=a(t),o=s(t);return{c(){e=h("table"),i&&i.c(),n=u(),o.c(),g(e,"class","table table-sm mb-0 table-small table-fixed"),j(e,"list-chat-table",t[32]||t[29])},m(t,a){_(t,e,a),i&&i.m(e,null),m(e,n),o.m(e,null)},p(t,c){"depgroups_stats"!=t[1]||!t[30].departmentd_hide_dgroup&&t[30][t[1]].list.length>0?i?i.p(t,c):(i=Ae(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),s===(s=a(t))&&o?o.p(t,c):(o.d(1),o=s(t),o&&(o.c(),o.m(e,null))),536870912&c[0]|2&c[1]&&j(e,"list-chat-table",t[32]||t[29])},i:d,o:d,d(t){t&&r(e),i&&i.d(),o.d()}}}function $a(t,e,n){let i=[];return Object.entries(e).forEach((([e,a])=>{(!1===n&&!t[a]||!0===n&&t[a])&&i.push(e)})),i.join(" ")}function Ca(t,e,n){let i,s,o=d,c=()=>(o(),o=D(_,(t=>n(30,i=t))),_);a(t,v,(t=>n(31,s=t))),t.$$.on_destroy.push((()=>o()));let{sort_identifier:l=null}=e,{type:r=null}=e,{lhcList:_=null}=e;c();let{www_dir_flags:u=null}=e,{no_additional_column:p=!1}=e,{hide_third_column:m=!1}=e,{hide_2_column:h=!1}=e,{hide_ac_op_icon:g=!1}=e,{hide_ac_stats:f=!1}=e,{hide_ac_sort:w=!1}=e,{hide_op_avatar:b=!1}=e,{custom_visitor_title:y=null}=e,{custom_visitor_icon:x=null}=e,{show_visitor_title:$=!1}=e,{no_chat_preview:C=!1}=e,{show_username_always:j=!1}=e,{show_always_subject:k=!1}=e,{show_department_title:W=!1}=e,{show_subject_title:A=!1}=e,{show_username_title:S=!1}=e,{no_expand:I=!1}=e,{panel_id:E=null}=e,{permissions:N=[]}=e,{custom_icons:T=[]}=e,{custom_sort_icons:R=[]}=e,{column_2_width:P="20%"}=e,{column_1_width:O="40%"}=e,{column_3_width:B="20%"}=e,{additional_sort:M=""}=e,{override_item_open:H=null}=e,V=!H&&"transfer_chats"!==r&&"group_chats"!==r&&"online_op"!==r&&"depgroups_stats"!==r,J=!H&&"my_mails"!==r&&"active_mails"!==r&&"pending_mails"!==r&&"alarm_mails"!==r;function G(t){"group_chats"===r?F.startGroupChat(t.id,t.name):"my_mails"===r||"active_mails"===r||"pending_mails"===r||"alarm_mails"===r?F.startMailChat(t.id,t.subject_front,i.isCTRLPressed):F.startChat(t.id,t.nick,!i.isCTRLPressed)}function q(t){ee.emitEvent(H,[t])}return t.$$set=t=>{"sort_identifier"in t&&n(0,l=t.sort_identifier),"type"in t&&n(1,r=t.type),"lhcList"in t&&c(n(2,_=t.lhcList)),"www_dir_flags"in t&&n(3,u=t.www_dir_flags),"no_additional_column"in t&&n(4,p=t.no_additional_column),"hide_third_column"in t&&n(5,m=t.hide_third_column),"hide_2_column"in t&&n(6,h=t.hide_2_column),"hide_ac_op_icon"in t&&n(7,g=t.hide_ac_op_icon),"hide_ac_stats"in t&&n(8,f=t.hide_ac_stats),"hide_ac_sort"in t&&n(9,w=t.hide_ac_sort),"hide_op_avatar"in t&&n(10,b=t.hide_op_avatar),"custom_visitor_title"in t&&n(11,y=t.custom_visitor_title),"custom_visitor_icon"in t&&n(12,x=t.custom_visitor_icon),"show_visitor_title"in t&&n(13,$=t.show_visitor_title),"no_chat_preview"in t&&n(14,C=t.no_chat_preview),"show_username_always"in t&&n(15,j=t.show_username_always),"show_always_subject"in t&&n(16,k=t.show_always_subject),"show_department_title"in t&&n(17,W=t.show_department_title),"show_subject_title"in t&&n(18,A=t.show_subject_title),"show_username_title"in t&&n(19,S=t.show_username_title),"no_expand"in t&&n(20,I=t.no_expand),"panel_id"in t&&n(21,E=t.panel_id),"permissions"in t&&n(22,N=t.permissions),"custom_icons"in t&&n(23,T=t.custom_icons),"custom_sort_icons"in t&&n(24,R=t.custom_sort_icons),"column_2_width"in t&&n(25,P=t.column_2_width),"column_1_width"in t&&n(26,O=t.column_1_width),"column_3_width"in t&&n(27,B=t.column_3_width),"additional_sort"in t&&n(28,M=t.additional_sort),"override_item_open"in t&&n(29,H=t.override_item_open)},[l,r,_,u,p,m,h,g,f,w,b,y,x,$,C,j,k,W,A,S,I,E,N,T,R,P,O,B,M,H,i,s,V,J,G,q,t=>F.toggleWidgetSort(_,l,"onn_dsc","onn_asc",!0),t=>F.toggleWidgetSort(_,l,"onl_dsc","onl_asc",!0),t=>F.toggleWidgetSort(_,l,"id_dsc","id_asc",!0),t=>F.toggleWidgetSort(_,l,"loc_dsc","loc_asc",!0),t=>F.toggleWidgetSort(_,l,"u_dsc","u_asc",!0),(t,e)=>F.toggleWidgetSort(_,t.sort_identifier,t.sort_options[0],t.sort_options[1],!0),(t,e)=>F.toggleWidgetSort(_,t.sort_identifier,"","",!0),(t,e)=>F.toggleWidgetSort(_,M,t.items[0]+"_dsc",t.items[0]+"_asc",!0),t=>F.toggleWidgetSort(_,l,"wtime_dsc","wtime_asc",!0),t=>F.toggleWidgetSort(_,l,"lmt_dsc","lmt_asc",!0),t=>F.toggleWidgetSort(_,l,"id_dsc","id_asc",!0),t=>F.toggleWidgetSort(_,l,"rac_dsc","rac_asc",!0),t=>F.toggleWidgetSort(_,l,"ac_dsc","ac_asc",!0),t=>F.toggleWidgetSort(_,l,"op_dsc","op_asc",!0),t=>F.toggleWidgetSort(_,l,"dep_dsc","dep_asc",!0),(t,e)=>F.openModal("statistic/departmentstats/"+t.id+"/(type)/group"),(t,e)=>F.openModal("statistic/departmentstats/"+t.id+"/(type)/group/(tab)/op"),(t,e)=>F.openModal("statistic/departmentstats/"+t.id),(t,e)=>F.openModal("statistic/departmentstats/"+t.id+"/(tab)/op"),(t,e)=>F.startChatNewWindowTransfer(t.id,t.nick,t.transfer_id,t.transfer_scope),(t,e)=>{1==t.transfer_scope?F.previewMail(t.id,e):F.previewChat(t.id,e)},(t,e)=>F.startChatTransfer(t.id,t.nick,t.transfer_id,t.transfer_scope),(t,e)=>F.startChatNewWindowTransfer(t.id,t.nick,t.transfer_id,t.transfer_scope),(t,e)=>{1==t.transfer_scope?F.previewMail(t.id,e):F.previewChat(t.id,e)},(t,e)=>F.startChatTransfer(t.id,t.nick,t.transfer_id,t.transfer_scope),(t,e,n)=>t.click?ee.emitEvent(t.click,[e]):null,(t,e)=>F.startChatOperator(t.user_id),(t,e)=>F.openModal("user/setopstatus/"+t.user_id),(t,e)=>F.openModal("statistic/userstats/"+t.user_id),(t,e)=>F.startGroupChat(t.id,t.name),(t,e)=>{F.deleteChat(t.id),e.stopPropagation()},(t,e)=>F.redirectContact(t.id,s("widget.are_you_sure"),e),(t,e)=>F.previewMail(t.id,e),(t,e)=>F.previewChat(t.id,e),(t,e,n)=>{t.iconp&&F.openModal("chat/icondetailed/"+e.id+"/"+t.id,n)},(t,e)=>F.startGroupChat(t.id,t.name),(t,e)=>F.rejectGroupChat(t.id,e),(t,e)=>F.startGroupChat(t.id,t.name),(t,e)=>F.startGroupChat(t.id,t.name),(t,e)=>F.openModal("statistic/departmentstats/"+t.dep_id,e),(t,e)=>V&&G(t)||H&&q(t),function(){i.new_group_name=this.value,_.set(i)},function(){i.new_group_type=L(this),_.set(i)},()=>F.startNewGroupChat(_,i.new_group_name,i.new_group_type)]}customElements.define("lhc-connection-status",t(me,{type:{}},[],[],!1));class ja extends e{constructor(t){super(),n(this,t,Ca,xa,i,{sort_identifier:0,type:1,lhcList:2,www_dir_flags:3,no_additional_column:4,hide_third_column:5,hide_2_column:6,hide_ac_op_icon:7,hide_ac_stats:8,hide_ac_sort:9,hide_op_avatar:10,custom_visitor_title:11,custom_visitor_icon:12,show_visitor_title:13,no_chat_preview:14,show_username_always:15,show_always_subject:16,show_department_title:17,show_subject_title:18,show_username_title:19,no_expand:20,panel_id:21,permissions:22,custom_icons:23,custom_sort_icons:24,column_2_width:25,column_1_width:26,column_3_width:27,additional_sort:28,override_item_open:29},null,[-1,-1,-1,-1])}get sort_identifier(){return this.$$.ctx[0]}set sort_identifier(t){this.$$set({sort_identifier:t}),l()}get type(){return this.$$.ctx[1]}set type(t){this.$$set({type:t}),l()}get lhcList(){return this.$$.ctx[2]}set lhcList(t){this.$$set({lhcList:t}),l()}get www_dir_flags(){return this.$$.ctx[3]}set www_dir_flags(t){this.$$set({www_dir_flags:t}),l()}get no_additional_column(){return this.$$.ctx[4]}set no_additional_column(t){this.$$set({no_additional_column:t}),l()}get hide_third_column(){return this.$$.ctx[5]}set hide_third_column(t){this.$$set({hide_third_column:t}),l()}get hide_2_column(){return this.$$.ctx[6]}set hide_2_column(t){this.$$set({hide_2_column:t}),l()}get hide_ac_op_icon(){return this.$$.ctx[7]}set hide_ac_op_icon(t){this.$$set({hide_ac_op_icon:t}),l()}get hide_ac_stats(){return this.$$.ctx[8]}set hide_ac_stats(t){this.$$set({hide_ac_stats:t}),l()}get hide_ac_sort(){return this.$$.ctx[9]}set hide_ac_sort(t){this.$$set({hide_ac_sort:t}),l()}get hide_op_avatar(){return this.$$.ctx[10]}set hide_op_avatar(t){this.$$set({hide_op_avatar:t}),l()}get custom_visitor_title(){return this.$$.ctx[11]}set custom_visitor_title(t){this.$$set({custom_visitor_title:t}),l()}get custom_visitor_icon(){return this.$$.ctx[12]}set custom_visitor_icon(t){this.$$set({custom_visitor_icon:t}),l()}get show_visitor_title(){return this.$$.ctx[13]}set show_visitor_title(t){this.$$set({show_visitor_title:t}),l()}get no_chat_preview(){return this.$$.ctx[14]}set no_chat_preview(t){this.$$set({no_chat_preview:t}),l()}get show_username_always(){return this.$$.ctx[15]}set show_username_always(t){this.$$set({show_username_always:t}),l()}get show_always_subject(){return this.$$.ctx[16]}set show_always_subject(t){this.$$set({show_always_subject:t}),l()}get show_department_title(){return this.$$.ctx[17]}set show_department_title(t){this.$$set({show_department_title:t}),l()}get show_subject_title(){return this.$$.ctx[18]}set show_subject_title(t){this.$$set({show_subject_title:t}),l()}get show_username_title(){return this.$$.ctx[19]}set show_username_title(t){this.$$set({show_username_title:t}),l()}get no_expand(){return this.$$.ctx[20]}set no_expand(t){this.$$set({no_expand:t}),l()}get panel_id(){return this.$$.ctx[21]}set panel_id(t){this.$$set({panel_id:t}),l()}get permissions(){return this.$$.ctx[22]}set permissions(t){this.$$set({permissions:t}),l()}get custom_icons(){return this.$$.ctx[23]}set custom_icons(t){this.$$set({custom_icons:t}),l()}get custom_sort_icons(){return this.$$.ctx[24]}set custom_sort_icons(t){this.$$set({custom_sort_icons:t}),l()}get column_2_width(){return this.$$.ctx[25]}set column_2_width(t){this.$$set({column_2_width:t}),l()}get column_1_width(){return this.$$.ctx[26]}set column_1_width(t){this.$$set({column_1_width:t}),l()}get column_3_width(){return this.$$.ctx[27]}set column_3_width(t){this.$$set({column_3_width:t}),l()}get additional_sort(){return this.$$.ctx[28]}set additional_sort(t){this.$$set({additional_sort:t}),l()}get override_item_open(){return this.$$.ctx[29]}set override_item_open(t){this.$$set({override_item_open:t}),l()}}function ka(t){let e,n,i,a,s,o=0==t[19]&&Wa(t),c=(!0===t[1]||!0!==t[47].toggleWidgetData[t[36]])&&Oa(t);return{c(){e=h("div"),o&&o.c(),n=u(),c&&c.c(),g(e,"class",i=(!1===t[25]?"card card-dashboard":"")+" card-"+t[14]+" "+(t[47][t[0]].list.length>0?"has-chats":"")),g(e,"data-panel-id",a=t[41]||t[0])},m(t,i){_(t,e,i),o&&o.m(e,null),m(e,n),c&&c.m(e,null),s=!0},p(t,l){0==t[19]?o?o.p(t,l):(o=Wa(t),o.c(),o.m(e,n)):o&&(o.d(1),o=null),!0===t[1]||!0!==t[47].toggleWidgetData[t[36]]?c?(c.p(t,l),2&l[0]|65568&l[1]&&P(c,1)):(c=Oa(t),c.c(),P(c,1),c.m(e,null)):c&&(O(),R(c,1,1,(()=>{c=null})),B()),(!s||33570817&l[0]|65536&l[1]&&i!==(i=(!1===t[25]?"card card-dashboard":"")+" card-"+t[14]+" "+(t[47][t[0]].list.length>0?"has-chats":"")))&&g(e,"class",i),(!s||1&l[0]|1024&l[1]&&a!==(a=t[41]||t[0]))&&g(e,"data-panel-id",a)},i(t){s||(P(c),s=!0)},o(t){R(c),s=!1},d(t){t&&r(e),o&&o.d(),c&&c.d()}}}function Wa(t){let e,n,i,a,s,o,c,l,d,p,v,y,x,$,C="depgroups_stats"==t[0]&&-1!==t[45].indexOf("lhstatistic_exportxls"),j=-1===t[47].suspend_widgets.indexOf(t[0])?"pause":"play_arrow",k=t[39]&&Da(t);function W(t,e){return t[33]?La:Aa}let D=W(t),L=D(t),A="online_op"==t[0]&&Ea(t),S=C&&Na(t),I=!t[2]&&Ta(t),E=!t[34]&&t[47][t[0]].tt&&Ra(t),N="depgroups_stats"==t[0]&&t[47].departments_stats.tt&&Pa(t);return{c(){e=h("div"),k&&k.c(),n=u(),L.c(),i=u(),A&&A.c(),a=u(),S&&S.c(),s=u(),I&&I.c(),o=u(),c=h("a"),l=w(j),p=u(),E&&E.c(),v=u(),N&&N.c(),g(c,"title",d=t[48](-1===t[47].suspend_widgets.indexOf(t[0])?"widget.pause_widget":"widget.resume_widget")),g(c,"class","ms-0 me-1 text-muted float-end material-icons pt-1"),g(e,"class",y=t[37]+" card-header")},m(d,r){_(d,e,r),k&&k.m(e,null),m(e,n),L.m(e,null),m(e,i),A&&A.m(e,null),m(e,a),S&&S.m(e,null),m(e,s),I&&I.m(e,null),m(e,o),m(e,c),m(c,l),m(e,p),E&&E.m(e,null),m(e,v),N&&N.m(e,null),x||($=b(c,"click",t[59]),x=!0)},p(t,r){t[39]?k?k.p(t,r):(k=Da(t),k.c(),k.m(e,n)):k&&(k.d(1),k=null),D===(D=W(t))&&L?L.p(t,r):(L.d(1),L=D(t),L&&(L.c(),L.m(e,i))),"online_op"==t[0]?A?A.p(t,r):(A=Ea(t),A.c(),A.m(e,a)):A&&(A.d(1),A=null),1&r[0]|16384&r[1]&&(C="depgroups_stats"==t[0]&&-1!==t[45].indexOf("lhstatistic_exportxls")),C?S?S.p(t,r):(S=Na(t),S.c(),S.m(e,s)):S&&(S.d(1),S=null),t[2]?I&&(I.d(1),I=null):I?I.p(t,r):(I=Ta(t),I.c(),I.m(e,o)),1&r[0]|65536&r[1]&&j!==(j=-1===t[47].suspend_widgets.indexOf(t[0])?"pause":"play_arrow")&&f(l,j),1&r[0]|196608&r[1]&&d!==(d=t[48](-1===t[47].suspend_widgets.indexOf(t[0])?"widget.pause_widget":"widget.resume_widget"))&&g(c,"title",d),!t[34]&&t[47][t[0]].tt?E?E.p(t,r):(E=Ra(t),E.c(),E.m(e,v)):E&&(E.d(1),E=null),"depgroups_stats"==t[0]&&t[47].departments_stats.tt?N?N.p(t,r):(N=Pa(t),N.c(),N.m(e,null)):N&&(N.d(1),N=null),64&r[1]&&y!==(y=t[37]+" card-header")&&g(e,"class",y)},d(t){t&&r(e),k&&k.d(),L.d(),A&&A.d(),S&&S.d(),I&&I.d(),E&&E.d(),N&&N.d(),x=!1,$()}}}function Da(t){let e,n,i,a,s=(t[16]||"settings_applications")+"";return{c(){e=h("i"),n=w(s),g(e,"class","material-icons me-0 action-image")},m(s,o){_(s,e,o),m(e,n),i||(a=b(e,"click",t[57]),i=!0)},p(t,e){65536&e[0]&&s!==(s=(t[16]||"settings_applications")+"")&&f(n,s)},d(t){t&&r(e),i=!1,a()}}}function La(t){let e,n,i,a,s,o,c,l,d=t[48]("widget_title."+t[0])+"",b=!t[35]&&Sa(t);return{c(){e=h("i"),n=w(t[32]),a=h("span"),s=w(d),c=u(),b&&b.c(),l=p(),g(e,"class",i="material-icons "+t[31]),g(a,"class",o="d-none d-lg-inline "+t[38])},m(t,i){_(t,e,i),m(e,n),_(t,a,i),m(a,s),_(t,c,i),b&&b.m(t,i),_(t,l,i)},p(t,c){2&c[1]&&f(n,t[32]),1&c[1]&&i!==(i="material-icons "+t[31])&&g(e,"class",i),1&c[0]|131072&c[1]&&d!==(d=t[48]("widget_title."+t[0])+"")&&f(s,d),128&c[1]&&o!==(o="d-none d-lg-inline "+t[38])&&g(a,"class",o),t[35]?b&&(b.d(1),b=null):b?b.p(t,c):(b=Sa(t),b.c(),b.m(l.parentNode,l))},d(t){t&&(r(e),r(a),r(c),r(l)),b&&b.d(t)}}}function Aa(t){let e,n,i,a,s,o,c,l,d=t[48]("widget_title."+t[0])+"",p=!t[35]&&Ia(t);return{c(){e=h("a"),n=h("i"),i=w(t[32]),s=h("span"),o=w(d),l=u(),p&&p.c(),g(n,"class",a="material-icons "+t[31]),g(s,"class",c="d-none d-lg-inline "+t[38]),g(e,"href",t[30])},m(t,a){_(t,e,a),m(e,n),m(n,i),m(e,s),m(s,o),m(e,l),p&&p.m(e,null)},p(t,l){2&l[1]&&f(i,t[32]),1&l[1]&&a!==(a="material-icons "+t[31])&&g(n,"class",a),1&l[0]|131072&l[1]&&d!==(d=t[48]("widget_title."+t[0])+"")&&f(o,d),128&l[1]&&c!==(c="d-none d-lg-inline "+t[38])&&g(s,"class",c),t[35]?p&&(p.d(1),p=null):p?p.p(t,l):(p=Ia(t),p.c(),p.m(e,null)),1073741824&l[0]&&g(e,"href",t[30])},d(t){t&&r(e),p&&p.d()}}}function Sa(t){let e,n,i,a,s,o=t[47][t[0]].list.length+"",c=t[47][t[0]].list.length==t[47][t[46].limitid]?"+":"";return{c(){e=h("span"),n=w("("),i=w(o),a=w(c),s=w(")"),g(e,"class",t[38])},m(t,o){_(t,e,o),m(e,n),m(e,i),m(e,a),m(e,s)},p(t,n){1&n[0]|65536&n[1]&&o!==(o=t[47][t[0]].list.length+"")&&f(i,o),1&n[0]|98304&n[1]&&c!==(c=t[47][t[0]].list.length==t[47][t[46].limitid]?"+":"")&&f(a,c),128&n[1]&&g(e,"class",t[38])},d(t){t&&r(e)}}}function Ia(t){let e,n,i,a,s,o=t[47][t[0]].list.length+"",c=t[47][t[0]].list.length==t[47][t[46].limitid]?"+":"";return{c(){e=h("span"),n=w("("),i=w(o),a=w(c),s=w(")"),g(e,"class",t[38])},m(t,o){_(t,e,o),m(e,n),m(e,i),m(e,a),m(e,s)},p(t,n){1&n[0]|65536&n[1]&&o!==(o=t[47][t[0]].list.length+"")&&f(i,o),1&n[0]|98304&n[1]&&c!==(c=t[47][t[0]].list.length==t[47][t[46].limitid]?"+":"")&&f(a,c),128&n[1]&&g(e,"class",t[38])},d(t){t&&r(e)}}}function Ea(t){let e,n,i,a=t[47][t[0]].op_on+"";return{c(){e=h("span"),n=w(a),g(e,"class","text-success"),g(e,"title",i=t[48]("widget.online"))},m(t,i){_(t,e,i),m(e,n)},p(t,s){1&s[0]|65536&s[1]&&a!==(a=t[47][t[0]].op_on+"")&&f(n,a),131072&s[1]&&i!==(i=t[48]("widget.online"))&&g(e,"title",i)},d(t){t&&r(e)}}}function Na(t){let e,n,i;return{c(){e=h("a"),n=w("file_download"),g(e,"class","material-icons"),g(e,"target","_blank"),g(e,"href",WWW_DIR_JAVASCRIPT+"statistic/departmentstatusxls"),g(e,"title",i=t[48]("widget.download_xls"))},m(t,i){_(t,e,i),m(e,n)},p(t,n){131072&n[1]&&i!==(i=t[48]("widget.download_xls"))&&g(e,"title",i)},d(t){t&&r(e)}}}function Ta(t){let e,n,i,a,s,o=0==t[47].toggleWidgetData[t[36]]?"expand_less":"expand_more";return{c(){e=h("a"),n=w(o),g(e,"title",i=t[48]("widget.collapse_expand")),g(e,"class","fs24 float-end material-icons exp-cntr")},m(i,o){_(i,e,o),m(e,n),a||(s=b(e,"click",t[58]),a=!0)},p(t,a){65568&a[1]&&o!==(o=0==t[47].toggleWidgetData[t[36]]?"expand_less":"expand_more")&&f(n,o),131072&a[1]&&i!==(i=t[48]("widget.collapse_expand"))&&g(e,"title",i)},d(t){t&&r(e),a=!1,s()}}}function Ra(t){let e,n,i,a,s=t[47][t[0]].tt+"";return{c(){e=h("span"),n=w(s),i=w(" s."),g(e,"title",a=t[48]("widget.taken_time")),g(e,"class","d-none d-xl-inline badge me-1 float-end text-muted pe-0 pt-1p5 fs11 fw-light")},m(t,a){_(t,e,a),m(e,n),m(e,i)},p(t,i){1&i[0]|65536&i[1]&&s!==(s=t[47][t[0]].tt+"")&&f(n,s),131072&i[1]&&a!==(a=t[48]("widget.taken_time"))&&g(e,"title",a)},d(t){t&&r(e)}}}function Pa(t){let e,n,i,a,s=t[47].departments_stats.tt+"";return{c(){e=h("span"),n=w(s),i=w(" s."),g(e,"title",a=t[48]("widget.taken_time_dep")),g(e,"class","d-none d-xl-inline badge me-1 float-end text-muted pe-0 pt-1p5 fs11 fw-light")},m(t,a){_(t,e,a),m(e,n),m(e,i)},p(t,i){65536&i[1]&&s!==(s=t[47].departments_stats.tt+"")&&f(n,s),131072&i[1]&&a!==(a=t[48]("widget.taken_time_dep"))&&g(e,"title",a)},d(t){t&&r(e)}}}function Oa(t){let e,n,i,a,s=!t[20]&&Ba(t),o=(t[47][t[0]].list.length>0||"onlineusers"===t[0]||"depgroups_stats"===t[0])&&Ma(t),c=0===t[47][t[0]].list.length&&"onlineusers"!==t[0]&&"depgroups_stats"!==t[0]&&Ja(t);return{c(){e=h("div"),s&&s.c(),n=u(),o&&o.c(),i=u(),c&&c.c()},m(t,l){_(t,e,l),s&&s.m(e,null),m(e,n),o&&o.m(e,null),m(e,i),c&&c.m(e,null),a=!0},p(t,a){t[20]?s&&(O(),R(s,1,1,(()=>{s=null})),B()):s?(s.p(t,a),1048576&a[0]&&P(s,1)):(s=Ba(t),s.c(),P(s,1),s.m(e,n)),t[47][t[0]].list.length>0||"onlineusers"===t[0]||"depgroups_stats"===t[0]?o?(o.p(t,a),1&a[0]|65536&a[1]&&P(o,1)):(o=Ma(t),o.c(),P(o,1),o.m(e,i)):o&&(O(),R(o,1,1,(()=>{o=null})),B()),0===t[47][t[0]].list.length&&"onlineusers"!==t[0]&&"depgroups_stats"!==t[0]?c?c.p(t,a):(c=Ja(t),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(t){a||(P(s),P(o),a=!0)},o(t){R(s),R(o),a=!1},d(t){t&&r(e),s&&s.d(),o&&o.d(),c&&c.d()}}}function Ba(t){let e,n;return e=new K({props:{optionsPanel:t[46],lhcList:s}}),{c(){G(e.$$.fragment)},m(t,i){J(e,t,i),n=!0},p(t,n){const i={};32768&n[1]&&(i.optionsPanel=t[46]),e.$set(i)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){R(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Ma(t){let e,n,i,a;const s=[Va,Ha],o=[];function c(t,e){return"onlineusers"==t[0]?0:1}return e=c(t),n=o[e]=s[e](t),{c(){n.c(),i=p()},m(t,n){o[e].m(t,n),_(t,i,n),a=!0},p(t,a){let l=e;e=c(t),e===l?o[e].p(t,a):(O(),R(o[l],1,1,(()=>{o[l]=null})),B(),n=o[e],n?n.p(t,a):(n=o[e]=s[e](t),n.c()),P(n,1),n.m(i.parentNode,i))},i(t){a||(P(n),a=!0)},o(t){R(n),a=!1},d(t){t&&r(i),o[e].d(t)}}}function Ha(t){let e,n,i,a;return n=new ja({props:{hide_2_column:t[5],hide_ac_sort:t[8],hide_ac_stats:t[7],hide_ac_op_icon:t[9],hide_op_avatar:t[6],hide_third_column:t[4],custom_visitor_icon:t[12],show_visitor_title:t[13],custom_visitor_title:t[10],show_username_title:t[3],show_subject_title:t[22],show_department_title:t[21],no_expand:t[2],show_always_subject:t[24],show_username_always:t[23],override_item_open:t[27],no_chat_preview:t[28],no_additional_column:t[26],additional_sort:t[40],column_1_width:t[43],column_3_width:t[44],column_2_width:t[42],permissions:t[45],www_dir_flags:t[29],custom_sort_icons:t[46].custom_sort_icons?t[46].custom_sort_icons:[],custom_icons:t[46].custom_icons?t[46].custom_icons:[],panel_id:t[46].panelid,lhcList:s,type:t[0],sort_identifier:t[18]}}),{c(){e=h("div"),G(n.$$.fragment),g(e,"class","panel-list"),g(e,"id",i=!1===t[15]?t[17]:null),N(e,"max-height",t[11]?t[11]:t[47][t[46].panelid+"_m_h"]&&parseInt(t[47][t[46].panelid+"_m_h"].replace("px",""))<56?"56px":t[47][t[46].panelid+"_m_h"]??"330px")},m(t,i){_(t,e,i),J(n,e,null),a=!0},p(t,s){const o={};32&s[0]&&(o.hide_2_column=t[5]),256&s[0]&&(o.hide_ac_sort=t[8]),128&s[0]&&(o.hide_ac_stats=t[7]),512&s[0]&&(o.hide_ac_op_icon=t[9]),64&s[0]&&(o.hide_op_avatar=t[6]),16&s[0]&&(o.hide_third_column=t[4]),4096&s[0]&&(o.custom_visitor_icon=t[12]),8192&s[0]&&(o.show_visitor_title=t[13]),1024&s[0]&&(o.custom_visitor_title=t[10]),8&s[0]&&(o.show_username_title=t[3]),4194304&s[0]&&(o.show_subject_title=t[22]),2097152&s[0]&&(o.show_department_title=t[21]),4&s[0]&&(o.no_expand=t[2]),16777216&s[0]&&(o.show_always_subject=t[24]),8388608&s[0]&&(o.show_username_always=t[23]),134217728&s[0]&&(o.override_item_open=t[27]),268435456&s[0]&&(o.no_chat_preview=t[28]),67108864&s[0]&&(o.no_additional_column=t[26]),512&s[1]&&(o.additional_sort=t[40]),4096&s[1]&&(o.column_1_width=t[43]),8192&s[1]&&(o.column_3_width=t[44]),2048&s[1]&&(o.column_2_width=t[42]),16384&s[1]&&(o.permissions=t[45]),536870912&s[0]&&(o.www_dir_flags=t[29]),32768&s[1]&&(o.custom_sort_icons=t[46].custom_sort_icons?t[46].custom_sort_icons:[]),32768&s[1]&&(o.custom_icons=t[46].custom_icons?t[46].custom_icons:[]),32768&s[1]&&(o.panel_id=t[46].panelid),1&s[0]&&(o.type=t[0]),262144&s[0]&&(o.sort_identifier=t[18]),n.$set(o),(!a||163840&s[0]&&i!==(i=!1===t[15]?t[17]:null))&&g(e,"id",i),2048&s[0]|98304&s[1]&&N(e,"max-height",t[11]?t[11]:t[47][t[46].panelid+"_m_h"]&&parseInt(t[47][t[46].panelid+"_m_h"].replace("px",""))<56?"56px":t[47][t[46].panelid+"_m_h"]??"330px")},i(t){a||(P(n.$$.fragment,t),a=!0)},o(t){R(n.$$.fragment,t),a=!1},d(t){t&&r(e),V(n)}}}function Va(t){let e,n;const i=[t[49]];let a={};for(let t=0;t<i.length;t+=1)a=M(a,i[t]);return e=new X({props:a}),{c(){G(e.$$.fragment)},m(t,i){J(e,t,i),n=!0},p(t,n){const a=262144&n[1]?function(t,e){const n={},i={},a={$$scope:1};let s=t.length;for(;s--;){const o=t[s],c=e[s];if(c){for(const t in o)t in c||(i[t]=1);for(const t in c)a[t]||(n[t]=c[t],a[t]=1);t[s]=c}else for(const t in o)a[t]=1}for(const t in i)t in n||(n[t]=void 0);return n}(i,[(s=t[49],"object"==typeof s&&null!==s?s:{})]):{};var s;e.$set(a)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){R(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Ja(t){let e,n,i,a=t[48]("widget.items_appear_here")+"";return{c(){e=h("div"),n=h("i"),n.textContent="search",i=w(a),g(n,"class","material-icons"),g(e,"class","m-1 alert alert-light")},m(t,a){_(t,e,a),m(e,n),m(e,i)},p(t,e){131072&e[1]&&a!==(a=t[48]("widget.items_appear_here")+"")&&f(i,a)},d(t){t&&r(e)}}}function Ga(t){let e,n,i=!0===t[47].lhcCoreLoaded&&t[47][t[0]]&&t[47][t[0]].list&&ka(t);return{c(){i&&i.c(),e=p()},m(t,a){i&&i.m(t,a),_(t,e,a),n=!0},p(t,n){!0===t[47].lhcCoreLoaded&&t[47][t[0]]&&t[47][t[0]].list?i?(i.p(t,n),1&n[0]|65536&n[1]&&P(i,1)):(i=ka(t),i.c(),P(i,1),i.m(e.parentNode,e)):i&&(O(),R(i,1,1,(()=>{i=null})),B())},i(t){n||(P(i),n=!0)},o(t){R(i),n=!1},d(t){t&&r(e),i&&i.d(t)}}}function qa(t,e,n){let i,o,c,l;a(t,s,(t=>n(47,c=t))),a(t,v,(t=>n(48,l=t)));let{type:d="pending_chats"}=e,{no_collapse:r=!1}=e,{no_expand:_=!1}=e,{show_username_title:u=!1}=e,{hide_third_column:p=!1}=e,{hide_2_column:m=!1}=e,{hide_op_avatar:h=!1}=e,{hide_ac_stats:g=!1}=e,{hide_ac_sort:f=!1}=e,{hide_ac_op_icon:w=!1}=e,{custom_visitor_title:b=null}=e,{mh_widget:y=null}=e,{custom_visitor_icon:x=null}=e,{show_visitor_title:$=!1}=e,{list_identifier:C="pending"}=e,{no_panel_id:j=!1}=e,{custom_settings_url_icon:k=null}=e,{panel_list_identifier:W="pendingd-panel-list"}=e,{sort_identifier:D="pending_chats_sort"}=e,{status_id:L=0}=e,{status_key:A="chat_status_ids"}=e,{hide_header:S=!1}=e,{hide_filter_options:I=!1}=e,{show_department_title:E=!1}=e,{show_subject_title:N=!1}=e,{default_expand:T=!1}=e,{show_username_always:R=!1}=e,{show_always_subject:P=!1}=e,{right_panel_mode:O=!1}=e,{no_additional_column:B=!1}=e,{override_item_open:V=null}=e,{no_chat_preview:J=!1}=e,{default_sort:G="id_asc"}=e,{www_dir_flags:q=null}=e,{base_url:Q="chat/list"}=e,{url:U=WWW_DIR_JAVASCRIPT+Q+"/("+A+")/"+L}=e,{icon_class:K="chat-pending"}=e,{card_icon:X="chat"}=e,{no_link:Y=!1}=e,{no_duration:z=!1}=e,{no_counter:Z=!1}=e,{expand_identifier:tt="pchats_widget_exp"}=e,{custom_card_class:et=""}=e,{custom_title_class:nt=""}=e,{custom_settings_url:it=""}=e,{additional_sort:at=""}=e,{data_panel_id:st=""}=e,{column_2_width:ot="20%"}=e,{column_1_width:ct="40%"}=e,{column_3_width:lt="20%"}=e,{permissions:dt=[]}=e,{optionsPanel:rt={panelid:"pendingd",limitid:"limitp",userid:"pendingu"}}=e;F.getToggleWidget(s,tt),F.getToggleWidgetSort(s,D,G);return t.$$set=t=>{n(49,e=M(M({},e),H(t))),"type"in t&&n(0,d=t.type),"no_collapse"in t&&n(1,r=t.no_collapse),"no_expand"in t&&n(2,_=t.no_expand),"show_username_title"in t&&n(3,u=t.show_username_title),"hide_third_column"in t&&n(4,p=t.hide_third_column),"hide_2_column"in t&&n(5,m=t.hide_2_column),"hide_op_avatar"in t&&n(6,h=t.hide_op_avatar),"hide_ac_stats"in t&&n(7,g=t.hide_ac_stats),"hide_ac_sort"in t&&n(8,f=t.hide_ac_sort),"hide_ac_op_icon"in t&&n(9,w=t.hide_ac_op_icon),"custom_visitor_title"in t&&n(10,b=t.custom_visitor_title),"mh_widget"in t&&n(11,y=t.mh_widget),"custom_visitor_icon"in t&&n(12,x=t.custom_visitor_icon),"show_visitor_title"in t&&n(13,$=t.show_visitor_title),"list_identifier"in t&&n(14,C=t.list_identifier),"no_panel_id"in t&&n(15,j=t.no_panel_id),"custom_settings_url_icon"in t&&n(16,k=t.custom_settings_url_icon),"panel_list_identifier"in t&&n(17,W=t.panel_list_identifier),"sort_identifier"in t&&n(18,D=t.sort_identifier),"status_id"in t&&n(50,L=t.status_id),"status_key"in t&&n(51,A=t.status_key),"hide_header"in t&&n(19,S=t.hide_header),"hide_filter_options"in t&&n(20,I=t.hide_filter_options),"show_department_title"in t&&n(21,E=t.show_department_title),"show_subject_title"in t&&n(22,N=t.show_subject_title),"default_expand"in t&&n(52,T=t.default_expand),"show_username_always"in t&&n(23,R=t.show_username_always),"show_always_subject"in t&&n(24,P=t.show_always_subject),"right_panel_mode"in t&&n(25,O=t.right_panel_mode),"no_additional_column"in t&&n(26,B=t.no_additional_column),"override_item_open"in t&&n(27,V=t.override_item_open),"no_chat_preview"in t&&n(28,J=t.no_chat_preview),"default_sort"in t&&n(53,G=t.default_sort),"www_dir_flags"in t&&n(29,q=t.www_dir_flags),"base_url"in t&&n(54,Q=t.base_url),"url"in t&&n(30,U=t.url),"icon_class"in t&&n(31,K=t.icon_class),"card_icon"in t&&n(32,X=t.card_icon),"no_link"in t&&n(33,Y=t.no_link),"no_duration"in t&&n(34,z=t.no_duration),"no_counter"in t&&n(35,Z=t.no_counter),"expand_identifier"in t&&n(36,tt=t.expand_identifier),"custom_card_class"in t&&n(37,et=t.custom_card_class),"custom_title_class"in t&&n(38,nt=t.custom_title_class),"custom_settings_url"in t&&n(39,it=t.custom_settings_url),"additional_sort"in t&&n(40,at=t.additional_sort),"data_panel_id"in t&&n(41,st=t.data_panel_id),"column_2_width"in t&&n(42,ot=t.column_2_width),"column_1_width"in t&&n(43,ct=t.column_1_width),"column_3_width"in t&&n(44,lt=t.column_3_width),"permissions"in t&&n(55,dt=t.permissions),"optionsPanel"in t&&n(56,rt=t.optionsPanel)},t.$$.update=()=>{33554432&t.$$.dirty[1]&&n(46,i="string"==typeof rt?JSON.parse(rt):rt),16777216&t.$$.dirty[1]&&n(45,o="string"==typeof dt?JSON.parse(dt):dt)},e=H(e),[d,r,_,u,p,m,h,g,f,w,b,y,x,$,C,j,k,W,D,S,I,E,N,R,P,O,B,V,J,q,U,K,X,Y,z,Z,tt,et,nt,it,at,st,ot,ct,lt,o,i,c,l,e,L,A,T,G,Q,dt,rt,t=>F.openModal(it),t=>F.toggleWidget(s,tt),t=>F.suspendSync(s,d)]}t(ja,{sort_identifier:{},type:{},lhcList:{},www_dir_flags:{},no_additional_column:{type:"Boolean"},hide_third_column:{type:"Boolean"},hide_2_column:{type:"Boolean"},hide_ac_op_icon:{type:"Boolean"},hide_ac_stats:{type:"Boolean"},hide_ac_sort:{type:"Boolean"},hide_op_avatar:{type:"Boolean"},custom_visitor_title:{},custom_visitor_icon:{},show_visitor_title:{type:"Boolean"},no_chat_preview:{type:"Boolean"},show_username_always:{type:"Boolean"},show_always_subject:{type:"Boolean"},show_department_title:{type:"Boolean"},show_subject_title:{type:"Boolean"},show_username_title:{type:"Boolean"},no_expand:{type:"Boolean"},panel_id:{},permissions:{},custom_icons:{},custom_sort_icons:{},column_2_width:{},column_1_width:{},column_3_width:{},additional_sort:{},override_item_open:{}},[],[],!0);class Qa extends e{constructor(t){super(),n(this,t,qa,Ga,i,{type:0,no_collapse:1,no_expand:2,show_username_title:3,hide_third_column:4,hide_2_column:5,hide_op_avatar:6,hide_ac_stats:7,hide_ac_sort:8,hide_ac_op_icon:9,custom_visitor_title:10,mh_widget:11,custom_visitor_icon:12,show_visitor_title:13,list_identifier:14,no_panel_id:15,custom_settings_url_icon:16,panel_list_identifier:17,sort_identifier:18,status_id:50,status_key:51,hide_header:19,hide_filter_options:20,show_department_title:21,show_subject_title:22,default_expand:52,show_username_always:23,show_always_subject:24,right_panel_mode:25,no_additional_column:26,override_item_open:27,no_chat_preview:28,default_sort:53,www_dir_flags:29,base_url:54,url:30,icon_class:31,card_icon:32,no_link:33,no_duration:34,no_counter:35,expand_identifier:36,custom_card_class:37,custom_title_class:38,custom_settings_url:39,additional_sort:40,data_panel_id:41,column_2_width:42,column_1_width:43,column_3_width:44,permissions:55,optionsPanel:56},null,[-1,-1])}get type(){return this.$$.ctx[0]}set type(t){this.$$set({type:t}),l()}get no_collapse(){return this.$$.ctx[1]}set no_collapse(t){this.$$set({no_collapse:t}),l()}get no_expand(){return this.$$.ctx[2]}set no_expand(t){this.$$set({no_expand:t}),l()}get show_username_title(){return this.$$.ctx[3]}set show_username_title(t){this.$$set({show_username_title:t}),l()}get hide_third_column(){return this.$$.ctx[4]}set hide_third_column(t){this.$$set({hide_third_column:t}),l()}get hide_2_column(){return this.$$.ctx[5]}set hide_2_column(t){this.$$set({hide_2_column:t}),l()}get hide_op_avatar(){return this.$$.ctx[6]}set hide_op_avatar(t){this.$$set({hide_op_avatar:t}),l()}get hide_ac_stats(){return this.$$.ctx[7]}set hide_ac_stats(t){this.$$set({hide_ac_stats:t}),l()}get hide_ac_sort(){return this.$$.ctx[8]}set hide_ac_sort(t){this.$$set({hide_ac_sort:t}),l()}get hide_ac_op_icon(){return this.$$.ctx[9]}set hide_ac_op_icon(t){this.$$set({hide_ac_op_icon:t}),l()}get custom_visitor_title(){return this.$$.ctx[10]}set custom_visitor_title(t){this.$$set({custom_visitor_title:t}),l()}get mh_widget(){return this.$$.ctx[11]}set mh_widget(t){this.$$set({mh_widget:t}),l()}get custom_visitor_icon(){return this.$$.ctx[12]}set custom_visitor_icon(t){this.$$set({custom_visitor_icon:t}),l()}get show_visitor_title(){return this.$$.ctx[13]}set show_visitor_title(t){this.$$set({show_visitor_title:t}),l()}get list_identifier(){return this.$$.ctx[14]}set list_identifier(t){this.$$set({list_identifier:t}),l()}get no_panel_id(){return this.$$.ctx[15]}set no_panel_id(t){this.$$set({no_panel_id:t}),l()}get custom_settings_url_icon(){return this.$$.ctx[16]}set custom_settings_url_icon(t){this.$$set({custom_settings_url_icon:t}),l()}get panel_list_identifier(){return this.$$.ctx[17]}set panel_list_identifier(t){this.$$set({panel_list_identifier:t}),l()}get sort_identifier(){return this.$$.ctx[18]}set sort_identifier(t){this.$$set({sort_identifier:t}),l()}get status_id(){return this.$$.ctx[50]}set status_id(t){this.$$set({status_id:t}),l()}get status_key(){return this.$$.ctx[51]}set status_key(t){this.$$set({status_key:t}),l()}get hide_header(){return this.$$.ctx[19]}set hide_header(t){this.$$set({hide_header:t}),l()}get hide_filter_options(){return this.$$.ctx[20]}set hide_filter_options(t){this.$$set({hide_filter_options:t}),l()}get show_department_title(){return this.$$.ctx[21]}set show_department_title(t){this.$$set({show_department_title:t}),l()}get show_subject_title(){return this.$$.ctx[22]}set show_subject_title(t){this.$$set({show_subject_title:t}),l()}get default_expand(){return this.$$.ctx[52]}set default_expand(t){this.$$set({default_expand:t}),l()}get show_username_always(){return this.$$.ctx[23]}set show_username_always(t){this.$$set({show_username_always:t}),l()}get show_always_subject(){return this.$$.ctx[24]}set show_always_subject(t){this.$$set({show_always_subject:t}),l()}get right_panel_mode(){return this.$$.ctx[25]}set right_panel_mode(t){this.$$set({right_panel_mode:t}),l()}get no_additional_column(){return this.$$.ctx[26]}set no_additional_column(t){this.$$set({no_additional_column:t}),l()}get override_item_open(){return this.$$.ctx[27]}set override_item_open(t){this.$$set({override_item_open:t}),l()}get no_chat_preview(){return this.$$.ctx[28]}set no_chat_preview(t){this.$$set({no_chat_preview:t}),l()}get default_sort(){return this.$$.ctx[53]}set default_sort(t){this.$$set({default_sort:t}),l()}get www_dir_flags(){return this.$$.ctx[29]}set www_dir_flags(t){this.$$set({www_dir_flags:t}),l()}get base_url(){return this.$$.ctx[54]}set base_url(t){this.$$set({base_url:t}),l()}get url(){return this.$$.ctx[30]}set url(t){this.$$set({url:t}),l()}get icon_class(){return this.$$.ctx[31]}set icon_class(t){this.$$set({icon_class:t}),l()}get card_icon(){return this.$$.ctx[32]}set card_icon(t){this.$$set({card_icon:t}),l()}get no_link(){return this.$$.ctx[33]}set no_link(t){this.$$set({no_link:t}),l()}get no_duration(){return this.$$.ctx[34]}set no_duration(t){this.$$set({no_duration:t}),l()}get no_counter(){return this.$$.ctx[35]}set no_counter(t){this.$$set({no_counter:t}),l()}get expand_identifier(){return this.$$.ctx[36]}set expand_identifier(t){this.$$set({expand_identifier:t}),l()}get custom_card_class(){return this.$$.ctx[37]}set custom_card_class(t){this.$$set({custom_card_class:t}),l()}get custom_title_class(){return this.$$.ctx[38]}set custom_title_class(t){this.$$set({custom_title_class:t}),l()}get custom_settings_url(){return this.$$.ctx[39]}set custom_settings_url(t){this.$$set({custom_settings_url:t}),l()}get additional_sort(){return this.$$.ctx[40]}set additional_sort(t){this.$$set({additional_sort:t}),l()}get data_panel_id(){return this.$$.ctx[41]}set data_panel_id(t){this.$$set({data_panel_id:t}),l()}get column_2_width(){return this.$$.ctx[42]}set column_2_width(t){this.$$set({column_2_width:t}),l()}get column_1_width(){return this.$$.ctx[43]}set column_1_width(t){this.$$set({column_1_width:t}),l()}get column_3_width(){return this.$$.ctx[44]}set column_3_width(t){this.$$set({column_3_width:t}),l()}get permissions(){return this.$$.ctx[55]}set permissions(t){this.$$set({permissions:t}),l()}get optionsPanel(){return this.$$.ctx[56]}set optionsPanel(t){this.$$set({optionsPanel:t}),l()}}function Ua(t,e){return{update(e){let n=e=e.replaceAll("&nbsp;"," ").replaceAll("&amp;","&").replace(/<(b|i|u|strike)\sstyle=".*?">/g,"<$1>").replace(/<suggester.*?>.*?<\/suggester>/g,"").replace(/<span style=".*?">(.*?)<\/span>/g,"$1").replace(/<span>(.*?)<\/span>/g,"$1");"<br>"===(e=(e=(t=>{var e=document.createElement("div");return e.innerHTML=t.replaceAll("<br>","___BR___").replaceAll("\r\n","___BR___").replaceAll("\n","___BR___").replaceAll("<b>","___BLD___").replaceAll("</b>","___BLDC___").replaceAll("</i>","___ITAC___").replaceAll("<i>","___ITA___").replaceAll("</u>","___UNDC___").replaceAll("<u>","___UND___").replaceAll("<strike>","___STRIKE___").replaceAll("</strike>","___STRIKEC___").replaceAll("&gt;","___GT___").replaceAll("&lt;","___LT___"),e.innerText.replaceAll("___BR___","<br>").replaceAll("___BLD___","<b>").replaceAll("___BLDC___","</b>").replaceAll("___ITAC___","</i>").replaceAll("___ITA___","<i>").replaceAll("___UNDC___","</u>").replaceAll("___UND___","<u>").replaceAll("___STRIKE___","<strike>").replaceAll("___STRIKEC___","</strike>").replaceAll("___GT___","&gt;").replaceAll("___LT___","&lt;")})(e=(t=>{var e=document.createElement("textarea");return e.innerHTML=t.replaceAll("&gt;","___GT___").replaceAll("&lt;","___LT___"),e.value.replaceAll("___GT___","&gt;").replaceAll("___LT___","&lt;")})(e))).replace(/\u00a0/g," "))?t.innerHTML="":JSON.stringify(e.replace(/\s+/g,""))!=JSON.stringify(n.replace(/\s+/g,""))&&(t.innerHTML=e)}}}function Fa(t,e,n,i,a){let s=n&&n.startOffset!=n.endOffset,o={b:"bold",i:"italic",u:"underline",s:"strikethrough"};o[t]?(!0===s&&za(n,i),document.execCommand(o[t],!1,null),i.focus()):(za(n,i),function(t,e){var n,i;if(window.getSelection&&(n=window.getSelection()).getRangeAt&&n.rangeCount){let a=(i=n.getRangeAt(0)).cloneContents();i.deleteContents(),i.insertNode(document.createTextNode(e)),i.insertNode(a),i.insertNode(document.createTextNode(t)),i.collapse(!1)}}("["+t+"]","[/"+e+"]")),s&&a.set(i.innerHTML)}function Ka(t){var e,n;(e=document.createRange()).selectNodeContents(t),e.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(e)}function Xa(){if(window.getSelection){let t=window.getSelection();if(t.getRangeAt&&t.rangeCount){let e=t.getRangeAt(0);return e.startOffset!=e.endOffset}}return!1}function Ya(){if(window.getSelection){let t=window.getSelection();if(t.getRangeAt&&t.rangeCount)return t.getRangeAt(0)}else if(document.selection&&document.selection.createRange)return document.selection.createRange();return null}function za(t,e,n){if(t)if(window.getSelection){let e=window.getSelection();if(e.removeAllRanges(),e.addRange(t),n&&n.replace_from){t.setStart(t.startContainer,0),t.setEnd(t.endContainer,t.endOffset);let e=t.toString();-1!==e.lastIndexOf("#")&&(t.setStart(t.startContainer,e.lastIndexOf("#")),t.deleteContents())}}else document.selection&&t.select&&t.select();else Ka(e)}function Za(t,e,n,i,a){za(e,n,a),function(t){var e,n;if(window.getSelection){if((e=window.getSelection()).getRangeAt&&e.rangeCount){let i=(n=e.getRangeAt(0)).createContextualFragment(t);n.insertNode(i),n.collapse(!1)}}else document.selection&&document.selection.createRange&&(document.selection.createRange().text=t)}(t),i.set(n.innerHTML)}function ts(t,e,n){t.stopPropagation(),t.preventDefault(),function(t){t=t.replaceAll("\r\n","\n");var e,n,i=t.split("\n");if(window.getSelection){if((e=window.getSelection()).getRangeAt&&e.rangeCount){(n=e.getRangeAt(0)).deleteContents();for(var a=i.length-1;a>=0;a--)a<i.length-1&&n.insertNode(document.createElement("br")),n.insertNode(document.createTextNode(i[a]));n.collapse(!1)}}else document.selection&&document.selection.createRange&&(document.selection.createRange().text=t)}((t.clipboardData||window.clipboardData).getData("text/plain")),n.set(e.innerHTML)}function es(t){let e,n,i,a,s,o,c;return{c(){e=h("div"),n=u(),i=h("div"),a=w(t[10]),s=u(),o=h("pre"),c=w(t[7])},m(l,d){_(l,e,d),e.innerHTML=t[10],_(l,n,d),_(l,i,d),m(i,a),_(l,s,d),_(l,o,d),m(o,c)},p(t,n){1024&n[0]&&(e.innerHTML=t[10]),1024&n[0]&&f(a,t[10]),128&n[0]&&f(c,t[7])},d(t){t&&(r(e),r(n),r(i),r(s),r(o))}}}function ns(t){let e,n,i,a,s,o,c,l,m=t[1]&&es(t);return{c(){e=h("div"),s=u(),m&&m.c(),o=p(),g(e,"contenteditable","true"),g(e,"id",n="editor-"+t[0]),g(e,"class",i="lhc-editor form-control form-control-sm form-send-textarea form-group"+("1"===t[5]?" bg-light":"")+(!0===t[2]?" form-control-warning":"")+(t[8]?" hide-suggester":"")),g(e,"placeholder",t[3]),void 0!==t[10]&&void 0!==t[7]||I((()=>t[36].call(e))),N(e,"min-height",27*t[6]+"px")},m(n,i){_(n,e,i),void 0!==t[10]&&(e.innerHTML=t[10]),void 0!==t[7]&&(e.textContent=t[7]),t[37](e),_(n,s,i),m&&m.m(n,i),_(n,o,i),c||(l=[b(e,"paste",t[35]),b(e,"keydown",t[13]),b(e,"click",t[14]),b(e,"keyup",t[14]),b(e,"focusout",t[14]),b(e,"input",t[36]),b(e,"input",t[15]),Q(a=Ua.call(null,e,t[10]))],c=!0)},p(t,s){1&s[0]&&n!==(n="editor-"+t[0])&&g(e,"id",n),292&s[0]&&i!==(i="lhc-editor form-control form-control-sm form-send-textarea form-group"+("1"===t[5]?" bg-light":"")+(!0===t[2]?" form-control-warning":"")+(t[8]?" hide-suggester":""))&&g(e,"class",i),8&s[0]&&g(e,"placeholder",t[3]),1024&s[0]&&t[10]!==e.innerHTML&&(e.innerHTML=t[10]),128&s[0]&&t[7]!==e.textContent&&(e.textContent=t[7]),a&&x(a.update)&&1024&s[0]&&a.update.call(null,t[10]),64&s[0]&&N(e,"min-height",27*t[6]+"px"),t[1]?m?m.p(t,s):(m=es(t),m.c(),m.m(o.parentNode,o)):m&&(m.d(1),m=null)},i:d,o:d,d(n){n&&(r(e),r(s),r(o)),t[37](null),m&&m.d(n),c=!1,y(l)}}}function is(t,e,n){let i,s,o="",{host:l}=e,{scope:d="chat"}=e,{record_id:r="0"}=e,{debug:_=!1}=e,{warning_area:u=!1}=e,{placeholder:p=""}=e,{readonly:m=null}=e,{whisper:h}=e,{enable_canned_suggester:g}=e,{disable_key_listeners:f}=e,{data_rows_default:w=2}=e,{disable_bb_bold:b=null}=e,{disable_bb_underline:v=null}=e,{disable_bb_italic:y=null}=e;const x={"&amp;":"&","&lt;":"<","&gt;":">","<br>":"\n","<b>":"[b]","<i>":"[i]","</i>":"[/i]","</b>":"[/b]","<u>":"[u]","</u>":"[/u]","</strike>":"[/s]","<strike>":"[s]"},$={"\r\n":"","\n":"","<br>":"\n","<b>":"[b]","</b>":"[/b]","<i>":"[i]","</i>":"[/i]","<u>":"[u]","</u>":"[/u]","</strike>":"[/s]","<strike>":"[s]","&nbsp;":" ","&amp;":"&","&lt;":"<","&gt;":">"};let C=null,j=!1,k=!1,W=q("");a(t,W,(t=>n(10,s=t)));let D,L=function(t){const{subscribe:e,set:n,update:i,get:a}=q(t);return{subscribe:e,update:i,get:a,set:n,addOne:()=>i((t=>t+1)),reset:()=>n(0),goPrev:()=>i((e=>(e.index>0&&e.index--,t))),goNext:()=>i((e=>(e.index<e.history.length-1&&e.index++,t))),setCurrent:t=>i((e=>(e.current=t,e))),addHistory:t=>i((e=>("<br>"==t&&(t=""),e.current==t||(e.index!=e.history.length-1&&e.history.splice(e.index+1),e.history.length>=10&&e.history.shift(),e.history.push(t),e.index=e.history.length-1,e.current=t),e)))}}({index:0,current:"",history:[""]});a(t,L,(t=>n(44,i=t)));let A=!1,S=null,I=500,E=!1;function N(t){t=t.replaceAll("\r\n","\n");for(const[e,n]of Object.entries(x))t=t.replaceAll(n,e);return t=t.replace(/ {2,}/g,(t=>Array.from(t,((t,e)=>e%2==0?"&nbsp;":" ")).join("")))}function T(t,e){n(8,j=!0),e&&(e.convert_bbcode&&(t=N(t)),e.new_line&&""!==D.innerHTML&&(t="\n"+t)),Za(t,C,D,W,e)}function R(){let t=D.getElementsByTagName("suggester");for(const e of t)D.removeChild(e)}function P(t,e){-1===["b","i","u","s","quote","youtube","html","code","fs10","fs11","fs12","fs13","fs14","fs15","fs16"].indexOf(t)&&0!==t.indexOf("color=")||Fa(t,e,C,D,W)}function O(){setTimeout((()=>{Ka(D)}),1)}function B(){!0===E&&(clearTimeout(S),L.addHistory(s.replace(/<suggester.*?>.*?<\/suggester>/g,"")),E=!1)}function M(t){t=function(t){var e=document.createElement("div");e.innerHTML=t;const n=["U","B","I","STRIKE","SPAN"],i={"font-style: italic":"i","font-weight: bold":"b","text-decoration: underline":"u","text-decoration: line-through":"strike"};return function t(e){Array.from(e.childNodes).forEach((a=>{if(a.nodeType===Node.ELEMENT_NODE&&n.includes(a.tagName)){let n=a.getAttribute("style");n&&Object.keys(i).forEach((t=>{if(n.includes(t)){const n=document.createElement(i[t]);a.removeAttribute("style");let s=a.cloneNode(!0);if("SPAN"!==a.tagName)n.appendChild(s);else for(;s.firstChild;)n.appendChild(s.firstChild);e.replaceChild(n,a),a=n}})),t(a)}}))}(e),e.innerHTML}(t),t=t.replace(/<(b|i|u|strike)\sstyle=".*?">/g,"<$1>").replace(/<span style=".*?">(.*?)<\/span>/g,"$1").replace(/<span>(.*?)<\/span>/g,"$1");for(const[e,n]of Object.entries($))t=t.replaceAll(e,n);return t}c((()=>{let t=document.getElementById("chat-tab-li-"+r);if(t&&t.firstChild&&t.firstChild.classList.contains("active")&&O(),g)var e=new LHCCannedMessageAutoSuggest({textarea:D,chat_id:r,uppercase_enabled:confLH.auto_uppercase});return document.getElementById("fileupload-"+r)&&window["file_upload_"+r]&&lhinst.addFileUpload(window["file_upload_"+r]),ee.emitEvent("adminChatEditorLoaded",[r,D]),()=>{clearInterval(S),e.unbindEvents()}})),W.subscribe((t=>{let e=t.replace(/<suggester.*?>.*?<\/suggester>/g,"");"<br>"===e&&(e="",n(9,D.innerHTML="",D)),""===e?(l.removeAttribute("content_modified"),!1===k?(l.removeAttribute("subjects_ids"),l.removeAttribute("canned_id")):k=!1):l.setAttribute("content_modified",!0),!1===A?(E=!0,clearTimeout(S),S=setTimeout((()=>{E=!1,L.addHistory(e)}),I)):L.setCurrent(e)}));return t.$$set=t=>{"host"in t&&n(16,l=t.host),"scope"in t&&n(17,d=t.scope),"record_id"in t&&n(0,r=t.record_id),"debug"in t&&n(1,_=t.debug),"warning_area"in t&&n(2,u=t.warning_area),"placeholder"in t&&n(3,p=t.placeholder),"readonly"in t&&n(4,m=t.readonly),"whisper"in t&&n(5,h=t.whisper),"enable_canned_suggester"in t&&n(18,g=t.enable_canned_suggester),"disable_key_listeners"in t&&n(19,f=t.disable_key_listeners),"data_rows_default"in t&&n(6,w=t.data_rows_default),"disable_bb_bold"in t&&n(20,b=t.disable_bb_bold),"disable_bb_underline"in t&&n(21,v=t.disable_bb_underline),"disable_bb_italic"in t&&n(22,y=t.disable_bb_italic)},[r,_,u,p,m,h,w,o,j,D,s,W,L,function(t){var e=!0;let a=!1;if(!f)if(!t.altKey||38!==t.keyCode&&40!==t.keyCode){if(m)return t.preventDefault(),void t.stopPropagation();if(r&&lhinst.operatorTypingCallback(r),t.ctrlKey)switch(t.keyCode){case 32:Ka(D),C=Ya(),T("&nbsp;"),e=!1;break;case 90:n(8,j=!0),B(),e=!1,L.goPrev(),A=!0,W.set(i.history[i.index]),O(),A=!1;break;case 89:n(8,j=!0),B(),e=!1,A=!0,L.goNext(),W.set(i.history[i.index]),O(),A=!1;break;case 66:b?e=!1:!0===Xa()&&(I=0,P("b","b"),C=Ya(),e=!1);break;case 73:case 105:y?e=!1:!0===Xa()&&(I=0,P("i","i"),C=Ya(),e=!1);break;case 85:case 117:v?e=!1:!0===Xa()&&(I=0,P("u","u"),C=Ya(),e=!1)}else if(t.shiftKey){if(13===t.keyCode)a=!0}else if(13===t.keyCode){e=!1,B();let t=M(i.current).trim();t&&(ee.emitEvent("svelte_"+d+"_"+r+"_msg",[t]),lhinst.addmsgadmin(r),ee.emitEvent("afterAdminMessageSent",[r]))}else 38===t.keyCode&&(B(),lhinst.editPrevious(r));!0===a||32===t.keyCode?(I=0,n(8,j=!0)):I=500,!1===e&&(t.preventDefault(),t.stopPropagation())}else ee.emitEvent("activateNextTab",[r,38===t.keyCode])},function(t){var e,i,a,s;C=Ya(),!t||!t.keyCode||40!==t.keyCode&&37!==t.keyCode?(n(8,j=!1),window.getSelection&&(e=window.getSelection()).getRangeAt&&e.rangeCount&&((i=e.getRangeAt(0)).startOffset!=i.endOffset&&n(8,j=!0),(a=document.createRange()).selectNodeContents(D),a.setStart(i.endContainer,i.endOffset),(s=a.cloneContents()).lastElementChild&&"SUGGESTER"==s.lastElementChild.tagName&&s.removeChild(s.lastElementChild),!1===(0===s.textContent.length)&&n(8,j=!0))):n(8,j=!0)},function(){W.set(D.innerHTML)},l,d,g,f,b,v,y,function(){return D},function(t,e){n(8,j=!0),e&&(e.ignore_meta&&(k=!0),e.convert_bbcode&&(t=N(t))),W.set(t.trim())},T,function(t){C=Ya(),function(t,e,n,i){if(e)if(window.getSelection){e.setStart(e.startContainer,0),e.setEnd(e.endContainer,e.endOffset),e.deleteContents();let n=e.createContextualFragment(t);e.insertNode(n),e.collapse(!1);let i=window.getSelection();i.removeAllRanges(),i.addRange(e)}else document.selection&&range.select&&range.select()}(t,C)},R,function(t){if(R(),t&&!D.classList.contains("hide-suggester")&&"<br>"!=s.substr(s.length-4)){const e=document.createElement("template");e.innerHTML="<suggester style='color: #cecece; user-select: none' contentEditable=\"false\">"+t+"</suggester>",D.appendChild(e.content.firstChild)}},P,function(){return M(i.current).trim()},function(){return M(s.replace(/<suggester.*?>.*?<\/suggester>/g,"")).trim()},O,function(){var t,e,n,i;return!!(window.getSelection&&(t=window.getSelection()).getRangeAt&&t.rangeCount)&&((e=t.getRangeAt(0)).startOffset==e.endOffset&&((n=document.createRange()).selectNodeContents(D),n.setStart(e.endContainer,e.endOffset),(i=n.cloneContents()).lastElementChild&&"SUGGESTER"==i.lastElementChild.tagName&&i.removeChild(i.lastElementChild),i.textContent.length,!0))},function(t){if(window.getSelection){var e=window.getSelection();if(e.rangeCount){let t=e.getRangeAt(0),n=document.createRange();n.selectNodeContents(D),n.setStart(t.startContainer,0),n.setEnd(t.endContainer,t.endOffset);let i=n.cloneContents();return i.lastElementChild&&"SUGGESTER"==i.lastElementChild.tagName&&i.removeChild(i.lastElementChild),{caret:t.endOffset,content:i.textContent.replace(/\u00a0/g," "),full_content:D.textContent.replace(/\u00a0/g," ")}}}return{caret:0,content:"",full_content:D.textContent.replace(/\u00a0/g," ")}},t=>{if(m)return t.preventDefault(),void t.stopPropagation();ts(t,D,W)},function(){s=this.innerHTML,W.set(s),o=this.textContent,n(7,o)},function(t){U[t?"unshift":"push"]((()=>{D=t,n(9,D)}))}]}customElements.define("lhc-widget",t(Qa,{type:{},no_collapse:{type:"Boolean"},no_expand:{type:"Boolean"},show_username_title:{type:"Boolean"},hide_third_column:{type:"Boolean"},hide_2_column:{type:"Boolean"},hide_op_avatar:{type:"Boolean"},hide_ac_stats:{type:"Boolean"},hide_ac_sort:{type:"Boolean"},hide_ac_op_icon:{type:"Boolean"},custom_visitor_title:{},mh_widget:{},custom_visitor_icon:{},show_visitor_title:{type:"Boolean"},list_identifier:{},no_panel_id:{type:"Boolean"},custom_settings_url_icon:{},panel_list_identifier:{},sort_identifier:{},status_id:{},status_key:{},hide_header:{type:"Boolean"},hide_filter_options:{type:"Boolean"},show_department_title:{type:"Boolean"},show_subject_title:{type:"Boolean"},default_expand:{type:"Boolean"},show_username_always:{type:"Boolean"},show_always_subject:{type:"Boolean"},right_panel_mode:{type:"Boolean"},no_additional_column:{type:"Boolean"},override_item_open:{},no_chat_preview:{type:"Boolean"},default_sort:{},www_dir_flags:{},base_url:{},url:{},icon_class:{},card_icon:{},no_link:{type:"Boolean"},no_duration:{type:"Boolean"},no_counter:{type:"Boolean"},expand_identifier:{},custom_card_class:{},custom_title_class:{},custom_settings_url:{},additional_sort:{},data_panel_id:{},column_2_width:{},column_1_width:{},column_3_width:{},permissions:{},optionsPanel:{}},[],[],!1));class as extends e{constructor(t){super(),n(this,t,is,ns,i,{host:16,scope:17,record_id:0,debug:1,warning_area:2,placeholder:3,readonly:4,whisper:5,enable_canned_suggester:18,disable_key_listeners:19,data_rows_default:6,disable_bb_bold:20,disable_bb_underline:21,disable_bb_italic:22,getEditor:23,setContent:24,insertContent:25,replaceRange:26,removeSuggester:27,setSuggester:28,insertFormating:29,getContent:30,getContentLive:31,setFocus:32,isCursorAtEnd:33,getCaretPositionAndContent:34},null,[-1,-1])}get host(){return this.$$.ctx[16]}set host(t){this.$$set({host:t}),l()}get scope(){return this.$$.ctx[17]}set scope(t){this.$$set({scope:t}),l()}get record_id(){return this.$$.ctx[0]}set record_id(t){this.$$set({record_id:t}),l()}get debug(){return this.$$.ctx[1]}set debug(t){this.$$set({debug:t}),l()}get warning_area(){return this.$$.ctx[2]}set warning_area(t){this.$$set({warning_area:t}),l()}get placeholder(){return this.$$.ctx[3]}set placeholder(t){this.$$set({placeholder:t}),l()}get readonly(){return this.$$.ctx[4]}set readonly(t){this.$$set({readonly:t}),l()}get whisper(){return this.$$.ctx[5]}set whisper(t){this.$$set({whisper:t}),l()}get enable_canned_suggester(){return this.$$.ctx[18]}set enable_canned_suggester(t){this.$$set({enable_canned_suggester:t}),l()}get disable_key_listeners(){return this.$$.ctx[19]}set disable_key_listeners(t){this.$$set({disable_key_listeners:t}),l()}get data_rows_default(){return this.$$.ctx[6]}set data_rows_default(t){this.$$set({data_rows_default:t}),l()}get disable_bb_bold(){return this.$$.ctx[20]}set disable_bb_bold(t){this.$$set({disable_bb_bold:t}),l()}get disable_bb_underline(){return this.$$.ctx[21]}set disable_bb_underline(t){this.$$set({disable_bb_underline:t}),l()}get disable_bb_italic(){return this.$$.ctx[22]}set disable_bb_italic(t){this.$$set({disable_bb_italic:t}),l()}get getEditor(){return this.$$.ctx[23]}get setContent(){return this.$$.ctx[24]}get insertContent(){return this.$$.ctx[25]}get replaceRange(){return this.$$.ctx[26]}get removeSuggester(){return this.$$.ctx[27]}get setSuggester(){return this.$$.ctx[28]}get insertFormating(){return this.$$.ctx[29]}get getContent(){return this.$$.ctx[30]}get getContentLive(){return this.$$.ctx[31]}get setFocus(){return this.$$.ctx[32]}get isCursorAtEnd(){return this.$$.ctx[33]}get getCaretPositionAndContent(){return this.$$.ctx[34]}}customElements.define("lhc-editor",t(as,{host:{},scope:{},record_id:{},debug:{type:"Boolean"},warning_area:{type:"Boolean"},placeholder:{},readonly:{},whisper:{},enable_canned_suggester:{},disable_key_listeners:{},data_rows_default:{},disable_bb_bold:{},disable_bb_underline:{},disable_bb_italic:{}},[],["getEditor","setContent","insertContent","replaceRange","removeSuggester","setSuggester","insertFormating","getContent","getContentLive","setFocus","isCursorAtEnd","getCaretPositionAndContent"],!1,(t=>class extends t{constructor(){super(),this.host=this}})));export{Ct as AudioChecker,St as BrowserNotification,Jt as ChangeAlwaysOnline,Ot as ChangeOnlineStatus,Kt as ChangeVisibilityMode,ne as ChatsCounter,me as ConnectionStatus,it as LHC,as as LHCEditor,vt as LHCStatus,Qa as LHCWidget,zt as OpenChat};
//# sourceMappingURL=main.js.map
