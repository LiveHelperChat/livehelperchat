import{c as t,S as e,i as n,s as i,w as a,B as s,o,f as c,n as l,d,h as r,m as _,q as u,j as p,k as m,g as h,b as g,t as f,l as w,r as b,A as v,x as y,N as x,O as $,e as C,a as j,z as k,y as W,C as D,u as L,v as A,P as S,E as I,D as T,G as E,H as N,I as R,J as P,Q as O,R as B,K as H,L as M,M as V,T as J,U as q}from"./index.DKABnuqJ.js";import{a as G,t as Q}from"./i18n.n9bVxKpD.js";import{l as U,W as F,L as K}from"./onlinevisitors.BNhHu6gj.js";import{w as z}from"./createI18n.dbi3yoQO.js";function X(t,e){if(localStorage)try{localStorage.setItem(t,e)}catch(t){}}function Y(t){if(localStorage)try{localStorage.removeItem(t)}catch(t){}}function Z(t){if(localStorage)try{var e=localStorage.getItem(t);if(null!==e&&""!==e)return e.split(",")}catch(t){}return[]}function tt(t,e,n){return isNaN(e)&&(e=10),void 0===n&&(n="..."),t.length<=e||t.length-n.length<=e?t:String(t).substring(0,e-n.length)+n}function et(t,e,n){if(void 0!==t)for(var i=t.length-1;i>=0;i--){var a=t[i];-1===e.indexOf(a)&&lhinst.hideNotification(a.split("_")[0],n)}}function nt(t,e,n){let i,c,l,d,r,_,u;function p(){let t=document.getElementById("menu-rmtoggle");t&&(u.rmtoggle?t.classList.add("hide"):t.classList.remove("hide")),t=document.getElementById("wrapper"),t&&(u.lmtoggle?t.classList.add("toggled"):t.classList.remove("toggled"))}function m(t){if(!document.getElementById(t))return;let e=document.getElementById(t).getElementsByTagName("i")[0];!0===u.toggleWidgetData[t]?(e.classList.remove("chat-closed"),e.classList.add("chat-active")):(e.classList.remove("chat-active"),e.classList.add("chat-closed"))}a(t,G,(t=>n(6,u=t))),window.$_LHC_API={};let h={timeoutActivity:null,timeoutActivityTime:300,blockSync:!1,timeoutControl:null,setTimeoutEnabled:!0,isListLoaded:!1,lastd_activity:Math.round((new Date).getTime()/1e3),lhcListRequestInProgress:!1,lhcSettingUpdateProgress:[],lhcSettingAllSelected:!1,channel:null,abortController:new AbortController};lhinst.channel=h.channel=new BroadcastChannel("lhc_dashboard"),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",(function(t){"lhc_open_chat"===t.data.action?L(t.data.chat_id):"lhc_open_url"===t.data.action&&t.data.url&&(document.location=t.data.url)})),h.channel.addEventListener("message",(function(t){if(t.isTrusted&&t.data.action){if("went_active"===t.data.action)return jQuery("#myModal").modal("hide"),void f();var e=jQuery("#tabs");t.data.args.chat_id&&-1!==lhinst.chatsSynchronising.indexOf(t.data.args.chat_id)?"close_chat"===t.data.action?e.length>0&&lhinst.removeDialogTab(t.data.args.chat_id,e,!0):"update_chat"===t.data.action||"startbackground_chat"===t.data.action?e.length>0&&lhinst.updateVoteStatus(t.data.args.chat_id,!0):"reload_chat"===t.data.action&&(lhinst.addOpenTrace("channel_message_reload"),e.length>0&&lhinst.reloadTab(t.data.args.chat_id,e,t.data.args.nick,!0)):"startbackground_chat"===t.data.action?(lhinst.addOpenTrace("channel_message_open"),e.length>0&&lhinst.startChatBackground(t.data.args.chat_id,e,t.data.args.nick)||ee.emitEvent("chatTabPreload",[t.data.args.chat_id,{focus:!1}])):"close_chat"===t.data.action?ee.emitEvent("removeSynchroChat",[parseInt(t.data.args.chat_id)]):t.data.args.mail_id&&"close_mail"==t.data.action&&lhinst.removeDialogTabMail(t.data.args.mail_id,jQuery("#tabs"),!0,!0)}})),ee.addListener("svelteWentActive",(function(){jQuery("#myModal").modal("hide"),f()})),ee.addListener("angularStartChatbyId",(function(t){lhinst.addOpenTrace("view_clicked"),L(t)})),ee.addListener("svelteOpenChat",(function(t){lhinst.addOpenTrace("click"),L(t,u.isCTRLPressed)})),ee.addListener("svelteOpenMail",(function(t,e){lhinst.startMailChat(t,jQuery("#tabs"),tt(e,10),u.isCTRLPressed)})),ee.addListener("svelteAction",(function(t){$(t)})),ee.addListener("svelteDebug",(function(){console.log(u),console.log(h)})),ee.addListener("angularLoadChatList",(function(){h.isListLoaded=!1,h.lhcListRequestInProgress=!1,D()})),ee.addListener("svelteTestNotification",(function(t){U.getNotificationsData(t).then((function(t){t.forEach((function(t){lhinst.playSoundNewAction(t.last_id_identifier,parseInt(t.last_id),t.nick?t.nick:"Live Help",t.msg?t.msg:confLH.transLation.new_chat,t.nt)}))}))})),ee.addListener("svelteOptionsPanelLoaded",(function(t){if(void 0!==u.optionsPanels[t]){const e=u.optionsPanels[t];e.custom_filters&&Array.isArray(e.custom_filters)&&e.custom_filters.forEach((function(e){const n=t+"_"+e.field;s(G,u[n]="false"!=U.restoreLocalSetting(n,"false",!1),u)}))}})),ee.addListener("svelteResetTimeoutActivity",(function(){k()})),ee.addListener("angularStartChatOperatorPublic",(function(t){U.startChatOperator(t)})),ee.addListener("svelteallDepartmentsChanged",(function(t,e){b(t,e)})),ee.addListener("svelteProductChanged",(function(t){C(t)})),ee.addListener("svelteDepartmentChanged",(function(t){w(t)})),ee.addListener("svelteLimitChanged",(function(t){U.setLocalSettings(t,u[t]),D()})),ee.addListener("angularSyncDisabled",(function(t){var e;e=t,h.blockSync=e,1==h.blockSync&&(h.abortController.abort(),h.abortController=new AbortController)})),ee.addListener("svelteToggleList",(function(t){!function(t){if(s(G,u[t]=!u[t],u),localStorage)try{localStorage.setItem(t,u[t])}catch(t){}}(t)})),ee.addListener("svelteToggleWidget",(function(t,e){U.toggleWidget(G,t,e)})),ee.addListener("svelteRemoveLocalSetting",(function(t){U.removeLocalSetting(t)})),ee.addListener("svelteStoreLocalSetting",(function(t,e){U.storeLocalSetting(t,e)})),ee.addListener("svelteNoticeUpdated",(function(){!async function(){const t=await fetch(WWW_DIR_JAVASCRIPT+"chat/loadinitialdata",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}),e=await t.json();if(e.logout||e.error_url)return void document.location.reload();e.notice?s(G,u.lhcNotice=e.notice,u):s(G,u.lhcNotice={message:"",level:"primary"},u)}()})),ee.addListener("svelteAppendActiveChats",(function(){U.loadActiveChats().then((function(t){let e=jQuery("#tabs");t.result.forEach((function(t){lhinst.startChatBackground(t.id,e,U.truncate(t.nick||"Visitor",10))})),setTimeout((function(){ee.emitEvent("angularLoadChatList")}),1e3)}))}));let g=[];function f(){U.setInactive("false"),h.isListLoaded=!1,h.blockSync=!1,h.lhcListRequestInProgress=!1,k(),lhinst.disableSync=!1,D(),s(G,u.inActive=!1,u)}function w(t){if(-1===h.lhcSettingUpdateProgress.indexOf(t)){if(h.lhcSettingUpdateProgress.push(t),u[t].length>0){!1===h.lhcSettingAllSelected&&(s(G,u[t+"_all_departments"]=!1,u),b(t,!1)),h.lhcSettingAllSelected=!1;var e=u[t].join("/");""!==e?(v(t,e),x(t)):y(t)}else v(t,null);h.isListLoaded=!1,D()}}function b(t,e){if(!0===u[t+"_all_departments"]?X(t+"_all_departments",!0):Y(t+"_all_departments"),!0===u[t+"_hide_hidden"]?X(t+"_hide_hidden",!0):Y(t+"_hide_hidden"),!0===u[t+"_hide_disabled"]?X(t+"_hide_disabled",!0):Y(t+"_hide_disabled"),!0===u[t+"_only_online"]?X(t+"_only_online",!0):Y(t+"_only_online"),void 0!==u[t+"_hide_dep"]&&(!0===u[t+"_hide_dep"]?X(t+"_hide_dep",!0):Y(t+"_hide_dep")),void 0!==u[t+"_hide_dgroup"]&&(!0===u[t+"_hide_dgroup"]?X(t+"_hide_dgroup",!0):Y(t+"_hide_dgroup")),void 0!==u.optionsPanels[t]){const e=u.optionsPanels[t];e.custom_filters&&Array.isArray(e.custom_filters)&&e.custom_filters.forEach((function(e){const n=t+"_"+e.field;void 0!==u[n]&&(!0===u[n]?X(n,!0):Y(n))}))}if(!0===u[t+"_all_departments"]){let e=[];u.userDepartments.forEach((function(n){(!1===u[t+"_only_explicit_online"]||!0===u[t+"_only_explicit_online"]&&!0===n.oexp)&&(!1===u[t+"_hide_hidden"]||!0===u[t+"_hide_hidden"]&&!1===n.hidden)&&(!1===u[t+"_hide_disabled"]||!0===u[t+"_hide_disabled"]&&!1===n.disabled)&&(!1===u[t+"_only_online"]||!0===u[t+"_only_online"]&&!0===n.ogen)&&e.push(n.id)})),0===e.length&&e.push(-1),h.lhcSettingAllSelected=!0,s(G,u[t]=e,u)}else!0===e&&s(G,u[t]=[],u);!0===e&&(h.isListLoaded=!1,D())}function v(t,e){U.setLocalSettings(t,e).then((function(){y(t)})).catch((function(){y(t)}))}function y(t){h.lhcSettingUpdateProgress.splice(h.lhcSettingUpdateProgress.indexOf(t),1)}function x(t){s(G,u[t+"Names"]=[],u),u[t].forEach((function(e){void 0!==u.userDepartmentsNames&&void 0!==u.userDepartmentsNames[e]?u[t+"Names"].push(u.userDepartmentsNames[e]):void 0!==u.userDepartmentsNames&&(u[t].splice(u[t].indexOf(e),1),w(t))}))}function $(t){u.last_actions.unshift(t),s(G,u.last_actions=u.last_actions.slice(0,5),u)}function C(t){if(u[t].length>0){var e=u[t].join("/");""!==e&&U.setLocalSettings(t,e)}else U.setLocalSettings(t,null);h.isListLoaded=!1,D()}g.push("actived"),g.push("departmentd"),g.push("unreadd"),g.push("pendingd"),g.push("operatord"),g.push("closedd"),g.push("mcd"),g.push("botd"),g.push("subjectd"),g.push("pendingmd"),g.push("activemd"),g.push("alarmmd"),g.push("mmd"),g.push("department_online"),g.forEach((function(t){s(G,u[t+"_all_departments"]="false"!=U.restoreLocalSetting(t+"_all_departments","false",!1),u),s(G,u[t+"_hide_hidden"]="false"!=U.restoreLocalSetting(t+"_hide_hidden","false",!1),u),s(G,u[t+"_hide_disabled"]="false"!=U.restoreLocalSetting(t+"_hide_disabled","false",!1),u),s(G,u[t+"_only_online"]="false"!=U.restoreLocalSetting(t+"_only_online","false",!1),u),s(G,u[t+"_only_explicit_online"]="false"!=U.restoreLocalSetting(t+"_only_explicit_online","false",!1),u),s(G,u[t+"_m_h"]=U.restoreLocalSetting(t+"_m_h",null,!1),u)})),s(G,u.onlineusers_m_h=U.restoreLocalSetting("onlineusers_m_h",null,!1),u),o((async()=>{const t=jQuery('.nav-tabs[data-remember="true"], .nav-pills[data-remember="true"]');if((e=window.location.hash)&&t.length){e=e.replace("#!#","#");const n=t.find('.nav-link[href="'+e+'"]');if(n.length)try{"function"==typeof n.tab&&n.tab("show")}catch(t){console.warn("Could not activate tab:",t)}}t.find(".nav-link").on("shown.bs.tab",(function(t){history.replaceState(null,null,t.target.hash)})),s(G,u.departmentd_hide_dep="false"!=U.restoreLocalSetting("departmentd_hide_dep","false",!1),u),s(G,u.departmentd_hide_dgroup="false"!=U.restoreLocalSetting("departmentd_hide_dgroup","false",!1),u),s(G,u.lmtoggle="false"!=U.restoreLocalSetting("lmtoggle","false",!1),u),s(G,u.rmtoggle="false"!=U.restoreLocalSetting("rmtoggle","false",!1),u),U.getToggleWidget(G,"track_open_chats"),U.getToggleWidget(G,"group_offline_chats"),document.addEventListener("keydown",(function(t){("Control"===t.key||t.ctrlKey||"Meta"===t.key||t.metaKey)&&s(G,u.isCTRLPressed=!0,u)})),document.addEventListener("keyup",(function(t){("Control"===t.key||t.ctrlKey||"Meta"===t.key||t.metaKey)&&s(G,u.isCTRLPressed=!1,u)})),window.addEventListener("blur",(function(){s(G,u.isCTRLPressed=!1,u)}));var e,n,i,a="",o=Z("achat_id"),c=Z("gachat_id"),l=Z("machat_id"),d=0,r=0;""!==(e=window.location.hash)&&(null!==(n=e.match(/id-\d+$/))&&n[0]&&(d=parseInt(n[0].replace("id-","")),-1===o.indexOf(d)&&o.push(d)),null==n&&null!==(n=e.match(/mc\d+$/))&&n[0]&&(r=parseInt(n[0].replace("mc","")),-1===l.indexOf(r)&&l.push(r)));(i=document.getElementById("load_chat_id"))&&-1===o.indexOf(i.value)&&(d=parseInt(i.value),o.push(i.value),window.location.hash="#!#chat-id-"+i.value),(i=document.getElementById("load_mail_id"))&&-1===l.indexOf(i.value)&&(r=parseInt(i.value),l.push(i.value),window.location.hash="#!#chat-id-mc"+i.value);let _=jQuery("#tabs").length;_>0&&!1===lhinst.disableremember&&o.length>0&&(a="/(chatopen)/"+o.join("/")),_>0&&!1===lhinst.disableremember&&c.length>0&&(a+="/(chatgopen)/"+c.join("/")),jQuery("#tabs").length>0&&0==lhinst.disableremember&&l.length>0&&(a+="/(chatmopen)/"+l.join("/"));const p=await fetch(WWW_DIR_JAVASCRIPT+"chat/loadinitialdata"+a,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}),m=await p.json();if(m.logout||m.error_url)return void document.location.reload();G.update((t=>(t.userDepartmentsNames=m.dp_names,t.userDepartments=m.dep_list,t.userProductNames=m.pr_names,t.userDepartmentsGroups=m.dp_groups,t.userGroups=m.user_groups,t.hideInvisible=m.im,t.hideOnline=m.ho,t.lhcVersion=m.v,m.notice&&(t.lhcNotice=m.notice),m.message_connection&&(t.lhcMessageConnection=m.message_connection),t.alwaysOnline=m.a_on,t.additionalColumns=m.col,t.widgetsActive=m.widgets,t.bot_st=m.bot_st,t.excludeIcons=m.exc_ic,t.notifIcons=m.not_ic,t)));let f=["subjectd","subjectd_products","subjectd_dpgroups","subjectd_ugroups","activeu","pendingu","oopu","subjectu","closedd","closedd_products","closedd_dpgroups","botd","botd_products","botd_dpgroups","botd_ugroups","pendingd","pendingd_products","pendingd_dpgroups","pendingd_ugroups","unreadd","unreadd_products","unreadd_dpgroups","mcd","mcd_products","mcd_dpgroups","actived","actived_products","actived_dpgroups","actived_ugroups","departmentd_dpgroups","departmentd","operatord_dpgroups","operatord_ugroups","operatord","mmd","mmd_dpgroups","alarmmd","alarmmd_products","alarmmd_dpgroups","alarmmd_ugroups","activemd","activemd_products","activemd_dpgroups","activemd_ugroups","pendingmd","pendingmd_products","pendingmd_dpgroups","pendingmd_ugroups","pendingmu","activemu","alarmmu","department_online","department_online_dpgroups"];var w,b=["limitb","limita","limitu","limitp","limito","limitc","limitd","limitmc","limitgc","limits","limitpm","limitam","limitalm","limitmm"];m.dw_filters&&Object.keys(m.dw_filters).forEach((t=>{var e,n,i;-1!==f.indexOf(t)?s(G,u[t]=(e=m.dw_filters[t],n=e.split("/"),i=[],n.forEach((function(t){i.push(parseInt(t))})),i),u):-1!==b.indexOf(t)&&s(G,u[t]=m.dw_filters[t],u)})),g.forEach((function(t){x(t)})),1===m.track_activity&&(h.timeoutActivityTime=m.timeout_activity,w=function(){k()},j(window,"mousemove",w),j(document,"mousemove",w),j(window,"mousedown",w),j(window,"click",w),j(window,"scroll",w),j(window,"keypress",w),j(window,"load",w),j(document,"scroll",w),j(document,"touchstart",w),j(document,"touchend",w),k()),m.copen.forEach((function(t){lhinst.addOpenTrace("opened_chats"),lhinst.ignoreAdminSync=!0,lhinst.startChat(t.id,jQuery("#tabs"),tt(t.nick||"Visitor",10),t.id===d,0,t.status),lhinst.ignoreAdminSync=!1,$({type:"mac_history",chat_id:t.id,nick:t.nick}),t.id===d&&document.getElementById("tabs").classList.add("chat-tab-selected")})),m.cgopen.forEach((function(t){lhinst.startGroupChat(t.id,jQuery("#tabs"),tt(t.nick||"Visitor",10),!0)})),m.cmopen.forEach((function(t){lhinst.startMailChat(t.id,jQuery("#tabs"),tt(t.subject||"Mail",10),!(t.id===r))})),m.cmdel.forEach((function(t){lhinst.forgetChat(t,"machat_id")})),m.cdel.forEach((function(t){lhinst.forgetChat(t,"achat_id")})),m.cgdel.forEach((function(t){lhinst.forgetChat(t,"gachat_id")})),ee.emitEvent("eventLoadInitialData",[m,u,U]),window.$_LHC_API.initial_data=m,G.update((t=>(t.lhcCoreLoaded=!0,t))),async function(){var t=[],e=[],n=[],i=[];u.userGroups.forEach((function(t){e.push(t.id)})),u.userDepartmentsGroups.forEach((function(t){n.push(t.id)})),u.userProductNames.forEach((function(t){i.push(t.id)}));const a=await fetch(WWW_DIR_JAVASCRIPT+"chat/searchprovider/users_ids/?exclude_disabled=1&q="+u.pendingu.join(",")+","+u.activeu.join(",")+","+u.subjectu.join(",")+","+u.oopu.join(",")+","+u.pendingmu.join(",")+","+u.activemu.join(",")+","+u.alarmmu.join(","),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}}).catch((t=>{})),o=await a.json();s(G,u.userList=o.items,u),u.userList.forEach((function(e){t.push(e.id)}));var c={activeu:t,actived_products:i,actived_ugroups:e,actived_dpgroups:n,pendingu:t,oopu:t,pendingd_ugroups:e,operatord_ugroups:e,pendingd_dpgroups:n,pendingd_products:i,botd_dpgroups:n,botd_products:i,departmentd_dpgroups:n,closedd_products:i,closedd_dpgroups:n,unreadd_dpgroups:n,unreadd_products:i,mcd_products:i,mcd_dpgroups:n,mmd_dpgroups:n,operatord_dpgroups:n};for(const[t,e]of Object.entries(c)){[...u[t]].forEach((function(n){-1===e.indexOf(n)&&(u[t].splice(u[t].indexOf(n),1),C(t))}))}}(),D()}));let j=document.addEventListener?function(t,e,n){if(t&&t.nodeName||t===window)t.addEventListener(e,n,!1);else if(t&&t.length)for(var i=0;i<t.length;i++)j(t[i],e,n)}:function(t,e,n){if(t&&t.nodeName||t===window)t.attachEvent("on"+e,(function(){return n.call(t,window.event)}));else if(t&&t.length)for(var i=0;i<t.length;i++)j(t[i],e,n)};function k(){var t=window.opener;if(t)try{t.ee.emitEvent("svelteResetTimeoutActivity")}catch(t){console.log(t)}else!1===h.blockSync&&(h.lastd_activity=Math.round((new Date).getTime()/1e3),clearTimeout(h.timeoutActivity),h.timeoutActivity=setTimeout((function(){U.setInactive("true").then((function(t){if(!0===t.active)return k(),void(h.lastd_activity=0);lhinst.disableSync=h.blockSync=!0,h.lhcListRequestInProgress=!1,lhc.revealModal({url:WWW_DIR_JAVASCRIPT+"user/wentinactive/false",backdrop:!0,hidecallback(){f(),h.channel.postMessage({action:"went_active",args:{}})}})}))}),1e3*h.timeoutActivityTime))}function W(t){if((1==u[t+"_only_explicit_online"]||1==u[t+"_hide_hidden"]||1==u[t+"_hide_disabled"]||1==u[t+"_only_online"])&&u.userDepartments.length>0){var e=[];return u.userDepartments.forEach((function(n){(0==u[t+"_only_explicit_online"]||1==u[t+"_only_explicit_online"]&&1==n.oexp)&&(0==u[t+"_hide_hidden"]||1==u[t+"_hide_hidden"]&&0==n.hidden)&&(0==u[t+"_hide_disabled"]||1==u[t+"_hide_disabled"]&&0==n.disabled)&&(0==u[t+"_only_online"]||1==u[t+"_only_online"]&&1==n.ogen)&&e.push(n.id)})),0==e.length&&e.push(-1),e}return[]}async function D(){if(localStorage)try{s(G,u.pending_chats_expanded="false"!=localStorage.getItem("pending_chats_expanded"),u),s(G,u.active_chats_expanded="false"!=localStorage.getItem("active_chats_expanded"),u),s(G,u.my_active_chats_expanded="false"!=localStorage.getItem("my_active_chats_expanded"),u),s(G,u.closed_chats_expanded="false"!=localStorage.getItem("closed_chats_expanded"),u),s(G,u.unread_chats_expanded="false"!=localStorage.getItem("unread_chats_expanded"),u),s(G,u.my_chats_expanded="false"!=localStorage.getItem("my_chats_expanded"),u),s(G,u.pending_mails_expanded="false"!=localStorage.getItem("pending_mails_expanded"),u),s(G,u.active_mails_expanded="false"!=localStorage.getItem("pending_mails_expanded"),u),s(G,u.my_mails_expanded="false"!=localStorage.getItem("my_mails_expanded"),u),s(G,u.custom_list_1_expanded="false"!=localStorage.getItem("custom_list_1_expanded"),u),s(G,u.custom_list_2_expanded="false"!=localStorage.getItem("custom_list_2_expanded"),u),s(G,u.custom_list_3_expanded="false"!=localStorage.getItem("custom_list_3_expanded"),u),s(G,u.custom_list_4_expanded="false"!=localStorage.getItem("custom_list_4_expanded"),u)}catch(t){}if(!0===h.blockSync)return clearTimeout(h.timeoutControl),h.timeoutControl=setTimeout((function(){h.isListLoaded=!1,h.lhcListRequestInProgress=!1,D()}),confLH.back_office_sinterval),void(h.lhcListRequestInProgress=!1);if(!0!==h.lhcListRequestInProgress){s(G,u.lhcListRequestInProgress=h.lhcListRequestInProgress=!0,u),clearTimeout(h.timeoutControl);try{const r=await fetch(WWW_DIR_JAVASCRIPT+"chat/syncadmininterface"+function(){s(G,u.custom_extension_filter="",u);var t,e="/(limita)/"+parseInt(u.limita);if(e+="/(limitu)/"+parseInt(u.limitu),e+="/(limitp)/"+parseInt(u.limitp),e+="/(limito)/"+parseInt(u.limito),e+="/(limitc)/"+parseInt(u.limitc),e+="/(limitd)/"+parseInt(u.limitd),e+="/(limits)/"+parseInt(u.limits),e+="/(limitmc)/"+parseInt(u.limitmc),e+="/(limitb)/"+parseInt(u.limitb),e+="/(limitgc)/"+parseInt(u.limitgc),e+="/(limitmm)/"+parseInt(u.limitmm),e+="/(limitpm)/"+parseInt(u.limitpm),e+="/(limitam)/"+parseInt(u.limitam),e+="/(limitalm)/"+parseInt(u.limitalm),"object"==typeof u.widgetsActive&&u.widgetsActive.length>0){let t={my_chats:0,online_operators:1,group_chats:2,pending_chats:3,online_visitors:4,unread_chats:5,active_chats:6,bot_chats:7,transfered_chats:8,departments_stats:9,subject_chats:20,pmails:10,amails:11,malarms:12,my_mails:30},n=[];u.widgetsActive.forEach((function(e){t[e]&&n.push(t[e])})),e+="/(w)/"+n.join("/")}if("object"==typeof u.activeu&&u.activeu.length>0&&(e+="/(activeu)/"+u.activeu.join("/")),"object"==typeof u.pendingu&&u.pendingu.length>0&&(e+="/(pendingu)/"+u.pendingu.join("/")),"object"==typeof u.pendingmu&&u.pendingmu.length>0&&(e+="/(pendingmu)/"+u.pendingmu.join("/")),"object"==typeof u.activemu&&u.activemu.length>0&&(e+="/(activemu)/"+u.activemu.join("/")),"object"==typeof u.alarmmu&&u.alarmmu.length>0&&(e+="/(alarmmu)/"+u.alarmmu.join("/")),"object"==typeof u.oopu&&u.oopu.length>0&&(e+="/(oopu)/"+u.oopu.join("/")),"object"==typeof u.subjectu&&u.subjectu.length>0&&(e+="/(subjectu)/"+u.subjectu.join("/")),"object"==typeof u.actived_dpgroups&&u.actived_dpgroups.length>0&&(e+="/(adgroups)/"+u.actived_dpgroups.join("/")),"object"==typeof u.pendingmd_dpgroups&&u.pendingmd_dpgroups.length>0&&(e+="/(pmd)/"+u.pendingmd_dpgroups.join("/")),"object"==typeof u.activemd_dpgroups&&u.activemd_dpgroups.length>0&&(e+="/(amd)/"+u.activemd_dpgroups.join("/")),"object"==typeof u.alarmmd_dpgroups&&u.alarmmd_dpgroups.length>0&&(e+="/(almd)/"+u.alarmmd_dpgroups.join("/")),"object"==typeof u.pendingd_dpgroups&&u.pendingd_dpgroups.length>0&&(e+="/(pdgroups)/"+u.pendingd_dpgroups.join("/")),"object"==typeof u.subjectd_dpgroups&&u.subjectd_dpgroups.length>0&&(e+="/(sdgroups)/"+u.subjectd_dpgroups.join("/")),"object"==typeof u.closedd_dpgroups&&u.closedd_dpgroups.length>0&&(e+="/(cdgroups)/"+u.closedd_dpgroups.join("/")),"object"==typeof u.botd_dpgroups&&u.botd_dpgroups.length>0&&(e+="/(bdgroups)/"+u.botd_dpgroups.join("/")),"object"==typeof u.mcd_dpgroups&&u.mcd_dpgroups.length>0&&(e+="/(mdgroups)/"+u.mcd_dpgroups.join("/")),"object"==typeof u.mmd_dpgroups&&u.mmd_dpgroups.length>0&&(e+="/(mmdgroups)/"+u.mmd_dpgroups.join("/")),"object"==typeof u.unreadd_dpgroups&&u.unreadd_dpgroups.length>0&&(e+="/(udgroups)/"+u.unreadd_dpgroups.join("/")),"object"==typeof u.departmentd_dpgroups&&u.departmentd_dpgroups.length>0&&(e+="/(ddgroups)/"+u.departmentd_dpgroups.join("/")),"object"==typeof u.operatord_dpgroups&&u.operatord_dpgroups.length>0&&(e+="/(odpgroups)/"+u.operatord_dpgroups.join("/")),"object"==typeof u.actived)if(u.actived.length>0)e+="/(actived)/"+u.actived.join("/");else{let t=W("actived");t.length>0&&(e+="/(actived)/"+t.join("/"))}if("object"==typeof u.subjectd)if(u.subjectd.length>0)e+="/(subjectd)/"+u.subjectd.join("/");else{let t=W("subjectd");t.length>0&&(e+="/(subjectd)/"+t.join("/"))}if("object"==typeof u.mcd)if(u.mcd.length>0)e+="/(mcd)/"+u.mcd.join("/");else{let t=W("mcd");t.length>0&&(e+="/(mcd)/"+t.join("/"))}if("object"==typeof u.mmd&&(u.mmd.length>0?e+="/(mmd)/"+u.mmd.join("/"):(t=W("mmd")).length>0&&(e+="/(mmd)/"+t.join("/"))),"object"==typeof u.pendingmd&&(u.pendingmd.length>0?e+="/(pendingmd)/"+u.pendingmd.join("/"):(t=W("pendingmd")).length>0&&(e+="/(pendingmd)/"+t.join("/"))),"object"==typeof u.activemd&&(u.activemd.length>0?e+="/(activemd)/"+u.activemd.join("/"):(t=W("activemd")).length>0&&(e+="/(activemd)/"+t.join("/"))),"object"==typeof u.alarmmd&&(u.alarmmd.length>0?e+="/(alarmmd)/"+u.alarmmd.join("/"):(t=W("alarmmd")).length>0&&(e+="/(alarmmd)/"+t.join("/"))),"object"==typeof u.unreadd)if(u.unreadd.length>0)e+="/(unreadd)/"+u.unreadd.join("/");else{let t=W("unreadd");t.length>0&&(e+="/(unreadd)/"+t.join("/"))}if("object"==typeof u.botd)if(u.botd.length>0)e+="/(botd)/"+u.botd.join("/");else{let t=W("botd");t.length>0&&(e+="/(botd)/"+t.join("/"))}if("object"==typeof u.pendingd){if(u.pendingd.length>0)e+="/(pendingd)/"+u.pendingd.join("/");else{let t=W("pendingd");t.length>0&&(e+="/(pendingd)/"+t.join("/"))}void 0!==u.toggleWidgetData.pending_chats_sort&&""!==u.toggleWidgetData.pending_chats_sort&&(e+="/(psort)/"+u.toggleWidgetData.pending_chats_sort)}if("object"==typeof u.operatord)if(u.operatord.length>0)e+="/(operatord)/"+u.operatord.join("/");else{let t=W("operatord");t.length>0&&(e+="/(operatord)/"+t.join("/"))}if("object"==typeof u.closedd&&u.closedd.length>0&&(e+="/(closedd)/"+u.closedd.join("/")),"object"==typeof u.departmentd)if(u.departmentd.length>0)e+="/(departmentd)/"+u.departmentd.join("/");else{let t=W("departmentd");t.length>0&&(e+="/(departmentd)/"+t.join("/"))}if("object"==typeof u.actived_products&&u.actived_products.length>0&&(e+="/(activedprod)/"+u.actived_products.join("/")),"object"==typeof u.pendingd_ugroups&&u.pendingd_ugroups.length>0&&(e+="/(pugroups)/"+u.pendingd_ugroups.join("/")),"object"==typeof u.operatord_ugroups&&u.operatord_ugroups.length>0&&(e+="/(oopugroups)/"+u.operatord_ugroups.join("/")),"object"==typeof u.subjectd_ugroups&&u.subjectd_ugroups.length>0&&(e+="/(sugroups)/"+u.subjectd_ugroups.join("/")),"object"==typeof u.actived_ugroups&&u.actived_ugroups.length>0&&(e+="/(augroups)/"+u.actived_ugroups.join("/")),"object"==typeof u.pendingmd_ugroups&&u.pendingmd_ugroups.length>0&&(e+="/(pmug)/"+u.pendingmd_ugroups.join("/")),"object"==typeof u.activemd_ugroups&&u.activemd_ugroups.length>0&&(e+="/(amug)/"+u.activemd_ugroups.join("/")),"object"==typeof u.alarmmd_ugroups&&u.alarmmd_ugroups.length>0&&(e+="/(almug)/"+u.alarmmd_ugroups.join("/")),"object"==typeof u.mcd_products&&u.mcd_products.length>0&&(e+="/(mcdprod)/"+u.mcd_products.join("/")),"object"==typeof u.unreadd_products&&u.unreadd_products.length>0&&(e+="/(unreaddprod)/"+u.unreadd_products.join("/")),"object"==typeof u.pendingd_products&&u.pendingd_products.length>0&&(e+="/(pendingdprod)/"+u.pendingd_products.join("/")),"object"==typeof u.subjectd_products&&u.subjectd_products.length>0&&(e+="/(subjectdprod)/"+u.subjectd_products.join("/")),"object"==typeof u.botd_products&&u.botd_products.length>0&&(e+="/(botdprod)/"+u.botd_products.join("/")),"object"==typeof u.closedd_products&&u.closedd_products.length>0&&(e+="/(closeddprod)/"+u.closedd_products.join("/")),void 0!==u.toggleWidgetData.track_open_chats&&1==u.toggleWidgetData.track_open_chats&&(e+="/(topen)/true"),void 0!==u.toggleWidgetData.active_chats_sort&&""!==u.toggleWidgetData.active_chats_sort&&(e+="/(acs)/"+u.toggleWidgetData.active_chats_sort),void 0!==u.toggleWidgetData.bot_chats_sort&&""!==u.toggleWidgetData.bot_chats_sort&&(e+="/(bcs)/"+u.toggleWidgetData.bot_chats_sort),void 0!==u.toggleWidgetData.closed_chats_sort&&""!==u.toggleWidgetData.closed_chats_sort&&(e+="/(clcs)/"+u.toggleWidgetData.closed_chats_sort),void 0!==u.toggleWidgetData.onop_sort&&""!==u.toggleWidgetData.onop_sort&&(e+="/(onop)/"+u.toggleWidgetData.onop_sort),void 0!==u.optionsPanels)for(const[t,n]of Object.entries(u.optionsPanels))n.custom_filters&&Array.isArray(n.custom_filters)&&n.custom_filters.forEach((function(n){const i=t+"_"+n.field,a=U.restoreLocalSetting(i,"false",!1);s(G,u[i]="false"!=a,u),!0===u[i]&&(e+="/("+n.field+")/1")}));var n=[];return!0===u.departmentd_hide_dep&&n.push("dhdep"),!0===u.departmentd_hide_dgroup&&n.push("dhdepg"),n.length>0&&(e+="/(hsub)/"+n.join("/")),h.lastd_activity>0&&(e+="/(lda)/"+h.lastd_activity),h.lastd_activity=0,ee.emitEvent("eventGetSyncFilterSvelte",[u]),e+=u.custom_extension_filter}(),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},signal:h.abortController.signal});if(!r.ok)throw new Error("Network response was not OK ["+r.status+"] ["+r.statusText+"]");const _=await r.json();if(h.lhcListRequestInProgress=!1,_.logout||_.error_url)return void document.location.reload();if(1==h.blockSync)return s(G,u.lhcBLockSync=!0,u),clearTimeout(h.timeoutControl),void(h.timeoutControl=setTimeout((function(){h.isListLoaded=!1,D()}),confLH.back_office_sinterval));if(1==u.lhcConnectivityProblem&&s(G,u.lhcConnectivityProblem=!1,u),ee.emitEvent("eventLoadChatListSvelte",[_,u,h]),void 0===_.items_processed){var t=[],e=[],n=[],i=[],a=jQuery("#tabs");for(const[l,d]of Object.entries(_.result))if(-1===u.suspend_widgets.indexOf(l)&&(s(G,u[l]=d,u),0!=a.length||"pending_chat"!=l&&"my_chats"!=l||d.list.forEach((function(t){void 0!==t.user_id&&t.user_id==confLH.user_id&&1==confLH.accept_chats&&(1!==t.status||1===t.status&&!0===t.hum)&&ee.emitEvent("chatTabPreload",[t.id,{focus:!1}])})),a.length>0&&("pending_chat"==l||"my_chats"==l?d.list.forEach((function(t){void 0!==t.user_id&&t.user_id==confLH.user_id&&1==confLH.accept_chats&&(1!==t.status||1===t.status&&!0===t.hum)&&0==jQuery("#chat-tab-link-"+t.id).length&&(a.length>0&&0==lhinst.disableremember&&(lhinst.addOpenTrace("auto_accept"),lhinst.removeSynchroChat(t.id),lhinst.startChatBackground(t.id,a,tt(t.nick||"Visitor",10)),h.channel.postMessage({action:"startbackground_chat",args:{nick:tt(t.nick||"Visitor",10),chat_id:parseInt(t.id)}}),ee.emitEvent("eventLoadChatListSvelteAutoOpen",[t,h])),0==lhinst.disableremember&&i.push(t.id))})):"transfer_chats"==l?d.list.forEach((function(t){void 0!==t.user_id&&t.user_id==confLH.user_id&&(1==confLH.accept_chats||jQuery("#chat-tab-link-"+t.id).length>0)&&(a.length>0&&0==lhinst.disableremember&&(lhinst.addOpenTrace("auto_accept_transfer"),lhinst.startChatTransfer(t.id,a,tt(t.nick||"Visitor",10),t.transfer_id,0==jQuery("#chat-tab-link-"+t.id).length),h.channel.postMessage({action:"startbackground_chat",args:{nick:tt(t.nick||"Visitor",10),chat_id:parseInt(t.id)}})),0==lhinst.disableremember&&i.push(t.id))})):"group_chats"==l?a.length>0&&1==confLH.auto_join_private&&d.list.forEach((function(t){1==t.type&&0==t.jtime&&0==jQuery("#chat-tab-link-gc"+t.id).length&&lhinst.startGroupChat(t.id,a,tt(t.name,10),!0)})):"support_chats"==l?a.length>0&&1==confLH.auto_join_private&&d.list.forEach((function(t){null===document.getElementById("chat-tab-li-"+t.chat_id)?(lhinst.addOpenTrace("support_chat"),L(t.chat_id,!0)):jQuery("#private-chat-tab-link-"+t.chat_id).attr("private-loaded")?jQuery("#chat-tab-link-"+t.chat_id).hasClass("active")?jQuery("#private-chat-tab-link-"+t.chat_id).hasClass("active")||jQuery("#private-chat-tab-link-"+t.chat_id+" > .whatshot").removeClass("d-none"):jQuery("#chat-tab-link-"+t.chat_id+" > .whatshot").removeClass("d-none"):(jQuery("#private-chat-tab-link-"+t.chat_id).attr("private-loaded",!0),ee.emitEvent("privateChatStart",[t.chat_id,{unread:!0}]))})):"pending_mails"!=l&&"my_mails"!=l||a.length>0&&d.list.forEach((function(t){void 0!==t.user_id&&t.user_id==confLH.user_id&&1==confLH.accept_mails&&1!==t.status&&null===document.getElementById("chat-tab-li-mc"+t.id)&&lhinst.startMailChat(t.id,a,tt(t.subject_front,10),!0)}))),d.last_id_identifier)){e=[],t=[];var o=0,c=d.list;"pending_chat"==d.last_id_identifier&&void 0!==u.toggleWidgetData.pending_chats_sort&&"id_asc"==u.toggleWidgetData.pending_chats_sort&&(c=d.list.slice().reverse()),c.forEach((function(n){var i=void 0!==n.user_id?n.user_id:0,a=n.id+"_"+i;if(("bot_chats"!=d.last_id_identifier||n.msg_v&&n.msg_v>u.bot_st.msg_nm&&1==u.bot_st.bot_notifications||n.aalert)&&"transfer_chat_dep"!=d.last_id_identifier){var c=[];if("active_chats"==d.last_id_identifier&&n.aicons&&(a+="_"+(c=Object.keys(n.aicons)).join("_")),t.push(a),void 0===u.statusNotifications[d.last_id_identifier]&&s(G,u.statusNotifications[d.last_id_identifier]=[],u),1==h.isListLoaded&&"subject_chats"==d.last_id_identifier)-1==u.statusNotifications[d.last_id_identifier].indexOf(a)&&-1===lhinst.chatsSynchronising.indexOf(parseInt(n.id))&&e.push(n.id);else if(1==h.isListLoaded&&"active_chats"==d.last_id_identifier){if(-1==u.statusNotifications[d.last_id_identifier].indexOf(a)&&c.length>0&&u.notifIcons.length>0){var l=u.notifIcons.filter((function(t){return-1===u.excludeIcons.indexOf(t)&&-1!==c.indexOf(t)}));l.length>0&&e.push(n.id+"__"+l.join("__"))}}else 1!=h.isListLoaded||0!=o&&2!==n.status_sub_sub||(-1!=u.statusNotifications[d.last_id_identifier].indexOf(a)||0!=i&&"amails"!=d.last_id_identifier||0!=confLH.ownntfonly)&&(-1!=u.statusNotifications[d.last_id_identifier].indexOf(a)||i!=confLH.user_id)?o++:-1===lhinst.chatsSynchronising.indexOf(parseInt(n.id))&&e.push(n.id)}})),e.length>0&&(e.unshift(d.last_id_identifier),n.push(e.join("/"))),!0===h.isListLoaded&&et(u.statusNotifications[d.last_id_identifier],t,d.last_id_identifier),s(G,u.statusNotifications[d.last_id_identifier]=t,u)}i.length>0&&(i.unshift("active_chat"),U.getNotificationsData(i.join("/")).then((function(t){t.forEach((function(t){lhinst.removeBackgroundChat(parseInt(t.last_id)),lhinst.playSoundNewAction(t.last_id_identifier,parseInt(t.last_id),t.nick?t.nick:"Live Help",t.msg?t.msg:confLH.transLation.new_chat,t.nt),lhinst.backgroundChats.push(parseInt(t.last_id))}))}))),n.length>0&&U.getNotificationsData(n.join("/")).then((function(t){t.forEach((function(t){lhinst.playSoundNewAction(t.last_id_identifier,parseInt(t.last_id),t.nick?t.nick:"Live Help",t.msg?t.msg:confLH.transLation.new_chat,t.nt)}))}))}if(void 0!==_.ou&&1==_.ou){jQuery("#lhc_op_operation").remove();var l=document.getElementsByTagName("head")[0],d=document.createElement("script");d.setAttribute("id","lhc_op_operation"),d.setAttribute("type","text/javascript"),d.setAttribute("src",WWW_DIR_JAVASCRIPT+"chat/loadoperatorjs"),l.appendChild(d)}if(void 0!==_.fs&&_.fs.length>0&&_.fs.forEach((function(t){lhinst.playSoundNewAction("pending_transfered",parseInt(t.id),t.nick?t.nick:"Live Help",confLH.transLation.transfered,t.nt,t.uid)})),void 0!==_.mac&&_.mac.length>0)(a=jQuery("#tabs")).length>0&&0==lhinst.disableremember&&_.mac.forEach((function(t){lhinst.startChatBackground(t.id,a,tt(t.nick||"Visitor",10),!1),$({type:"mac",chat_id:t.id,nick:t.nick})}));G.update((t=>(t.lhcUpdatedAt=_.uat,t.lhcVersion=_.v,t.hideOnline=1===_.ho,t.hideInvisible=1===_.im,t.alwaysOnline=1===_.a_on,t.inActive=1===_.ina,t.lhcListRequestInProgress=!1,t.lhcBLockSync=!1,_.aus.update_required?0===_.aus.updated?(t.lhcConnectivityProblem=!0,t.lhcConnectivityProblemExplain="Last activity update failed!"):(t.lhcConnectivityProblem=!1,t.lhcUpdatedAtActivity=_.aus.updated):t.lhcUpdatedAtActivity=_.aus.updated,t))),!0===h.setTimeoutEnabled&&(h.timeoutControl=setTimeout((function(){D()}),confLH.back_office_sinterval)),h.isListLoaded=!0}catch(t){t instanceof DOMException?(s(G,u.lhcConnectivityProblem=!0,u),s(G,u.lhcConnectivityProblemExplain="DOM Exception",u)):(s(G,u.lhcConnectivityProblem=!0,u),s(G,u.lhcConnectivityProblemExplain=t,u),console.error("There has been a problem with your fetch operation:",t)),h.lhcListRequestInProgress=!1,h.timeoutControl=setTimeout((function(){D()}),confLH.back_office_sinterval)}}}function L(t,e){isNaN(t)||jQuery("#tabs").length>0&&U.getChatData(t).then((function(n){n.r?document.location=WWW_DIR_JAVASCRIPT+n.r:(lhinst.addOpenTrace("start_chat_by_id"),e?lhinst.startChatBackground(parseInt(t),jQuery("#tabs"),tt(n.nick||"Visitor",10),"backgroundid"):function(t,e){if(jQuery("#tabs").length>0)return lhinst.addOpenTrace("click"),lhinst.startChat(t,jQuery("#tabs"),tt(e||"Visitor",10));lhinst.startChatNewWindow(t,e)}(parseInt(t),tt(n.nick||"Visitor",10)))}))}return t.$$.update=()=>{64&t.$$.dirty[0]&&n(5,i=u.userFilterText),64&t.$$.dirty[0]&&n(4,c=u.depFilterText),64&t.$$.dirty[0]&&n(3,l=u.lmtoggle),64&t.$$.dirty[0]&&n(2,d=u.rmtoggle),64&t.$$.dirty[0]&&n(1,r=u.toggleWidgetData.track_open_chats),64&t.$$.dirty[0]&&n(0,_=u.toggleWidgetData.group_offline_chats),32&t.$$.dirty[0]&&U.searchProvider("users",u.userFilterText).then((function(t){s(G,u.userList=t.items,u)})).catch((function(){s(G,u.userList=[],u)})),16&t.$$.dirty[0]&&U.searchProvider("depswidget",u.depFilterText).then((function(t){s(G,u.userDepartments=t.items,u),s(G,u.userDepartmentsNames=t.items_names,u)})).catch((function(){s(G,u.userDepartments=[],u),s(G,u.userDepartmentsNames=[],u)})),8&t.$$.dirty[0]&&p(),4&t.$$.dirty[0]&&p(),2&t.$$.dirty[0]&&m("track_open_chats"),1&t.$$.dirty[0]&&m("group_offline_chats")},[_,r,d,l,c,i,u]}class it extends e{constructor(t){super(),n(this,t,nt,null,i,{},null,[-1,-1])}}function at(t){let e,n,i,a,s=t[1].lhcNotice.message&&!t[1].inActive&&!t[1].lhcPendingRefresh&&!t[1].lhcConnectivityProblem&&st(t),o=t[1].lhcPendingRefresh&&ot(t),c=t[1].lhcConnectivityProblem&&ct(t),l=t[1].inActive&&lt();return{c(){e=m("div"),s&&s.c(),n=_(),o&&o.c(),i=_(),c&&c.c(),a=_(),l&&l.c(),h(e,"ng-non-bindable",""),h(e,"class","version-updated float-start")},m(t,d){r(t,e,d),s&&s.m(e,null),p(e,n),o&&o.m(e,null),p(e,i),c&&c.m(e,null),p(e,a),l&&l.m(e,null)},p(t,d){!t[1].lhcNotice.message||t[1].inActive||t[1].lhcPendingRefresh||t[1].lhcConnectivityProblem?s&&(s.d(1),s=null):s?s.p(t,d):(s=st(t),s.c(),s.m(e,n)),t[1].lhcPendingRefresh?o?o.p(t,d):(o=ot(t),o.c(),o.m(e,i)):o&&(o.d(1),o=null),t[1].lhcConnectivityProblem?c?c.p(t,d):(c=ct(t),c.c(),c.m(e,a)):c&&(c.d(1),c=null),t[1].inActive?l||(l=lt(),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d(t){t&&d(e),s&&s.d(),o&&o.d(),c&&c.d(),l&&l.d()}}}function st(t){let e,n,i,a,s,o,c=t[1].lhcNotice.message+"";return{c(){e=m("div"),n=m("i"),i=f("brand_awareness"),s=f(c),h(n,"class",a="material-icons text-"+t[1].lhcNotice.level),h(e,"class",o="text-"+t[1].lhcNotice.level)},m(t,a){r(t,e,a),p(e,n),p(n,i),p(e,s)},p(t,i){2&i&&a!==(a="material-icons text-"+t[1].lhcNotice.level)&&h(n,"class",a),2&i&&c!==(c=t[1].lhcNotice.message+"")&&g(s,c),2&i&&o!==(o="text-"+t[1].lhcNotice.level)&&h(e,"class",o)},d(t){t&&d(e)}}}function ot(t){let e,n,i,a,s;return{c(){e=m("div"),n=m("i"),n.textContent="update",i=f("This window will be automatically refreshed in "),a=f(t[2]),s=f(" seconds due to a version update."),h(n,"class","material-icons")},m(t,o){r(t,e,o),p(e,n),p(e,i),p(e,a),p(e,s)},p(t,e){4&e&&g(a,t[2])},d(t){t&&d(e)}}}function ct(t){let e,n,i,a,s=t[1].lhcConnectivityProblemExplain+"";return{c(){e=m("div"),n=f("You have weak internet connection or the server has problems. Try to refresh the  page. Error code - "),i=m("b"),a=f(s)},m(t,s){r(t,e,s),p(e,n),p(e,i),p(i,a)},p(t,e){2&e&&s!==(s=t[1].lhcConnectivityProblemExplain+"")&&g(a,s)},d(t){t&&d(e)}}}function lt(t){let e;return{c(){e=m("div"),e.textContent="You went offline because of inactivity. Please close other chat windows if you have any"},m(t,n){r(t,e,n)},d(t){t&&d(e)}}}function dt(t){let e,n,i,a,s,o,c,l,u=t[1].last_actions_index<t[1].last_actions.length-1&&rt(t),g=t[1].last_actions_index>0&&_t(t),f=t[1].last_actions_index>0&&ut(),w="user_wrote"==t[1].last_actions[t[1].last_actions_index].type&&pt(t),b="user_wrote"!=t[1].last_actions[t[1].last_actions_index].type&&"info_history"!=t[1].last_actions[t[1].last_actions_index].type&&"mac"!=t[1].last_actions[t[1].last_actions_index].type&&"mac_history"!=t[1].last_actions[t[1].last_actions_index].type&&mt(t),v="mac"==t[1].last_actions[t[1].last_actions_index].type&&ht(t),y="mac_history"==t[1].last_actions[t[1].last_actions_index].type&&gt(t),x="info_history"==t[1].last_actions[t[1].last_actions_index].type&&ft(t);return{c(){e=m("div"),u&&u.c(),n=_(),g&&g.c(),i=_(),f&&f.c(),a=_(),w&&w.c(),s=_(),b&&b.c(),o=_(),v&&v.c(),c=_(),y&&y.c(),l=_(),x&&x.c(),h(e,"ng-non-bindable",""),h(e,"class","text-muted float-start fs12 abbr-list d-none d-sm-block")},m(t,d){r(t,e,d),u&&u.m(e,null),p(e,n),g&&g.m(e,null),p(e,i),f&&f.m(e,null),p(e,a),w&&w.m(e,null),p(e,s),b&&b.m(e,null),p(e,o),v&&v.m(e,null),p(e,c),y&&y.m(e,null),p(e,l),x&&x.m(e,null)},p(t,d){t[1].last_actions_index<t[1].last_actions.length-1?u?u.p(t,d):(u=rt(t),u.c(),u.m(e,n)):u&&(u.d(1),u=null),t[1].last_actions_index>0?g?g.p(t,d):(g=_t(t),g.c(),g.m(e,i)):g&&(g.d(1),g=null),t[1].last_actions_index>0?f||(f=ut(),f.c(),f.m(e,a)):f&&(f.d(1),f=null),"user_wrote"==t[1].last_actions[t[1].last_actions_index].type?w?w.p(t,d):(w=pt(t),w.c(),w.m(e,s)):w&&(w.d(1),w=null),"user_wrote"!=t[1].last_actions[t[1].last_actions_index].type&&"info_history"!=t[1].last_actions[t[1].last_actions_index].type&&"mac"!=t[1].last_actions[t[1].last_actions_index].type&&"mac_history"!=t[1].last_actions[t[1].last_actions_index].type?b?b.p(t,d):(b=mt(t),b.c(),b.m(e,o)):b&&(b.d(1),b=null),"mac"==t[1].last_actions[t[1].last_actions_index].type?v?v.p(t,d):(v=ht(t),v.c(),v.m(e,c)):v&&(v.d(1),v=null),"mac_history"==t[1].last_actions[t[1].last_actions_index].type?y?y.p(t,d):(y=gt(t),y.c(),y.m(e,l)):y&&(y.d(1),y=null),"info_history"==t[1].last_actions[t[1].last_actions_index].type?x?x.p(t,d):(x=ft(t),x.c(),x.m(e,null)):x&&(x.d(1),x=null)},d(t){t&&d(e),u&&u.d(),g&&g.d(),f&&f.d(),w&&w.d(),b&&b.d(),v&&v.d(),y&&y.d(),x&&x.d()}}}function rt(t){let e,n,i;return{c(){e=m("span"),e.textContent="expand_more",h(e,"class","material-icons action-image")},m(a,s){r(a,e,s),n||(i=w(e,"click",t[4]),n=!0)},p:l,d(t){t&&d(e),n=!1,i()}}}function _t(t){let e,n,i;return{c(){e=m("span"),e.textContent="expand_less",h(e,"class","material-icons action-image")},m(a,s){r(a,e,s),n||(i=w(e,"click",t[5]),n=!0)},p:l,d(t){t&&d(e),n=!1,i()}}}function ut(t){let e;return{c(){e=m("span"),e.textContent="hourglass_full",h(e,"class","material-icons")},m(t,n){r(t,e,n)},d(t){t&&d(e)}}}function pt(t){let e,n,i,a,s,o,c,l,_=t[1].last_actions[t[1].last_actions_index].nick+"",u=t[1].last_actions[t[1].last_actions_index].msg+"",h=t[1].last_actions[t[1].last_actions_index].chat_id+"";return{c(){e=m("span"),n=m("b"),i=f(_),a=f(" - "),s=m("i"),o=f(u),c=f(" in chat - "),l=f(h)},m(t,d){r(t,e,d),p(e,n),p(n,i),p(e,a),p(e,s),p(s,o),p(e,c),p(e,l)},p(t,e){2&e&&_!==(_=t[1].last_actions[t[1].last_actions_index].nick+"")&&g(i,_),2&e&&u!==(u=t[1].last_actions[t[1].last_actions_index].msg+"")&&g(o,u),2&e&&h!==(h=t[1].last_actions[t[1].last_actions_index].chat_id+"")&&g(l,h)},d(t){t&&d(e)}}}function mt(t){let e,n,i,a,s,o,c,l,_=t[1].last_actions[t[1].last_actions_index].nick+"",u=t[1].last_actions[t[1].last_actions_index].msg+"",h=t[1].last_actions[t[1].last_actions_index].chat_id+"";return{c(){e=m("span"),n=m("b"),i=f(_),a=f(" - "),s=m("i"),o=f(u),c=f(" - "),l=f(h)},m(t,d){r(t,e,d),p(e,n),p(n,i),p(e,a),p(e,s),p(s,o),p(e,c),p(e,l)},p(t,e){2&e&&_!==(_=t[1].last_actions[t[1].last_actions_index].nick+"")&&g(i,_),2&e&&u!==(u=t[1].last_actions[t[1].last_actions_index].msg+"")&&g(o,u),2&e&&h!==(h=t[1].last_actions[t[1].last_actions_index].chat_id+"")&&g(l,h)},d(t){t&&d(e)}}}function ht(t){let e,n,i,a,s,o=t[1].last_actions[t[1].last_actions_index].nick+"",c=t[1].last_actions[t[1].last_actions_index].chat_id+"";return{c(){e=m("span"),n=m("b"),i=f(o),a=f(" - active chat was opened - "),s=f(c)},m(t,o){r(t,e,o),p(e,n),p(n,i),p(e,a),p(e,s)},p(t,e){2&e&&o!==(o=t[1].last_actions[t[1].last_actions_index].nick+"")&&g(i,o),2&e&&c!==(c=t[1].last_actions[t[1].last_actions_index].chat_id+"")&&g(s,c)},d(t){t&&d(e)}}}function gt(t){let e,n,i,a,s,o=t[1].last_actions[t[1].last_actions_index].nick+"",c=t[1].last_actions[t[1].last_actions_index].chat_id+"";return{c(){e=m("span"),n=m("b"),i=f(o),a=f(" - previously loaded chat was opened - "),s=f(c)},m(t,o){r(t,e,o),p(e,n),p(n,i),p(e,a),p(e,s)},p(t,e){2&e&&o!==(o=t[1].last_actions[t[1].last_actions_index].nick+"")&&g(i,o),2&e&&c!==(c=t[1].last_actions[t[1].last_actions_index].chat_id+"")&&g(s,c)},d(t){t&&d(e)}}}function ft(t){let e,n,i=t[1].last_actions[t[1].last_actions_index].msg+"";return{c(){e=m("span"),n=f(i)},m(t,i){r(t,e,i),p(e,n)},p(t,e){2&e&&i!==(i=t[1].last_actions[t[1].last_actions_index].msg+"")&&g(n,i)},d(t){t&&d(e)}}}function wt(t){let e,n,i=(t[1].lhcPendingRefresh||t[1].lhcConnectivityProblem||t[1].inActive||t[1].lhcNotice.message)&&at(t),a=0==t[0]&&!(t[1].lhcPendingRefresh||1==t[1].lhcConnectivityProblem||1==t[1].inActive||t[1].lhcNotice.message)&&t[1].last_actions.length>0&&dt(t);return{c(){i&&i.c(),e=_(),a&&a.c(),n=u()},m(t,s){i&&i.m(t,s),r(t,e,s),a&&a.m(t,s),r(t,n,s)},p(t,[s]){t[1].lhcPendingRefresh||t[1].lhcConnectivityProblem||t[1].inActive||t[1].lhcNotice.message?i?i.p(t,s):(i=at(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),0==t[0]&&!t[1].lhcPendingRefresh&&1!=t[1].lhcConnectivityProblem&&1!=t[1].inActive&&!t[1].lhcNotice.message&&t[1].last_actions.length>0?a?a.p(t,s):(a=dt(t),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},i:l,o:l,d(t){t&&(d(e),d(n)),i&&i.d(t),a&&a.d(t)}}}function bt(t,e,n){let i,o;a(t,G,(t=>n(1,o=t)));let{hide_quick_notification:c=0}=e,l=8,d=0;return t.$$set=t=>{"hide_quick_notification"in t&&n(0,c=t.hide_quick_notification)},t.$$.update=()=>{2&t.$$.dirty&&n(3,i=o.lhcVersion),2&t.$$.dirty&&o.lhcNotice,8&t.$$.dirty&&(0==d&&(d=i),d>0&&i>0&&d!=i&&(s(G,o.lhcPendingRefresh=!0,o),setInterval((()=>{n(2,l-=1),0==l&&document.location.reload(!0)}),1e3)))},[c,o,l,i,t=>s(G,o.last_actions_index++,o),t=>s(G,o.last_actions_index--,o)]}customElements.define("lhc-app",t(it,{},[],[],!1));class vt extends e{constructor(t){super(),n(this,t,bt,wt,i,{hide_quick_notification:0})}get hide_quick_notification(){return this.$$.ctx[0]}set hide_quick_notification(t){this.$$set({hide_quick_notification:t}),c()}}function yt(t){let e,n,i;return{c(){e=m("li"),n=m("a"),i=m("i"),i.textContent="volume_off",h(i,"class","material-icons text-danger"),h(n,"class","nav-link"),h(n,"title",t[1]),h(e,"class","list-inline-item nav-item")},m(t,a){r(t,e,a),p(e,n),p(n,i)},p(t,e){2&e&&h(n,"title",t[1])},d(t){t&&d(e)}}}function xt(t){let e,n=!t[0]&&yt(t);return{c(){n&&n.c(),e=u()},m(t,i){n&&n.m(t,i),r(t,e,i)},p(t,[i]){t[0]?n&&(n.d(1),n=null):n?n.p(t,i):(n=yt(t),n.c(),n.m(e.parentNode,e))},i:l,o:l,d(t){t&&d(e),n&&n.d(t)}}}function $t(t,e,n){let i;a(t,Q,(t=>n(4,i=t)));let s=!1,c=i("homepage.interact_sound"),l=null,d=!1;const r=async()=>{if(l)n(0,s="running"===l.state),_();else try{l=new(window.AudioContext||window.webkitAudioContext),n(0,s="running"===l.state),_()}catch(t){n(1,c=i("homepage.browser_no_sound")),console.error("Audio Context Error:",t)}},_=()=>{n(1,c=s?"Sound is enabled":i(d?"homepage.sound_disabled":"homepage.interact_sound"))},u=()=>{const t=["click","keydown","touchstart"],e=async()=>{d=!0,await(async()=>{if(l)try{"suspended"===l.state&&(await l.resume(),n(0,s="running"===l.state)),_()}catch(t){n(1,c="Failed to enable audio"),console.error("Enable Sound Error:",t)}})(),await r(),s&&t.forEach((t=>{document.removeEventListener(t,e)}))};t.forEach((t=>{document.addEventListener(t,e,{once:!0})}))};return o((()=>(r(),u(),()=>{l&&l.close()}))),[s,c]}customElements.define("lhc-status",t(vt,{hide_quick_notification:{}},[],[],!1));class Ct extends e{constructor(t){super(),n(this,t,$t,xt,i,{})}}function jt(t){let e,n,i,a,s,o;function c(t,e){return"granted"===t[0]?Dt:"denied"===t[0]?Wt:kt}let l=c(t),_=l(t);return{c(){e=m("li"),n=m("a"),i=m("span"),_.c(),h(i,"class","material-icons"),h(n,"class",a="nav-link status-indicator "+("granted"===t[0]?"text-success":"denied"===t[0]?"text-danger":"text-warning")),h(n,"role","button"),h(n,"title",t[1]),h(n,"tabindex","0"),h(n,"aria-label","Toggle notifications"),h(e,"class","list-inline-item nav-item")},m(a,c){r(a,e,c),p(e,n),p(n,i),_.m(i,null),s||(o=w(n,"click",t[2]),s=!0)},p(t,e){l!==(l=c(t))&&(_.d(1),_=l(t),_&&(_.c(),_.m(i,null))),1&e&&a!==(a="nav-link status-indicator "+("granted"===t[0]?"text-success":"denied"===t[0]?"text-danger":"text-warning"))&&h(n,"class",a),2&e&&h(n,"title",t[1])},d(t){t&&d(e),_.d(),s=!1,o()}}}function kt(t){let e;return{c(){e=f("notifications")},m(t,n){r(t,e,n)},d(t){t&&d(e)}}}function Wt(t){let e;return{c(){e=f("notifications_off")},m(t,n){r(t,e,n)},d(t){t&&d(e)}}}function Dt(t){let e;return{c(){e=f("notifications")},m(t,n){r(t,e,n)},d(t){t&&d(e)}}}function Lt(t){let e,n="granted"!==t[0]&&jt(t);return{c(){n&&n.c(),e=u()},m(t,i){n&&n.m(t,i),r(t,e,i)},p(t,[i]){"granted"!==t[0]?n?n.p(t,i):(n=jt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:l,o:l,d(t){t&&d(e),n&&n.d(t)}}}function At(t,e,n){let i;a(t,Q,(t=>n(4,i=t)));let s=!1,c="default",l=i("homepage.enable_notifications");const d=()=>"Notification"in window;return o((()=>{(()=>{if(!d())return n(0,c="denied"),void n(1,l=i("homepage.notifications_not_supported"));n(0,c=Notification.permission),"granted"===c?(s=!0,n(1,l="Notifications enabled")):"denied"===c?(s=!1,n(1,l=i("homepage.notifications_blocked"))):(s=!1,n(1,l=i("homepage.enable_notifications")))})()})),[c,l,()=>{(async()=>{if(d()){if("granted"!==c&&"denied"!==c)try{const t=await Notification.requestPermission();if(n(0,c=t),"granted"===t){s=!0,n(1,l="Notifications enabled");const t=new Notification("Notifications Enabled",{body:i("homepage.notifications_like"),icon:WWW_DIR_JAVASCRIPT_FILES_NOTIFICATION+"/notification.png"});setTimeout((()=>t.close()),3e3)}else"denied"===t&&(s=!1,n(1,l=i("homepage.notifications_blocked")))}catch(t){console.error("Error requesting notification permission:",t),n(1,l="Error enabling notifications")}}else n(1,l=i("homepage.notifications_not_supported"))})()}]}customElements.define("audio-checker",t(Ct,{},[],[],!1));class St extends e{constructor(t){super(),n(this,t,At,Lt,i,{})}}async function It(t){t.e&&(t.e.stopPropagation(),t.e.preventDefault());const e=await fetch(WWW_DIR_JAVASCRIPT+t.url,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}}).catch((t=>{alert("We could not change your settings! "+t)})),n=await e.json();!1===n.error?t.store.update((e=>(e[t.attr]=!e[t.attr],e))):void 0!==n.message?alert(n.message):void 0!==n.msg?alert(n.msg):alert(n)}function Tt(t){let e;function n(t,e){return 1==t[3].hideOnline?Nt:Et}let i=n(t),a=i(t);return{c(){a.c(),e=u()},m(t,n){a.m(t,n),r(t,e,n)},p(t,s){i===(i=n(t))&&a?a.p(t,s):(a.d(1),a=i(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){t&&d(e),a.d(t)}}}function Et(t){let e,n=t[4]("homepage.status_online")+"";return{c(){e=f(n)},m(t,n){r(t,e,n)},p(t,i){16&i&&n!==(n=t[4]("homepage.status_online")+"")&&g(e,n)},d(t){t&&d(e)}}}function Nt(t){let e,n=t[4]("homepage.status_offline")+"";return{c(){e=f(n)},m(t,n){r(t,e,n)},p(t,i){16&i&&n!==(n=t[4]("homepage.status_offline")+"")&&g(e,n)},d(t){t&&d(e)}}}function Rt(t){let e,n,i,a,s,o,c,_=1==t[3].hideOnline?"flash_off":"flash_on",u=t[1]&&Tt(t);return{c(){e=m("a"),n=m("i"),i=f(_),u&&u.c(),h(n,"id","online-offline-user"),h(n,"class",a="material-icons "+(!0===t[3].hideOnline?"text-danger":"text-success")),h(n,"title",s=t[4]("homepage.change_online_status")),h(e,"href","#"),h(e,"class",t[2])},m(a,s){r(a,e,s),p(e,n),p(n,i),u&&u.m(e,null),o||(c=[w(window,"keydown",(function(){v(t[0]&&t[5])&&(t[0]&&t[5]).apply(this,arguments)})),w(e,"click",t[6])],o=!0)},p(o,[c]){t=o,8&c&&_!==(_=1==t[3].hideOnline?"flash_off":"flash_on")&&g(i,_),8&c&&a!==(a="material-icons "+(!0===t[3].hideOnline?"text-danger":"text-success"))&&h(n,"class",a),16&c&&s!==(s=t[4]("homepage.change_online_status"))&&h(n,"title",s),t[1]?u?u.p(t,c):(u=Tt(t),u.c(),u.m(e,null)):u&&(u.d(1),u=null),4&c&&h(e,"class",t[2])},i:l,o:l,d(t){t&&d(e),u&&u.d(),o=!1,b(c)}}}function Pt(t,e,n){let i,s;a(t,G,(t=>n(3,i=t))),a(t,Q,(t=>n(4,s=t)));let{enable_shortcut:o=!1}=e,{show_text:c=!1}=e,{css_class:l="nav-link"}=e;return t.$$set=t=>{"enable_shortcut"in t&&n(0,o=t.enable_shortcut),"show_text"in t&&n(1,c=t.show_text),"css_class"in t&&n(2,l=t.css_class)},[o,c,l,i,s,t=>{!0===t.ctrlKey&&123===t.keyCode&&(!0===lhinst.disableSync&&lhinst.channel?(ee.emitEvent("svelteWentActive"),lhinst.channel.postMessage({action:"went_active",args:{}})):It({store:G,e:t,attr:"hideOnline",url:"user/setoffline/"+(1==!i.hideOnline?"true":"false")}))},t=>It({store:G,e:t,attr:"hideOnline",url:"user/setoffline/"+(1==!i.hideOnline?"true":"false")})]}customElements.define("browser-notification",t(St,{},[],[],!1));class Ot extends e{constructor(t){super(),n(this,t,Pt,Rt,i,{enable_shortcut:0,show_text:1,css_class:2})}get enable_shortcut(){return this.$$.ctx[0]}set enable_shortcut(t){this.$$set({enable_shortcut:t}),c()}get show_text(){return this.$$.ctx[1]}set show_text(t){this.$$set({show_text:t}),c()}get css_class(){return this.$$.ctx[2]}set css_class(t){this.$$set({css_class:t}),c()}}function Bt(t){let e,n=t[1]("homepage.always_online_activity")+"";return{c(){e=f(n)},m(t,n){r(t,e,n)},p(t,i){2&i&&n!==(n=t[1]("homepage.always_online_activity")+"")&&g(e,n)},d(t){t&&d(e)}}}function Ht(t){let e,n=t[1]("homepage.always_online_mode")+"";return{c(){e=f(n)},m(t,n){r(t,e,n)},p(t,i){2&i&&n!==(n=t[1]("homepage.always_online_mode")+"")&&g(e,n)},d(t){t&&d(e)}}}function Mt(t){let e,n,i,a,s,o,c=1==t[0].hideOnline?"flash_off":1==t[0].alwaysOnline?"toggle_on":"toggle_off";function _(t,e){return 1==t[0].alwaysOnline?Ht:Bt}let u=_(t),b=u(t);return{c(){e=m("a"),n=m("i"),i=f(c),b.c(),h(n,"class","material-icons"),h(e,"href","#"),h(e,"class","dropdown-item ps-2"),h(e,"title",a=t[1]("homepage.always_online"))},m(a,c){r(a,e,c),p(e,n),p(n,i),b.m(e,null),s||(o=w(e,"click",t[2]),s=!0)},p(t,[n]){1&n&&c!==(c=1==t[0].hideOnline?"flash_off":1==t[0].alwaysOnline?"toggle_on":"toggle_off")&&g(i,c),u===(u=_(t))&&b?b.p(t,n):(b.d(1),b=u(t),b&&(b.c(),b.m(e,null))),2&n&&a!==(a=t[1]("homepage.always_online"))&&h(e,"title",a)},i:l,o:l,d(t){t&&d(e),b.d(),s=!1,o()}}}function Vt(t,e,n){let i,s;a(t,G,(t=>n(0,i=t))),a(t,Q,(t=>n(1,s=t)));return[i,s,t=>It({store:G,e:t,attr:"alwaysOnline",url:"user/setalwaysonline/"+(1==!i.alwaysOnline?"true":"false")})]}customElements.define("change-online-status",t(Ot,{enable_shortcut:{type:"Boolean"},show_text:{type:"Boolean"},css_class:{}},[],[],!1));class Jt extends e{constructor(t){super(),n(this,t,Vt,Mt,i,{})}}function qt(t){let e;function n(t,e){return 1==t[2].hideInvisible?Qt:Gt}let i=n(t),a=i(t);return{c(){a.c(),e=u()},m(t,n){a.m(t,n),r(t,e,n)},p(t,s){i===(i=n(t))&&a?a.p(t,s):(a.d(1),a=i(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){t&&d(e),a.d(t)}}}function Gt(t){let e,n=t[3]("homepage.visible")+"";return{c(){e=f(n)},m(t,n){r(t,e,n)},p(t,i){8&i&&n!==(n=t[3]("homepage.visible")+"")&&g(e,n)},d(t){t&&d(e)}}}function Qt(t){let e,n=t[3]("homepage.invisible")+"";return{c(){e=f(n)},m(t,n){r(t,e,n)},p(t,i){8&i&&n!==(n=t[3]("homepage.invisible")+"")&&g(e,n)},d(t){t&&d(e)}}}function Ut(t){let e,n,i,a,s,o,c=1==t[2].hideInvisible?"visibility_off":"visibility",_=!t[1]&&qt(t);return{c(){e=m("a"),n=m("i"),i=f(c),_&&_.c(),h(n,"id","vi-in-user"),h(n,"class","material-icons"),h(n,"title",a=t[3]("homepage.change_visibility")),h(e,"href","#"),h(e,"class",t[0])},m(a,c){r(a,e,c),p(e,n),p(n,i),_&&_.m(e,null),s||(o=w(e,"click",t[4]),s=!0)},p(t,[s]){4&s&&c!==(c=1==t[2].hideInvisible?"visibility_off":"visibility")&&g(i,c),8&s&&a!==(a=t[3]("homepage.change_visibility"))&&h(n,"title",a),t[1]?_&&(_.d(1),_=null):_?_.p(t,s):(_=qt(t),_.c(),_.m(e,null)),1&s&&h(e,"class",t[0])},i:l,o:l,d(t){t&&d(e),_&&_.d(),s=!1,o()}}}function Ft(t,e,n){let i,s;a(t,G,(t=>n(2,i=t))),a(t,Q,(t=>n(3,s=t)));let{css_class:o="dropdown-item ps-2"}=e,{hide_text:c=!1}=e;return t.$$set=t=>{"css_class"in t&&n(0,o=t.css_class),"hide_text"in t&&n(1,c=t.hide_text)},[o,c,i,s,t=>It({store:G,e:t,attr:"hideInvisible",url:"user/setinvisible/"+(1==!i.hideInvisible?"true":"false")})]}customElements.define("change-always-online",t(Jt,{},[],[],!1));class Kt extends e{constructor(t){super(),n(this,t,Ft,Ut,i,{css_class:0,hide_text:1})}get css_class(){return this.$$.ctx[0]}set css_class(t){this.$$set({css_class:t}),c()}get hide_text(){return this.$$.ctx[1]}set hide_text(t){this.$$set({hide_text:t}),c()}}function zt(t){let e,n,i,a,s,o,c,u,g,f;return{c(){e=m("div"),n=m("div"),i=m("input"),s=_(),o=m("button"),c=m("i"),c.textContent="chat",h(i,"type","text"),h(i,"class","form-control"),h(i,"placeholder",a=t[1]("front_default.chat_id_to_open")),h(i,"aria-describedby","inputGroupPrepend"),i.required=!0,h(c,"class","material-icons me-0"),h(o,"class","btn btn-secondary"),h(o,"title",u=t[1]("front_default.open_a_chat")),h(o,"type","button"),h(n,"class","input-group input-group-sm"),h(e,"class","dropdown-item")},m(a,l){r(a,e,l),p(e,n),p(n,i),y(i,t[0].chat_to_open),p(n,s),p(n,o),p(o,c),g||(f=[w(i,"input",t[2]),w(i,"keyup",t[3]),w(o,"click",t[4])],g=!0)},p(t,[e]){2&e&&a!==(a=t[1]("front_default.chat_id_to_open"))&&h(i,"placeholder",a),1&e&&i.value!==t[0].chat_to_open&&y(i,t[0].chat_to_open),2&e&&u!==(u=t[1]("front_default.open_a_chat"))&&h(o,"title",u)},i:l,o:l,d(t){t&&d(e),g=!1,b(f)}}}function Xt(t,e,n){let i,s;a(t,G,(t=>n(0,i=t))),a(t,Q,(t=>n(1,s=t)));return[i,s,function(){i.chat_to_open=this.value,G.set(i)},t=>{13===t.keyCode&&ee.emitEvent("angularStartChatbyId",[i.chat_to_open])},t=>ee.emitEvent("angularStartChatbyId",[i.chat_to_open])]}customElements.define("change-visibility-mode",t(Kt,{css_class:{},hide_text:{type:"Boolean"}},[],[],!1));class Yt extends e{constructor(t){super(),n(this,t,Xt,zt,i,{})}}function Zt(t){let e,n,i,a=(!0===t[1].lhcCoreLoaded&&t[1][t[0]]&&t[1][t[0]].list?t[1][t[0]].list.length:0)+"";return{c(){e=f("("),n=f(a),i=f(")")},m(t,a){r(t,e,a),r(t,n,a),r(t,i,a)},p(t,[e]){3&e&&a!==(a=(!0===t[1].lhcCoreLoaded&&t[1][t[0]]&&t[1][t[0]].list?t[1][t[0]].list.length:0)+"")&&g(n,a)},i:l,o:l,d(t){t&&(d(e),d(n),d(i))}}}function te(t,e,n){let i;a(t,G,(t=>n(1,i=t)));let{type:s="pending_chats"}=e;return t.$$set=t=>{"type"in t&&n(0,s=t.type)},[s,i]}customElements.define("lhc-open-chat",t(Yt,{},[],[],!1));class ne extends e{constructor(t){super(),n(this,t,te,Zt,i,{type:0})}get type(){return this.$$.ctx[0]}set type(t){this.$$set({type:t}),c()}}function ie(t){let e,n,i,a,s,o=Math.floor(Date.now()/1e3)-t[2].lhcUpdatedAtActivity+"";return{c(){e=m("span"),n=m("span"),n.textContent="progress_activity",i=f(o),a=f(" s."),h(n,"class","material-icons"),h(e,"title",s=t[3]("homepage.lau"))},m(t,s){r(t,e,s),p(e,n),p(e,i),p(e,a)},p(t,n){4&n&&o!==(o=Math.floor(Date.now()/1e3)-t[2].lhcUpdatedAtActivity+"")&&g(i,o),8&n&&s!==(s=t[3]("homepage.lau"))&&h(e,"title",s)},d(t){t&&d(e)}}}function ae(t){let e,n,i=null!==t[1]&&oe(t);function a(t,e){return t[2].lhcBLockSync?le:ce}let s=a(t),o=s(t);return{c(){i&&i.c(),e=_(),o.c(),n=u()},m(t,a){i&&i.m(t,a),r(t,e,a),o.m(t,a),r(t,n,a)},p(t,c){null!==t[1]?i?i.p(t,c):(i=oe(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),s===(s=a(t))&&o?o.p(t,c):(o.d(1),o=s(t),o&&(o.c(),o.m(n.parentNode,n)))},d(t){t&&(d(e),d(n)),i&&i.d(t),o.d(t)}}}function se(t){let e,n,i,a=t[3]("homepage.no_connection")+"";return{c(){e=m("span"),n=m("span"),n.textContent="wifi_off",i=f(a),h(n,"class","material-icons"),h(e,"class","text-danger")},m(t,a){r(t,e,a),p(e,n),p(e,i)},p(t,e){8&e&&a!==(a=t[3]("homepage.no_connection")+"")&&g(i,a)},d(t){t&&d(e)}}}function oe(t){let e,n,i,a,s=t[1]?"bigtop_updates":"signal_disconnected";return{c(){e=m("span"),n=f(s),h(e,"class",i="material-icons"+(t[1]?"":" text-warning")),h(e,"title",a=t[3]("homepage.node_js_status"))},m(t,i){r(t,e,i),p(e,n)},p(t,o){2&o&&s!==(s=t[1]?"bigtop_updates":"signal_disconnected")&&g(n,s),2&o&&i!==(i="material-icons"+(t[1]?"":" text-warning"))&&h(e,"class",i),8&o&&a!==(a=t[3]("homepage.node_js_status"))&&h(e,"title",a)},d(t){t&&d(e)}}}function ce(t){let e,n,i,a,s,o,c=t[2].lhcListRequestInProgress?"sync":t[2].lhcConnectivityProblem?"sync_problem":"history",l=t[2].lhcUpdatedAt+"";return{c(){e=m("span"),n=m("span"),i=f(c),a=f(l),h(n,"class","material-icons"),h(e,"class",s=t[2].lhcConnectivityProblem?" text-danger":" text-muted"),h(e,"title",o=t[3]("homepage.last_updated_at"))},m(t,s){r(t,e,s),p(e,n),p(n,i),p(e,a)},p(t,n){4&n&&c!==(c=t[2].lhcListRequestInProgress?"sync":t[2].lhcConnectivityProblem?"sync_problem":"history")&&g(i,c),4&n&&l!==(l=t[2].lhcUpdatedAt+"")&&g(a,l),4&n&&s!==(s=t[2].lhcConnectivityProblem?" text-danger":" text-muted")&&h(e,"class",s),8&n&&o!==(o=t[3]("homepage.last_updated_at"))&&h(e,"title",o)},d(t){t&&d(e)}}}function le(t){let e,n,i,a=t[3]("homepage.sync_blocked")+"";return{c(){e=m("span"),n=m("span"),n.textContent="sync_problem",i=f(a),h(n,"class","material-icons"),h(e,"class","text-danger")},m(t,a){r(t,e,a),p(e,n),p(e,i)},p(t,e){8&e&&a!==(a=t[3]("homepage.sync_blocked")+"")&&g(i,a)},d(t){t&&d(e)}}}function de(t){let e;function n(t,e){return t[2].lhcMessageConnection?_e:re}let i=n(t),a=i(t);return{c(){a.c(),e=u()},m(t,n){a.m(t,n),r(t,e,n)},p(t,s){i===(i=n(t))&&a?a.p(t,s):(a.d(1),a=i(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){t&&d(e),a.d(t)}}}function re(t){let e,n,i,a=t[3]("homepage.connection_explain")+"";return{c(){e=m("div"),n=m("span"),n.textContent="wifi_off",i=f(a),h(n,"class","material-icons"),h(e,"class","text-danger fs14")},m(t,a){r(t,e,a),p(e,n),p(e,i)},p(t,e){8&e&&a!==(a=t[3]("homepage.connection_explain")+"")&&g(i,a)},d(t){t&&d(e)}}}function _e(t){let e,n,i=t[2].lhcMessageConnection+"";return{c(){e=new x(!1),n=u(),e.a=n},m(t,a){e.m(i,t,a),r(t,n,a)},p(t,n){4&n&&i!==(i=t[2].lhcMessageConnection+"")&&e.p(i)},d(t){t&&(d(n),e.d())}}}function ue(t){let e,n,i,a=t[2].lhcUpdatedAtActivity>0&&ie(t);function s(t,e){return t[0]?ae:se}let o=s(t),c=o(t),u=(!t[0]||t[2].lhcConnectivityProblem)&&de(t);return{c(){e=m("div"),a&&a.c(),n=_(),c.c(),i=_(),u&&u.c(),h(e,"class","py-2 text-center fs12")},m(t,s){r(t,e,s),a&&a.m(e,null),p(e,n),c.m(e,null),p(e,i),u&&u.m(e,null)},p(t,[l]){t[2].lhcUpdatedAtActivity>0?a?a.p(t,l):(a=ie(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),o===(o=s(t))&&c?c.p(t,l):(c.d(1),c=o(t),c&&(c.c(),c.m(e,i))),!t[0]||t[2].lhcConnectivityProblem?u?u.p(t,l):(u=de(t),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i:l,o:l,d(t){t&&d(e),a&&a.d(),c.d(),u&&u.d()}}}function pe(t,e,n){let i,s;a(t,G,(t=>n(2,i=t))),a(t,Q,(t=>n(3,s=t)));let{type:c="pending_chats"}=e,l=navigator.onLine,d=!0===lh?.nodejsHelperOptions?.socketConnected||!lh.nodejsHelperOptions&&null,r=!1,_=!1;async function u(){try{if(!navigator.onLine||!0===_)return;_=!0;const t=await fetch(WWW_DIR_JAVASCRIPT+"chat/verifytoken",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}});if(!t.ok)throw new Error("Network response was not OK ["+t.status+"] ["+t.statusText+"]");(await t.json()).verified||document.location.reload(),ee.emitEvent("angularLoadChatList"),_=!1}catch(t){document.location.reload()}}function p(){n(0,l=navigator.onLine),l&&u()}return ee.addListener("socketConnected",(()=>{n(1,d=!0),!1!==r?u():r=!0})),ee.addListener("socketDisconnected",(()=>{n(1,d=!1),setTimeout((()=>{u()}),6e4)})),o((()=>{document.addEventListener("visibilitychange",(()=>{document.hidden||u()})),window.addEventListener("focus",u),window.addEventListener("online",p),window.addEventListener("offline",p)})),t.$$set=t=>{"type"in t&&n(4,c=t.type)},[l,d,i,s,c]}customElements.define("lhc-chats-counter",t(ne,{type:{}},[],[],!1));class me extends e{constructor(t){super(),n(this,t,pe,ue,i,{type:4})}get type(){return this.$$.ctx[4]}set type(t){this.$$set({type:t}),c()}}function he(t,e,n){const i=t.slice();return i[86]=e[n],i}function ge(t,e,n){const i=t.slice();return i[93]=e[n],i}function fe(t,e,n){const i=t.slice();return i[96]=e[n],i}function we(t,e,n){const i=t.slice();return i[99]=e[n],i}function be(t,e,n){const i=t.slice();return i[93]=e[n],i}function ve(t,e,n){const i=t.slice();return i[96]=e[n],i}function ye(t,e,n){const i=t.slice();return i[99]=e[n],i}function xe(t,e,n){const i=t.slice();return i[108]=e[n][0],i[109]=e[n][1],i}function $e(t,e,n){const i=t.slice();return i[112]=e[n],i}function Ce(t,e,n){const i=t.slice();return i[86]=e[n],i}function je(t,e,n){const i=t.slice();return i[86]=e[n],i}function ke(t,e,n){const i=t.slice();return i[80]=e[n],i}function We(t,e,n){const i=t.slice();return i[83]=e[n],i}function De(t,e,n){const i=t.slice();return i[96]=e[n],i}function Le(t,e,n){const i=t.slice();return i[117]=e[n],i}function Ae(t){let e,n,i,a,s,o,c,l,u,g,f,w,b,v;function y(t,e){return"online_op"==t[1]?Re:"depgroups_stats"==t[1]?Ne:"pending_chats"==t[1]?Ee:"active_chats"==t[1]?Te:"group_chats"==t[1]?Ie:Se}let x=y(t),$=x(t),k="transfer_chats"==t[1]&&Me(t),W=C(t[24]),D=[];for(let e=0;e<W.length;e+=1)D[e]=Je(Le(t,W,e));let L=!1===t[4]&&t[32]&&t[30].additionalColumns&&qe(t),A=("subject_chats"==t[1]||"alarm_mails"==t[1]||t[16])&&Ke(t),S=!t[6]&&Xe(t),I="online_op"==t[1]&&ln(t),T="active_chats"==t[1]&&un(t),E="depgroups_stats"==t[1]&&pn(t),N=("active_mails"==t[1]||"alarm_mails"==t[1]||t[15])&&mn(t),R=!t[5]&&gn(t),P="depgroups_stats"==t[1]&&$n(t);return{c(){e=m("thead"),n=m("tr"),i=m("th"),$.c(),a=_(),k&&k.c(),s=_();for(let t=0;t<D.length;t+=1)D[t].c();o=_(),L&&L.c(),c=_(),A&&A.c(),l=_(),S&&S.c(),u=_(),I&&I.c(),g=_(),T&&T.c(),f=_(),E&&E.c(),w=_(),N&&N.c(),b=_(),R&&R.c(),v=_(),P&&P.c(),h(i,"width",t[26])},m(t,d){r(t,e,d),p(e,n),p(n,i),$.m(i,null),p(i,a),k&&k.m(i,null),p(i,s);for(let t=0;t<D.length;t+=1)D[t]&&D[t].m(i,null);p(n,o),L&&L.m(n,null),p(n,c),A&&A.m(n,null),p(n,l),S&&S.m(n,null),p(n,u),I&&I.m(n,null),p(n,g),T&&T.m(n,null),p(n,f),E&&E.m(n,null),p(n,w),N&&N.m(n,null),p(n,b),R&&R.m(n,null),p(n,v),P&&P.m(n,null)},p(t,e){if(x===(x=y(t))&&$?$.p(t,e):($.d(1),$=x(t),$&&($.c(),$.m(i,a))),"transfer_chats"==t[1]?k?k.p(t,e):(k=Me(t),k.c(),k.m(i,s)):k&&(k.d(1),k=null),1090519044&e[0]){let n;for(W=C(t[24]),n=0;n<W.length;n+=1){const a=Le(t,W,n);D[n]?D[n].p(a,e):(D[n]=Je(a),D[n].c(),D[n].m(i,null))}for(;n<D.length;n+=1)D[n].d(1);D.length=W.length}67108864&e[0]&&h(i,"width",t[26]),!1===t[4]&&t[32]&&t[30].additionalColumns?L?L.p(t,e):(L=qe(t),L.c(),L.m(n,c)):L&&(L.d(1),L=null),"subject_chats"==t[1]||"alarm_mails"==t[1]||t[16]?A?A.p(t,e):(A=Ke(t),A.c(),A.m(n,l)):A&&(A.d(1),A=null),t[6]?S&&(S.d(1),S=null):S?S.p(t,e):(S=Xe(t),S.c(),S.m(n,u)),"online_op"==t[1]?I?I.p(t,e):(I=ln(t),I.c(),I.m(n,g)):I&&(I.d(1),I=null),"active_chats"==t[1]?T?T.p(t,e):(T=un(t),T.c(),T.m(n,f)):T&&(T.d(1),T=null),"depgroups_stats"==t[1]?E?E.p(t,e):(E=pn(t),E.c(),E.m(n,w)):E&&(E.d(1),E=null),"active_mails"==t[1]||"alarm_mails"==t[1]||t[15]?N?N.p(t,e):(N=mn(t),N.c(),N.m(n,b)):N&&(N.d(1),N=null),t[5]?R&&(R.d(1),R=null):R?R.p(t,e):(R=gn(t),R.c(),R.m(n,v)),"depgroups_stats"==t[1]?P?P.p(t,e):(P=$n(t),P.c(),P.m(n,null)):P&&(P.d(1),P=null)},d(t){t&&d(e),$.d(),k&&k.d(),j(D,t),L&&L.d(),A&&A.d(),S&&S.d(),I&&I.d(),T&&T.d(),E&&E.d(),N&&N.d(),R&&R.d(),P&&P.d()}}}function Se(t){let e,n,i,a,s=(t[12]?t[12]:"face")+"",o=t[13]&&Pe(t);return{c(){e=m("i"),n=f(s),o&&o.c(),a=u(),h(e,"title",i=t[31]("widget."+(t[11]?t[11]:"visitor"))),h(e,"class","material-icons")},m(t,i){r(t,e,i),p(e,n),o&&o.m(t,i),r(t,a,i)},p(t,c){4096&c[0]&&s!==(s=(t[12]?t[12]:"face")+"")&&g(n,s),2048&c[0]|1&c[1]&&i!==(i=t[31]("widget."+(t[11]?t[11]:"visitor")))&&h(e,"title",i),t[13]?o?o.p(t,c):(o=Pe(t),o.c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},d(t){t&&(d(e),d(a)),o&&o.d(t)}}}function Ie(t){let e,n,i;return{c(){e=m("i"),n=f("group"),h(e,"title",i=t[31]("group_chat.group_name")),h(e,"class","material-icons")},m(t,i){r(t,e,i),p(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("group_chat.group_name"))&&h(e,"title",i)},d(t){t&&d(e)}}}function Te(t){let e,n,i,a,s,o,c,l,u,v,y,x,C,j,k,W,D,L,A,S="loc_dsc"==t[30].toggleWidgetData[t[0]]||"loc_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down",I="u_dsc"==t[30].toggleWidgetData[t[0]]||"u_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=m("a"),n=m("i"),i=f("location_on"),s=_(),o=m("i"),c=f(S),u=f(""),v=m("a"),y=m("i"),x=f("face"),j=_(),k=m("i"),W=f(I),h(n,"title",a=t[31]("widget.location")),h(n,"class","material-icons"),h(o,"title",l=t[31]("widget.sort_by_location")),h(o,"class","material-icons"),$(o,"text-muted","loc_asc"!=t[30].toggleWidgetData[t[0]]&&"loc_dsc"!=t[30].toggleWidgetData[t[0]]),h(y,"title",C=t[31]("widget.visitor")),h(y,"class","material-icons"),h(k,"title",D=t[31]("widget.sort_by_nick")),h(k,"class","material-icons"),$(k,"text-muted","u_asc"!=t[30].toggleWidgetData[t[0]]&&"u_dsc"!=t[30].toggleWidgetData[t[0]])},m(a,l){r(a,e,l),p(e,n),p(n,i),p(e,s),p(e,o),p(o,c),r(a,u,l),r(a,v,l),p(v,y),p(y,x),p(v,j),p(v,k),p(k,W),L||(A=[w(e,"click",t[39]),w(v,"click",t[40])],L=!0)},p(t,e){1&e[1]&&a!==(a=t[31]("widget.location"))&&h(n,"title",a),1073741825&e[0]&&S!==(S="loc_dsc"==t[30].toggleWidgetData[t[0]]||"loc_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&g(c,S),1&e[1]&&l!==(l=t[31]("widget.sort_by_location"))&&h(o,"title",l),1073741825&e[0]&&$(o,"text-muted","loc_asc"!=t[30].toggleWidgetData[t[0]]&&"loc_dsc"!=t[30].toggleWidgetData[t[0]]),1&e[1]&&C!==(C=t[31]("widget.visitor"))&&h(y,"title",C),1073741825&e[0]&&I!==(I="u_dsc"==t[30].toggleWidgetData[t[0]]||"u_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&g(W,I),1&e[1]&&D!==(D=t[31]("widget.sort_by_nick"))&&h(k,"title",D),1073741825&e[0]&&$(k,"text-muted","u_asc"!=t[30].toggleWidgetData[t[0]]&&"u_dsc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&(d(e),d(u),d(v)),L=!1,b(A)}}}function Ee(t){let e,n,i,a,s,o,c,l,u,b,v="id_dsc"===t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=m("a"),n=m("i"),i=f("face"),s=_(),o=m("i"),c=f(v),h(n,"title",a=t[31]("widget.visitor")),h(n,"class","chat-active material-icons"),$(n,"text-muted","id_dsc"!=t[30].toggleWidgetData[t[0]]&&"id_asc"!=t[30].toggleWidgetData[t[0]]),h(o,"title",l=t[31]("widget.sort_pending")),h(o,"class","material-icons")},m(a,l){r(a,e,l),p(e,n),p(n,i),p(e,s),p(e,o),p(o,c),u||(b=w(e,"click",t[38]),u=!0)},p(t,e){1&e[1]&&a!==(a=t[31]("widget.visitor"))&&h(n,"title",a),1073741825&e[0]&&$(n,"text-muted","id_dsc"!=t[30].toggleWidgetData[t[0]]&&"id_asc"!=t[30].toggleWidgetData[t[0]]),1073741825&e[0]&&v!==(v="id_dsc"===t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&g(c,v),1&e[1]&&l!==(l=t[31]("widget.sort_pending"))&&h(o,"title",l)},d(t){t&&d(e),u=!1,b()}}}function Ne(t){let e,n,i;return{c(){e=m("i"),n=f(""),h(e,"title",i=t[31]("widget.dep_group")),h(e,"class","material-icons")},m(t,i){r(t,e,i),p(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.dep_group"))&&h(e,"title",i)},d(t){t&&d(e)}}}function Re(t){let e,n,i,a,s,o,c,l,g,f,v,y,x,C=!t[8]&&Oe(t),j=!t[8]&&Be(t),k="online_op"==t[1]&&He(t);return{c(){e=m("a"),n=m("i"),n.textContent="account_box",i=_(),C&&C.c(),s=_(),o=m("a"),c=m("i"),c.textContent="flash_on",l=_(),j&&j.c(),f=_(),k&&k.c(),v=u(),h(n,"class","material-icons chat-active"),$(n,"text-muted","onn_dsc"!=t[30].toggleWidgetData[t[0]]&&"onn_asc"!=t[30].toggleWidgetData[t[0]]),h(e,"title",a=t[31]("widget.sort_by_online_name")),h(c,"class","material-icons chat-active"),$(c,"text-muted","onl_dsc"!=t[30].toggleWidgetData[t[0]]&&"onl_asc"!=t[30].toggleWidgetData[t[0]]),h(o,"title",g=t[31]("widget.sort_by_online_status"))},m(a,d){r(a,e,d),p(e,n),p(e,i),C&&C.m(e,null),r(a,s,d),r(a,o,d),p(o,c),p(o,l),j&&j.m(o,null),r(a,f,d),k&&k.m(a,d),r(a,v,d),y||(x=[w(e,"click",t[36]),w(o,"click",t[37])],y=!0)},p(t,i){1073741825&i[0]&&$(n,"text-muted","onn_dsc"!=t[30].toggleWidgetData[t[0]]&&"onn_asc"!=t[30].toggleWidgetData[t[0]]),t[8]?C&&(C.d(1),C=null):C?C.p(t,i):(C=Oe(t),C.c(),C.m(e,null)),1&i[1]&&a!==(a=t[31]("widget.sort_by_online_name"))&&h(e,"title",a),1073741825&i[0]&&$(c,"text-muted","onl_dsc"!=t[30].toggleWidgetData[t[0]]&&"onl_asc"!=t[30].toggleWidgetData[t[0]]),t[8]?j&&(j.d(1),j=null):j?j.p(t,i):(j=Be(t),j.c(),j.m(o,null)),1&i[1]&&g!==(g=t[31]("widget.sort_by_online_status"))&&h(o,"title",g),"online_op"==t[1]?k?k.p(t,i):(k=He(t),k.c(),k.m(v.parentNode,v)):k&&(k.d(1),k=null)},d(t){t&&(d(e),d(s),d(o),d(f),d(v)),C&&C.d(),j&&j.d(),k&&k.d(t),y=!1,b(x)}}}function Pe(t){let e,n=t[31]("widget."+(t[11]?t[11]:"visitor"))+"";return{c(){e=f(n)},m(t,n){r(t,e,n)},p(t,i){2048&i[0]|1&i[1]&&n!==(n=t[31]("widget."+(t[11]?t[11]:"visitor"))+"")&&g(e,n)},d(t){t&&d(e)}}}function Oe(t){let e,n,i="onn_dsc"==t[30].toggleWidgetData[t[0]]||"onn_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=m("i"),n=f(i),h(e,"class","material-icons"),$(e,"text-muted","onn_dsc"!=t[30].toggleWidgetData[t[0]]&&"onn_asc"!=t[30].toggleWidgetData[t[0]])},m(t,i){r(t,e,i),p(e,n)},p(t,a){1073741825&a[0]&&i!==(i="onn_dsc"==t[30].toggleWidgetData[t[0]]||"onn_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&g(n,i),1073741825&a[0]&&$(e,"text-muted","onn_dsc"!=t[30].toggleWidgetData[t[0]]&&"onn_asc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&d(e)}}}function Be(t){let e,n,i="onl_dsc"==t[30].toggleWidgetData[t[0]]||"onl_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=m("i"),n=f(i),h(e,"class","material-icons"),$(e,"text-muted","onl_dsc"!=t[30].toggleWidgetData[t[0]]&&"onl_asc"!=t[30].toggleWidgetData[t[0]])},m(t,i){r(t,e,i),p(e,n)},p(t,a){1073741825&a[0]&&i!==(i="onl_dsc"==t[30].toggleWidgetData[t[0]]||"onl_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&g(n,i),1073741825&a[0]&&$(e,"text-muted","onl_dsc"!=t[30].toggleWidgetData[t[0]]&&"onl_asc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&d(e)}}}function He(t){let e,n,i,a=t[30][t[1]].op_on+"";return{c(){e=m("span"),n=f(a),h(e,"class","text-success"),h(e,"title",i=t[31]("widget.online"))},m(t,i){r(t,e,i),p(e,n)},p(t,s){1073741826&s[0]&&a!==(a=t[30][t[1]].op_on+"")&&g(n,a),1&s[1]&&i!==(i=t[31]("widget.online"))&&h(e,"title",i)},d(t){t&&d(e)}}}function Me(t){let e,n=t[31]("widget.transferred_to_you")+"";return{c(){e=f(n)},m(t,n){r(t,e,n)},p(t,i){1&i[1]&&n!==(n=t[31]("widget.transferred_to_you")+"")&&g(e,n)},d(t){t&&d(e)}}}function Ve(t){let e,n,i;function a(...e){return t[42](t[117],...e)}return{c(){e=m("a"),e.innerHTML='<span class="material-icons">close</span>',h(e,"class","text-muted"),h(e,"title","Remove sort")},m(t,s){r(t,e,s),n||(i=w(e,"click",a),n=!0)},p(e,n){t=e},d(t){t&&d(e),n=!1,i()}}}function Je(t){let e,n,i,a,s,o,c,l,b,v,y=(t[30].toggleWidgetData[t[117].sort_identifier]==t[117].sort_options[1]?t[117]["sort_icon_"+t[117].sort_options[1]]:t[117]["sort_icon_"+t[117].sort_options[0]])+"";function x(...e){return t[41](t[117],...e)}let $=(t[30].toggleWidgetData[t[117].sort_identifier]==t[117].sort_options[0]||t[30].toggleWidgetData[t[117].sort_identifier]==t[117].sort_options[1])&&Ve(t);return{c(){e=f("| "),n=m("a"),i=m("i"),a=f(y),c=_(),$&&$.c(),l=u(),h(i,"title",s=t[117].title),h(i,"class",o="material-icons chat-active "+(t[30].toggleWidgetData[t[117].sort_identifier]!=t[117].sort_options[1]&&t[30].toggleWidgetData[t[117].sort_identifier]!=t[117].sort_options[0]?"text-muted":""))},m(t,s){r(t,e,s),r(t,n,s),p(n,i),p(i,a),r(t,c,s),$&&$.m(t,s),r(t,l,s),b||(v=w(n,"click",x),b=!0)},p(e,n){t=e,1090519040&n[0]&&y!==(y=(t[30].toggleWidgetData[t[117].sort_identifier]==t[117].sort_options[1]?t[117]["sort_icon_"+t[117].sort_options[1]]:t[117]["sort_icon_"+t[117].sort_options[0]])+"")&&g(a,y),16777216&n[0]&&s!==(s=t[117].title)&&h(i,"title",s),1090519040&n[0]&&o!==(o="material-icons chat-active "+(t[30].toggleWidgetData[t[117].sort_identifier]!=t[117].sort_options[1]&&t[30].toggleWidgetData[t[117].sort_identifier]!=t[117].sort_options[0]?"text-muted":""))&&h(i,"class",o),t[30].toggleWidgetData[t[117].sort_identifier]==t[117].sort_options[0]||t[30].toggleWidgetData[t[117].sort_identifier]==t[117].sort_options[1]?$?$.p(t,n):($=Ve(t),$.c(),$.m(l.parentNode,l)):$&&($.d(1),$=null)},d(t){t&&(d(e),d(n),d(c),d(l)),$&&$.d(t),b=!1,v()}}}function qe(t){let e,n=C(t[30].additionalColumns),i=[];for(let e=0;e<n.length;e+=1)i[e]=Fe(De(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=u()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);r(t,e,n)},p(t,a){if(1342177284&a[0]){let s;for(n=C(t[30].additionalColumns),s=0;s<n.length;s+=1){const o=De(t,n,s);i[s]?i[s].p(o,a):(i[s]=Fe(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&d(e),j(i,t)}}}function Ge(t){let e,n,i,a,s=t[96].name+"",o=""!==t[96].icon&&Qe(t),c=""!==t[28]&&t[96].sorten&&Ue(t);return{c(){e=m("th"),o&&o.c(),n=f(s),i=_(),c&&c.c(),a=_(),h(e,"width","20%")},m(t,s){r(t,e,s),o&&o.m(e,null),p(e,n),p(e,i),c&&c.m(e,null),p(e,a)},p(t,i){""!==t[96].icon?o?o.p(t,i):(o=Qe(t),o.c(),o.m(e,n)):o&&(o.d(1),o=null),1073741824&i[0]&&s!==(s=t[96].name+"")&&g(n,s),""!==t[28]&&t[96].sorten?c?c.p(t,i):(c=Ue(t),c.c(),c.m(e,a)):c&&(c.d(1),c=null)},d(t){t&&d(e),o&&o.d(),c&&c.d()}}}function Qe(t){let e,n,i=t[96].icon+"";return{c(){e=m("i"),n=f(i),h(e,"class","material-icons chat-active"),$(e,"text-muted",!t[28]||!t[96].sorten||t[30].toggleWidgetData[t[28]]!=t[96].items[0]+"_asc"&&t[30].toggleWidgetData[t[28]]!=t[96].items[0]+"_dsc")},m(t,i){r(t,e,i),p(e,n)},p(t,a){1073741824&a[0]&&i!==(i=t[96].icon+"")&&g(n,i),1342177280&a[0]&&$(e,"text-muted",!t[28]||!t[96].sorten||t[30].toggleWidgetData[t[28]]!=t[96].items[0]+"_asc"&&t[30].toggleWidgetData[t[28]]!=t[96].items[0]+"_dsc")},d(t){t&&d(e)}}}function Ue(t){let e,n,i,a,s,o=t[30].toggleWidgetData[t[28]]==t[96].items[0]+"_dsc"||t[30].toggleWidgetData[t[28]]!=t[96].items[0]+"_asc"?"trending_up":"trending_down";function c(...e){return t[43](t[96],...e)}return{c(){e=m("a"),n=m("i"),i=f(o),h(n,"class","material-icons"),$(n,"text-muted",t[30].toggleWidgetData[t[28]]!=t[96].items[0]+"_asc"&&t[30].toggleWidgetData[t[28]]!=t[96].items[0]+"_dsc")},m(t,o){r(t,e,o),p(e,n),p(n,i),a||(s=w(e,"click",c),a=!0)},p(e,a){t=e,1342177280&a[0]&&o!==(o=t[30].toggleWidgetData[t[28]]==t[96].items[0]+"_dsc"||t[30].toggleWidgetData[t[28]]!=t[96].items[0]+"_asc"?"trending_up":"trending_down")&&g(i,o),1342177280&a[0]&&$(n,"text-muted",t[30].toggleWidgetData[t[28]]!=t[96].items[0]+"_asc"&&t[30].toggleWidgetData[t[28]]!=t[96].items[0]+"_dsc")},d(t){t&&d(e),a=!1,s()}}}function Fe(t){let e,n=1==t[96].cenabl&&!t[96].iconm&&Ge(t);return{c(){n&&n.c(),e=u()},m(t,i){n&&n.m(t,i),r(t,e,i)},p(t,i){1!=t[96].cenabl||t[96].iconm?n&&(n.d(1),n=null):n?n.p(t,i):(n=Ge(t),n.c(),n.m(e.parentNode,e))},d(t){t&&d(e),n&&n.d(t)}}}function Ke(t){let e,n,i,a,s=t[18]&&ze(t);return{c(){e=m("th"),n=m("span"),i=f("label"),s&&s.c(),h(n,"title",a=t[31]("widget.subject")),h(n,"class","material-icons"),h(e,"width","25%")},m(t,a){r(t,e,a),p(e,n),p(n,i),s&&s.m(e,null)},p(t,i){1&i[1]&&a!==(a=t[31]("widget.subject"))&&h(n,"title",a),t[18]?s?s.p(t,i):(s=ze(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(t){t&&d(e),s&&s.d()}}}function ze(t){let e,n=t[31]("widget.subject")+"";return{c(){e=f(n)},m(t,n){r(t,e,n)},p(t,i){1&i[1]&&n!==(n=t[31]("widget.subject")+"")&&g(e,n)},d(t){t&&d(e)}}}function Xe(t){let e,n,i,a,s,o,c,l,u,g="depgroups_stats"===t[1]&&Ye(t),f="online_op"===t[1]&&Ze(t),w=("my_mails"===t[1]||"alarm_mails"===t[1]||"active_mails"===t[1]||"pending_mails"===t[1])&&tn(t),b="pending_chats"===t[1]&&en(t),v="my_chats"===t[1]&&nn(t),y="unread_chats"===t[1]&&an(t),x=("active_chats"===t[1]||"bot_chats"===t[1])&&sn(t),$="subject_chats"==t[1]&&on(t),C="transfer_chats"==t[1]&&cn(t);return{c(){e=m("th"),g&&g.c(),n=_(),f&&f.c(),i=_(),w&&w.c(),a=_(),b&&b.c(),s=_(),v&&v.c(),o=_(),y&&y.c(),c=_(),x&&x.c(),l=_(),$&&$.c(),u=_(),C&&C.c(),h(e,"width",t[25])},m(t,d){r(t,e,d),g&&g.m(e,null),p(e,n),f&&f.m(e,null),p(e,i),w&&w.m(e,null),p(e,a),b&&b.m(e,null),p(e,s),v&&v.m(e,null),p(e,o),y&&y.m(e,null),p(e,c),x&&x.m(e,null),p(e,l),$&&$.m(e,null),p(e,u),C&&C.m(e,null)},p(t,d){"depgroups_stats"===t[1]?g?g.p(t,d):(g=Ye(t),g.c(),g.m(e,n)):g&&(g.d(1),g=null),"online_op"===t[1]?f?f.p(t,d):(f=Ze(t),f.c(),f.m(e,i)):f&&(f.d(1),f=null),"my_mails"===t[1]||"alarm_mails"===t[1]||"active_mails"===t[1]||"pending_mails"===t[1]?w?w.p(t,d):(w=tn(t),w.c(),w.m(e,a)):w&&(w.d(1),w=null),"pending_chats"===t[1]?b?b.p(t,d):(b=en(t),b.c(),b.m(e,s)):b&&(b.d(1),b=null),"my_chats"===t[1]?v?v.p(t,d):(v=nn(t),v.c(),v.m(e,o)):v&&(v.d(1),v=null),"unread_chats"===t[1]?y?y.p(t,d):(y=an(t),y.c(),y.m(e,c)):y&&(y.d(1),y=null),"active_chats"===t[1]||"bot_chats"===t[1]?x?x.p(t,d):(x=sn(t),x.c(),x.m(e,l)):x&&(x.d(1),x=null),"subject_chats"==t[1]?$?$.p(t,d):($=on(t),$.c(),$.m(e,u)):$&&($.d(1),$=null),"transfer_chats"==t[1]?C?C.p(t,d):(C=cn(t),C.c(),C.m(e,null)):C&&(C.d(1),C=null),33554432&d[0]&&h(e,"width",t[25])},d(t){t&&d(e),g&&g.d(),f&&f.d(),w&&w.d(),b&&b.d(),v&&v.d(),y&&y.d(),x&&x.d(),$&&$.d(),C&&C.d()}}}function Ye(t){let e,n,i;return{c(){e=m("i"),n=f("chat"),h(e,"title",i=t[31]("widget_title.pending_chats")),h(e,"class","material-icons chat-pending")},m(t,i){r(t,e,i),p(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget_title.pending_chats"))&&h(e,"title",i)},d(t){t&&d(e)}}}function Ze(t){let e,n,i;return{c(){e=m("i"),n=f("assignment_ind"),h(e,"title",i=t[31]("widget.last_assignment_ago")),h(e,"class","material-icons")},m(t,i){r(t,e,i),p(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.last_assignment_ago"))&&h(e,"title",i)},d(t){t&&d(e)}}}function tn(t){let e,n,i;return{c(){e=m("i"),n=f("access_time"),h(e,"title",i=t[31]("widget.wait_time")),h(e,"class","material-icons")},m(t,i){r(t,e,i),p(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.wait_time"))&&h(e,"title",i)},d(t){t&&d(e)}}}function en(t){let e,n,i,a,s,o,c,l,_,u="wtime_dsc"===t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=m("a"),n=m("i"),i=f("access_time"),s=m("i"),o=f(u),h(n,"title",a=t[31]("widget.wait_time")),h(n,"class","material-icons chat-active"),$(n,"text-muted","wtime_dsc"!=t[30].toggleWidgetData[t[0]]&&"wtime_asc"!=t[30].toggleWidgetData[t[0]]),h(s,"title",c=t[31]("widget.sort_wait_time")),h(s,"class","material-icons")},m(a,c){r(a,e,c),p(e,n),p(n,i),p(e,s),p(s,o),l||(_=w(e,"click",t[44]),l=!0)},p(t,e){1&e[1]&&a!==(a=t[31]("widget.wait_time"))&&h(n,"title",a),1073741825&e[0]&&$(n,"text-muted","wtime_dsc"!=t[30].toggleWidgetData[t[0]]&&"wtime_asc"!=t[30].toggleWidgetData[t[0]]),1073741825&e[0]&&u!==(u="wtime_dsc"===t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&g(o,u),1&e[1]&&c!==(c=t[31]("widget.sort_wait_time"))&&h(s,"title",c)},d(t){t&&d(e),l=!1,_()}}}function nn(t){let e,n,i;return{c(){e=m("i"),n=f("access_time"),h(e,"title",i=t[31]("widget.last_message")),h(e,"class","material-icons")},m(t,i){r(t,e,i),p(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.last_message"))&&h(e,"title",i)},d(t){t&&d(e)}}}function an(t){let e,n,i;return{c(){e=m("i"),n=f("access_time"),h(e,"title",i=t[31]("widget.time_ago")),h(e,"class","material-icons")},m(t,i){r(t,e,i),p(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.time_ago"))&&h(e,"title",i)},d(t){t&&d(e)}}}function sn(t){let e,n,i,a,s,o,c,l,u,v,y,x="lmt_dsc"==t[30].toggleWidgetData[t[0]]||"lmt_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down",C="id_dsc"==t[30].toggleWidgetData[t[0]]||"id_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=m("a"),n=m("i"),i=f(x),s=_(),o=m("a"),c=m("i"),l=f(C),h(n,"title",a=t[31]("widget.sort_by_last_msg_time")),h(n,"class","material-icons"),$(n,"text-muted","lmt_asc"!=t[30].toggleWidgetData[t[0]]&&"lmt_dsc"!=t[30].toggleWidgetData[t[0]]),h(c,"title",u=t[31]("widget.sort_by_start_time")),h(c,"class","material-icons"),$(c,"text-muted","id_asc"!=t[30].toggleWidgetData[t[0]]&&"id_dsc"!=t[30].toggleWidgetData[t[0]])},m(a,d){r(a,e,d),p(e,n),p(n,i),r(a,s,d),r(a,o,d),p(o,c),p(c,l),v||(y=[w(e,"click",t[45]),w(o,"click",t[46])],v=!0)},p(t,e){1073741825&e[0]&&x!==(x="lmt_dsc"==t[30].toggleWidgetData[t[0]]||"lmt_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&g(i,x),1&e[1]&&a!==(a=t[31]("widget.sort_by_last_msg_time"))&&h(n,"title",a),1073741825&e[0]&&$(n,"text-muted","lmt_asc"!=t[30].toggleWidgetData[t[0]]&&"lmt_dsc"!=t[30].toggleWidgetData[t[0]]),1073741825&e[0]&&C!==(C="id_dsc"==t[30].toggleWidgetData[t[0]]||"id_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&g(l,C),1&e[1]&&u!==(u=t[31]("widget.sort_by_start_time"))&&h(c,"title",u),1073741825&e[0]&&$(c,"text-muted","id_asc"!=t[30].toggleWidgetData[t[0]]&&"id_dsc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&(d(e),d(s),d(o)),v=!1,b(y)}}}function on(t){let e,n,i;return{c(){e=m("i"),n=f("access_time"),h(e,"title",i=t[31]("widget.time_since_last_msg")),h(e,"class","material-icons")},m(t,i){r(t,e,i),p(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.time_since_last_msg"))&&h(e,"title",i)},d(t){t&&d(e)}}}function cn(t){let e,n,i;return{c(){e=m("i"),n=f("access_time"),h(e,"title",i=t[31]("widget.created_at")),h(e,"class","material-icons")},m(t,i){r(t,e,i),p(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.created_at"))&&h(e,"title",i)},d(t){t&&d(e)}}}function ln(t){let e,n,i,a,s,o,c,l,u,b="rac_dsc"==t[30].toggleWidgetData[t[0]]||"rac_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down",v=!t[7]&&dn(t),y=!t[9]&&rn(t);return{c(){e=m("th"),n=m("a"),v&&v.c(),i=_(),a=m("i"),s=f(b),c=_(),y&&y.c(),h(a,"title",o=t[31]("widget.sort_by_chat_number_real")),h(a,"class","material-icons"),$(a,"text-muted","rac_asc"!=t[30].toggleWidgetData[t[0]]&&"rac_dsc"!=t[30].toggleWidgetData[t[0]]),h(e,"width","15%")},m(o,d){r(o,e,d),p(e,n),v&&v.m(n,null),p(n,i),p(n,a),p(a,s),p(e,c),y&&y.m(e,null),l||(u=w(n,"click",t[47]),l=!0)},p(t,c){t[7]?v&&(v.d(1),v=null):v?v.p(t,c):(v=dn(t),v.c(),v.m(n,i)),1073741825&c[0]&&b!==(b="rac_dsc"==t[30].toggleWidgetData[t[0]]||"rac_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&g(s,b),1&c[1]&&o!==(o=t[31]("widget.sort_by_chat_number_real"))&&h(a,"title",o),1073741825&c[0]&&$(a,"text-muted","rac_asc"!=t[30].toggleWidgetData[t[0]]&&"rac_dsc"!=t[30].toggleWidgetData[t[0]]),t[9]?y&&(y.d(1),y=null):y?y.p(t,c):(y=rn(t),y.c(),y.m(e,null))},d(t){t&&d(e),v&&v.d(),y&&y.d(),l=!1,u()}}}function dn(t){let e,n,i;return{c(){e=m("i"),n=f("sms"),h(e,"title",i=t[31]("widget.live_chats")),h(e,"class","material-icons chat-active"),$(e,"text-muted","rac_asc"!=t[30].toggleWidgetData[t[0]]&&"rac_dsc"!=t[30].toggleWidgetData[t[0]])},m(t,i){r(t,e,i),p(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.live_chats"))&&h(e,"title",i),1073741825&n[0]&&$(e,"text-muted","rac_asc"!=t[30].toggleWidgetData[t[0]]&&"rac_dsc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&d(e)}}}function rn(t){let e,n,i,a,s,o,c,l="ac_dsc"==t[30].toggleWidgetData[t[0]]||"ac_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down",u=!t[7]&&_n(t);return{c(){e=m("a"),u&&u.c(),n=_(),i=m("i"),a=f(l),h(i,"title",s=t[31]("widget.sort_by_chat_number")),h(i,"class","material-icons"),$(i,"text-muted","ac_dsc"!=t[30].toggleWidgetData[t[0]]&&"ac_asc"!=t[30].toggleWidgetData[t[0]])},m(s,l){r(s,e,l),u&&u.m(e,null),p(e,n),p(e,i),p(i,a),o||(c=w(e,"click",t[48]),o=!0)},p(t,o){t[7]?u&&(u.d(1),u=null):u?u.p(t,o):(u=_n(t),u.c(),u.m(e,n)),1073741825&o[0]&&l!==(l="ac_dsc"==t[30].toggleWidgetData[t[0]]||"ac_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&g(a,l),1&o[1]&&s!==(s=t[31]("widget.sort_by_chat_number"))&&h(i,"title",s),1073741825&o[0]&&$(i,"text-muted","ac_dsc"!=t[30].toggleWidgetData[t[0]]&&"ac_asc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&d(e),u&&u.d(),o=!1,c()}}}function _n(t){let e,n,i;return{c(){e=m("i"),n=f("chat"),h(e,"title",i=t[31]("widget_title.active_chats")),h(e,"class","material-icons chat-active"),$(e,"text-muted","ac_dsc"!=t[30].toggleWidgetData[t[0]]&&"ac_asc"!=t[30].toggleWidgetData[t[0]])},m(t,i){r(t,e,i),p(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget_title.active_chats"))&&h(e,"title",i),1073741825&n[0]&&$(e,"text-muted","ac_dsc"!=t[30].toggleWidgetData[t[0]]&&"ac_asc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&d(e)}}}function un(t){let e,n,i,a,s,o,c,l="op_dsc"==t[30].toggleWidgetData[t[0]]||"op_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=m("th"),n=m("a"),i=m("i"),a=f(l),h(i,"title",s=t[31]("widget.sort_by_op")),h(i,"class","material-icons"),$(i,"text-muted","op_asc"!=t[30].toggleWidgetData[t[0]]&&"op_dsc"!=t[30].toggleWidgetData[t[0]]),h(e,"width","20%")},m(s,l){r(s,e,l),p(e,n),p(n,i),p(i,a),o||(c=w(n,"click",t[49]),o=!0)},p(t,e){1073741825&e[0]&&l!==(l="op_dsc"==t[30].toggleWidgetData[t[0]]||"op_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&g(a,l),1&e[1]&&s!==(s=t[31]("widget.sort_by_op"))&&h(i,"title",s),1073741825&e[0]&&$(i,"text-muted","op_asc"!=t[30].toggleWidgetData[t[0]]&&"op_dsc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&d(e),o=!1,c()}}}function pn(t){let e,n,i,a,s,o,c,l,u;return{c(){e=m("th"),n=m("i"),i=f("chat"),s=_(),o=m("th"),c=m("i"),l=f("android"),h(n,"title",a=t[31]("widget_title.active_chats")),h(n,"class","material-icons chat-active"),h(e,"width","8%"),h(c,"title",u=t[31]("widget_title.bot_chats")),h(c,"class","material-icons chat-active"),h(o,"width","8%")},m(t,a){r(t,e,a),p(e,n),p(n,i),r(t,s,a),r(t,o,a),p(o,c),p(c,l)},p(t,e){1&e[1]&&a!==(a=t[31]("widget_title.active_chats"))&&h(n,"title",a),1&e[1]&&u!==(u=t[31]("widget_title.bot_chats"))&&h(c,"title",u)},d(t){t&&(d(e),d(s),d(o))}}}function mn(t){let e,n,i,a,s=t[19]&&hn(t);return{c(){e=m("th"),n=m("i"),i=f("face"),s&&s.c(),h(n,"title",a=t[31]("widget.operator")),h(n,"class","material-icons"),h(e,"width","20%")},m(t,a){r(t,e,a),p(e,n),p(n,i),s&&s.m(e,null)},p(t,i){1&i[1]&&a!==(a=t[31]("widget.operator"))&&h(n,"title",a),t[19]?s?s.p(t,i):(s=hn(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(t){t&&d(e),s&&s.d()}}}function hn(t){let e,n=t[31]("widget.operator")+"";return{c(){e=f(n)},m(t,n){r(t,e,n)},p(t,i){1&i[1]&&n!==(n=t[31]("widget.operator")+"")&&g(e,n)},d(t){t&&d(e)}}}function gn(t){let e,n,i,a="depgroups_stats"==t[1]&&fn(t);function s(t,e){return"group_chats"==t[1]?vn:"active_chats"==t[1]?bn:"transfer_chats"!=t[1]&&"depgroups_stats"!=t[1]?wn:void 0}let o=s(t),c=o&&o(t),l=!1===t[20]&&"depgroups_stats"!=t[1]&&xn(t);return{c(){e=m("th"),a&&a.c(),n=_(),c&&c.c(),i=_(),l&&l.c(),h(e,"width",t[27])},m(t,s){r(t,e,s),a&&a.m(e,null),p(e,n),c&&c.m(e,null),p(e,i),l&&l.m(e,null)},p(t,d){"depgroups_stats"==t[1]?a?a.p(t,d):(a=fn(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),o===(o=s(t))&&c?c.p(t,d):(c&&c.d(1),c=o&&o(t),c&&(c.c(),c.m(e,i))),!1===t[20]&&"depgroups_stats"!=t[1]?l?l.p(t,d):(l=xn(t),l.c(),l.m(e,null)):l&&(l.d(1),l=null),134217728&d[0]&&h(e,"width",t[27])},d(t){t&&d(e),a&&a.d(),c&&c.d(),l&&l.d()}}}function fn(t){let e,n,i;return{c(){e=m("i"),n=f("donut_large"),h(e,"title",i=t[31]("widget.load_statistic")),h(e,"class","material-icons text-info")},m(t,i){r(t,e,i),p(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.load_statistic"))&&h(e,"title",i)},d(t){t&&d(e)}}}function wn(t){let e,n,i,a,s=t[17]&&yn(t);return{c(){e=m("i"),n=f("home"),s&&s.c(),a=u(),h(e,"title",i=t[31]("widget.department")),h(e,"class","material-icons")},m(t,i){r(t,e,i),p(e,n),s&&s.m(t,i),r(t,a,i)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.department"))&&h(e,"title",i),t[17]?s?s.p(t,n):(s=yn(t),s.c(),s.m(a.parentNode,a)):s&&(s.d(1),s=null)},d(t){t&&(d(e),d(a)),s&&s.d(t)}}}function bn(t){let e,n,i,a,s,o,c="dep_dsc"==t[30].toggleWidgetData[t[0]]||"dep_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=m("a"),n=m("i"),i=f(c),h(n,"title",a=t[31]("widget.sort_by_dep")),h(n,"class","material-icons"),$(n,"text-muted","dep_asc"!=t[30].toggleWidgetData[t[0]]&&"dep_dsc"!=t[30].toggleWidgetData[t[0]])},m(a,c){r(a,e,c),p(e,n),p(n,i),s||(o=w(e,"click",t[50]),s=!0)},p(t,e){1073741825&e[0]&&c!==(c="dep_dsc"==t[30].toggleWidgetData[t[0]]||"dep_asc"!=t[30].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&g(i,c),1&e[1]&&a!==(a=t[31]("widget.sort_by_dep"))&&h(n,"title",a),1073741825&e[0]&&$(n,"text-muted","dep_asc"!=t[30].toggleWidgetData[t[0]]&&"dep_dsc"!=t[30].toggleWidgetData[t[0]])},d(t){t&&d(e),s=!1,o()}}}function vn(t){let e,n,i;return{c(){e=m("i"),n=f("access_time"),h(e,"title",i=t[31]("widget.time_ago")),h(e,"class","material-icons")},m(t,i){r(t,e,i),p(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.time_ago"))&&h(e,"title",i)},d(t){t&&d(e)}}}function yn(t){let e,n=t[31]("widget.department")+"";return{c(){e=f(n)},m(t,n){r(t,e,n)},p(t,i){1&i[1]&&n!==(n=t[31]("widget.department")+"")&&g(e,n)},d(t){t&&d(e)}}}function xn(t){let e,n,i,a,s,o,c,l,u,g,y,x;return{c(){e=m("div"),n=m("a"),i=m("i"),a=f("expand"),o=_(),c=m("a"),l=m("i"),u=f("compress"),h(i,"title",s=t[31]("widget.more_rows")),h(i,"class","material-icons"),h(n,"class","text-muted disable-select"),h(l,"title",g=t[31]("widget.less_rows")),h(l,"class","material-icons"),h(c,"class","text-muted disable-select"),h(e,"class","float-end expand-actions")},m(s,d){r(s,e,d),p(e,n),p(n,i),p(i,a),p(e,o),p(e,c),p(c,l),p(l,u),y||(x=[w(n,"click",(function(){v(U.changeWidgetHeight(t[2],t[21],!0))&&U.changeWidgetHeight(t[2],t[21],!0).apply(this,arguments)})),w(c,"click",(function(){v(U.changeWidgetHeight(t[2],t[21],!1))&&U.changeWidgetHeight(t[2],t[21],!1).apply(this,arguments)}))],y=!0)},p(e,n){t=e,1&n[1]&&s!==(s=t[31]("widget.more_rows"))&&h(i,"title",s),1&n[1]&&g!==(g=t[31]("widget.less_rows"))&&h(l,"title",g)},d(t){t&&d(e),y=!1,b(x)}}}function $n(t){let e,n,i,a,s,o,c,l,u,g,y,x,$,C,j,k,W;return{c(){e=m("th"),n=m("i"),i=f("support_agent"),s=_(),o=m("div"),c=m("a"),l=m("i"),u=f("expand"),y=_(),x=m("a"),$=m("i"),C=f("compress"),h(n,"title",a=t[31]("widget.op_statistic")),h(n,"class","material-icons text-info"),h(l,"title",g=t[31]("widget.more_rows")),h(l,"class","material-icons"),h(c,"class","text-muted disable-select"),h($,"title",j=t[31]("widget.less_rows")),h($,"class","material-icons"),h(x,"class","text-muted disable-select"),h(o,"class","float-end expand-actions"),h(e,"width","20%")},m(a,d){r(a,e,d),p(e,n),p(n,i),p(e,s),p(e,o),p(o,c),p(c,l),p(l,u),p(o,y),p(o,x),p(x,$),p($,C),k||(W=[w(c,"click",(function(){v(U.changeWidgetHeight(t[2],t[21],!0))&&U.changeWidgetHeight(t[2],t[21],!0).apply(this,arguments)})),w(x,"click",(function(){v(U.changeWidgetHeight(t[2],t[21],!1))&&U.changeWidgetHeight(t[2],t[21],!1).apply(this,arguments)}))],k=!0)},p(e,i){t=e,1&i[1]&&a!==(a=t[31]("widget.op_statistic"))&&h(n,"title",a),1&i[1]&&g!==(g=t[31]("widget.more_rows"))&&h(l,"title",g),1&i[1]&&j!==(j=t[31]("widget.less_rows"))&&h($,"title",j)},d(t){t&&d(e),k=!1,b(W)}}}function Cn(t){let e,n,i=[],a=new Map,s=C(t[30][t[1]].list);const o=t=>t[86].id;for(let e=0;e<s.length;e+=1){let n=he(t,s,e),c=o(n);a.set(c,i[e]=ea(c,n))}let c="group_chats"==t[1]&&na(t);return{c(){e=m("tbody");for(let t=0;t<i.length;t+=1)i[t].c();n=_(),c&&c.c()},m(t,a){r(t,e,a);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,null);p(e,n),c&&c.m(e,null)},p(t,l){1623311738&l[0]|31&l[1]&&(s=C(t[30][t[1]].list),i=D(i,l,o,1,t,s,a,e,T,ea,n,he)),"group_chats"==t[1]?c?c.p(t,l):(c=na(t),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(t){t&&d(e);for(let t=0;t<i.length;t+=1)i[t].d();c&&c.d()}}}function jn(t){let e,n,i,a=C(t[30][t[1]].list),s=[];for(let e=0;e<a.length;e+=1)s[e]=sa(je(t,a,e));let o=t[30].transfer_dep_chats.list.length>0&&oa(t);return{c(){e=m("tbody");for(let t=0;t<s.length;t+=1)s[t].c();n=_(),o&&o.c(),i=u()},m(t,a){r(t,e,a);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null);r(t,n,a),o&&o.m(t,a),r(t,i,a)},p(t,n){if(1073741834&n[0]|1&n[1]){let i;for(a=C(t[30][t[1]].list),i=0;i<a.length;i+=1){const o=je(t,a,i);s[i]?s[i].p(o,n):(s[i]=sa(o),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=a.length}t[30].transfer_dep_chats.list.length>0?o?o.p(t,n):(o=oa(t),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(t){t&&(d(e),d(n),d(i)),j(s,t),o&&o.d(t)}}}function kn(t){let e,n,i=!t[30].departmentd_hide_dgroup&&da(t),a=!t[30].departmentd_hide_dep&&t[30].departments_stats.list.length>0&&ha(t);return{c(){i&&i.c(),e=_(),a&&a.c(),n=u()},m(t,s){i&&i.m(t,s),r(t,e,s),a&&a.m(t,s),r(t,n,s)},p(t,s){t[30].departmentd_hide_dgroup?i&&(i.d(1),i=null):i?i.p(t,s):(i=da(t),i.c(),i.m(e.parentNode,e)),!t[30].departmentd_hide_dep&&t[30].departments_stats.list.length>0?a?a.p(t,s):(a=ha(t),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(t){t&&(d(e),d(n)),i&&i.d(t),a&&a.d(t)}}}function Wn(t){let e,n,i,a,s;return{c(){e=m("span"),n=m("img"),S(n.src,i=t[3]+"/"+t[86].country_code+".png")||h(n,"src",i),h(n,"alt",a=t[86].country_name),h(n,"title",s=t[86].country_name)},m(t,i){r(t,e,i),p(e,n)},p(t,e){1073741834&e[0]&&!S(n.src,i=t[3]+"/"+t[86].country_code+".png")&&h(n,"src",i),1073741826&e[0]&&a!==(a=t[86].country_name)&&h(n,"alt",a),1073741826&e[0]&&s!==(s=t[86].country_name)&&h(n,"title",s)},d(t){t&&d(e)}}}function Dn(t){let e;function n(t,e){return t[112].class?Sn:An}let i=n(t),a=i(t);return{c(){a.c(),e=u()},m(t,n){a.m(t,n),r(t,e,n)},p(t,s){i===(i=n(t))&&a?a.p(t,s):(a.d(1),a=i(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){t&&d(e),a.d(t)}}}function Ln(t){let e,n=(t[86][t[112].icon_attr]&&t[112].icon_attr_true&&"bool"==t[112].icon_attr_type||"bool"==t[112].icon_attr_type&&!t[86][t[112].icon_attr]&&t[112].icon_attr_false||"cmp"==t[112].icon_attr_type&&t[86][t[112].icon_attr]==t[112].icon_attr_val)&&In(t);return{c(){n&&n.c(),e=u()},m(t,i){n&&n.m(t,i),r(t,e,i)},p(t,i){t[86][t[112].icon_attr]&&t[112].icon_attr_true&&"bool"==t[112].icon_attr_type||"bool"==t[112].icon_attr_type&&!t[86][t[112].icon_attr]&&t[112].icon_attr_false||"cmp"==t[112].icon_attr_type&&t[86][t[112].icon_attr]==t[112].icon_attr_val?n?n.p(t,i):(n=In(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&d(e),n&&n.d(t)}}}function An(t){let e,n,i,a=(t[112].icon_attr_prepend?t[112].icon_attr_prepend:"")+"",s=t[86][t[112].icon_attr]+"",o=(t[112].icon_attr_append?t[112].icon_attr_append:"")+"";return{c(){e=f(a),n=f(s),i=f(o)},m(t,a){r(t,e,a),r(t,n,a),r(t,i,a)},p(t,c){8388608&c[0]&&a!==(a=(t[112].icon_attr_prepend?t[112].icon_attr_prepend:"")+"")&&g(e,a),1082130434&c[0]&&s!==(s=t[86][t[112].icon_attr]+"")&&g(n,s),8388608&c[0]&&o!==(o=(t[112].icon_attr_append?t[112].icon_attr_append:"")+"")&&g(i,o)},d(t){t&&(d(e),d(n),d(i))}}}function Sn(t){let e,n,i,a,s,o,c=(t[112].icon_attr_prepend?t[112].icon_attr_prepend:"")+"",l=t[86][t[112].icon_attr]+"",_=(t[112].icon_attr_append?t[112].icon_attr_append:"")+"";return{c(){e=m("span"),n=f(c),i=f(l),a=f(_),h(e,"title",s=t[112].title?t[112].title:null),h(e,"class",o=t[112].class)},m(t,s){r(t,e,s),p(e,n),p(e,i),p(e,a)},p(t,d){8388608&d[0]&&c!==(c=(t[112].icon_attr_prepend?t[112].icon_attr_prepend:"")+"")&&g(n,c),1082130434&d[0]&&l!==(l=t[86][t[112].icon_attr]+"")&&g(i,l),8388608&d[0]&&_!==(_=(t[112].icon_attr_append?t[112].icon_attr_append:"")+"")&&g(a,_),8388608&d[0]&&s!==(s=t[112].title?t[112].title:null)&&h(e,"title",s),8388608&d[0]&&o!==(o=t[112].class)&&h(e,"class",o)},d(t){t&&d(e)}}}function In(t){let e,n,i,a,s,o,c=(t[86][t[112].icon_attr]&&"bool"==t[112].icon_attr_type||t[86][t[112].icon_attr]==t[112].icon_attr_val&&"cmp"==t[112].icon_attr_type?t[112].icon_attr_true:t[112].icon_attr_false)+"";function l(...e){return t[61](t[112],t[86],...e)}return{c(){e=m("span"),n=f(c),h(e,"title",i=t[112].title?t[112].title:null),h(e,"class",a=t[112].class+" me-0 "+(t[112].class_false?xa(t[86],t[112].class_false,!1):"")+" "+(t[112].class_true?xa(t[86],t[112].class_true,!0):""))},m(t,i){r(t,e,i),p(e,n),s||(o=w(e,"click",l),s=!0)},p(s,o){t=s,1082130434&o[0]&&c!==(c=(t[86][t[112].icon_attr]&&"bool"==t[112].icon_attr_type||t[86][t[112].icon_attr]==t[112].icon_attr_val&&"cmp"==t[112].icon_attr_type?t[112].icon_attr_true:t[112].icon_attr_false)+"")&&g(n,c),8388608&o[0]&&i!==(i=t[112].title?t[112].title:null)&&h(e,"title",i),1082130434&o[0]&&a!==(a=t[112].class+" me-0 "+(t[112].class_false?xa(t[86],t[112].class_false,!1):"")+" "+(t[112].class_true?xa(t[86],t[112].class_true,!0):""))&&h(e,"class",a)},d(t){t&&d(e),s=!1,o()}}}function Tn(t){let e;function n(t,e){return"bool"==t[112].icon_attr_type||"cmp"==t[112].icon_attr_type?Ln:"string"==t[112].icon_attr_type?Dn:void 0}let i=n(t),a=i&&i(t);return{c(){a&&a.c(),e=u()},m(t,n){a&&a.m(t,n),r(t,e,n)},p(t,s){i===(i=n(t))&&a?a.p(t,s):(a&&a.d(1),a=i&&i(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){t&&d(e),a&&a.d(t)}}}function En(t){let e,n,i,a,s,o,c,l,p,m,h,g="pending_chats"==t[1]&&-1!==t[22].indexOf("lhchat_deletechat"),f=t[86].can_edit_chat&&"pending_chats"==t[1]&&-1!==t[22].indexOf("lhchat_redirectcontact"),w="subject_chats"==t[1]&&Pn(t),b=g&&On(t),v=f&&Bn(t);function y(t,e){return"my_mails"==t[1]||"active_mails"==t[1]||"pending_mails"==t[1]||"alarm_mails"==t[1]?Mn:t[14]?void 0:Hn}let x=y(t),$=x&&x(t),C=7==t[86].status_sub&&qn(t),j="bot_chats"==t[1]&&Gn(t),k=t[86].hum&&("active_chats"==t[1]||"my_chats"==t[1])&&Un(t),W=t[86].aicons&&Fn(t),D=!1===t[4]&&t[32]&&t[30].additionalColumns&&Zn(t),L="my_mails"!=t[1]&&"active_mails"!=t[1]&&"pending_mails"!=t[1]&&"alarm_mails"!=t[1]&&ai(t),A=t[86].subject_list&&("pending_chats"==t[1]||"bot_chats"==t[1]||"active_chats"==t[1]||"my_chats"==t[1])&&si(t);return{c(){w&&w.c(),e=_(),b&&b.c(),n=_(),v&&v.c(),i=_(),$&&$.c(),a=_(),C&&C.c(),s=_(),j&&j.c(),o=_(),k&&k.c(),c=_(),W&&W.c(),l=_(),D&&D.c(),p=_(),L&&L.c(),m=_(),A&&A.c(),h=u()},m(t,d){w&&w.m(t,d),r(t,e,d),b&&b.m(t,d),r(t,n,d),v&&v.m(t,d),r(t,i,d),$&&$.m(t,d),r(t,a,d),C&&C.m(t,d),r(t,s,d),j&&j.m(t,d),r(t,o,d),k&&k.m(t,d),r(t,c,d),W&&W.m(t,d),r(t,l,d),D&&D.m(t,d),r(t,p,d),L&&L.m(t,d),r(t,m,d),A&&A.m(t,d),r(t,h,d)},p(t,d){"subject_chats"==t[1]?w?w.p(t,d):(w=Pn(t),w.c(),w.m(e.parentNode,e)):w&&(w.d(1),w=null),4194306&d[0]&&(g="pending_chats"==t[1]&&-1!==t[22].indexOf("lhchat_deletechat")),g?b?b.p(t,d):(b=On(t),b.c(),b.m(n.parentNode,n)):b&&(b.d(1),b=null),1077936130&d[0]&&(f=t[86].can_edit_chat&&"pending_chats"==t[1]&&-1!==t[22].indexOf("lhchat_redirectcontact")),f?v?v.p(t,d):(v=Bn(t),v.c(),v.m(i.parentNode,i)):v&&(v.d(1),v=null),x===(x=y(t))&&$?$.p(t,d):($&&$.d(1),$=x&&x(t),$&&($.c(),$.m(a.parentNode,a))),7==t[86].status_sub?C?C.p(t,d):(C=qn(t),C.c(),C.m(s.parentNode,s)):C&&(C.d(1),C=null),"bot_chats"==t[1]?j?j.p(t,d):(j=Gn(t),j.c(),j.m(o.parentNode,o)):j&&(j.d(1),j=null),!t[86].hum||"active_chats"!=t[1]&&"my_chats"!=t[1]?k&&(k.d(1),k=null):k?k.p(t,d):(k=Un(t),k.c(),k.m(c.parentNode,c)),t[86].aicons?W?W.p(t,d):(W=Fn(t),W.c(),W.m(l.parentNode,l)):W&&(W.d(1),W=null),!1===t[4]&&t[32]&&t[30].additionalColumns?D?D.p(t,d):(D=Zn(t),D.c(),D.m(p.parentNode,p)):D&&(D.d(1),D=null),"my_mails"!=t[1]&&"active_mails"!=t[1]&&"pending_mails"!=t[1]&&"alarm_mails"!=t[1]?L?L.p(t,d):(L=ai(t),L.c(),L.m(m.parentNode,m)):L&&(L.d(1),L=null),!t[86].subject_list||"pending_chats"!=t[1]&&"bot_chats"!=t[1]&&"active_chats"!=t[1]&&"my_chats"!=t[1]?A&&(A.d(1),A=null):A?A.p(t,d):(A=si(t),A.c(),A.m(h.parentNode,h))},d(t){t&&(d(e),d(n),d(i),d(a),d(s),d(o),d(c),d(l),d(p),d(m),d(h)),w&&w.d(t),b&&b.d(t),v&&v.d(t),$&&$.d(t),C&&C.d(t),j&&j.d(t),k&&k.d(t),W&&W.d(t),D&&D.d(t),L&&L.d(t),A&&A.d(t)}}}function Nn(t){let e,n,i,a,s,o,c,l,u,b,v=1==t[86].type?"security":"public",y=t[86].tm+"",x=t[86].name+"",$=1==t[86].is_member&&(!t[86].ls_id||t[86].ls_id<t[86].last_msg_id)&&ci(t),C=t[86].user_id==t[30].current_user_id&&li();function j(...e){return t[65](t[86],...e)}return{c(){e=m("a"),$&&$.c(),n=_(),i=m("i"),a=f(v),C&&C.c(),s=f("["),o=f(y),c=f("] "),l=f(x),h(i,"class","material-icons"),h(e,"class","d-block action-image")},m(t,d){r(t,e,d),$&&$.m(e,null),p(e,n),p(e,i),p(i,a),C&&C.m(e,null),p(e,s),p(e,o),p(e,c),p(e,l),u||(b=w(e,"click",j),u=!0)},p(i,c){1==(t=i)[86].is_member&&(!t[86].ls_id||t[86].ls_id<t[86].last_msg_id)?$?$.p(t,c):($=ci(t),$.c(),$.m(e,n)):$&&($.d(1),$=null),1073741826&c[0]&&v!==(v=1==t[86].type?"security":"public")&&g(a,v),t[86].user_id==t[30].current_user_id?C||(C=li(),C.c(),C.m(e,s)):C&&(C.d(1),C=null),1073741826&c[0]&&y!==(y=t[86].tm+"")&&g(o,y),1073741826&c[0]&&x!==(x=t[86].name+"")&&g(l,x)},d(t){t&&d(e),$&&$.d(),C&&C.d(),u=!1,b()}}}function Rn(t){let e,n,i,a,s,o,c,l,p=t[86].user_id!=t[30].current_user_id&&-1!==t[22].indexOf("lhgroupchat_use"),m=t[86].avatar&&!t[10]&&di(t),h=p&&ri(t),g=t[86].offline_since_s&&_i(t);function f(t,e){return 4194304&e[0]&&(a=null),null==a&&(a=!(-1===t[22].indexOf("lhuser_setopstatus"))),a?pi:ui}let w=f(t,[-1,-1,-1,-1]),b=w(t);function v(t,e){return 4194304&e[0]&&(o=null),null==o&&(o=!(-1===t[22].indexOf("lhstatistic_userstats"))),o?hi:mi}let y=v(t,[-1,-1,-1,-1]),x=y(t),$=t[86].lac_ago_s>35&&wi(t);return{c(){m&&m.c(),e=_(),h&&h.c(),n=_(),g&&g.c(),i=_(),b.c(),s=_(),x.c(),c=_(),$&&$.c(),l=u()},m(t,a){m&&m.m(t,a),r(t,e,a),h&&h.m(t,a),r(t,n,a),g&&g.m(t,a),r(t,i,a),b.m(t,a),r(t,s,a),x.m(t,a),r(t,c,a),$&&$.m(t,a),r(t,l,a)},p(t,a){t[86].avatar&&!t[10]?m?m.p(t,a):(m=di(t),m.c(),m.m(e.parentNode,e)):m&&(m.d(1),m=null),1077936130&a[0]&&(p=t[86].user_id!=t[30].current_user_id&&-1!==t[22].indexOf("lhgroupchat_use")),p?h?h.p(t,a):(h=ri(t),h.c(),h.m(n.parentNode,n)):h&&(h.d(1),h=null),t[86].offline_since_s?g?g.p(t,a):(g=_i(t),g.c(),g.m(i.parentNode,i)):g&&(g.d(1),g=null),w===(w=f(t,a))&&b?b.p(t,a):(b.d(1),b=w(t),b&&(b.c(),b.m(s.parentNode,s))),y===(y=v(t,a))&&x?x.p(t,a):(x.d(1),x=y(t),x&&(x.c(),x.m(c.parentNode,c))),t[86].lac_ago_s>35?$?$.p(t,a):($=wi(t),$.c(),$.m(l.parentNode,l)):$&&($.d(1),$=null)},d(t){t&&(d(e),d(n),d(i),d(s),d(c),d(l)),m&&m.d(t),h&&h.d(t),g&&g.d(t),b.d(t),x.d(t),$&&$.d(t)}}}function Pn(t){let e,n,i=5==t[86].status?"android":"chat";return{c(){e=m("span"),n=f(i),h(e,"class","material-icons chat-pending me-0"),$(e,"chat-active",1==t[86].status||5==t[86].status)},m(t,i){r(t,e,i),p(e,n)},p(t,a){1073741826&a[0]&&i!==(i=5==t[86].status?"android":"chat")&&g(n,i),1073741826&a[0]&&$(e,"chat-active",1==t[86].status||5==t[86].status)},d(t){t&&d(e)}}}function On(t){let e,n,i,a,s;function o(...e){return t[66](t[86],...e)}return{c(){e=m("a"),n=f("delete"),h(e,"title",i=t[31]("widget.delete_chat")),h(e,"class","material-icons float-end")},m(t,i){r(t,e,i),p(e,n),a||(s=w(e,"click",o),a=!0)},p(n,a){t=n,1&a[1]&&i!==(i=t[31]("widget.delete_chat"))&&h(e,"title",i)},d(t){t&&d(e),a=!1,s()}}}function Bn(t){let e,n,i,a,s;function o(...e){return t[67](t[86],...e)}return{c(){e=m("a"),n=f("reply"),h(e,"class","material-icons me-0"),h(e,"title",i=t[31]("widget.redirect_contact"))},m(t,i){r(t,e,i),p(e,n),a||(s=w(e,"click",o),a=!0)},p(n,a){t=n,1&a[1]&&i!==(i=t[31]("widget.redirect_contact"))&&h(e,"title",i)},d(t){t&&d(e),a=!1,s()}}}function Hn(t){let e,n,i,a,s;function o(...e){return t[69](t[86],...e)}return{c(){e=m("a"),n=f("info_outline"),h(e,"title",i="["+t[86].id+"] "+t[86].time_created_front),h(e,"class","material-icons me-0")},m(t,i){r(t,e,i),p(e,n),a||(s=w(e,"click",o),a=!0)},p(n,a){t=n,1073741826&a[0]&&i!==(i="["+t[86].id+"] "+t[86].time_created_front)&&h(e,"title",i)},d(t){t&&d(e),a=!1,s()}}}function Mn(t){let e,n,i,a,s,o,c,l,u,b,v,y,x,$=t[86].from_name+"",C=t[86].subject_front+"",j="my_mails"==t[1]&&1!=t[86].status&&Vn();function k(...e){return t[68](t[86],...e)}let W="alarm_mails"==t[1]&&Jn(t);return{c(){j&&j.c(),e=_(),n=m("a"),i=f("info_outline"),s=_(),W&&W.c(),o=_(),c=m("span"),l=f($),u=f(" | "),b=f(C),h(n,"title",a=t[86].id),h(n,"class","material-icons"),h(c,"title",v=t[86].from_address)},m(t,a){j&&j.m(t,a),r(t,e,a),r(t,n,a),p(n,i),r(t,s,a),W&&W.m(t,a),r(t,o,a),r(t,c,a),p(c,l),p(c,u),p(c,b),y||(x=w(n,"click",k),y=!0)},p(i,s){"my_mails"==(t=i)[1]&&1!=t[86].status?j||(j=Vn(),j.c(),j.m(e.parentNode,e)):j&&(j.d(1),j=null),1073741826&s[0]&&a!==(a=t[86].id)&&h(n,"title",a),"alarm_mails"==t[1]?W?W.p(t,s):(W=Jn(t),W.c(),W.m(o.parentNode,o)):W&&(W.d(1),W=null),1073741826&s[0]&&$!==($=t[86].from_name+"")&&g(l,$),1073741826&s[0]&&C!==(C=t[86].subject_front+"")&&g(b,C),1073741826&s[0]&&v!==(v=t[86].from_address)&&h(c,"title",v)},d(t){t&&(d(e),d(n),d(s),d(o),d(c)),j&&j.d(t),W&&W.d(t),y=!1,x()}}}function Vn(t){let e;return{c(){e=m("i"),e.textContent="",h(e,"title","Pending chat"),h(e,"class","material-icons me-0 chat-unread")},m(t,n){r(t,e,n)},d(t){t&&d(e)}}}function Jn(t){let e,n,i;return{c(){e=m("i"),n=f("mail_outline"),h(e,"class",i="material-icons me-0 "+(1==t[86].status?"chat-active":"chat-pending"))},m(t,i){r(t,e,i),p(e,n)},p(t,n){1073741826&n[0]&&i!==(i="material-icons me-0 "+(1==t[86].status?"chat-active":"chat-pending"))&&h(e,"class",i)},d(t){t&&d(e)}}}function qn(t){let e,n,i;return{c(){e=m("i"),n=f("mail"),h(e,"class","material-icons me-0"),h(e,"title",i=t[31]("widget.offline_request"))},m(t,i){r(t,e,i),p(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.offline_request"))&&h(e,"title",i)},d(t){t&&d(e)}}}function Gn(t){let e,n,i,a,s,o,c,l=(t[86].msg_v||0)+"",w=t[86].msg_v>t[30].bot_st.msg_nm&&Qn(t);return{c(){e=m("span"),n=f("["),i=f(l),a=f("]"),o=_(),w&&w.c(),c=u(),h(e,"title",s=t[31]("widget.msg_v_number"))},m(t,s){r(t,e,s),p(e,n),p(e,i),p(e,a),r(t,o,s),w&&w.m(t,s),r(t,c,s)},p(t,n){1073741826&n[0]&&l!==(l=(t[86].msg_v||0)+"")&&g(i,l),1&n[1]&&s!==(s=t[31]("widget.msg_v_number"))&&h(e,"title",s),t[86].msg_v>t[30].bot_st.msg_nm?w?w.p(t,n):(w=Qn(t),w.c(),w.m(c.parentNode,c)):w&&(w.d(1),w=null)},d(t){t&&(d(e),d(o),d(c)),w&&w.d(t)}}}function Qn(t){let e,n,i;return{c(){e=m("i"),n=f("whatshot"),h(e,"title",i=t[31]("widget.more_than")+" "+String(t[30].bot_st.msg_nm)+" "+t[31]("widget.user_msgs")),h(e,"class","material-icons text-warning me-0")},m(t,i){r(t,e,i),p(e,n)},p(t,n){1073741824&n[0]|1&n[1]&&i!==(i=t[31]("widget.more_than")+" "+String(t[30].bot_st.msg_nm)+" "+t[31]("widget.user_msgs"))&&h(e,"title",i)},d(t){t&&d(e)}}}function Un(t){let e,n,i;return{c(){e=m("i"),n=f("feedback"),h(e,"title",i=t[31]("widget.has_unread_messages")),h(e,"class","material-icons me-0 text-danger")},m(t,i){r(t,e,i),p(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.has_unread_messages"))&&h(e,"title",i)},d(t){t&&d(e)}}}function Fn(t){let e,n=C(Object.entries(t[86].aicons)),i=[];for(let e=0;e<n.length;e+=1)i[e]=Yn(xe(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=u()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);r(t,e,n)},p(t,a){if(1073741826&a[0]){let s;for(n=C(Object.entries(t[86].aicons)),s=0;s<n.length;s+=1){const o=xe(t,n,s);i[s]?i[s].p(o,a):(i[s]=Yn(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&d(e),j(i,t)}}}function Kn(t){let e,n;function i(t,n){return 1073741826&n[0]&&(e=null),null==e&&(e=!(!t[109].i||!t[109].i.includes("/"))),e?Xn:zn}let a=i(t,[-1,-1,-1,-1]),s=a(t);return{c(){s.c(),n=u()},m(t,e){s.m(t,e),r(t,n,e)},p(t,e){a===(a=i(t,e))&&s?s.p(t,e):(s.d(1),s=a(t),s&&(s.c(),s.m(n.parentNode,n)))},d(t){t&&d(n),s.d(t)}}}function zn(t){let e,n,i,a=(t[109].i||t[109])+"";return{c(){e=m("i"),n=f(a),h(e,"class","material-icons me-0"),h(e,"title",i=t[109].t?t[109].t:t[109].i),I(e,"color",t[109].c?t[109].c:"#6c757d")},m(t,i){r(t,e,i),p(e,n)},p(t,s){1073741826&s[0]&&a!==(a=(t[109].i||t[109])+"")&&g(n,a),1073741826&s[0]&&i!==(i=t[109].t?t[109].t:t[109].i)&&h(e,"title",i),1073741826&s[0]&&I(e,"color",t[109].c?t[109].c:"#6c757d")},d(t){t&&d(e)}}}function Xn(t){let e,n,i;return{c(){e=m("img"),S(e.src,n=t[109].i)||h(e,"src",n),h(e,"title",i=t[109].t?t[109].t:t[109].i)},m(t,n){r(t,e,n)},p(t,a){1073741826&a[0]&&!S(e.src,n=t[109].i)&&h(e,"src",n),1073741826&a[0]&&i!==(i=t[109].t?t[109].t:t[109].i)&&h(e,"title",i)},d(t){t&&d(e)}}}function Yn(t){let e,n=0==t[30].excludeIcons.length||-1===t[30].excludeIcons.indexOf(t[109].i),i=n&&Kn(t);return{c(){i&&i.c(),e=u()},m(t,n){i&&i.m(t,n),r(t,e,n)},p(t,a){1073741826&a[0]&&(n=0==t[30].excludeIcons.length||-1===t[30].excludeIcons.indexOf(t[109].i)),n?i?i.p(t,a):(i=Kn(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(t){t&&d(e),i&&i.d(t)}}}function Zn(t){let e,n=C(t[30].additionalColumns),i=[];for(let e=0;e<n.length;e+=1)i[e]=ii(ve(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=u()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);r(t,e,n)},p(t,a){if(1073741826&a[0]){let s;for(n=C(t[30].additionalColumns),s=0;s<n.length;s+=1){const o=ve(t,n,s);i[s]?i[s].p(o,a):(i[s]=ii(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&d(e),j(i,t)}}}function ti(t){let e,n=C(t[96].items),i=[];for(let e=0;e<n.length;e+=1)i[e]=ni(ye(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=u()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);r(t,e,n)},p(t,a){if(1073741826&a[0]){let s;for(n=C(t[96].items),s=0;s<n.length;s+=1){const o=ye(t,n,s);i[s]?i[s].p(o,a):(i[s]=ni(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&d(e),j(i,t)}}}function ei(t){let e,n,i,a,s,o=(t[96].icon[t[86][t[99]]]&&t[96].icon[t[86][t[99]]].icon?t[96].icon[t[86][t[99]]].icon:"unknown_document")+"";function c(...e){return t[70](t[96],t[86],...e)}return{c(){e=m("span"),n=f(o),h(e,"class","material-icons me-0"),h(e,"title",i=(1==t[96].iconp?"Click for more information | ":"")+(t[86][t[99]+"_tt"]?t[86][t[99]+"_tt"]:t[86][t[99]])),I(e,"color",t[96].icon[t[86][t[99]]]&&t[96].icon[t[86][t[99]]].color?t[96].icon[t[86][t[99]]].color:"#CECECE")},m(t,i){r(t,e,i),p(e,n),a||(s=w(e,"click",c),a=!0)},p(a,s){t=a,1073741826&s[0]&&o!==(o=(t[96].icon[t[86][t[99]]]&&t[96].icon[t[86][t[99]]].icon?t[96].icon[t[86][t[99]]].icon:"unknown_document")+"")&&g(n,o),1073741826&s[0]&&i!==(i=(1==t[96].iconp?"Click for more information | ":"")+(t[86][t[99]+"_tt"]?t[86][t[99]+"_tt"]:t[86][t[99]]))&&h(e,"title",i),1073741826&s[0]&&I(e,"color",t[96].icon[t[86][t[99]]]&&t[96].icon[t[86][t[99]]].color?t[96].icon[t[86][t[99]]].color:"#CECECE")},d(t){t&&d(e),a=!1,s()}}}function ni(t){let e,n=t[86][t[99]]&&ei(t);return{c(){n&&n.c(),e=u()},m(t,i){n&&n.m(t,i),r(t,e,i)},p(t,i){t[86][t[99]]?n?n.p(t,i):(n=ei(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&d(e),n&&n.d(t)}}}function ii(t){let e,n=1==t[96].cenabl&&1==t[96].iconm&&ti(t);return{c(){n&&n.c(),e=u()},m(t,i){n&&n.m(t,i),r(t,e,i)},p(t,i){1==t[96].cenabl&&1==t[96].iconm?n?n.p(t,i):(n=ti(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&d(e),n&&n.d(t)}}}function ai(t){let e,n,i,a,s=(t[86].nick?t[86].nick:"")+"",o="pending_chats"!=t[1]&&"subject_chats"!=t[1]||void 0===t[86].plain_user_name?"":" | "+t[86].plain_user_name;return{c(){e=m("span"),n=f(s),i=m("small"),a=f(o),$(e,"fw-bold",t[86].nb),I(e,"color",t[86].nc?t[86].nc:null)},m(t,s){r(t,e,s),p(e,n),r(t,i,s),p(i,a)},p(t,i){1073741826&i[0]&&s!==(s=(t[86].nick?t[86].nick:"")+"")&&g(n,s),1073741826&i[0]&&$(e,"fw-bold",t[86].nb),1073741826&i[0]&&I(e,"color",t[86].nc?t[86].nc:null),1073741826&i[0]&&o!==(o="pending_chats"!=t[1]&&"subject_chats"!=t[1]||void 0===t[86].plain_user_name?"":" | "+t[86].plain_user_name)&&g(a,o)},d(t){t&&(d(e),d(i))}}}function si(t){let e,n=C(t[86].subject_list),i=[];for(let e=0;e<n.length;e+=1)i[e]=oi(be(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=u()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);r(t,e,n)},p(t,a){if(1073741826&a[0]){let s;for(n=C(t[86].subject_list),s=0;s<n.length;s+=1){const o=be(t,n,s);i[s]?i[s].p(o,a):(i[s]=oi(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&d(e),j(i,t)}}}function oi(t){let e,n,i=t[93].n+"";return{c(){e=m("span"),n=f(i),h(e,"class","badge bg-info fs12 me-1"),I(e,"background-color",t[93].c?"#"+t[93].c:null,1)},m(t,i){r(t,e,i),p(e,n)},p(t,a){1073741826&a[0]&&i!==(i=t[93].n+"")&&g(n,i),1073741826&a[0]&&I(e,"background-color",t[93].c?"#"+t[93].c:null,1)},d(t){t&&d(e)}}}function ci(t){let e,n,i;return{c(){e=m("i"),n=f("whatshot"),h(e,"class","material-icons text-warning"),h(e,"title",i=t[31]("group_chat.unread_messages"))},m(t,i){r(t,e,i),p(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("group_chat.unread_messages"))&&h(e,"title",i)},d(t){t&&d(e)}}}function li(t){let e;return{c(){e=m("i"),e.textContent="account_balance",h(e,"class","material-icons")},m(t,n){r(t,e,n)},d(t){t&&d(e)}}}function di(t){let e,n;return{c(){e=m("img"),h(e,"class","rounded-circle"),S(e.src,n=t[86].avatar)||h(e,"src",n),h(e,"alt",""),h(e,"width","20")},m(t,n){r(t,e,n)},p(t,i){1073741826&i[0]&&!S(e.src,n=t[86].avatar)&&h(e,"src",n)},d(t){t&&d(e)}}}function ri(t){let e,n,i,a,s;function o(...e){return t[62](t[86],...e)}return{c(){e=m("a"),n=m("i"),n.textContent="chat",h(n,"class","material-icons me-0"),h(e,"href","#"),h(e,"title",i=t[31]("widget.start_chat"))},m(t,i){r(t,e,i),p(e,n),a||(s=w(e,"click",o),a=!0)},p(n,a){t=n,1&a[1]&&i!==(i=t[31]("widget.start_chat"))&&h(e,"title",i)},d(t){t&&d(e),a=!1,s()}}}function _i(t){let e,n,i,a="clock_loader_"+t[86].offline_since_s.i;return{c(){e=m("i"),n=f(a),h(e,"class","material-icons me-0"),h(e,"title",i=t[31]("widget.went_offline_ago",{ago:t[86].offline_since})),I(e,"color",t[86].offline_since_s.c?t[86].offline_since_s.c:null)},m(t,i){r(t,e,i),p(e,n)},p(t,s){1073741826&s[0]&&a!==(a="clock_loader_"+t[86].offline_since_s.i)&&g(n,a),1073741826&s[0]|1&s[1]&&i!==(i=t[31]("widget.went_offline_ago",{ago:t[86].offline_since}))&&h(e,"title",i),1073741826&s[0]&&I(e,"color",t[86].offline_since_s.c?t[86].offline_since_s.c:null)},d(t){t&&d(e)}}}function ui(t){let e,n,i=1==t[86].hide_online?"flash_off":"flash_on";return{c(){e=m("i"),n=f(i),h(e,"class","material-icons me-0"),$(e,"text-success",1!=t[86].hide_online),$(e,"text-danger",1==t[86].hide_online)},m(t,i){r(t,e,i),p(e,n)},p(t,a){1073741826&a[0]&&i!==(i=1==t[86].hide_online?"flash_off":"flash_on")&&g(n,i),1073741826&a[0]&&$(e,"text-success",1!=t[86].hide_online),1073741826&a[0]&&$(e,"text-danger",1==t[86].hide_online)},d(t){t&&d(e)}}}function pi(t){let e,n,i,a,s,o=1==t[86].hide_online?"flash_off":"flash_on";function c(...e){return t[63](t[86],...e)}return{c(){e=m("i"),n=f(o),h(e,"class","material-icons me-0 action-image"),h(e,"title",i=t[31]("widget.change_op_status")),$(e,"text-success",1!=t[86].hide_online),$(e,"text-danger",1==t[86].hide_online)},m(t,i){r(t,e,i),p(e,n),a||(s=w(e,"click",c),a=!0)},p(a,s){t=a,1073741826&s[0]&&o!==(o=1==t[86].hide_online?"flash_off":"flash_on")&&g(n,o),1&s[1]&&i!==(i=t[31]("widget.change_op_status"))&&h(e,"title",i),1073741826&s[0]&&$(e,"text-success",1!=t[86].hide_online),1073741826&s[0]&&$(e,"text-danger",1==t[86].hide_online)},d(t){t&&d(e),a=!1,s()}}}function mi(t){let e,n,i,a,s=t[86].name_official+"",o=t[86].hide_online&&t[86].offline_since&&gi(t);return{c(){e=m("span"),n=f(s),o&&o.c(),a=u(),h(e,"title",i=t[31]("widget.last_activity_ago")+" "+t[86].lastactivity_ago)},m(t,i){r(t,e,i),p(e,n),o&&o.m(t,i),r(t,a,i)},p(t,c){1073741826&c[0]&&s!==(s=t[86].name_official+"")&&g(n,s),1073741826&c[0]|1&c[1]&&i!==(i=t[31]("widget.last_activity_ago")+" "+t[86].lastactivity_ago)&&h(e,"title",i),t[86].hide_online&&t[86].offline_since?o?o.p(t,c):(o=gi(t),o.c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},d(t){t&&(d(e),d(a)),o&&o.d(t)}}}function hi(t){let e,n,i,a,s,o=t[86].name_official+"",c=t[86].hide_online&&t[86].offline_since&&fi(t);function l(...e){return t[64](t[86],...e)}return{c(){e=m("a"),n=f(o),c&&c.c(),h(e,"href","#"),h(e,"title",i=t[31]("widget.last_activity_ago")+" "+t[86].lastactivity_ago+" "+t[31]("widget.see_op_stats")),$(e,"text-muted",t[86].ro)},m(t,i){r(t,e,i),p(e,n),c&&c.m(e,null),a||(s=w(e,"click",l),a=!0)},p(a,s){t=a,1073741826&s[0]&&o!==(o=t[86].name_official+"")&&g(n,o),t[86].hide_online&&t[86].offline_since?c?c.p(t,s):(c=fi(t),c.c(),c.m(e,null)):c&&(c.d(1),c=null),1073741826&s[0]|1&s[1]&&i!==(i=t[31]("widget.last_activity_ago")+" "+t[86].lastactivity_ago+" "+t[31]("widget.see_op_stats"))&&h(e,"title",i),1073741826&s[0]&&$(e,"text-muted",t[86].ro)},d(t){t&&d(e),c&&c.d(),a=!1,s()}}}function gi(t){let e,n,i,a,s=t[86].offline_since+"";return{c(){e=f(", "),n=m("span"),i=f(s),h(n,"title",a=t[31]("widget.went_offline_ago",{ago:t[86].offline_since}))},m(t,a){r(t,e,a),r(t,n,a),p(n,i)},p(t,e){1073741826&e[0]&&s!==(s=t[86].offline_since+"")&&g(i,s),1073741826&e[0]|1&e[1]&&a!==(a=t[31]("widget.went_offline_ago",{ago:t[86].offline_since}))&&h(n,"title",a)},d(t){t&&(d(e),d(n))}}}function fi(t){let e,n,i,a,s=t[86].offline_since+"";return{c(){e=m("span"),n=f(", "),i=f(s),h(e,"title",a=t[31]("widget.went_offline_ago",{ago:t[86].offline_since}))},m(t,a){r(t,e,a),p(e,n),p(e,i)},p(t,n){1073741826&n[0]&&s!==(s=t[86].offline_since+"")&&g(i,s),1073741826&n[0]|1&n[1]&&a!==(a=t[31]("widget.went_offline_ago",{ago:t[86].offline_since}))&&h(e,"title",a)},d(t){t&&d(e)}}}function wi(t){let e,n,i;return{c(){e=m("span"),n=f("wifi_off"),h(e,"title",i=t[31]("widget.no_ping_for")+" "+t[86].lastactivity_ago),h(e,"class","material-icons text-danger")},m(t,i){r(t,e,i),p(e,n)},p(t,n){1073741826&n[0]|1&n[1]&&i!==(i=t[31]("widget.no_ping_for")+" "+t[86].lastactivity_ago)&&h(e,"title",i)},d(t){t&&d(e)}}}function bi(t){let e,n=C(t[30].additionalColumns),i=[];for(let e=0;e<n.length;e+=1)i[e]=$i(fe(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=u()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);r(t,e,n)},p(t,a){if(1073741826&a[0]){let s;for(n=C(t[30].additionalColumns),s=0;s<n.length;s+=1){const o=fe(t,n,s);i[s]?i[s].p(o,a):(i[s]=$i(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&d(e),j(i,t)}}}function vi(t){let e,n,i=C(t[96].items),a=[];for(let e=0;e<i.length;e+=1)a[e]=xi(we(t,i,e));return{c(){e=m("td");for(let t=0;t<a.length;t+=1)a[t].c();n=_()},m(t,i){r(t,e,i);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(e,null);p(e,n)},p(t,s){if(1073741826&s[0]){let o;for(i=C(t[96].items),o=0;o<i.length;o+=1){const c=we(t,i,o);a[o]?a[o].p(c,s):(a[o]=xi(c),a[o].c(),a[o].m(e,n))}for(;o<a.length;o+=1)a[o].d(1);a.length=i.length}},d(t){t&&d(e),j(a,t)}}}function yi(t){let e,n,i=t[86][t[99]]+"";return{c(){e=m("div"),n=f(i),h(e,"class","abbr-list")},m(t,i){r(t,e,i),p(e,n)},p(t,e){1073741826&e[0]&&i!==(i=t[86][t[99]]+"")&&g(n,i)},d(t){t&&d(e)}}}function xi(t){let e,n=t[86][t[99]]&&yi(t);return{c(){n&&n.c(),e=u()},m(t,i){n&&n.m(t,i),r(t,e,i)},p(t,i){t[86][t[99]]?n?n.p(t,i):(n=yi(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&d(e),n&&n.d(t)}}}function $i(t){let e,n=1==t[96].cenabl&&!t[96].iconm&&vi(t);return{c(){n&&n.c(),e=u()},m(t,i){n&&n.m(t,i),r(t,e,i)},p(t,i){1!=t[96].cenabl||t[96].iconm?n&&(n.d(1),n=null):n?n.p(t,i):(n=vi(t),n.c(),n.m(e.parentNode,e))},d(t){t&&d(e),n&&n.d(t)}}}function Ci(t){let e,n=t[86].subject_list&&ji(t);return{c(){e=m("td"),n&&n.c()},m(t,i){r(t,e,i),n&&n.m(e,null)},p(t,i){t[86].subject_list?n?n.p(t,i):(n=ji(t),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},d(t){t&&d(e),n&&n.d()}}}function ji(t){let e,n=C(t[86].subject_list),i=[];for(let e=0;e<n.length;e+=1)i[e]=ki(ge(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=u()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);r(t,e,n)},p(t,a){if(1073741826&a[0]){let s;for(n=C(t[86].subject_list),s=0;s<n.length;s+=1){const o=ge(t,n,s);i[s]?i[s].p(o,a):(i[s]=ki(o),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&d(e),j(i,t)}}}function ki(t){let e,n,i=t[93].n+"";return{c(){e=m("span"),n=f(i),h(e,"class","badge bg-info fs12 me-1"),I(e,"background-color",t[93].c?"#"+t[93].c:null,1)},m(t,i){r(t,e,i),p(e,n)},p(t,a){1073741826&a[0]&&i!==(i=t[93].n+"")&&g(n,i),1073741826&a[0]&&I(e,"background-color",t[93].c?"#"+t[93].c:null,1)},d(t){t&&d(e)}}}function Wi(t){let e,n,i,a,s,o,c,l,u="group_chats"==t[1]&&Di(t),h=(t[86].can_edit_chat&&"pending_chats"==t[1]||"my_mails"==t[1]||"pending_mails"==t[1])&&Ti(t),g="active_mails"==t[1]&&Ei(t),f="alarm_mails"==t[1]&&Ni(t),w="online_op"==t[1]&&Ri(t),b=("active_chats"==t[1]||"subject_chats"==t[1]||"bot_chats"==t[1])&&Pi(t),v="unread_chats"==t[1]&&Hi(t),y="my_chats"==t[1]&&Mi(t);return{c(){e=m("td"),u&&u.c(),n=_(),h&&h.c(),i=_(),g&&g.c(),a=_(),f&&f.c(),s=_(),w&&w.c(),o=_(),b&&b.c(),c=_(),v&&v.c(),l=_(),y&&y.c(),$(e,"align-middle","online_op"==t[1])},m(t,d){r(t,e,d),u&&u.m(e,null),p(e,n),h&&h.m(e,null),p(e,i),g&&g.m(e,null),p(e,a),f&&f.m(e,null),p(e,s),w&&w.m(e,null),p(e,o),b&&b.m(e,null),p(e,c),v&&v.m(e,null),p(e,l),y&&y.m(e,null)},p(t,d){"group_chats"==t[1]?u?u.p(t,d):(u=Di(t),u.c(),u.m(e,n)):u&&(u.d(1),u=null),t[86].can_edit_chat&&"pending_chats"==t[1]||"my_mails"==t[1]||"pending_mails"==t[1]?h?h.p(t,d):(h=Ti(t),h.c(),h.m(e,i)):h&&(h.d(1),h=null),"active_mails"==t[1]?g?g.p(t,d):(g=Ei(t),g.c(),g.m(e,a)):g&&(g.d(1),g=null),"alarm_mails"==t[1]?f?f.p(t,d):(f=Ni(t),f.c(),f.m(e,s)):f&&(f.d(1),f=null),"online_op"==t[1]?w?w.p(t,d):(w=Ri(t),w.c(),w.m(e,o)):w&&(w.d(1),w=null),"active_chats"==t[1]||"subject_chats"==t[1]||"bot_chats"==t[1]?b?b.p(t,d):(b=Pi(t),b.c(),b.m(e,c)):b&&(b.d(1),b=null),"unread_chats"==t[1]?v?v.p(t,d):(v=Hi(t),v.c(),v.m(e,l)):v&&(v.d(1),v=null),"my_chats"==t[1]?y?y.p(t,d):(y=Mi(t),y.c(),y.m(e,null)):y&&(y.d(1),y=null),2&d[0]&&$(e,"align-middle","online_op"==t[1])},d(t){t&&d(e),u&&u.d(),h&&h.d(),g&&g.d(),f&&f.d(),w&&w.d(),b&&b.d(),v&&v.d(),y&&y.d()}}}function Di(t){let e,n,i,a,s=1==t[86].is_member&&0==t[86].jtime&&Li(t),o=1==t[86].is_member&&0==t[86].jtime&&Ai(t),c=0==t[86].is_member&&0==t[86].jtime&&Si(t),l=1==t[86].is_member&&t[86].jtime>0&&Ii(t);return{c(){s&&s.c(),e=_(),o&&o.c(),n=_(),c&&c.c(),i=_(),l&&l.c(),a=u()},m(t,d){s&&s.m(t,d),r(t,e,d),o&&o.m(t,d),r(t,n,d),c&&c.m(t,d),r(t,i,d),l&&l.m(t,d),r(t,a,d)},p(t,d){1==t[86].is_member&&0==t[86].jtime?s?s.p(t,d):(s=Li(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),1==t[86].is_member&&0==t[86].jtime?o?o.p(t,d):(o=Ai(t),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),0==t[86].is_member&&0==t[86].jtime?c?c.p(t,d):(c=Si(t),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null),1==t[86].is_member&&t[86].jtime>0?l?l.p(t,d):(l=Ii(t),l.c(),l.m(a.parentNode,a)):l&&(l.d(1),l=null)},d(t){t&&(d(e),d(n),d(i),d(a)),s&&s.d(t),o&&o.d(t),c&&c.d(t),l&&l.d(t)}}}function Li(t){let e,n,i,a,s;function o(...e){return t[71](t[86],...e)}return{c(){e=m("button"),n=f("Accept invite"),h(e,"title",i=t[31]("group_chat.accept_join")),h(e,"class","btn btn-xs btn-outline-info")},m(t,i){r(t,e,i),p(e,n),a||(s=w(e,"click",o),a=!0)},p(n,a){t=n,1&a[1]&&i!==(i=t[31]("group_chat.accept_join"))&&h(e,"title",i)},d(t){t&&d(e),a=!1,s()}}}function Ai(t){let e,n,i,a,s;function o(...e){return t[72](t[86],...e)}return{c(){e=m("button"),n=f("Reject invite"),h(e,"title",i=t[31]("group_chat.reject_private")),h(e,"class","btn btn-xs btn-outline-danger")},m(t,i){r(t,e,i),p(e,n),a||(s=w(e,"click",o),a=!0)},p(n,a){t=n,1&a[1]&&i!==(i=t[31]("group_chat.reject_private"))&&h(e,"title",i)},d(t){t&&d(e),a=!1,s()}}}function Si(t){let e,n,i,a,s;function o(...e){return t[73](t[86],...e)}return{c(){e=m("button"),n=f("Join public chat"),h(e,"title",i=t[31]("group_chat.join_public")),h(e,"class","btn btn-xs btn-outline-info")},m(t,i){r(t,e,i),p(e,n),a||(s=w(e,"click",o),a=!0)},p(n,a){t=n,1&a[1]&&i!==(i=t[31]("group_chat.join_public"))&&h(e,"title",i)},d(t){t&&d(e),a=!1,s()}}}function Ii(t){let e,n,i,a,s;function o(...e){return t[74](t[86],...e)}return{c(){e=m("button"),n=f("Member"),h(e,"title",i=t[31]("group_chat.already_member")),h(e,"class","btn btn-xs btn-outline-secondary")},m(t,i){r(t,e,i),p(e,n),a||(s=w(e,"click",o),a=!0)},p(n,a){t=n,1&a[1]&&i!==(i=t[31]("group_chat.already_member"))&&h(e,"title",i)},d(t){t&&d(e),a=!1,s()}}}function Ti(t){let e,n,i,a=(t[86].wait_time_pending||"00 s.")+"";return{c(){e=m("div"),n=f(a),h(e,"class","abbr-list"),h(e,"title",i=t[86].wait_time_pending||"00 s.")},m(t,i){r(t,e,i),p(e,n)},p(t,s){1073741826&s[0]&&a!==(a=(t[86].wait_time_pending||"00 s.")+"")&&g(n,a),1073741826&s[0]&&i!==(i=t[86].wait_time_pending||"00 s.")&&h(e,"title",i)},d(t){t&&d(e)}}}function Ei(t){let e,n,i,a=(t[86].pnd_time_front||"00 s.")+"";return{c(){e=m("div"),n=f(a),h(e,"class","abbr-list"),h(e,"title",i=t[86].pnd_time_front)},m(t,i){r(t,e,i),p(e,n)},p(t,s){1073741826&s[0]&&a!==(a=(t[86].pnd_time_front||"00 s.")+"")&&g(n,a),1073741826&s[0]&&i!==(i=t[86].pnd_time_front)&&h(e,"title",i)},d(t){t&&d(e)}}}function Ni(t){let e,n,i=(t[86].status?t[86].wait_time_response:t[86].wait_time_pending)+"";return{c(){e=m("div"),n=f(i),h(e,"class","abbr-list")},m(t,i){r(t,e,i),p(e,n)},p(t,e){1073741826&e[0]&&i!==(i=(t[86].status?t[86].wait_time_response:t[86].wait_time_pending)+"")&&g(n,i)},d(t){t&&d(e)}}}function Ri(t){let e,n,i,a=(t[86].last_accepted_ago||"-")+"";return{c(){e=m("div"),n=f(a),h(e,"class","abbr-list"),h(e,"title",i=t[31]("widget.last_assignment_ago"))},m(t,i){r(t,e,i),p(e,n)},p(t,s){1073741826&s[0]&&a!==(a=(t[86].last_accepted_ago||"-")+"")&&g(n,a),1&s[1]&&i!==(i=t[31]("widget.last_assignment_ago"))&&h(e,"title",i)},d(t){t&&d(e)}}}function Pi(t){let e,n,i,a,s,o=!0===t[86].pnd_rsp?"call_received":"call_made";function c(t,e){return t[86].last_msg_time_front?Bi:Oi}let l=c(t),_=l(t);return{c(){e=m("div"),n=m("span"),i=f(o),_.c(),h(n,"class","material-icons text-success"),h(n,"title",a=t[31]("widget.send_receive")),$(n,"text-danger",t[86].pnd_rsp),h(e,"class","abbr-list"),h(e,"title",s="Chat started at - "+t[86].time_created_front)},m(t,a){r(t,e,a),p(e,n),p(n,i),_.m(e,null)},p(t,d){1073741826&d[0]&&o!==(o=!0===t[86].pnd_rsp?"call_received":"call_made")&&g(i,o),1&d[1]&&a!==(a=t[31]("widget.send_receive"))&&h(n,"title",a),1073741826&d[0]&&$(n,"text-danger",t[86].pnd_rsp),l===(l=c(t))&&_?_.p(t,d):(_.d(1),_=l(t),_&&(_.c(),_.m(e,null))),1073741826&d[0]&&s!==(s="Chat started at - "+t[86].time_created_front)&&h(e,"title",s)},d(t){t&&d(e),_.d()}}}function Oi(t){let e;return{c(){e=f("")},m(t,n){r(t,e,n)},p:l,d(t){t&&d(e)}}}function Bi(t){let e,n=t[86].last_msg_time_front+"";return{c(){e=f(n)},m(t,n){r(t,e,n)},p(t,i){1073741826&i[0]&&n!==(n=t[86].last_msg_time_front+"")&&g(e,n)},d(t){t&&d(e)}}}function Hi(t){let e,n,i,a,s,o,c,l,_=t[86].unread_time.hours+"",u=t[86].unread_time.minits+"",w=t[86].unread_time.seconds+"";return{c(){e=m("div"),n=f(_),i=f(" h. "),a=f(u),s=f(" m. "),o=f(w),c=f(" s."),h(e,"class","abbr-list"),h(e,"title",l=t[86].unread_time.hours+" h. "+t[86].unread_time.minits+" m. "+t[86].unread_time.seconds+" s.")},m(t,l){r(t,e,l),p(e,n),p(e,i),p(e,a),p(e,s),p(e,o),p(e,c)},p(t,i){1073741826&i[0]&&_!==(_=t[86].unread_time.hours+"")&&g(n,_),1073741826&i[0]&&u!==(u=t[86].unread_time.minits+"")&&g(a,u),1073741826&i[0]&&w!==(w=t[86].unread_time.seconds+"")&&g(o,w),1073741826&i[0]&&l!==(l=t[86].unread_time.hours+" h. "+t[86].unread_time.minits+" m. "+t[86].unread_time.seconds+" s.")&&h(e,"title",l)},d(t){t&&d(e)}}}function Mi(t){let e,n,i,a,s,o=!0===t[86].pnd_rsp?"call_received":"call_made",c=1!=t[86].status&&Vi(t);function l(t,e){return t[86].status?Ji:qi}let _=l(t),u=_(t);return{c(){e=m("div"),c&&c.c(),n=m("span"),i=f(o),u.c(),h(n,"class","material-icons text-success"),h(n,"title",a=t[31]("widget.send_receive")),$(n,"text-danger",t[86].pnd_rsp),h(e,"class","abbr-list"),h(e,"title",s=1==t[86].status?t[31]("widget.active"):t[31]("widget.pending"))},m(t,a){r(t,e,a),c&&c.m(e,null),p(e,n),p(n,i),u.m(e,null)},p(t,d){1!=t[86].status?c?c.p(t,d):(c=Vi(t),c.c(),c.m(e,n)):c&&(c.d(1),c=null),1073741826&d[0]&&o!==(o=!0===t[86].pnd_rsp?"call_received":"call_made")&&g(i,o),1&d[1]&&a!==(a=t[31]("widget.send_receive"))&&h(n,"title",a),1073741826&d[0]&&$(n,"text-danger",t[86].pnd_rsp),_===(_=l(t))&&u?u.p(t,d):(u.d(1),u=_(t),u&&(u.c(),u.m(e,null))),1073741826&d[0]|1&d[1]&&s!==(s=1==t[86].status?t[31]("widget.active"):t[31]("widget.pending"))&&h(e,"title",s)},d(t){t&&d(e),c&&c.d(),u.d()}}}function Vi(t){let e,n,i;return{c(){e=m("i"),n=f(""),h(e,"title",i=t[31]("widget.pending")),h(e,"class","material-icons chat-unread")},m(t,i){r(t,e,i),p(e,n)},p(t,n){1&n[1]&&i!==(i=t[31]("widget.pending"))&&h(e,"title",i)},d(t){t&&d(e)}}}function Ji(t){let e,n=t[86].last_msg_time_front+"";return{c(){e=f(n)},m(t,n){r(t,e,n)},p(t,i){1073741826&i[0]&&n!==(n=t[86].last_msg_time_front+"")&&g(e,n)},d(t){t&&d(e)}}}function qi(t){let e,n,i=t[86].wait_time_pending+"";return{c(){e=f(" "),n=f(i)},m(t,i){r(t,e,i),r(t,n,i)},p(t,e){1073741826&e[0]&&i!==(i=t[86].wait_time_pending+"")&&g(n,i)},d(t){t&&(d(e),d(n))}}}function Gi(t){let e,n,i,a,s=t[86].live_chats+"",o=!t[8]&&Qi(t);return{c(){e=m("td"),n=f(s),i=_(),o&&o.c(),h(e,"title",a=t[31]("widget.op_chats_statistic")),h(e,"class","align-middle"),$(e,"text-danger",t[86].max_chats&&t[86].max_chats>0&&t[86].free_slots<=0),$(e,"text-success",t[86].max_chats&&t[86].max_chats>0&&t[86].free_slots>=1)},m(t,a){r(t,e,a),p(e,n),p(e,i),o&&o.m(e,null)},p(t,i){1073741826&i[0]&&s!==(s=t[86].live_chats+"")&&g(n,s),t[8]?o&&(o.d(1),o=null):o?o.p(t,i):(o=Qi(t),o.c(),o.m(e,null)),1&i[1]&&a!==(a=t[31]("widget.op_chats_statistic"))&&h(e,"title",a),1073741826&i[0]&&$(e,"text-danger",t[86].max_chats&&t[86].max_chats>0&&t[86].free_slots<=0),1073741826&i[0]&&$(e,"text-success",t[86].max_chats&&t[86].max_chats>0&&t[86].free_slots>=1)},d(t){t&&d(e),o&&o.d()}}}function Qi(t){let e,n,i,a,s,o,c,l,u,w=(t[86].max_chats&&t[86].max_chats>0?t[86].free_slots:" n/a")+"";return{c(){e=m("abbr"),n=f("l.c"),a=f(", "),s=f(w),o=_(),c=m("abbr"),l=f("f.s"),h(e,"title",i=t[31]("widget.live_chats")+"\n("+t[86].active_chats+" + "+t[86].pending_chats+" - "+t[86].inactive_chats+")"),h(c,"title",u=t[31]("widget.free_slots")+"\n"+t[86].max_chats+" - (("+t[86].active_chats+" + "+t[86].pending_chats+") - "+t[86].inactive_chats+")")},m(t,i){r(t,e,i),p(e,n),r(t,a,i),r(t,s,i),r(t,o,i),r(t,c,i),p(c,l)},p(t,n){1073741826&n[0]|1&n[1]&&i!==(i=t[31]("widget.live_chats")+"\n("+t[86].active_chats+" + "+t[86].pending_chats+" - "+t[86].inactive_chats+")")&&h(e,"title",i),1073741826&n[0]&&w!==(w=(t[86].max_chats&&t[86].max_chats>0?t[86].free_slots:" n/a")+"")&&g(s,w),1073741826&n[0]|1&n[1]&&u!==(u=t[31]("widget.free_slots")+"\n"+t[86].max_chats+" - (("+t[86].active_chats+" + "+t[86].pending_chats+") - "+t[86].inactive_chats+")")&&h(c,"title",u)},d(t){t&&(d(e),d(a),d(s),d(o),d(c))}}}function Ui(t){let e,n,i,a,s=t[86].n_office+"";return{c(){e=m("td"),n=m("div"),i=f(s),h(n,"class","abbr-list"),h(n,"title",a=t[86].n_off_full+" | "+t[86].plain_user_name)},m(t,a){r(t,e,a),p(e,n),p(n,i)},p(t,e){1073741826&e[0]&&s!==(s=t[86].n_office+"")&&g(i,s),1073741826&e[0]&&a!==(a=t[86].n_off_full+" | "+t[86].plain_user_name)&&h(n,"title",a)},d(t){t&&d(e)}}}function Fi(t){let e,n,i=(t[86].plain_user_name?t[86].plain_user_name:"")+"";return{c(){e=m("td"),n=f(i)},m(t,i){r(t,e,i),p(e,n)},p(t,e){1073741826&e[0]&&i!==(i=(t[86].plain_user_name?t[86].plain_user_name:"")+"")&&g(n,i)},d(t){t&&d(e)}}}function Ki(t){let e;function n(t,e){return"online_op"==t[1]?Yi:"group_chats"==t[1]?Xi:zi}let i=n(t),a=i(t);return{c(){e=m("td"),a.c(),$(e,"align-middle","online_op"==t[1])},m(t,n){r(t,e,n),a.m(e,null)},p(t,s){i===(i=n(t))&&a?a.p(t,s):(a.d(1),a=i(t),a&&(a.c(),a.m(e,null))),2&s[0]&&$(e,"align-middle","online_op"==t[1])},d(t){t&&d(e),a.d()}}}function zi(t){let e,n,i;function a(t,e){return 4194306&e[0]&&(n=null),null==n&&(n=!("active_chats"!==t[1]&&"pending_chats"!==t[1]||-1===t[22].indexOf("lhstatistic_statisticdep"))),n?ta:Zi}let s=a(t,[-1,-1,-1,-1]),o=s(t);return{c(){e=m("div"),o.c(),h(e,"class","abbr-list"),h(e,"title",i=t[86].department_name+(t[86].product_name?" | "+t[86].product_name:""))},m(t,n){r(t,e,n),o.m(e,null)},p(t,n){s===(s=a(t,n))&&o?o.p(t,n):(o.d(1),o=s(t),o&&(o.c(),o.m(e,null))),1073741826&n[0]&&i!==(i=t[86].department_name+(t[86].product_name?" | "+t[86].product_name:""))&&h(e,"title",i)},d(t){t&&d(e),o.d()}}}function Xi(t){let e,n,i,a=t[86].time_front+"";return{c(){e=m("div"),n=f(a),h(e,"class","abbr-list"),h(e,"title",i=t[86].time_front)},m(t,i){r(t,e,i),p(e,n)},p(t,s){1073741826&s[0]&&a!==(a=t[86].time_front+"")&&g(n,a),1073741826&s[0]&&i!==(i=t[86].time_front)&&h(e,"title",i)},d(t){t&&d(e)}}}function Yi(t){let e,n,i,a=t[86].departments_names.join(", ")+"";return{c(){e=m("div"),n=f(a),h(e,"class","abbr-list"),h(e,"title",i=t[86].departments_names.join(", "))},m(t,i){r(t,e,i),p(e,n)},p(t,s){1073741826&s[0]&&a!==(a=t[86].departments_names.join(", ")+"")&&g(n,a),1073741826&s[0]&&i!==(i=t[86].departments_names.join(", "))&&h(e,"title",i)},d(t){t&&d(e)}}}function Zi(t){let e,n,i=t[86].department_name+"",a=t[86].product_name?" | "+t[86].product_name:"";return{c(){e=f(i),n=f(a)},m(t,i){r(t,e,i),r(t,n,i)},p(t,s){1073741826&s[0]&&i!==(i=t[86].department_name+"")&&g(e,i),1073741826&s[0]&&a!==(a=t[86].product_name?" | "+t[86].product_name:"")&&g(n,a)},d(t){t&&(d(e),d(n))}}}function ta(t){let e,n,i,a,s,o,c=t[86].department_name+"",l=t[86].product_name?" | "+t[86].product_name:"";function _(...e){return t[75](t[86],...e)}return{c(){e=m("a"),n=m("i"),n.textContent="donut_large",i=f(c),a=f(l),h(n,"class","material-icons"),h(e,"class","text-primary")},m(t,c){r(t,e,c),p(e,n),p(e,i),p(e,a),s||(o=w(e,"click",_),s=!0)},p(e,n){t=e,1073741826&n[0]&&c!==(c=t[86].department_name+"")&&g(i,c),1073741826&n[0]&&l!==(l=t[86].product_name?" | "+t[86].product_name:"")&&g(a,l)},d(t){t&&d(e),s=!1,o()}}}function ea(t,e){let n,i,a,s,o,c,l,u,g,f,b,v,y,x,k=e[86].country_code&&Wn(e),W=C(e[23]),D=[];for(let t=0;t<W.length;t+=1)D[t]=Tn($e(e,W,t));function L(t,e){return"online_op"==t[1]?Rn:"group_chats"==t[1]?Nn:En}let A=L(e),S=A(e),I=!1===e[4]&&e[32]&&e[30].additionalColumns&&bi(e),T=("subject_chats"==e[1]||"alarm_mails"==e[1]||e[16])&&Ci(e),E=!e[6]&&Wi(e),N="online_op"==e[1]&&Gi(e),R="active_chats"==e[1]&&Ui(e),P=("active_mails"==e[1]||"alarm_mails"==e[1]||e[15])&&Fi(e),O=!e[5]&&Ki(e);function B(...t){return e[76](e[86],...t)}return{key:t,first:null,c(){n=m("tr"),i=m("td"),a=m("div"),k&&k.c(),s=_();for(let t=0;t<D.length;t+=1)D[t].c();o=_(),S.c(),c=_(),I&&I.c(),l=_(),T&&T.c(),u=_(),E&&E.c(),g=_(),N&&N.c(),f=_(),R&&R.c(),b=_(),P&&P.c(),v=_(),O&&O.c(),h(a,"class","abbr-list"),$(n,"user-away-row",e[33]&&e[32]&&2==e[86].user_status_front),$(n,"user-online-row",e[33]&&e[32]&&!e[86].user_status_front),this.first=n},m(t,e){r(t,n,e),p(n,i),p(i,a),k&&k.m(a,null),p(a,s);for(let t=0;t<D.length;t+=1)D[t]&&D[t].m(a,null);p(a,o),S.m(a,null),p(n,c),I&&I.m(n,null),p(n,l),T&&T.m(n,null),p(n,u),E&&E.m(n,null),p(n,g),N&&N.m(n,null),p(n,f),R&&R.m(n,null),p(n,b),P&&P.m(n,null),p(n,v),O&&O.m(n,null),y||(x=w(n,"click",B),y=!0)},p(t,i){if((e=t)[86].country_code?k?k.p(e,i):(k=Wn(e),k.c(),k.m(a,s)):k&&(k.d(1),k=null),1082130434&i[0]){let t;for(W=C(e[23]),t=0;t<W.length;t+=1){const n=$e(e,W,t);D[t]?D[t].p(n,i):(D[t]=Tn(n),D[t].c(),D[t].m(a,o))}for(;t<D.length;t+=1)D[t].d(1);D.length=W.length}A===(A=L(e))&&S?S.p(e,i):(S.d(1),S=A(e),S&&(S.c(),S.m(a,null))),!1===e[4]&&e[32]&&e[30].additionalColumns?I?I.p(e,i):(I=bi(e),I.c(),I.m(n,l)):I&&(I.d(1),I=null),"subject_chats"==e[1]||"alarm_mails"==e[1]||e[16]?T?T.p(e,i):(T=Ci(e),T.c(),T.m(n,u)):T&&(T.d(1),T=null),e[6]?E&&(E.d(1),E=null):E?E.p(e,i):(E=Wi(e),E.c(),E.m(n,g)),"online_op"==e[1]?N?N.p(e,i):(N=Gi(e),N.c(),N.m(n,f)):N&&(N.d(1),N=null),"active_chats"==e[1]?R?R.p(e,i):(R=Ui(e),R.c(),R.m(n,b)):R&&(R.d(1),R=null),"active_mails"==e[1]||"alarm_mails"==e[1]||e[15]?P?P.p(e,i):(P=Fi(e),P.c(),P.m(n,v)):P&&(P.d(1),P=null),e[5]?O&&(O.d(1),O=null):O?O.p(e,i):(O=Ki(e),O.c(),O.m(n,null)),1073741826&i[0]|6&i[1]&&$(n,"user-away-row",e[33]&&e[32]&&2==e[86].user_status_front),1073741826&i[0]|6&i[1]&&$(n,"user-online-row",e[33]&&e[32]&&!e[86].user_status_front)},d(t){t&&d(n),k&&k.d(),j(D,t),S.d(),I&&I.d(),T&&T.d(),E&&E.d(),N&&N.d(),R&&R.d(),P&&P.d(),O&&O.d(),y=!1,x()}}}function na(t){let e,n,i,a,s,o,c,l,u,v,x,$,C,j,k,W=t[31]("group_chat.private_group")+"",D=-1!==t[22].indexOf("lhgroupchat_public_chat"),S=t[31]("group_chat.new")+"",I=D&&ia(t);return{c(){e=m("tr"),n=m("td"),i=m("input"),s=_(),o=m("td"),c=m("select"),l=m("option"),u=f(W),I&&I.c(),v=_(),x=m("td"),$=m("button"),C=f(S),h(i,"type","text"),h(i,"name",""),h(i,"class","form-control form-control-sm"),h(i,"placeholder",a=t[31]("group_chat.new_group_name")),l.__value="1",y(l,l.__value),h(c,"class","form-control form-control-sm"),void 0===t[30].new_group_type&&A((()=>t[78].call(c))),h($,"type","button"),h($,"class","btn btn-sm btn-outline-secondary w-100 d-block")},m(a,d){r(a,e,d),p(e,n),p(n,i),y(i,t[30].new_group_name),p(e,s),p(e,o),p(o,c),p(c,l),p(l,u),I&&I.m(c,null),L(c,t[30].new_group_type,!0),p(e,v),p(e,x),p(x,$),p($,C),j||(k=[w(i,"input",t[77]),w(c,"change",t[78]),w($,"click",t[79])],j=!0)},p(t,e){1&e[1]&&a!==(a=t[31]("group_chat.new_group_name"))&&h(i,"placeholder",a),1073741824&e[0]&&i.value!==t[30].new_group_name&&y(i,t[30].new_group_name),1&e[1]&&W!==(W=t[31]("group_chat.private_group")+"")&&g(u,W),4194304&e[0]&&(D=-1!==t[22].indexOf("lhgroupchat_public_chat")),D?I?I.p(t,e):(I=ia(t),I.c(),I.m(c,null)):I&&(I.d(1),I=null),1073741824&e[0]&&L(c,t[30].new_group_type),1&e[1]&&S!==(S=t[31]("group_chat.new")+"")&&g(C,S)},d(t){t&&d(e),I&&I.d(),j=!1,b(k)}}}function ia(t){let e,n,i=t[31]("group_chat.public_group")+"";return{c(){e=m("option"),n=f(i),e.__value="",y(e,e.__value)},m(t,i){r(t,e,i),p(e,n)},p(t,e){1&e[1]&&i!==(i=t[31]("group_chat.public_group")+"")&&g(n,i)},d(t){t&&d(e)}}}function aa(t){let e,n,i,a,s;return{c(){e=m("span"),n=m("img"),S(n.src,i=t[3]+"/"+t[86].country_code+".png")||h(n,"src",i),h(n,"alt",a=t[86].country_name),h(n,"title",s=t[86].country_name)},m(t,i){r(t,e,i),p(e,n)},p(t,e){1073741834&e[0]&&!S(n.src,i=t[3]+"/"+t[86].country_code+".png")&&h(n,"src",i),1073741826&e[0]&&a!==(a=t[86].country_name)&&h(n,"alt",a),1073741826&e[0]&&s!==(s=t[86].country_name)&&h(n,"title",s)},d(t){t&&d(e)}}}function sa(t){let e,n,i,a,s,o,c,l,u,v,y,x,$,C,j,k,W,D,L,A,S,I=t[86].nick+"",T=t[86].time_front+"",E=t[86].country_code&&aa(t);function N(...e){return t[55](t[86],...e)}function R(...e){return t[56](t[86],...e)}function P(...e){return t[57](t[86],...e)}return{c(){e=m("tr"),n=m("td"),E&&E.c(),i=_(),a=m("a"),s=f("open_in_new"),c=_(),l=m("a"),u=f("info_outline"),y=_(),x=m("a"),$=f(I),j=_(),k=m("td"),W=m("div"),D=f(T),L=_(),h(a,"title",o=t[31]("widget.open_new_window")),h(a,"class","material-icons"),h(l,"title",v="["+t[86].id+"]"),h(l,"class","material-icons"),h(x,"title",C=t[31]("widget.accept_chat")),h(W,"class","abbr-list"),h(k,"nowrap","nowrap"),h(k,"colspan","2")},m(t,o){r(t,e,o),p(e,n),E&&E.m(n,null),p(n,i),p(n,a),p(a,s),p(n,c),p(n,l),p(l,u),p(n,y),p(n,x),p(x,$),p(e,j),p(e,k),p(k,W),p(W,D),p(e,L),A||(S=[w(a,"click",N),w(l,"click",R),w(x,"click",P)],A=!0)},p(e,s){(t=e)[86].country_code?E?E.p(t,s):(E=aa(t),E.c(),E.m(n,i)):E&&(E.d(1),E=null),1&s[1]&&o!==(o=t[31]("widget.open_new_window"))&&h(a,"title",o),1073741826&s[0]&&v!==(v="["+t[86].id+"]")&&h(l,"title",v),1073741826&s[0]&&I!==(I=t[86].nick+"")&&g($,I),1&s[1]&&C!==(C=t[31]("widget.accept_chat"))&&h(x,"title",C),1073741826&s[0]&&T!==(T=t[86].time_front+"")&&g(D,T)},d(t){t&&d(e),E&&E.d(),A=!1,b(S)}}}function oa(t){let e,n,i,a,s,o,c,l,u,w,b,v,y,x=t[31]("widget.transferred_to_dep")+"",$=C(t[30].transfer_dep_chats.list),k=[];for(let e=0;e<$.length;e+=1)k[e]=la(Ce(t,$,e));return{c(){e=m("thead"),n=m("tr"),i=m("th"),a=m("i"),a.textContent="face",s=_(),o=f(x),c=_(),l=m("th"),u=m("i"),w=f("access_time"),v=_(),y=m("tbody");for(let t=0;t<k.length;t+=1)k[t].c();h(a,"title","Visitor"),h(a,"class","material-icons"),h(i,"width","60%"),h(u,"title",b=t[31]("widget.transfer_time")),h(u,"class","material-icons"),h(l,"width","40%"),h(l,"colspan","2")},m(t,d){r(t,e,d),p(e,n),p(n,i),p(i,a),p(i,s),p(i,o),p(n,c),p(n,l),p(l,u),p(u,w),r(t,v,d),r(t,y,d);for(let t=0;t<k.length;t+=1)k[t]&&k[t].m(y,null)},p(t,e){if(1&e[1]&&x!==(x=t[31]("widget.transferred_to_dep")+"")&&g(o,x),1&e[1]&&b!==(b=t[31]("widget.transfer_time"))&&h(u,"title",b),1073741832&e[0]|1&e[1]){let n;for($=C(t[30].transfer_dep_chats.list),n=0;n<$.length;n+=1){const i=Ce(t,$,n);k[n]?k[n].p(i,e):(k[n]=la(i),k[n].c(),k[n].m(y,null))}for(;n<k.length;n+=1)k[n].d(1);k.length=$.length}},d(t){t&&(d(e),d(v),d(y)),j(k,t)}}}function ca(t){let e,n,i,a,s;return{c(){e=m("span"),n=m("img"),S(n.src,i=t[3]+"/"+t[86].country_code+".png")||h(n,"src",i),h(n,"alt",a=t[86].country_name),h(n,"title",s=t[86].country_name)},m(t,i){r(t,e,i),p(e,n)},p(t,e){1073741832&e[0]&&!S(n.src,i=t[3]+"/"+t[86].country_code+".png")&&h(n,"src",i),1073741824&e[0]&&a!==(a=t[86].country_name)&&h(n,"alt",a),1073741824&e[0]&&s!==(s=t[86].country_name)&&h(n,"title",s)},d(t){t&&d(e)}}}function la(t){let e,n,i,a,s,o,c,l,u,v,y,x,$,C,j,k,W,D,L,A,S,I=t[86].nick+"",T=t[86].time_front+"",E=t[86].country_code&&ca(t);function N(...e){return t[58](t[86],...e)}function R(...e){return t[59](t[86],...e)}function P(...e){return t[60](t[86],...e)}return{c(){e=m("tr"),n=m("td"),E&&E.c(),i=_(),a=m("a"),s=f("open_in_new"),c=_(),l=m("a"),u=f("info_outline"),y=_(),x=m("a"),$=f(I),j=_(),k=m("td"),W=m("div"),D=f(T),L=_(),h(a,"title",o=t[31]("widget.open_new_window")),h(a,"class","material-icons"),h(l,"title",v="["+t[86].id+"]"),h(l,"class","material-icons"),h(x,"title",C=t[31]("widget.accept_chat")),h(W,"class","abbr-list"),h(k,"nowrap","nowrap"),h(k,"colspan","2")},m(t,o){r(t,e,o),p(e,n),E&&E.m(n,null),p(n,i),p(n,a),p(a,s),p(n,c),p(n,l),p(l,u),p(n,y),p(n,x),p(x,$),p(e,j),p(e,k),p(k,W),p(W,D),p(e,L),A||(S=[w(a,"click",N),w(l,"click",R),w(x,"click",P)],A=!0)},p(e,s){(t=e)[86].country_code?E?E.p(t,s):(E=ca(t),E.c(),E.m(n,i)):E&&(E.d(1),E=null),1&s[1]&&o!==(o=t[31]("widget.open_new_window"))&&h(a,"title",o),1073741824&s[0]&&v!==(v="["+t[86].id+"]")&&h(l,"title",v),1073741824&s[0]&&I!==(I=t[86].nick+"")&&g($,I),1&s[1]&&C!==(C=t[31]("widget.accept_chat"))&&h(x,"title",C),1073741824&s[0]&&T!==(T=t[86].time_front+"")&&g(D,T)},d(t){t&&d(e),E&&E.d(),A=!1,b(S)}}}function da(t){let e,n=[],i=new Map,a=C(t[30][t[1]].list);const s=t=>t[83].id;for(let e=0;e<a.length;e+=1){let o=We(t,a,e),c=s(o);i.set(c,n[e]=ma(c,o))}return{c(){e=m("tbody");for(let t=0;t<n.length;t+=1)n[t].c()},m(t,i){r(t,e,i);for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,null)},p(t,o){1077936130&o[0]|1&o[1]&&(a=C(t[30][t[1]].list),n=D(n,o,s,1,t,a,i,e,T,ma,null,We))},d(t){t&&d(e);for(let t=0;t<n.length;t+=1)n[t].d()}}}function ra(t){let e,n,i,a,s,o,c=(t[83].max_load_h?t[83].max_load_h-((t[83].acopchats_cnt?t[83].acopchats_cnt:0)-(t[83].inopchats_cnt?t[83].inopchats_cnt:0)):"n/a")+"",l=(t[83].max_load?t[83].max_load-((t[83].achats_cnt?t[83].achats_cnt:0)-(t[83].inachats_cnt?t[83].inachats_cnt:0)):"n/a")+"";return{c(){e=m("span"),n=f(c),a=f("("),s=f(l),o=f(")"),h(e,"class",i=t[83].max_load_h&&t[83].max_load_h-((t[83].acopchats_cnt?t[83].acopchats_cnt:0)-(t[83].inopchats_cnt?t[83].inopchats_cnt:0))<=3?"text-danger fw-bold":"")},m(t,i){r(t,e,i),p(e,n),r(t,a,i),r(t,s,i),r(t,o,i)},p(t,a){1073741826&a[0]&&c!==(c=(t[83].max_load_h?t[83].max_load_h-((t[83].acopchats_cnt?t[83].acopchats_cnt:0)-(t[83].inopchats_cnt?t[83].inopchats_cnt:0)):"n/a")+"")&&g(n,c),1073741826&a[0]&&i!==(i=t[83].max_load_h&&t[83].max_load_h-((t[83].acopchats_cnt?t[83].acopchats_cnt:0)-(t[83].inopchats_cnt?t[83].inopchats_cnt:0))<=3?"text-danger fw-bold":"")&&h(e,"class",i),1073741826&a[0]&&l!==(l=(t[83].max_load?t[83].max_load-((t[83].achats_cnt?t[83].achats_cnt:0)-(t[83].inachats_cnt?t[83].inachats_cnt:0)):"n/a")+"")&&g(s,l)},d(t){t&&(d(e),d(a),d(s),d(o))}}}function _a(t){let e,n,i,a,s,o,c,l,_,u=(t[83].max_load_h?t[83].max_load_h-((t[83].acopchats_cnt?t[83].acopchats_cnt:0)-(t[83].inopchats_cnt?t[83].inopchats_cnt:0)):"n/a")+"",b=(t[83].max_load?t[83].max_load-((t[83].achats_cnt?t[83].achats_cnt:0)-(t[83].inachats_cnt?t[83].inachats_cnt:0)):"n/a")+"";function v(...e){return t[51](t[83],...e)}return{c(){e=m("a"),n=m("span"),i=f(u),s=f("("),o=f(b),c=f(")"),h(n,"class",a=t[83].max_load_h&&t[83].max_load_h-((t[83].acopchats_cnt?t[83].acopchats_cnt:0)-(t[83].inopchats_cnt?t[83].inopchats_cnt:0))<=3?"text-danger fw-bold":""),h(e,"href","#")},m(t,a){r(t,e,a),p(e,n),p(n,i),p(e,s),p(e,o),p(e,c),l||(_=w(e,"click",v),l=!0)},p(e,s){t=e,1073741826&s[0]&&u!==(u=(t[83].max_load_h?t[83].max_load_h-((t[83].acopchats_cnt?t[83].acopchats_cnt:0)-(t[83].inopchats_cnt?t[83].inopchats_cnt:0)):"n/a")+"")&&g(i,u),1073741826&s[0]&&a!==(a=t[83].max_load_h&&t[83].max_load_h-((t[83].acopchats_cnt?t[83].acopchats_cnt:0)-(t[83].inopchats_cnt?t[83].inopchats_cnt:0))<=3?"text-danger fw-bold":"")&&h(n,"class",a),1073741826&s[0]&&b!==(b=(t[83].max_load?t[83].max_load-((t[83].achats_cnt?t[83].achats_cnt:0)-(t[83].inachats_cnt?t[83].inachats_cnt:0)):"n/a")+"")&&g(o,b)},d(t){t&&d(e),l=!1,_()}}}function ua(t){let e,n,i,a,s=(t[83].max_load_op?t[83].max_load_op:"n/a")+"",o=(t[83].max_load_op_h?t[83].max_load_op_h:"n/a")+"";return{c(){e=f(s),n=f(" ("),i=f(o),a=f(")")},m(t,s){r(t,e,s),r(t,n,s),r(t,i,s),r(t,a,s)},p(t,n){1073741826&n[0]&&s!==(s=(t[83].max_load_op?t[83].max_load_op:"n/a")+"")&&g(e,s),1073741826&n[0]&&o!==(o=(t[83].max_load_op_h?t[83].max_load_op_h:"n/a")+"")&&g(i,o)},d(t){t&&(d(e),d(n),d(i),d(a))}}}function pa(t){let e,n,i,a,s,o,c,l=(t[83].max_load_op?t[83].max_load_op:"n/a")+"",_=(t[83].max_load_op_h?t[83].max_load_op_h:"n/a")+"";function u(...e){return t[52](t[83],...e)}return{c(){e=m("a"),n=f(l),i=f(" ("),a=f(_),s=f(")"),h(e,"href","#")},m(t,l){r(t,e,l),p(e,n),p(e,i),p(e,a),p(e,s),o||(c=w(e,"click",u),o=!0)},p(e,i){t=e,1073741826&i[0]&&l!==(l=(t[83].max_load_op?t[83].max_load_op:"n/a")+"")&&g(n,l),1073741826&i[0]&&_!==(_=(t[83].max_load_op_h?t[83].max_load_op_h:"n/a")+"")&&g(a,_)},d(t){t&&d(e),o=!1,c()}}}function ma(t,e){let n,i,a,s,o,c,l,u,w,b,v,y,x,$,C,j,k,W,D,L,A,S,I,T,E,N,R,P,O,B,H=e[83].name+"",M=(e[83].pchats_cnt?e[83].pchats_cnt:0)+"",V=(e[83].achats_cnt?e[83].achats_cnt:0)+"",J=(e[83].bchats_cnt?e[83].bchats_cnt:0)+"";function q(t,e){return 4194304&e[0]&&(E=null),null==E&&(E=!(-1===t[22].indexOf("lhstatistic_statisticdep"))),E?_a:ra}let G=q(e,[-1,-1,-1,-1]),Q=G(e);function U(t,e){return 4194304&e[0]&&(O=null),null==O&&(O=!(-1===t[22].indexOf("lhstatistic_statisticdep"))),O?pa:ua}let F=U(e,[-1,-1,-1,-1]),K=F(e);return{key:t,first:null,c(){n=m("tr"),i=m("td"),a=m("div"),s=m("a"),o=f(H),u=_(),w=m("td"),b=m("a"),v=f(M),x=_(),$=m("td"),C=m("a"),j=f(V),W=_(),D=m("td"),L=m("a"),A=f(J),I=_(),T=m("td"),Q.c(),R=_(),P=m("td"),K.c(),B=_(),h(s,"class","d-block"),h(s,"href",c=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[83].id+"/(chat_status_ids)/0/1/5"),h(a,"class","abbr-list"),h(a,"title",l=e[83].name),h(b,"class","d-block"),h(b,"href",y=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[83].id+"/(chat_status_ids)/0"),h(C,"class","d-block"),h(C,"href",k=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[83].id+"/(chat_status_ids)/1"),h(L,"class","d-block"),h(L,"href",S=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[83].id+"/(chat_status_ids)/5"),h(T,"nowrap",""),h(T,"title",N=(e[83].inachats_cnt?e[83].inachats_cnt:"0")+" "+e[31]("widget.inactive_chats")+".\n"+(e[83].inopchats_cnt?e[83].inopchats_cnt:"0")+" "+e[31]("widget.inactive_op_chats")+".\n"+(e[83].acopchats_cnt?e[83].acopchats_cnt:"0")+" "+e[31]("widget.active_op_chats")+".\n"+e[31]("widget.hard_limit")+" - "+(e[83].max_load_h?e[83].max_load_h:"0")+", "+e[31]("widget.soft_limit")+" - "+(e[83].max_load?e[83].max_load:"0")+".\n"+e[31]("widget.hard_limit_explain")),this.first=n},m(t,e){r(t,n,e),p(n,i),p(i,a),p(a,s),p(s,o),p(n,u),p(n,w),p(w,b),p(b,v),p(n,x),p(n,$),p($,C),p(C,j),p(n,W),p(n,D),p(D,L),p(L,A),p(n,I),p(n,T),Q.m(T,null),p(n,R),p(n,P),K.m(P,null),p(n,B)},p(t,n){e=t,1073741826&n[0]&&H!==(H=e[83].name+"")&&g(o,H),1073741826&n[0]&&c!==(c=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[83].id+"/(chat_status_ids)/0/1/5")&&h(s,"href",c),1073741826&n[0]&&l!==(l=e[83].name)&&h(a,"title",l),1073741826&n[0]&&M!==(M=(e[83].pchats_cnt?e[83].pchats_cnt:0)+"")&&g(v,M),1073741826&n[0]&&y!==(y=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[83].id+"/(chat_status_ids)/0")&&h(b,"href",y),1073741826&n[0]&&V!==(V=(e[83].achats_cnt?e[83].achats_cnt:0)+"")&&g(j,V),1073741826&n[0]&&k!==(k=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[83].id+"/(chat_status_ids)/1")&&h(C,"href",k),1073741826&n[0]&&J!==(J=(e[83].bchats_cnt?e[83].bchats_cnt:0)+"")&&g(A,J),1073741826&n[0]&&S!==(S=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[83].id+"/(chat_status_ids)/5")&&h(L,"href",S),G===(G=q(e,n))&&Q?Q.p(e,n):(Q.d(1),Q=G(e),Q&&(Q.c(),Q.m(T,null))),1073741826&n[0]|1&n[1]&&N!==(N=(e[83].inachats_cnt?e[83].inachats_cnt:"0")+" "+e[31]("widget.inactive_chats")+".\n"+(e[83].inopchats_cnt?e[83].inopchats_cnt:"0")+" "+e[31]("widget.inactive_op_chats")+".\n"+(e[83].acopchats_cnt?e[83].acopchats_cnt:"0")+" "+e[31]("widget.active_op_chats")+".\n"+e[31]("widget.hard_limit")+" - "+(e[83].max_load_h?e[83].max_load_h:"0")+", "+e[31]("widget.soft_limit")+" - "+(e[83].max_load?e[83].max_load:"0")+".\n"+e[31]("widget.hard_limit_explain"))&&h(T,"title",N),F===(F=U(e,n))&&K?K.p(e,n):(K.d(1),K=F(e),K&&(K.c(),K.m(P,null)))},d(t){t&&d(n),Q.d(),K.d()}}}function ha(t){let e,n,i,a,s,o,c,l,u,g,w,b,v,y,x,$,j,k,W,L,A,S,I,E,N,R,P,O,B,H,M,V,J,q=[],G=new Map,Q=C(t[30].departments_stats.list);const U=t=>t[80].id;for(let e=0;e<Q.length;e+=1){let n=ke(t,Q,e),i=U(n);G.set(i,q[e]=va(i,n))}return{c(){e=m("thead"),n=m("tr"),i=m("th"),a=m("i"),s=f("home"),c=_(),l=m("th"),u=m("i"),g=f("chat"),b=_(),v=m("th"),y=m("i"),x=f("chat"),j=_(),k=m("th"),W=m("i"),L=f("android"),S=_(),I=m("th"),E=m("i"),N=f("donut_large"),P=_(),O=m("th"),B=m("i"),H=f("support_agent"),V=_(),J=m("tbody");for(let t=0;t<q.length;t+=1)q[t].c();h(a,"title",o=t[31]("widget.department")),h(a,"class","material-icons"),h(i,"width","40%"),h(u,"title",w=t[31]("widget_title.pending_chats")),h(u,"class","material-icons chat-pending"),h(l,"width","12%"),h(y,"title",$=t[31]("widget_title.active_chats")),h(y,"class","material-icons chat-active"),h(v,"width","12%"),h(W,"title",A=t[31]("widget_title.bot_chats")),h(W,"class","material-icons chat-active"),h(k,"width","12%"),h(E,"title",R=t[31]("widget.load_statistic")),h(E,"class","material-icons text-info"),h(I,"width","11%"),h(B,"title",M=t[31]("widget.op_statistic")),h(B,"class","material-icons text-info"),h(O,"width","11%")},m(t,o){r(t,e,o),p(e,n),p(n,i),p(i,a),p(a,s),p(n,c),p(n,l),p(l,u),p(u,g),p(n,b),p(n,v),p(v,y),p(y,x),p(n,j),p(n,k),p(k,W),p(W,L),p(n,S),p(n,I),p(I,E),p(E,N),p(n,P),p(n,O),p(O,B),p(B,H),r(t,V,o),r(t,J,o);for(let t=0;t<q.length;t+=1)q[t]&&q[t].m(J,null)},p(t,e){1&e[1]&&o!==(o=t[31]("widget.department"))&&h(a,"title",o),1&e[1]&&w!==(w=t[31]("widget_title.pending_chats"))&&h(u,"title",w),1&e[1]&&$!==($=t[31]("widget_title.active_chats"))&&h(y,"title",$),1&e[1]&&A!==(A=t[31]("widget_title.bot_chats"))&&h(W,"title",A),1&e[1]&&R!==(R=t[31]("widget.load_statistic"))&&h(E,"title",R),1&e[1]&&M!==(M=t[31]("widget.op_statistic"))&&h(B,"title",M),1077936128&e[0]|1&e[1]&&(Q=C(t[30].departments_stats.list),q=D(q,e,U,1,t,Q,G,J,T,va,null,ke))},d(t){t&&(d(e),d(V),d(J));for(let t=0;t<q.length;t+=1)q[t].d()}}}function ga(t){let e,n,i,a,s,o,c=(t[80].max_load_h?t[80].max_load_h-((t[80].acop_chats_cnt?t[80].acop_chats_cnt:0)-(t[80].inop_chats_cnt?t[80].inop_chats_cnt:0)):"n/a")+"",l=(t[80].max_load?t[80].max_load-((t[80].active_chats_counter?t[80].active_chats_counter:0)-(t[80].inactive_chats_cnt?t[80].inactive_chats_cnt:0)):"n/a")+"";return{c(){e=m("span"),n=f(c),a=f("("),s=f(l),o=f(")"),h(e,"class",i=t[80].max_load_h&&t[80].max_load_h-((t[80].acop_chats_cnt?t[80].acop_chats_cnt:0)-(t[80].inop_chats_cnt?t[80].inop_chats_cnt:0))<=3?"text-danger fw-bold":"")},m(t,i){r(t,e,i),p(e,n),r(t,a,i),r(t,s,i),r(t,o,i)},p(t,a){1073741824&a[0]&&c!==(c=(t[80].max_load_h?t[80].max_load_h-((t[80].acop_chats_cnt?t[80].acop_chats_cnt:0)-(t[80].inop_chats_cnt?t[80].inop_chats_cnt:0)):"n/a")+"")&&g(n,c),1073741824&a[0]&&i!==(i=t[80].max_load_h&&t[80].max_load_h-((t[80].acop_chats_cnt?t[80].acop_chats_cnt:0)-(t[80].inop_chats_cnt?t[80].inop_chats_cnt:0))<=3?"text-danger fw-bold":"")&&h(e,"class",i),1073741824&a[0]&&l!==(l=(t[80].max_load?t[80].max_load-((t[80].active_chats_counter?t[80].active_chats_counter:0)-(t[80].inactive_chats_cnt?t[80].inactive_chats_cnt:0)):"n/a")+"")&&g(s,l)},d(t){t&&(d(e),d(a),d(s),d(o))}}}function fa(t){let e,n,i,a,s,o,c,l,_,u=(t[80].max_load_h?t[80].max_load_h-((t[80].acop_chats_cnt?t[80].acop_chats_cnt:0)-(t[80].inop_chats_cnt?t[80].inop_chats_cnt:0)):"n/a")+"",b=(t[80].max_load?t[80].max_load-((t[80].active_chats_counter?t[80].active_chats_counter:0)-(t[80].inactive_chats_cnt?t[80].inactive_chats_cnt:0)):"n/a")+"";function v(...e){return t[53](t[80],...e)}return{c(){e=m("a"),n=m("span"),i=f(u),s=f("("),o=f(b),c=f(")"),h(n,"class",a=t[80].max_load_h&&t[80].max_load_h-((t[80].acop_chats_cnt?t[80].acop_chats_cnt:0)-(t[80].inop_chats_cnt?t[80].inop_chats_cnt:0))<=3?"text-danger fw-bold":""),h(e,"href","#")},m(t,a){r(t,e,a),p(e,n),p(n,i),p(e,s),p(e,o),p(e,c),l||(_=w(e,"click",v),l=!0)},p(e,s){t=e,1073741824&s[0]&&u!==(u=(t[80].max_load_h?t[80].max_load_h-((t[80].acop_chats_cnt?t[80].acop_chats_cnt:0)-(t[80].inop_chats_cnt?t[80].inop_chats_cnt:0)):"n/a")+"")&&g(i,u),1073741824&s[0]&&a!==(a=t[80].max_load_h&&t[80].max_load_h-((t[80].acop_chats_cnt?t[80].acop_chats_cnt:0)-(t[80].inop_chats_cnt?t[80].inop_chats_cnt:0))<=3?"text-danger fw-bold":"")&&h(n,"class",a),1073741824&s[0]&&b!==(b=(t[80].max_load?t[80].max_load-((t[80].active_chats_counter?t[80].active_chats_counter:0)-(t[80].inactive_chats_cnt?t[80].inactive_chats_cnt:0)):"n/a")+"")&&g(o,b)},d(t){t&&d(e),l=!1,_()}}}function wa(t){let e,n,i,a,s=(t[80].max_load_op?t[80].max_load_op:"n/a")+"",o=(t[80].max_load_op_h?t[80].max_load_op_h:"n/a")+"";return{c(){e=f(s),n=f(" ("),i=f(o),a=f(")")},m(t,s){r(t,e,s),r(t,n,s),r(t,i,s),r(t,a,s)},p(t,n){1073741824&n[0]&&s!==(s=(t[80].max_load_op?t[80].max_load_op:"n/a")+"")&&g(e,s),1073741824&n[0]&&o!==(o=(t[80].max_load_op_h?t[80].max_load_op_h:"n/a")+"")&&g(i,o)},d(t){t&&(d(e),d(n),d(i),d(a))}}}function ba(t){let e,n,i,a,s,o,c,l=(t[80].max_load_op?t[80].max_load_op:"n/a")+"",_=(t[80].max_load_op_h?t[80].max_load_op_h:"n/a")+"";function u(...e){return t[54](t[80],...e)}return{c(){e=m("a"),n=f(l),i=f(" ("),a=f(_),s=f(")"),h(e,"href","#")},m(t,l){r(t,e,l),p(e,n),p(e,i),p(e,a),p(e,s),o||(c=w(e,"click",u),o=!0)},p(e,i){t=e,1073741824&i[0]&&l!==(l=(t[80].max_load_op?t[80].max_load_op:"n/a")+"")&&g(n,l),1073741824&i[0]&&_!==(_=(t[80].max_load_op_h?t[80].max_load_op_h:"n/a")+"")&&g(a,_)},d(t){t&&d(e),o=!1,c()}}}function va(t,e){let n,i,a,s,o,c,l,u,w,b,v,y,x,$,C,j,k,W,D,L,A,S,I,T,E,N,R,P,O,B,H=e[80].name+"",M=(e[80].pending_chats_counter?e[80].pending_chats_counter:0)+"",V=(e[80].active_chats_counter?e[80].active_chats_counter:0)+"",J=(e[80].bot_chats_counter?e[80].bot_chats_counter:0)+"";function q(t,e){return 4194304&e[0]&&(E=null),null==E&&(E=!(-1===t[22].indexOf("lhstatistic_statisticdep"))),E?fa:ga}let G=q(e,[-1,-1,-1,-1]),Q=G(e);function U(t,e){return 4194304&e[0]&&(O=null),null==O&&(O=!(-1===t[22].indexOf("lhstatistic_statisticdep"))),O?ba:wa}let F=U(e,[-1,-1,-1,-1]),K=F(e);return{key:t,first:null,c(){n=m("tr"),i=m("td"),a=m("div"),s=m("a"),o=f(H),u=_(),w=m("td"),b=m("a"),v=f(M),x=_(),$=m("td"),C=m("a"),j=f(V),W=_(),D=m("td"),L=m("a"),A=f(J),I=_(),T=m("td"),Q.c(),R=_(),P=m("td"),K.c(),B=_(),h(s,"class","d-block"),h(s,"href",c=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[80].id+"/(chat_status_ids)/0/1/5"),h(a,"class","abbr-list"),h(a,"title",l=e[80].name),h(b,"class","d-block"),h(b,"href",y=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[80].id+"/(chat_status_ids)/0"),h(C,"class","d-block"),h(C,"href",k=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[80].id+"/(chat_status_ids)/1"),h(L,"class","d-block"),h(L,"href",S=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[80].id+"/(chat_status_ids)/5"),h(T,"nowrap",""),h(T,"title",N=(e[80].inactive_chats_cnt?e[80].inactive_chats_cnt:"0")+" "+e[31]("widget.inactive_chats")+".\n"+(e[80].inop_chats_cnt?e[80].inop_chats_cnt:"0")+" "+e[31]("widget.inactive_op_chats")+".\n"+(e[80].acop_chats_cnt?e[80].acop_chats_cnt:"0")+" "+e[31]("widget.active_op_chats")+".\n"+e[31]("widget.hard_limit")+" - "+(e[80].max_load_h?e[80].max_load_h:"0")+", "+e[31]("widget.soft_limit")+" - "+(e[80].max_load?e[80].max_load:"0")+".\n"+e[31]("widget.hard_limit_explain")),this.first=n},m(t,e){r(t,n,e),p(n,i),p(i,a),p(a,s),p(s,o),p(n,u),p(n,w),p(w,b),p(b,v),p(n,x),p(n,$),p($,C),p(C,j),p(n,W),p(n,D),p(D,L),p(L,A),p(n,I),p(n,T),Q.m(T,null),p(n,R),p(n,P),K.m(P,null),p(n,B)},p(t,n){e=t,1073741824&n[0]&&H!==(H=e[80].name+"")&&g(o,H),1073741824&n[0]&&c!==(c=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[80].id+"/(chat_status_ids)/0/1/5")&&h(s,"href",c),1073741824&n[0]&&l!==(l=e[80].name)&&h(a,"title",l),1073741824&n[0]&&M!==(M=(e[80].pending_chats_counter?e[80].pending_chats_counter:0)+"")&&g(v,M),1073741824&n[0]&&y!==(y=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[80].id+"/(chat_status_ids)/0")&&h(b,"href",y),1073741824&n[0]&&V!==(V=(e[80].active_chats_counter?e[80].active_chats_counter:0)+"")&&g(j,V),1073741824&n[0]&&k!==(k=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[80].id+"/(chat_status_ids)/1")&&h(C,"href",k),1073741824&n[0]&&J!==(J=(e[80].bot_chats_counter?e[80].bot_chats_counter:0)+"")&&g(A,J),1073741824&n[0]&&S!==(S=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[80].id+"/(chat_status_ids)/5")&&h(L,"href",S),G===(G=q(e,n))&&Q?Q.p(e,n):(Q.d(1),Q=G(e),Q&&(Q.c(),Q.m(T,null))),1073741824&n[0]|1&n[1]&&N!==(N=(e[80].inactive_chats_cnt?e[80].inactive_chats_cnt:"0")+" "+e[31]("widget.inactive_chats")+".\n"+(e[80].inop_chats_cnt?e[80].inop_chats_cnt:"0")+" "+e[31]("widget.inactive_op_chats")+".\n"+(e[80].acop_chats_cnt?e[80].acop_chats_cnt:"0")+" "+e[31]("widget.active_op_chats")+".\n"+e[31]("widget.hard_limit")+" - "+(e[80].max_load_h?e[80].max_load_h:"0")+", "+e[31]("widget.soft_limit")+" - "+(e[80].max_load?e[80].max_load:"0")+".\n"+e[31]("widget.hard_limit_explain"))&&h(T,"title",N),F===(F=U(e,n))&&K?K.p(e,n):(K.d(1),K=F(e),K&&(K.c(),K.m(P,null)))},d(t){t&&d(n),Q.d(),K.d()}}}function ya(t){let e,n,i=("depgroups_stats"!=t[1]||!t[30].departmentd_hide_dgroup&&t[30][t[1]].list.length>0)&&Ae(t);function a(t,e){return"depgroups_stats"==t[1]?kn:"transfer_chats"==t[1]?jn:Cn}let s=a(t),o=s(t);return{c(){e=m("table"),i&&i.c(),n=_(),o.c(),h(e,"class","table table-sm mb-0 table-small table-fixed"),$(e,"list-chat-table",t[32]||t[29])},m(t,a){r(t,e,a),i&&i.m(e,null),p(e,n),o.m(e,null)},p(t,c){"depgroups_stats"!=t[1]||!t[30].departmentd_hide_dgroup&&t[30][t[1]].list.length>0?i?i.p(t,c):(i=Ae(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),s===(s=a(t))&&o?o.p(t,c):(o.d(1),o=s(t),o&&(o.c(),o.m(e,null))),536870912&c[0]|2&c[1]&&$(e,"list-chat-table",t[32]||t[29])},i:l,o:l,d(t){t&&d(e),i&&i.d(),o.d()}}}function xa(t,e,n){let i=[];return Object.entries(e).forEach((([e,a])=>{(!1===n&&!t[a]||!0===n&&t[a])&&i.push(e)})),i.join(" ")}function $a(t,e,n){let i,s,o=l,c=()=>(o(),o=k(_,(t=>n(30,i=t))),_);a(t,Q,(t=>n(31,s=t))),t.$$.on_destroy.push((()=>o()));let{sort_identifier:d=null}=e,{type:r=null}=e,{lhcList:_=null}=e;c();let{www_dir_flags:u=null}=e,{no_additional_column:p=!1}=e,{hide_third_column:m=!1}=e,{hide_2_column:h=!1}=e,{hide_ac_op_icon:g=!1}=e,{hide_ac_stats:f=!1}=e,{hide_ac_sort:w=!1}=e,{hide_op_avatar:b=!1}=e,{custom_visitor_title:v=null}=e,{custom_visitor_icon:y=null}=e,{show_visitor_title:x=!1}=e,{no_chat_preview:$=!1}=e,{show_username_always:C=!1}=e,{show_always_subject:j=!1}=e,{show_department_title:D=!1}=e,{show_subject_title:L=!1}=e,{show_username_title:A=!1}=e,{no_expand:S=!1}=e,{panel_id:I=null}=e,{permissions:T=[]}=e,{custom_icons:E=[]}=e,{custom_sort_icons:N=[]}=e,{column_2_width:R="20%"}=e,{column_1_width:P="40%"}=e,{column_3_width:O="20%"}=e,{additional_sort:B=""}=e,{override_item_open:H=null}=e,M=!H&&"transfer_chats"!==r&&"group_chats"!==r&&"online_op"!==r&&"depgroups_stats"!==r,V=!H&&"my_mails"!==r&&"active_mails"!==r&&"pending_mails"!==r&&"alarm_mails"!==r;function J(t){"group_chats"===r?U.startGroupChat(t.id,t.name):"my_mails"===r||"active_mails"===r||"pending_mails"===r||"alarm_mails"===r?U.startMailChat(t.id,t.subject_front,i.isCTRLPressed):U.startChat(t.id,t.nick,!i.isCTRLPressed)}function q(t){ee.emitEvent(H,[t])}return t.$$set=t=>{"sort_identifier"in t&&n(0,d=t.sort_identifier),"type"in t&&n(1,r=t.type),"lhcList"in t&&c(n(2,_=t.lhcList)),"www_dir_flags"in t&&n(3,u=t.www_dir_flags),"no_additional_column"in t&&n(4,p=t.no_additional_column),"hide_third_column"in t&&n(5,m=t.hide_third_column),"hide_2_column"in t&&n(6,h=t.hide_2_column),"hide_ac_op_icon"in t&&n(7,g=t.hide_ac_op_icon),"hide_ac_stats"in t&&n(8,f=t.hide_ac_stats),"hide_ac_sort"in t&&n(9,w=t.hide_ac_sort),"hide_op_avatar"in t&&n(10,b=t.hide_op_avatar),"custom_visitor_title"in t&&n(11,v=t.custom_visitor_title),"custom_visitor_icon"in t&&n(12,y=t.custom_visitor_icon),"show_visitor_title"in t&&n(13,x=t.show_visitor_title),"no_chat_preview"in t&&n(14,$=t.no_chat_preview),"show_username_always"in t&&n(15,C=t.show_username_always),"show_always_subject"in t&&n(16,j=t.show_always_subject),"show_department_title"in t&&n(17,D=t.show_department_title),"show_subject_title"in t&&n(18,L=t.show_subject_title),"show_username_title"in t&&n(19,A=t.show_username_title),"no_expand"in t&&n(20,S=t.no_expand),"panel_id"in t&&n(21,I=t.panel_id),"permissions"in t&&n(22,T=t.permissions),"custom_icons"in t&&n(23,E=t.custom_icons),"custom_sort_icons"in t&&n(24,N=t.custom_sort_icons),"column_2_width"in t&&n(25,R=t.column_2_width),"column_1_width"in t&&n(26,P=t.column_1_width),"column_3_width"in t&&n(27,O=t.column_3_width),"additional_sort"in t&&n(28,B=t.additional_sort),"override_item_open"in t&&n(29,H=t.override_item_open)},[d,r,_,u,p,m,h,g,f,w,b,v,y,x,$,C,j,D,L,A,S,I,T,E,N,R,P,O,B,H,i,s,M,V,J,q,t=>U.toggleWidgetSort(_,d,"onn_dsc","onn_asc",!0),t=>U.toggleWidgetSort(_,d,"onl_dsc","onl_asc",!0),t=>U.toggleWidgetSort(_,d,"id_dsc","id_asc",!0),t=>U.toggleWidgetSort(_,d,"loc_dsc","loc_asc",!0),t=>U.toggleWidgetSort(_,d,"u_dsc","u_asc",!0),(t,e)=>U.toggleWidgetSort(_,t.sort_identifier,t.sort_options[0],t.sort_options[1],!0),(t,e)=>U.toggleWidgetSort(_,t.sort_identifier,"","",!0),(t,e)=>U.toggleWidgetSort(_,B,t.items[0]+"_dsc",t.items[0]+"_asc",!0),t=>U.toggleWidgetSort(_,d,"wtime_dsc","wtime_asc",!0),t=>U.toggleWidgetSort(_,d,"lmt_dsc","lmt_asc",!0),t=>U.toggleWidgetSort(_,d,"id_dsc","id_asc",!0),t=>U.toggleWidgetSort(_,d,"rac_dsc","rac_asc",!0),t=>U.toggleWidgetSort(_,d,"ac_dsc","ac_asc",!0),t=>U.toggleWidgetSort(_,d,"op_dsc","op_asc",!0),t=>U.toggleWidgetSort(_,d,"dep_dsc","dep_asc",!0),(t,e)=>U.openModal("statistic/departmentstats/"+t.id+"/(type)/group"),(t,e)=>U.openModal("statistic/departmentstats/"+t.id+"/(type)/group/(tab)/op"),(t,e)=>U.openModal("statistic/departmentstats/"+t.id),(t,e)=>U.openModal("statistic/departmentstats/"+t.id+"/(tab)/op"),(t,e)=>U.startChatNewWindowTransfer(t.id,t.nick,t.transfer_id,t.transfer_scope),(t,e)=>{1==t.transfer_scope?U.previewMail(t.id,e):U.previewChat(t.id,e)},(t,e)=>U.startChatTransfer(t.id,t.nick,t.transfer_id,t.transfer_scope),(t,e)=>U.startChatNewWindowTransfer(t.id,t.nick,t.transfer_id,t.transfer_scope),(t,e)=>{1==t.transfer_scope?U.previewMail(t.id,e):U.previewChat(t.id,e)},(t,e)=>U.startChatTransfer(t.id,t.nick,t.transfer_id,t.transfer_scope),(t,e,n)=>t.click?ee.emitEvent(t.click,[e]):null,(t,e)=>U.startChatOperator(t.user_id),(t,e)=>U.openModal("user/setopstatus/"+t.user_id),(t,e)=>U.openModal("statistic/userstats/"+t.user_id),(t,e)=>U.startGroupChat(t.id,t.name),(t,e)=>{U.deleteChat(t.id),e.stopPropagation()},(t,e)=>U.redirectContact(t.id,s("widget.are_you_sure"),e),(t,e)=>U.previewMail(t.id,e),(t,e)=>U.previewChat(t.id,e),(t,e,n)=>{t.iconp&&U.openModal("chat/icondetailed/"+e.id+"/"+t.id,n)},(t,e)=>U.startGroupChat(t.id,t.name),(t,e)=>U.rejectGroupChat(t.id,e),(t,e)=>U.startGroupChat(t.id,t.name),(t,e)=>U.startGroupChat(t.id,t.name),(t,e)=>U.openModal("statistic/departmentstats/"+t.dep_id,e),(t,e)=>M&&J(t)||H&&q(t),function(){i.new_group_name=this.value,_.set(i)},function(){i.new_group_type=W(this),_.set(i)},()=>U.startNewGroupChat(_,i.new_group_name,i.new_group_type)]}customElements.define("lhc-connection-status",t(me,{type:{}},[],[],!1));class Ca extends e{constructor(t){super(),n(this,t,$a,ya,i,{sort_identifier:0,type:1,lhcList:2,www_dir_flags:3,no_additional_column:4,hide_third_column:5,hide_2_column:6,hide_ac_op_icon:7,hide_ac_stats:8,hide_ac_sort:9,hide_op_avatar:10,custom_visitor_title:11,custom_visitor_icon:12,show_visitor_title:13,no_chat_preview:14,show_username_always:15,show_always_subject:16,show_department_title:17,show_subject_title:18,show_username_title:19,no_expand:20,panel_id:21,permissions:22,custom_icons:23,custom_sort_icons:24,column_2_width:25,column_1_width:26,column_3_width:27,additional_sort:28,override_item_open:29},null,[-1,-1,-1,-1])}get sort_identifier(){return this.$$.ctx[0]}set sort_identifier(t){this.$$set({sort_identifier:t}),c()}get type(){return this.$$.ctx[1]}set type(t){this.$$set({type:t}),c()}get lhcList(){return this.$$.ctx[2]}set lhcList(t){this.$$set({lhcList:t}),c()}get www_dir_flags(){return this.$$.ctx[3]}set www_dir_flags(t){this.$$set({www_dir_flags:t}),c()}get no_additional_column(){return this.$$.ctx[4]}set no_additional_column(t){this.$$set({no_additional_column:t}),c()}get hide_third_column(){return this.$$.ctx[5]}set hide_third_column(t){this.$$set({hide_third_column:t}),c()}get hide_2_column(){return this.$$.ctx[6]}set hide_2_column(t){this.$$set({hide_2_column:t}),c()}get hide_ac_op_icon(){return this.$$.ctx[7]}set hide_ac_op_icon(t){this.$$set({hide_ac_op_icon:t}),c()}get hide_ac_stats(){return this.$$.ctx[8]}set hide_ac_stats(t){this.$$set({hide_ac_stats:t}),c()}get hide_ac_sort(){return this.$$.ctx[9]}set hide_ac_sort(t){this.$$set({hide_ac_sort:t}),c()}get hide_op_avatar(){return this.$$.ctx[10]}set hide_op_avatar(t){this.$$set({hide_op_avatar:t}),c()}get custom_visitor_title(){return this.$$.ctx[11]}set custom_visitor_title(t){this.$$set({custom_visitor_title:t}),c()}get custom_visitor_icon(){return this.$$.ctx[12]}set custom_visitor_icon(t){this.$$set({custom_visitor_icon:t}),c()}get show_visitor_title(){return this.$$.ctx[13]}set show_visitor_title(t){this.$$set({show_visitor_title:t}),c()}get no_chat_preview(){return this.$$.ctx[14]}set no_chat_preview(t){this.$$set({no_chat_preview:t}),c()}get show_username_always(){return this.$$.ctx[15]}set show_username_always(t){this.$$set({show_username_always:t}),c()}get show_always_subject(){return this.$$.ctx[16]}set show_always_subject(t){this.$$set({show_always_subject:t}),c()}get show_department_title(){return this.$$.ctx[17]}set show_department_title(t){this.$$set({show_department_title:t}),c()}get show_subject_title(){return this.$$.ctx[18]}set show_subject_title(t){this.$$set({show_subject_title:t}),c()}get show_username_title(){return this.$$.ctx[19]}set show_username_title(t){this.$$set({show_username_title:t}),c()}get no_expand(){return this.$$.ctx[20]}set no_expand(t){this.$$set({no_expand:t}),c()}get panel_id(){return this.$$.ctx[21]}set panel_id(t){this.$$set({panel_id:t}),c()}get permissions(){return this.$$.ctx[22]}set permissions(t){this.$$set({permissions:t}),c()}get custom_icons(){return this.$$.ctx[23]}set custom_icons(t){this.$$set({custom_icons:t}),c()}get custom_sort_icons(){return this.$$.ctx[24]}set custom_sort_icons(t){this.$$set({custom_sort_icons:t}),c()}get column_2_width(){return this.$$.ctx[25]}set column_2_width(t){this.$$set({column_2_width:t}),c()}get column_1_width(){return this.$$.ctx[26]}set column_1_width(t){this.$$set({column_1_width:t}),c()}get column_3_width(){return this.$$.ctx[27]}set column_3_width(t){this.$$set({column_3_width:t}),c()}get additional_sort(){return this.$$.ctx[28]}set additional_sort(t){this.$$set({additional_sort:t}),c()}get override_item_open(){return this.$$.ctx[29]}set override_item_open(t){this.$$set({override_item_open:t}),c()}}function ja(t){let e,n,i,a,s,o=0==t[19]&&ka(t),c=(!0===t[1]||!0!==t[47].toggleWidgetData[t[36]])&&Pa(t);return{c(){e=m("div"),o&&o.c(),n=_(),c&&c.c(),h(e,"class",i=(!1===t[25]?"card card-dashboard":"")+" card-"+t[14]+" "+(t[47][t[0]].list.length>0?"has-chats":"")),h(e,"data-panel-id",a=t[41]||t[0])},m(t,i){r(t,e,i),o&&o.m(e,null),p(e,n),c&&c.m(e,null),s=!0},p(t,l){0==t[19]?o?o.p(t,l):(o=ka(t),o.c(),o.m(e,n)):o&&(o.d(1),o=null),!0===t[1]||!0!==t[47].toggleWidgetData[t[36]]?c?(c.p(t,l),2&l[0]|65568&l[1]&&N(c,1)):(c=Pa(t),c.c(),N(c,1),c.m(e,null)):c&&(R(),E(c,1,1,(()=>{c=null})),P()),(!s||33570817&l[0]|65536&l[1]&&i!==(i=(!1===t[25]?"card card-dashboard":"")+" card-"+t[14]+" "+(t[47][t[0]].list.length>0?"has-chats":"")))&&h(e,"class",i),(!s||1&l[0]|1024&l[1]&&a!==(a=t[41]||t[0]))&&h(e,"data-panel-id",a)},i(t){s||(N(c),s=!0)},o(t){E(c),s=!1},d(t){t&&d(e),o&&o.d(),c&&c.d()}}}function ka(t){let e,n,i,a,s,o,c,l,u,b,v,y,x,$,C="depgroups_stats"==t[0]&&-1!==t[46].indexOf("lhstatistic_exportxls"),j=-1===t[47].suspend_widgets.indexOf(t[0])?"pause":"play_arrow",k=t[39]&&Wa(t);function W(t,e){return t[33]?Da:La}let D=W(t),L=D(t),A="online_op"==t[0]&&Ia(t),S=C&&Ta(t),I=!t[2]&&Ea(t),T=!t[34]&&t[47][t[0]].tt&&Na(t),E="depgroups_stats"==t[0]&&t[47].departments_stats.tt&&Ra(t);return{c(){e=m("div"),k&&k.c(),n=_(),L.c(),i=_(),A&&A.c(),a=_(),S&&S.c(),s=_(),I&&I.c(),o=_(),c=m("a"),l=f(j),b=_(),T&&T.c(),v=_(),E&&E.c(),h(c,"title",u=t[48](-1===t[47].suspend_widgets.indexOf(t[0])?"widget.pause_widget":"widget.resume_widget")),h(c,"class","ms-0 me-1 text-muted float-end material-icons pt-1"),h(e,"class",y=t[37]+" card-header")},m(d,_){r(d,e,_),k&&k.m(e,null),p(e,n),L.m(e,null),p(e,i),A&&A.m(e,null),p(e,a),S&&S.m(e,null),p(e,s),I&&I.m(e,null),p(e,o),p(e,c),p(c,l),p(e,b),T&&T.m(e,null),p(e,v),E&&E.m(e,null),x||($=w(c,"click",t[59]),x=!0)},p(t,d){t[39]?k?k.p(t,d):(k=Wa(t),k.c(),k.m(e,n)):k&&(k.d(1),k=null),D===(D=W(t))&&L?L.p(t,d):(L.d(1),L=D(t),L&&(L.c(),L.m(e,i))),"online_op"==t[0]?A?A.p(t,d):(A=Ia(t),A.c(),A.m(e,a)):A&&(A.d(1),A=null),1&d[0]|32768&d[1]&&(C="depgroups_stats"==t[0]&&-1!==t[46].indexOf("lhstatistic_exportxls")),C?S?S.p(t,d):(S=Ta(t),S.c(),S.m(e,s)):S&&(S.d(1),S=null),t[2]?I&&(I.d(1),I=null):I?I.p(t,d):(I=Ea(t),I.c(),I.m(e,o)),1&d[0]|65536&d[1]&&j!==(j=-1===t[47].suspend_widgets.indexOf(t[0])?"pause":"play_arrow")&&g(l,j),1&d[0]|196608&d[1]&&u!==(u=t[48](-1===t[47].suspend_widgets.indexOf(t[0])?"widget.pause_widget":"widget.resume_widget"))&&h(c,"title",u),!t[34]&&t[47][t[0]].tt?T?T.p(t,d):(T=Na(t),T.c(),T.m(e,v)):T&&(T.d(1),T=null),"depgroups_stats"==t[0]&&t[47].departments_stats.tt?E?E.p(t,d):(E=Ra(t),E.c(),E.m(e,null)):E&&(E.d(1),E=null),64&d[1]&&y!==(y=t[37]+" card-header")&&h(e,"class",y)},d(t){t&&d(e),k&&k.d(),L.d(),A&&A.d(),S&&S.d(),I&&I.d(),T&&T.d(),E&&E.d(),x=!1,$()}}}function Wa(t){let e,n,i,a,s=(t[16]||"settings_applications")+"";return{c(){e=m("i"),n=f(s),h(e,"class","material-icons me-0 action-image")},m(s,o){r(s,e,o),p(e,n),i||(a=w(e,"click",t[57]),i=!0)},p(t,e){65536&e[0]&&s!==(s=(t[16]||"settings_applications")+"")&&g(n,s)},d(t){t&&d(e),i=!1,a()}}}function Da(t){let e,n,i,a,s,o,c,l,w=t[48]("widget_title."+t[0])+"",b=!t[35]&&Aa(t);return{c(){e=m("i"),n=f(t[32]),a=m("span"),s=f(w),c=_(),b&&b.c(),l=u(),h(e,"class",i="material-icons "+t[31]),h(a,"class",o="d-none d-lg-inline "+t[38])},m(t,i){r(t,e,i),p(e,n),r(t,a,i),p(a,s),r(t,c,i),b&&b.m(t,i),r(t,l,i)},p(t,c){2&c[1]&&g(n,t[32]),1&c[1]&&i!==(i="material-icons "+t[31])&&h(e,"class",i),1&c[0]|131072&c[1]&&w!==(w=t[48]("widget_title."+t[0])+"")&&g(s,w),128&c[1]&&o!==(o="d-none d-lg-inline "+t[38])&&h(a,"class",o),t[35]?b&&(b.d(1),b=null):b?b.p(t,c):(b=Aa(t),b.c(),b.m(l.parentNode,l))},d(t){t&&(d(e),d(a),d(c),d(l)),b&&b.d(t)}}}function La(t){let e,n,i,a,s,o,c,l,u=t[48]("widget_title."+t[0])+"",w=!t[35]&&Sa(t);return{c(){e=m("a"),n=m("i"),i=f(t[32]),s=m("span"),o=f(u),l=_(),w&&w.c(),h(n,"class",a="material-icons "+t[31]),h(s,"class",c="d-none d-lg-inline "+t[38]),h(e,"href",t[30])},m(t,a){r(t,e,a),p(e,n),p(n,i),p(e,s),p(s,o),p(e,l),w&&w.m(e,null)},p(t,l){2&l[1]&&g(i,t[32]),1&l[1]&&a!==(a="material-icons "+t[31])&&h(n,"class",a),1&l[0]|131072&l[1]&&u!==(u=t[48]("widget_title."+t[0])+"")&&g(o,u),128&l[1]&&c!==(c="d-none d-lg-inline "+t[38])&&h(s,"class",c),t[35]?w&&(w.d(1),w=null):w?w.p(t,l):(w=Sa(t),w.c(),w.m(e,null)),1073741824&l[0]&&h(e,"href",t[30])},d(t){t&&d(e),w&&w.d()}}}function Aa(t){let e,n,i,a,s,o=t[47][t[0]].list.length+"",c=t[47][t[0]].list.length==t[47][t[45].limitid]?"+":"";return{c(){e=m("span"),n=f("("),i=f(o),a=f(c),s=f(")"),h(e,"class",t[38])},m(t,o){r(t,e,o),p(e,n),p(e,i),p(e,a),p(e,s)},p(t,n){1&n[0]|65536&n[1]&&o!==(o=t[47][t[0]].list.length+"")&&g(i,o),1&n[0]|81920&n[1]&&c!==(c=t[47][t[0]].list.length==t[47][t[45].limitid]?"+":"")&&g(a,c),128&n[1]&&h(e,"class",t[38])},d(t){t&&d(e)}}}function Sa(t){let e,n,i,a,s,o=t[47][t[0]].list.length+"",c=t[47][t[0]].list.length==t[47][t[45].limitid]?"+":"";return{c(){e=m("span"),n=f("("),i=f(o),a=f(c),s=f(")"),h(e,"class",t[38])},m(t,o){r(t,e,o),p(e,n),p(e,i),p(e,a),p(e,s)},p(t,n){1&n[0]|65536&n[1]&&o!==(o=t[47][t[0]].list.length+"")&&g(i,o),1&n[0]|81920&n[1]&&c!==(c=t[47][t[0]].list.length==t[47][t[45].limitid]?"+":"")&&g(a,c),128&n[1]&&h(e,"class",t[38])},d(t){t&&d(e)}}}function Ia(t){let e,n,i,a=t[47][t[0]].op_on+"";return{c(){e=m("span"),n=f(a),h(e,"class","text-success"),h(e,"title",i=t[48]("widget.online"))},m(t,i){r(t,e,i),p(e,n)},p(t,s){1&s[0]|65536&s[1]&&a!==(a=t[47][t[0]].op_on+"")&&g(n,a),131072&s[1]&&i!==(i=t[48]("widget.online"))&&h(e,"title",i)},d(t){t&&d(e)}}}function Ta(t){let e,n,i;return{c(){e=m("a"),n=f("file_download"),h(e,"class","material-icons"),h(e,"target","_blank"),h(e,"href",WWW_DIR_JAVASCRIPT+"statistic/departmentstatusxls"),h(e,"title",i=t[48]("widget.download_xls"))},m(t,i){r(t,e,i),p(e,n)},p(t,n){131072&n[1]&&i!==(i=t[48]("widget.download_xls"))&&h(e,"title",i)},d(t){t&&d(e)}}}function Ea(t){let e,n,i,a,s,o=0==t[47].toggleWidgetData[t[36]]?"expand_less":"expand_more";return{c(){e=m("a"),n=f(o),h(e,"title",i=t[48]("widget.collapse_expand")),h(e,"class","fs24 float-end material-icons exp-cntr")},m(i,o){r(i,e,o),p(e,n),a||(s=w(e,"click",t[58]),a=!0)},p(t,a){65568&a[1]&&o!==(o=0==t[47].toggleWidgetData[t[36]]?"expand_less":"expand_more")&&g(n,o),131072&a[1]&&i!==(i=t[48]("widget.collapse_expand"))&&h(e,"title",i)},d(t){t&&d(e),a=!1,s()}}}function Na(t){let e,n,i,a,s=t[47][t[0]].tt+"";return{c(){e=m("span"),n=f(s),i=f(" s."),h(e,"title",a=t[48]("widget.taken_time")),h(e,"class","d-none d-xl-inline badge me-1 float-end text-muted pe-0 pt-1p5 fs11 fw-light")},m(t,a){r(t,e,a),p(e,n),p(e,i)},p(t,i){1&i[0]|65536&i[1]&&s!==(s=t[47][t[0]].tt+"")&&g(n,s),131072&i[1]&&a!==(a=t[48]("widget.taken_time"))&&h(e,"title",a)},d(t){t&&d(e)}}}function Ra(t){let e,n,i,a,s=t[47].departments_stats.tt+"";return{c(){e=m("span"),n=f(s),i=f(" s."),h(e,"title",a=t[48]("widget.taken_time_dep")),h(e,"class","d-none d-xl-inline badge me-1 float-end text-muted pe-0 pt-1p5 fs11 fw-light")},m(t,a){r(t,e,a),p(e,n),p(e,i)},p(t,i){65536&i[1]&&s!==(s=t[47].departments_stats.tt+"")&&g(n,s),131072&i[1]&&a!==(a=t[48]("widget.taken_time_dep"))&&h(e,"title",a)},d(t){t&&d(e)}}}function Pa(t){let e,n,i,a,s=!t[20]&&Oa(t),o=(t[47][t[0]].list.length>0||"onlineusers"===t[0]||"depgroups_stats"===t[0])&&Ba(t),c=0===t[47][t[0]].list.length&&"onlineusers"!==t[0]&&"depgroups_stats"!==t[0]&&Va(t);return{c(){e=m("div"),s&&s.c(),n=_(),o&&o.c(),i=_(),c&&c.c()},m(t,l){r(t,e,l),s&&s.m(e,null),p(e,n),o&&o.m(e,null),p(e,i),c&&c.m(e,null),a=!0},p(t,a){t[20]?s&&(R(),E(s,1,1,(()=>{s=null})),P()):s?(s.p(t,a),1048576&a[0]&&N(s,1)):(s=Oa(t),s.c(),N(s,1),s.m(e,n)),t[47][t[0]].list.length>0||"onlineusers"===t[0]||"depgroups_stats"===t[0]?o?(o.p(t,a),1&a[0]|65536&a[1]&&N(o,1)):(o=Ba(t),o.c(),N(o,1),o.m(e,i)):o&&(R(),E(o,1,1,(()=>{o=null})),P()),0===t[47][t[0]].list.length&&"onlineusers"!==t[0]&&"depgroups_stats"!==t[0]?c?c.p(t,a):(c=Va(t),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(t){a||(N(s),N(o),a=!0)},o(t){E(s),E(o),a=!1},d(t){t&&d(e),s&&s.d(),o&&o.d(),c&&c.d()}}}function Oa(t){let e,n;return e=new F({props:{optionsPanel:t[45],lhcList:G}}),{c(){V(e.$$.fragment)},m(t,i){M(e,t,i),n=!0},p(t,n){const i={};16384&n[1]&&(i.optionsPanel=t[45]),e.$set(i)},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){H(e,t)}}}function Ba(t){let e,n,i,a;const s=[Ma,Ha],o=[];function c(t,e){return"onlineusers"==t[0]?0:1}return e=c(t),n=o[e]=s[e](t),{c(){n.c(),i=u()},m(t,n){o[e].m(t,n),r(t,i,n),a=!0},p(t,a){let l=e;e=c(t),e===l?o[e].p(t,a):(R(),E(o[l],1,1,(()=>{o[l]=null})),P(),n=o[e],n?n.p(t,a):(n=o[e]=s[e](t),n.c()),N(n,1),n.m(i.parentNode,i))},i(t){a||(N(n),a=!0)},o(t){E(n),a=!1},d(t){t&&d(i),o[e].d(t)}}}function Ha(t){let e,n,i,a;return n=new Ca({props:{hide_2_column:t[5],hide_ac_sort:t[8],hide_ac_stats:t[7],hide_ac_op_icon:t[9],hide_op_avatar:t[6],hide_third_column:t[4],custom_visitor_icon:t[12],show_visitor_title:t[13],custom_visitor_title:t[10],show_username_title:t[3],show_subject_title:t[22],show_department_title:t[21],no_expand:t[2],show_always_subject:t[24],show_username_always:t[23],override_item_open:t[27],no_chat_preview:t[28],no_additional_column:t[26],additional_sort:t[40],column_1_width:t[43],column_3_width:t[44],column_2_width:t[42],permissions:t[46],www_dir_flags:t[29],custom_sort_icons:t[45].custom_sort_icons?t[45].custom_sort_icons:[],custom_icons:t[45].custom_icons?t[45].custom_icons:[],panel_id:t[45].panelid,lhcList:G,type:t[0],sort_identifier:t[18]}}),{c(){e=m("div"),V(n.$$.fragment),h(e,"class","panel-list"),h(e,"id",i=!1===t[15]?t[17]:null),I(e,"max-height",t[11]?t[11]:t[47][t[45].panelid+"_m_h"]&&parseInt(t[47][t[45].panelid+"_m_h"].replace("px",""))<56?"56px":t[47][t[45].panelid+"_m_h"]??"330px")},m(t,i){r(t,e,i),M(n,e,null),a=!0},p(t,s){const o={};32&s[0]&&(o.hide_2_column=t[5]),256&s[0]&&(o.hide_ac_sort=t[8]),128&s[0]&&(o.hide_ac_stats=t[7]),512&s[0]&&(o.hide_ac_op_icon=t[9]),64&s[0]&&(o.hide_op_avatar=t[6]),16&s[0]&&(o.hide_third_column=t[4]),4096&s[0]&&(o.custom_visitor_icon=t[12]),8192&s[0]&&(o.show_visitor_title=t[13]),1024&s[0]&&(o.custom_visitor_title=t[10]),8&s[0]&&(o.show_username_title=t[3]),4194304&s[0]&&(o.show_subject_title=t[22]),2097152&s[0]&&(o.show_department_title=t[21]),4&s[0]&&(o.no_expand=t[2]),16777216&s[0]&&(o.show_always_subject=t[24]),8388608&s[0]&&(o.show_username_always=t[23]),134217728&s[0]&&(o.override_item_open=t[27]),268435456&s[0]&&(o.no_chat_preview=t[28]),67108864&s[0]&&(o.no_additional_column=t[26]),512&s[1]&&(o.additional_sort=t[40]),4096&s[1]&&(o.column_1_width=t[43]),8192&s[1]&&(o.column_3_width=t[44]),2048&s[1]&&(o.column_2_width=t[42]),32768&s[1]&&(o.permissions=t[46]),536870912&s[0]&&(o.www_dir_flags=t[29]),16384&s[1]&&(o.custom_sort_icons=t[45].custom_sort_icons?t[45].custom_sort_icons:[]),16384&s[1]&&(o.custom_icons=t[45].custom_icons?t[45].custom_icons:[]),16384&s[1]&&(o.panel_id=t[45].panelid),1&s[0]&&(o.type=t[0]),262144&s[0]&&(o.sort_identifier=t[18]),n.$set(o),(!a||163840&s[0]&&i!==(i=!1===t[15]?t[17]:null))&&h(e,"id",i),2048&s[0]|81920&s[1]&&I(e,"max-height",t[11]?t[11]:t[47][t[45].panelid+"_m_h"]&&parseInt(t[47][t[45].panelid+"_m_h"].replace("px",""))<56?"56px":t[47][t[45].panelid+"_m_h"]??"330px")},i(t){a||(N(n.$$.fragment,t),a=!0)},o(t){E(n.$$.fragment,t),a=!1},d(t){t&&d(e),H(n)}}}function Ma(t){let e,n;const i=[t[49]];let a={};for(let t=0;t<i.length;t+=1)a=O(a,i[t]);return e=new K({props:a}),{c(){V(e.$$.fragment)},m(t,i){M(e,t,i),n=!0},p(t,n){const a=262144&n[1]?function(t,e){const n={},i={},a={$$scope:1};let s=t.length;for(;s--;){const o=t[s],c=e[s];if(c){for(const t in o)t in c||(i[t]=1);for(const t in c)a[t]||(n[t]=c[t],a[t]=1);t[s]=c}else for(const t in o)a[t]=1}for(const t in i)t in n||(n[t]=void 0);return n}(i,[(s=t[49],"object"==typeof s&&null!==s?s:{})]):{};var s;e.$set(a)},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){H(e,t)}}}function Va(t){let e,n,i,a=t[48]("widget.items_appear_here")+"";return{c(){e=m("div"),n=m("i"),n.textContent="search",i=f(a),h(n,"class","material-icons"),h(e,"class","m-1 alert alert-light")},m(t,a){r(t,e,a),p(e,n),p(e,i)},p(t,e){131072&e[1]&&a!==(a=t[48]("widget.items_appear_here")+"")&&g(i,a)},d(t){t&&d(e)}}}function Ja(t){let e,n,i=!0===t[47].lhcCoreLoaded&&t[47][t[0]]&&t[47][t[0]].list&&ja(t);return{c(){i&&i.c(),e=u()},m(t,a){i&&i.m(t,a),r(t,e,a),n=!0},p(t,n){!0===t[47].lhcCoreLoaded&&t[47][t[0]]&&t[47][t[0]].list?i?(i.p(t,n),1&n[0]|65536&n[1]&&N(i,1)):(i=ja(t),i.c(),N(i,1),i.m(e.parentNode,e)):i&&(R(),E(i,1,1,(()=>{i=null})),P())},i(t){n||(N(i),n=!0)},o(t){E(i),n=!1},d(t){t&&d(e),i&&i.d(t)}}}function qa(t,e,n){let i,c,l,d;a(t,G,(t=>n(47,l=t))),a(t,Q,(t=>n(48,d=t)));let{type:r="pending_chats"}=e,{no_collapse:_=!1}=e,{no_expand:u=!1}=e,{show_username_title:p=!1}=e,{hide_third_column:m=!1}=e,{hide_2_column:h=!1}=e,{hide_op_avatar:g=!1}=e,{hide_ac_stats:f=!1}=e,{hide_ac_sort:w=!1}=e,{hide_ac_op_icon:b=!1}=e,{custom_visitor_title:v=null}=e,{mh_widget:y=null}=e,{custom_visitor_icon:x=null}=e,{show_visitor_title:$=!1}=e,{list_identifier:C="pending"}=e,{no_panel_id:j=!1}=e,{custom_settings_url_icon:k=null}=e,{panel_list_identifier:W="pendingd-panel-list"}=e,{sort_identifier:D="pending_chats_sort"}=e,{status_id:L=0}=e,{status_key:A="chat_status_ids"}=e,{hide_header:S=!1}=e,{hide_filter_options:I=!1}=e,{show_department_title:T=!1}=e,{show_subject_title:E=!1}=e,{default_expand:N=!1}=e,{show_username_always:R=!1}=e,{show_always_subject:P=!1}=e,{right_panel_mode:H=!1}=e,{no_additional_column:M=!1}=e,{override_item_open:V=null}=e,{no_chat_preview:J=!1}=e,{default_sort:q="id_asc"}=e,{www_dir_flags:F=null}=e,{base_url:K="chat/list"}=e,{url:z=WWW_DIR_JAVASCRIPT+K+"/("+A+")/"+L}=e,{icon_class:X="chat-pending"}=e,{card_icon:Y="chat"}=e,{no_link:Z=!1}=e,{no_duration:tt=!1}=e,{no_counter:et=!1}=e,{expand_identifier:nt="pchats_widget_exp"}=e,{custom_card_class:it=""}=e,{custom_title_class:at=""}=e,{custom_settings_url:st=""}=e,{additional_sort:ot=""}=e,{data_panel_id:ct=""}=e,{column_2_width:lt="20%"}=e,{column_1_width:dt="40%"}=e,{column_3_width:rt="20%"}=e,{permissions:_t=[]}=e,{optionsPanel:ut={panelid:"pendingd",limitid:"limitp",userid:"pendingu"}}=e;U.getToggleWidget(G,nt),U.getToggleWidgetSort(G,D,q),o((async()=>{s(G,l.optionsPanels[i.panelid]=i,l),ee.emitEvent("svelteOptionsPanelLoaded",[i.panelid])}));return t.$$set=t=>{n(49,e=O(O({},e),B(t))),"type"in t&&n(0,r=t.type),"no_collapse"in t&&n(1,_=t.no_collapse),"no_expand"in t&&n(2,u=t.no_expand),"show_username_title"in t&&n(3,p=t.show_username_title),"hide_third_column"in t&&n(4,m=t.hide_third_column),"hide_2_column"in t&&n(5,h=t.hide_2_column),"hide_op_avatar"in t&&n(6,g=t.hide_op_avatar),"hide_ac_stats"in t&&n(7,f=t.hide_ac_stats),"hide_ac_sort"in t&&n(8,w=t.hide_ac_sort),"hide_ac_op_icon"in t&&n(9,b=t.hide_ac_op_icon),"custom_visitor_title"in t&&n(10,v=t.custom_visitor_title),"mh_widget"in t&&n(11,y=t.mh_widget),"custom_visitor_icon"in t&&n(12,x=t.custom_visitor_icon),"show_visitor_title"in t&&n(13,$=t.show_visitor_title),"list_identifier"in t&&n(14,C=t.list_identifier),"no_panel_id"in t&&n(15,j=t.no_panel_id),"custom_settings_url_icon"in t&&n(16,k=t.custom_settings_url_icon),"panel_list_identifier"in t&&n(17,W=t.panel_list_identifier),"sort_identifier"in t&&n(18,D=t.sort_identifier),"status_id"in t&&n(50,L=t.status_id),"status_key"in t&&n(51,A=t.status_key),"hide_header"in t&&n(19,S=t.hide_header),"hide_filter_options"in t&&n(20,I=t.hide_filter_options),"show_department_title"in t&&n(21,T=t.show_department_title),"show_subject_title"in t&&n(22,E=t.show_subject_title),"default_expand"in t&&n(52,N=t.default_expand),"show_username_always"in t&&n(23,R=t.show_username_always),"show_always_subject"in t&&n(24,P=t.show_always_subject),"right_panel_mode"in t&&n(25,H=t.right_panel_mode),"no_additional_column"in t&&n(26,M=t.no_additional_column),"override_item_open"in t&&n(27,V=t.override_item_open),"no_chat_preview"in t&&n(28,J=t.no_chat_preview),"default_sort"in t&&n(53,q=t.default_sort),"www_dir_flags"in t&&n(29,F=t.www_dir_flags),"base_url"in t&&n(54,K=t.base_url),"url"in t&&n(30,z=t.url),"icon_class"in t&&n(31,X=t.icon_class),"card_icon"in t&&n(32,Y=t.card_icon),"no_link"in t&&n(33,Z=t.no_link),"no_duration"in t&&n(34,tt=t.no_duration),"no_counter"in t&&n(35,et=t.no_counter),"expand_identifier"in t&&n(36,nt=t.expand_identifier),"custom_card_class"in t&&n(37,it=t.custom_card_class),"custom_title_class"in t&&n(38,at=t.custom_title_class),"custom_settings_url"in t&&n(39,st=t.custom_settings_url),"additional_sort"in t&&n(40,ot=t.additional_sort),"data_panel_id"in t&&n(41,ct=t.data_panel_id),"column_2_width"in t&&n(42,lt=t.column_2_width),"column_1_width"in t&&n(43,dt=t.column_1_width),"column_3_width"in t&&n(44,rt=t.column_3_width),"permissions"in t&&n(55,_t=t.permissions),"optionsPanel"in t&&n(56,ut=t.optionsPanel)},t.$$.update=()=>{33554432&t.$$.dirty[1]&&n(45,i="string"==typeof ut?JSON.parse(ut):ut),16777216&t.$$.dirty[1]&&n(46,c="string"==typeof _t?JSON.parse(_t):_t)},e=B(e),[r,_,u,p,m,h,g,f,w,b,v,y,x,$,C,j,k,W,D,S,I,T,E,R,P,H,M,V,J,F,z,X,Y,Z,tt,et,nt,it,at,st,ot,ct,lt,dt,rt,i,c,l,d,e,L,A,N,q,K,_t,ut,t=>U.openModal(st),t=>U.toggleWidget(G,nt),t=>U.suspendSync(G,r)]}t(Ca,{sort_identifier:{},type:{},lhcList:{},www_dir_flags:{},no_additional_column:{type:"Boolean"},hide_third_column:{type:"Boolean"},hide_2_column:{type:"Boolean"},hide_ac_op_icon:{type:"Boolean"},hide_ac_stats:{type:"Boolean"},hide_ac_sort:{type:"Boolean"},hide_op_avatar:{type:"Boolean"},custom_visitor_title:{},custom_visitor_icon:{},show_visitor_title:{type:"Boolean"},no_chat_preview:{type:"Boolean"},show_username_always:{type:"Boolean"},show_always_subject:{type:"Boolean"},show_department_title:{type:"Boolean"},show_subject_title:{type:"Boolean"},show_username_title:{type:"Boolean"},no_expand:{type:"Boolean"},panel_id:{},permissions:{},custom_icons:{},custom_sort_icons:{},column_2_width:{},column_1_width:{},column_3_width:{},additional_sort:{},override_item_open:{}},[],[],!0);class Ga extends e{constructor(t){super(),n(this,t,qa,Ja,i,{type:0,no_collapse:1,no_expand:2,show_username_title:3,hide_third_column:4,hide_2_column:5,hide_op_avatar:6,hide_ac_stats:7,hide_ac_sort:8,hide_ac_op_icon:9,custom_visitor_title:10,mh_widget:11,custom_visitor_icon:12,show_visitor_title:13,list_identifier:14,no_panel_id:15,custom_settings_url_icon:16,panel_list_identifier:17,sort_identifier:18,status_id:50,status_key:51,hide_header:19,hide_filter_options:20,show_department_title:21,show_subject_title:22,default_expand:52,show_username_always:23,show_always_subject:24,right_panel_mode:25,no_additional_column:26,override_item_open:27,no_chat_preview:28,default_sort:53,www_dir_flags:29,base_url:54,url:30,icon_class:31,card_icon:32,no_link:33,no_duration:34,no_counter:35,expand_identifier:36,custom_card_class:37,custom_title_class:38,custom_settings_url:39,additional_sort:40,data_panel_id:41,column_2_width:42,column_1_width:43,column_3_width:44,permissions:55,optionsPanel:56},null,[-1,-1])}get type(){return this.$$.ctx[0]}set type(t){this.$$set({type:t}),c()}get no_collapse(){return this.$$.ctx[1]}set no_collapse(t){this.$$set({no_collapse:t}),c()}get no_expand(){return this.$$.ctx[2]}set no_expand(t){this.$$set({no_expand:t}),c()}get show_username_title(){return this.$$.ctx[3]}set show_username_title(t){this.$$set({show_username_title:t}),c()}get hide_third_column(){return this.$$.ctx[4]}set hide_third_column(t){this.$$set({hide_third_column:t}),c()}get hide_2_column(){return this.$$.ctx[5]}set hide_2_column(t){this.$$set({hide_2_column:t}),c()}get hide_op_avatar(){return this.$$.ctx[6]}set hide_op_avatar(t){this.$$set({hide_op_avatar:t}),c()}get hide_ac_stats(){return this.$$.ctx[7]}set hide_ac_stats(t){this.$$set({hide_ac_stats:t}),c()}get hide_ac_sort(){return this.$$.ctx[8]}set hide_ac_sort(t){this.$$set({hide_ac_sort:t}),c()}get hide_ac_op_icon(){return this.$$.ctx[9]}set hide_ac_op_icon(t){this.$$set({hide_ac_op_icon:t}),c()}get custom_visitor_title(){return this.$$.ctx[10]}set custom_visitor_title(t){this.$$set({custom_visitor_title:t}),c()}get mh_widget(){return this.$$.ctx[11]}set mh_widget(t){this.$$set({mh_widget:t}),c()}get custom_visitor_icon(){return this.$$.ctx[12]}set custom_visitor_icon(t){this.$$set({custom_visitor_icon:t}),c()}get show_visitor_title(){return this.$$.ctx[13]}set show_visitor_title(t){this.$$set({show_visitor_title:t}),c()}get list_identifier(){return this.$$.ctx[14]}set list_identifier(t){this.$$set({list_identifier:t}),c()}get no_panel_id(){return this.$$.ctx[15]}set no_panel_id(t){this.$$set({no_panel_id:t}),c()}get custom_settings_url_icon(){return this.$$.ctx[16]}set custom_settings_url_icon(t){this.$$set({custom_settings_url_icon:t}),c()}get panel_list_identifier(){return this.$$.ctx[17]}set panel_list_identifier(t){this.$$set({panel_list_identifier:t}),c()}get sort_identifier(){return this.$$.ctx[18]}set sort_identifier(t){this.$$set({sort_identifier:t}),c()}get status_id(){return this.$$.ctx[50]}set status_id(t){this.$$set({status_id:t}),c()}get status_key(){return this.$$.ctx[51]}set status_key(t){this.$$set({status_key:t}),c()}get hide_header(){return this.$$.ctx[19]}set hide_header(t){this.$$set({hide_header:t}),c()}get hide_filter_options(){return this.$$.ctx[20]}set hide_filter_options(t){this.$$set({hide_filter_options:t}),c()}get show_department_title(){return this.$$.ctx[21]}set show_department_title(t){this.$$set({show_department_title:t}),c()}get show_subject_title(){return this.$$.ctx[22]}set show_subject_title(t){this.$$set({show_subject_title:t}),c()}get default_expand(){return this.$$.ctx[52]}set default_expand(t){this.$$set({default_expand:t}),c()}get show_username_always(){return this.$$.ctx[23]}set show_username_always(t){this.$$set({show_username_always:t}),c()}get show_always_subject(){return this.$$.ctx[24]}set show_always_subject(t){this.$$set({show_always_subject:t}),c()}get right_panel_mode(){return this.$$.ctx[25]}set right_panel_mode(t){this.$$set({right_panel_mode:t}),c()}get no_additional_column(){return this.$$.ctx[26]}set no_additional_column(t){this.$$set({no_additional_column:t}),c()}get override_item_open(){return this.$$.ctx[27]}set override_item_open(t){this.$$set({override_item_open:t}),c()}get no_chat_preview(){return this.$$.ctx[28]}set no_chat_preview(t){this.$$set({no_chat_preview:t}),c()}get default_sort(){return this.$$.ctx[53]}set default_sort(t){this.$$set({default_sort:t}),c()}get www_dir_flags(){return this.$$.ctx[29]}set www_dir_flags(t){this.$$set({www_dir_flags:t}),c()}get base_url(){return this.$$.ctx[54]}set base_url(t){this.$$set({base_url:t}),c()}get url(){return this.$$.ctx[30]}set url(t){this.$$set({url:t}),c()}get icon_class(){return this.$$.ctx[31]}set icon_class(t){this.$$set({icon_class:t}),c()}get card_icon(){return this.$$.ctx[32]}set card_icon(t){this.$$set({card_icon:t}),c()}get no_link(){return this.$$.ctx[33]}set no_link(t){this.$$set({no_link:t}),c()}get no_duration(){return this.$$.ctx[34]}set no_duration(t){this.$$set({no_duration:t}),c()}get no_counter(){return this.$$.ctx[35]}set no_counter(t){this.$$set({no_counter:t}),c()}get expand_identifier(){return this.$$.ctx[36]}set expand_identifier(t){this.$$set({expand_identifier:t}),c()}get custom_card_class(){return this.$$.ctx[37]}set custom_card_class(t){this.$$set({custom_card_class:t}),c()}get custom_title_class(){return this.$$.ctx[38]}set custom_title_class(t){this.$$set({custom_title_class:t}),c()}get custom_settings_url(){return this.$$.ctx[39]}set custom_settings_url(t){this.$$set({custom_settings_url:t}),c()}get additional_sort(){return this.$$.ctx[40]}set additional_sort(t){this.$$set({additional_sort:t}),c()}get data_panel_id(){return this.$$.ctx[41]}set data_panel_id(t){this.$$set({data_panel_id:t}),c()}get column_2_width(){return this.$$.ctx[42]}set column_2_width(t){this.$$set({column_2_width:t}),c()}get column_1_width(){return this.$$.ctx[43]}set column_1_width(t){this.$$set({column_1_width:t}),c()}get column_3_width(){return this.$$.ctx[44]}set column_3_width(t){this.$$set({column_3_width:t}),c()}get permissions(){return this.$$.ctx[55]}set permissions(t){this.$$set({permissions:t}),c()}get optionsPanel(){return this.$$.ctx[56]}set optionsPanel(t){this.$$set({optionsPanel:t}),c()}}function Qa(t,e){return{update(e){let n=e=e.replaceAll("&nbsp;"," ").replaceAll("&amp;","&").replace(/<(b|i|u|strike)\sstyle=".*?">/g,"<$1>").replace(/<suggester.*?>.*?<\/suggester>/g,"").replace(/<span style=".*?">(.*?)<\/span>/g,"$1").replace(/<span>(.*?)<\/span>/g,"$1");"<br>"===(e=(e=(t=>{var e=document.createElement("div");return e.innerHTML=t.replaceAll("<br>","___BR___").replaceAll("\r\n","___BR___").replaceAll("\n","___BR___").replaceAll("<b>","___BLD___").replaceAll("</b>","___BLDC___").replaceAll("</i>","___ITAC___").replaceAll("<i>","___ITA___").replaceAll("</u>","___UNDC___").replaceAll("<u>","___UND___").replaceAll("<strike>","___STRIKE___").replaceAll("</strike>","___STRIKEC___").replaceAll("&gt;","___GT___").replaceAll("&lt;","___LT___"),e.innerText.replaceAll("___BR___","<br>").replaceAll("___BLD___","<b>").replaceAll("___BLDC___","</b>").replaceAll("___ITAC___","</i>").replaceAll("___ITA___","<i>").replaceAll("___UNDC___","</u>").replaceAll("___UND___","<u>").replaceAll("___STRIKE___","<strike>").replaceAll("___STRIKEC___","</strike>").replaceAll("___GT___","&gt;").replaceAll("___LT___","&lt;")})(e=(t=>{var e=document.createElement("textarea");return e.innerHTML=t.replaceAll("&gt;","___GT___").replaceAll("&lt;","___LT___"),e.value.replaceAll("___GT___","&gt;").replaceAll("___LT___","&lt;")})(e))).replace(/\u00a0/g," "))?t.innerHTML="":JSON.stringify(e.replace(/\s+/g,""))!=JSON.stringify(n.replace(/\s+/g,""))&&(t.innerHTML=e)}}}function Ua(t,e,n,i,a){let s=n&&n.startOffset!=n.endOffset,o={b:"bold",i:"italic",u:"underline",s:"strikethrough"};o[t]?(!0===s&&Xa(n,i),document.execCommand(o[t],!1,null),i.focus()):(Xa(n,i),function(t,e){var n,i;if(window.getSelection&&(n=window.getSelection()).getRangeAt&&n.rangeCount){let a=(i=n.getRangeAt(0)).cloneContents();i.deleteContents(),i.insertNode(document.createTextNode(e)),i.insertNode(a),i.insertNode(document.createTextNode(t)),i.collapse(!1)}}("["+t+"]","[/"+e+"]")),s&&a.set(i.innerHTML)}function Fa(t){var e,n;(e=document.createRange()).selectNodeContents(t),e.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(e)}function Ka(){if(window.getSelection){let t=window.getSelection();if(t.getRangeAt&&t.rangeCount){let e=t.getRangeAt(0);return e.startOffset!=e.endOffset}}return!1}function za(){if(window.getSelection){let t=window.getSelection();if(t.getRangeAt&&t.rangeCount)return t.getRangeAt(0)}else if(document.selection&&document.selection.createRange)return document.selection.createRange();return null}function Xa(t,e,n){if(t)if(window.getSelection){let e=window.getSelection();if(e.removeAllRanges(),e.addRange(t),n&&n.replace_from){t.setStart(t.startContainer,0),t.setEnd(t.endContainer,t.endOffset);let e=t.toString();-1!==e.lastIndexOf("#")&&(t.setStart(t.startContainer,e.lastIndexOf("#")),t.deleteContents())}}else document.selection&&t.select&&t.select();else Fa(e)}function Ya(t,e,n,i,a){Xa(e,n,a),function(t){var e,n;if(window.getSelection){if((e=window.getSelection()).getRangeAt&&e.rangeCount){let i=(n=e.getRangeAt(0)).createContextualFragment(t);n.insertNode(i),n.collapse(!1)}}else document.selection&&document.selection.createRange&&(document.selection.createRange().text=t)}(t),i.set(n.innerHTML)}function Za(t,e,n){t.stopPropagation(),t.preventDefault(),function(t){t=t.replaceAll("\r\n","\n");var e,n,i=t.split("\n");if(window.getSelection){if((e=window.getSelection()).getRangeAt&&e.rangeCount){(n=e.getRangeAt(0)).deleteContents();for(var a=i.length-1;a>=0;a--)a<i.length-1&&n.insertNode(document.createElement("br")),n.insertNode(document.createTextNode(i[a]));n.collapse(!1)}}else document.selection&&document.selection.createRange&&(document.selection.createRange().text=t)}((t.clipboardData||window.clipboardData).getData("text/plain")),n.set(e.innerHTML)}function ts(t){let e,n,i,a,s,o,c;return{c(){e=m("div"),n=_(),i=m("div"),a=f(t[10]),s=_(),o=m("pre"),c=f(t[7])},m(l,d){r(l,e,d),e.innerHTML=t[10],r(l,n,d),r(l,i,d),p(i,a),r(l,s,d),r(l,o,d),p(o,c)},p(t,n){1024&n[0]&&(e.innerHTML=t[10]),1024&n[0]&&g(a,t[10]),128&n[0]&&g(c,t[7])},d(t){t&&(d(e),d(n),d(i),d(s),d(o))}}}function es(t){let e,n,i,a,s,o,c,p,g=t[1]&&ts(t);return{c(){e=m("div"),s=_(),g&&g.c(),o=u(),h(e,"contenteditable","true"),h(e,"id",n="editor-"+t[0]),h(e,"class",i="lhc-editor form-control form-control-sm form-send-textarea "+("1"===t[5]?" bg-light":"")+(!0===t[2]?" form-control-warning":"")+(t[8]?" hide-suggester":"")),h(e,"placeholder",t[3]),void 0!==t[10]&&void 0!==t[7]||A((()=>t[36].call(e))),I(e,"min-height",27*t[6]+"px")},m(n,i){r(n,e,i),void 0!==t[10]&&(e.innerHTML=t[10]),void 0!==t[7]&&(e.textContent=t[7]),t[37](e),r(n,s,i),g&&g.m(n,i),r(n,o,i),c||(p=[w(e,"paste",t[35]),w(e,"keydown",t[13]),w(e,"click",t[14]),w(e,"keyup",t[14]),w(e,"focusout",t[14]),w(e,"input",t[36]),w(e,"input",t[15]),J(a=Qa.call(null,e,t[10]))],c=!0)},p(t,s){1&s[0]&&n!==(n="editor-"+t[0])&&h(e,"id",n),292&s[0]&&i!==(i="lhc-editor form-control form-control-sm form-send-textarea "+("1"===t[5]?" bg-light":"")+(!0===t[2]?" form-control-warning":"")+(t[8]?" hide-suggester":""))&&h(e,"class",i),8&s[0]&&h(e,"placeholder",t[3]),1024&s[0]&&t[10]!==e.innerHTML&&(e.innerHTML=t[10]),128&s[0]&&t[7]!==e.textContent&&(e.textContent=t[7]),a&&v(a.update)&&1024&s[0]&&a.update.call(null,t[10]),64&s[0]&&I(e,"min-height",27*t[6]+"px"),t[1]?g?g.p(t,s):(g=ts(t),g.c(),g.m(o.parentNode,o)):g&&(g.d(1),g=null)},i:l,o:l,d(n){n&&(d(e),d(s),d(o)),t[37](null),g&&g.d(n),c=!1,b(p)}}}function ns(t,e,n){let i,s,c="",{host:l}=e,{scope:d="chat"}=e,{record_id:r="0"}=e,{debug:_=!1}=e,{warning_area:u=!1}=e,{placeholder:p=""}=e,{readonly:m=null}=e,{whisper:h}=e,{enable_canned_suggester:g}=e,{disable_key_listeners:f}=e,{data_rows_default:w=2}=e,{disable_bb_bold:b=null}=e,{disable_bb_underline:v=null}=e,{disable_bb_italic:y=null}=e;const x={"&amp;":"&","&lt;":"<","&gt;":">","<br>":"\n","<b>":"[b]","<i>":"[i]","</i>":"[/i]","</b>":"[/b]","<u>":"[u]","</u>":"[/u]","</strike>":"[/s]","<strike>":"[s]"},$={"\r\n":"","\n":"","<br>":"\n","<b>":"[b]","</b>":"[/b]","<i>":"[i]","</i>":"[/i]","<u>":"[u]","</u>":"[/u]","</strike>":"[/s]","<strike>":"[s]","&nbsp;":" ","&amp;":"&","&lt;":"<","&gt;":">"};let C=null,j=!1,k=!1,W=z("");a(t,W,(t=>n(10,s=t)));let D,L=function(t){const{subscribe:e,set:n,update:i,get:a}=z(t);return{subscribe:e,update:i,get:a,set:n,addOne:()=>i((t=>t+1)),reset:()=>n(0),goPrev:()=>i((e=>(e.index>0&&e.index--,t))),goNext:()=>i((e=>(e.index<e.history.length-1&&e.index++,t))),setCurrent:t=>i((e=>(e.current=t,e))),addHistory:t=>i((e=>("<br>"==t&&(t=""),e.current==t||(e.index!=e.history.length-1&&e.history.splice(e.index+1),e.history.length>=10&&e.history.shift(),e.history.push(t),e.index=e.history.length-1,e.current=t),e)))}}({index:0,current:"",history:[""]});a(t,L,(t=>n(44,i=t)));let A=!1,S=null,I=500,T=!1;function E(t){t=t.replaceAll("\r\n","\n");for(const[e,n]of Object.entries(x))t=t.replaceAll(n,e);return t=t.replace(/ {2,}/g,(t=>Array.from(t,((t,e)=>e%2==0?"&nbsp;":" ")).join("")))}function N(t,e){n(8,j=!0),e&&(e.convert_bbcode&&(t=E(t)),e.new_line&&""!==D.innerHTML&&(t="\n"+t)),Ya(t,C,D,W,e)}function R(){let t=D.getElementsByTagName("suggester");for(const e of t)D.removeChild(e)}function P(t,e){-1===["b","i","u","s","quote","youtube","html","code","fs10","fs11","fs12","fs13","fs14","fs15","fs16"].indexOf(t)&&0!==t.indexOf("color=")||Ua(t,e,C,D,W)}function O(){setTimeout((()=>{Fa(D)}),1)}function B(){!0===T&&(clearTimeout(S),L.addHistory(s.replace(/<suggester.*?>.*?<\/suggester>/g,"")),T=!1)}function H(t){t=function(t){var e=document.createElement("div");e.innerHTML=t;const n=["U","B","I","STRIKE","SPAN"],i={"font-style: italic":"i","font-weight: bold":"b","text-decoration: underline":"u","text-decoration: line-through":"strike"};return function t(e){Array.from(e.childNodes).forEach((a=>{if(a.nodeType===Node.ELEMENT_NODE&&n.includes(a.tagName)){let n=a.getAttribute("style");n&&Object.keys(i).forEach((t=>{if(n.includes(t)){const n=document.createElement(i[t]);a.removeAttribute("style");let s=a.cloneNode(!0);if("SPAN"!==a.tagName)n.appendChild(s);else for(;s.firstChild;)n.appendChild(s.firstChild);e.replaceChild(n,a),a=n}})),t(a)}}))}(e),e.innerHTML}(t),t=t.replace(/<(b|i|u|strike)\sstyle=".*?">/g,"<$1>").replace(/<span style=".*?">(.*?)<\/span>/g,"$1").replace(/<span>(.*?)<\/span>/g,"$1");for(const[e,n]of Object.entries($))t=t.replaceAll(e,n);return t}o((()=>{let t=document.getElementById("chat-tab-li-"+r);if(t&&t.firstChild&&t.firstChild.classList.contains("active")&&O(),g)var e=new LHCCannedMessageAutoSuggest({textarea:D,chat_id:r,uppercase_enabled:confLH.auto_uppercase});document.getElementById("fileupload-"+r)&&window["file_upload_"+r]&&lhinst.addFileUpload(window["file_upload_"+r]);var n=new ResizeObserver((function(){var t=document.getElementById("messagesBlock-"+r);t&&(t.scrollTop=t.scrollHeight)}));return n.observe(D),ee.emitEvent("adminChatEditorLoaded",[r,D]),()=>{clearInterval(S),n.disconnect(),e.unbindEvents()}})),W.subscribe((t=>{let e=t.replace(/<suggester.*?>.*?<\/suggester>/g,"");"<br>"===e&&(e="",n(9,D.innerHTML="",D)),""===e?(l.removeAttribute("content_modified"),!1===k?(l.removeAttribute("subjects_ids"),l.removeAttribute("canned_id")):k=!1):l.setAttribute("content_modified",!0),!1===A?(T=!0,clearTimeout(S),S=setTimeout((()=>{T=!1,L.addHistory(e)}),I)):L.setCurrent(e)}));return t.$$set=t=>{"host"in t&&n(16,l=t.host),"scope"in t&&n(17,d=t.scope),"record_id"in t&&n(0,r=t.record_id),"debug"in t&&n(1,_=t.debug),"warning_area"in t&&n(2,u=t.warning_area),"placeholder"in t&&n(3,p=t.placeholder),"readonly"in t&&n(4,m=t.readonly),"whisper"in t&&n(5,h=t.whisper),"enable_canned_suggester"in t&&n(18,g=t.enable_canned_suggester),"disable_key_listeners"in t&&n(19,f=t.disable_key_listeners),"data_rows_default"in t&&n(6,w=t.data_rows_default),"disable_bb_bold"in t&&n(20,b=t.disable_bb_bold),"disable_bb_underline"in t&&n(21,v=t.disable_bb_underline),"disable_bb_italic"in t&&n(22,y=t.disable_bb_italic)},[r,_,u,p,m,h,w,c,j,D,s,W,L,function(t){var e=!0;let a=!1;if(!f)if(!t.altKey||38!==t.keyCode&&40!==t.keyCode){if(m)return t.preventDefault(),void t.stopPropagation();if(r&&lhinst.operatorTypingCallback(r),t.ctrlKey)switch(t.keyCode){case 32:Fa(D),C=za(),N("&nbsp;"),e=!1;break;case 90:n(8,j=!0),B(),e=!1,L.goPrev(),A=!0,W.set(i.history[i.index]),O(),A=!1;break;case 89:n(8,j=!0),B(),e=!1,A=!0,L.goNext(),W.set(i.history[i.index]),O(),A=!1;break;case 66:b?e=!1:!0===Ka()&&(I=0,P("b","b"),C=za(),e=!1);break;case 73:case 105:y?e=!1:!0===Ka()&&(I=0,P("i","i"),C=za(),e=!1);break;case 85:case 117:v?e=!1:!0===Ka()&&(I=0,P("u","u"),C=za(),e=!1)}else if(t.shiftKey){if(13===t.keyCode)a=!0}else if(13===t.keyCode){e=!1,B();let t=H(i.current).trim();t&&(ee.emitEvent("svelte_"+d+"_"+r+"_msg",[t]),lhinst.addmsgadmin(r),ee.emitEvent("afterAdminMessageSent",[r]))}else 38===t.keyCode&&(B(),lhinst.editPrevious(r));!0===a||32===t.keyCode?(I=0,n(8,j=!0)):I=500,!1===e&&(t.preventDefault(),t.stopPropagation())}else ee.emitEvent("activateNextTab",[r,38===t.keyCode])},function(t){var e,i,a,s;C=za(),!t||!t.keyCode||40!==t.keyCode&&37!==t.keyCode?(n(8,j=!1),window.getSelection&&(e=window.getSelection()).getRangeAt&&e.rangeCount&&((i=e.getRangeAt(0)).startOffset!=i.endOffset&&n(8,j=!0),(a=document.createRange()).selectNodeContents(D),a.setStart(i.endContainer,i.endOffset),(s=a.cloneContents()).lastElementChild&&"SUGGESTER"==s.lastElementChild.tagName&&s.removeChild(s.lastElementChild),!1===(0===s.textContent.length)&&n(8,j=!0))):n(8,j=!0)},function(){W.set(D.innerHTML)},l,d,g,f,b,v,y,function(){return D},function(t,e){n(8,j=!0),e&&(e.ignore_meta&&(k=!0),e.convert_bbcode&&(t=E(t))),W.set(t.trim())},N,function(t){C=za(),function(t,e,n,i){if(e)if(window.getSelection){e.setStart(e.startContainer,0),e.setEnd(e.endContainer,e.endOffset),e.deleteContents();let n=e.createContextualFragment(t);e.insertNode(n),e.collapse(!1);let i=window.getSelection();i.removeAllRanges(),i.addRange(e)}else document.selection&&range.select&&range.select()}(t,C)},R,function(t){if(R(),t&&!D.classList.contains("hide-suggester")&&"<br>"!=s.substr(s.length-4)){const e=document.createElement("template");e.innerHTML="<suggester style='color: #cecece; user-select: none' contentEditable=\"false\">"+t+"</suggester>",D.appendChild(e.content.firstChild)}},P,function(){return H(i.current).trim()},function(){return H(s.replace(/<suggester.*?>.*?<\/suggester>/g,"")).trim()},O,function(){var t,e,n,i;return!!(window.getSelection&&(t=window.getSelection()).getRangeAt&&t.rangeCount)&&((e=t.getRangeAt(0)).startOffset==e.endOffset&&((n=document.createRange()).selectNodeContents(D),n.setStart(e.endContainer,e.endOffset),(i=n.cloneContents()).lastElementChild&&"SUGGESTER"==i.lastElementChild.tagName&&i.removeChild(i.lastElementChild),i.textContent.length,!0))},function(t){if(window.getSelection){var e=window.getSelection();if(e.rangeCount){let t=e.getRangeAt(0),n=document.createRange();n.selectNodeContents(D),n.setStart(t.startContainer,0),n.setEnd(t.endContainer,t.endOffset);let i=n.cloneContents();return i.lastElementChild&&"SUGGESTER"==i.lastElementChild.tagName&&i.removeChild(i.lastElementChild),{caret:t.endOffset,content:i.textContent.replace(/\u00a0/g," "),full_content:D.textContent.replace(/\u00a0/g," ")}}}return{caret:0,content:"",full_content:D.textContent.replace(/\u00a0/g," ")}},t=>{if(m)return t.preventDefault(),void t.stopPropagation();Za(t,D,W)},function(){s=this.innerHTML,W.set(s),c=this.textContent,n(7,c)},function(t){q[t?"unshift":"push"]((()=>{D=t,n(9,D)}))}]}customElements.define("lhc-widget",t(Ga,{type:{},no_collapse:{type:"Boolean"},no_expand:{type:"Boolean"},show_username_title:{type:"Boolean"},hide_third_column:{type:"Boolean"},hide_2_column:{type:"Boolean"},hide_op_avatar:{type:"Boolean"},hide_ac_stats:{type:"Boolean"},hide_ac_sort:{type:"Boolean"},hide_ac_op_icon:{type:"Boolean"},custom_visitor_title:{},mh_widget:{},custom_visitor_icon:{},show_visitor_title:{type:"Boolean"},list_identifier:{},no_panel_id:{type:"Boolean"},custom_settings_url_icon:{},panel_list_identifier:{},sort_identifier:{},status_id:{},status_key:{},hide_header:{type:"Boolean"},hide_filter_options:{type:"Boolean"},show_department_title:{type:"Boolean"},show_subject_title:{type:"Boolean"},default_expand:{type:"Boolean"},show_username_always:{type:"Boolean"},show_always_subject:{type:"Boolean"},right_panel_mode:{type:"Boolean"},no_additional_column:{type:"Boolean"},override_item_open:{},no_chat_preview:{type:"Boolean"},default_sort:{},www_dir_flags:{},base_url:{},url:{},icon_class:{},card_icon:{},no_link:{type:"Boolean"},no_duration:{type:"Boolean"},no_counter:{type:"Boolean"},expand_identifier:{},custom_card_class:{},custom_title_class:{},custom_settings_url:{},additional_sort:{},data_panel_id:{},column_2_width:{},column_1_width:{},column_3_width:{},permissions:{},optionsPanel:{}},[],[],!1));class is extends e{constructor(t){super(),n(this,t,ns,es,i,{host:16,scope:17,record_id:0,debug:1,warning_area:2,placeholder:3,readonly:4,whisper:5,enable_canned_suggester:18,disable_key_listeners:19,data_rows_default:6,disable_bb_bold:20,disable_bb_underline:21,disable_bb_italic:22,getEditor:23,setContent:24,insertContent:25,replaceRange:26,removeSuggester:27,setSuggester:28,insertFormating:29,getContent:30,getContentLive:31,setFocus:32,isCursorAtEnd:33,getCaretPositionAndContent:34},null,[-1,-1])}get host(){return this.$$.ctx[16]}set host(t){this.$$set({host:t}),c()}get scope(){return this.$$.ctx[17]}set scope(t){this.$$set({scope:t}),c()}get record_id(){return this.$$.ctx[0]}set record_id(t){this.$$set({record_id:t}),c()}get debug(){return this.$$.ctx[1]}set debug(t){this.$$set({debug:t}),c()}get warning_area(){return this.$$.ctx[2]}set warning_area(t){this.$$set({warning_area:t}),c()}get placeholder(){return this.$$.ctx[3]}set placeholder(t){this.$$set({placeholder:t}),c()}get readonly(){return this.$$.ctx[4]}set readonly(t){this.$$set({readonly:t}),c()}get whisper(){return this.$$.ctx[5]}set whisper(t){this.$$set({whisper:t}),c()}get enable_canned_suggester(){return this.$$.ctx[18]}set enable_canned_suggester(t){this.$$set({enable_canned_suggester:t}),c()}get disable_key_listeners(){return this.$$.ctx[19]}set disable_key_listeners(t){this.$$set({disable_key_listeners:t}),c()}get data_rows_default(){return this.$$.ctx[6]}set data_rows_default(t){this.$$set({data_rows_default:t}),c()}get disable_bb_bold(){return this.$$.ctx[20]}set disable_bb_bold(t){this.$$set({disable_bb_bold:t}),c()}get disable_bb_underline(){return this.$$.ctx[21]}set disable_bb_underline(t){this.$$set({disable_bb_underline:t}),c()}get disable_bb_italic(){return this.$$.ctx[22]}set disable_bb_italic(t){this.$$set({disable_bb_italic:t}),c()}get getEditor(){return this.$$.ctx[23]}get setContent(){return this.$$.ctx[24]}get insertContent(){return this.$$.ctx[25]}get replaceRange(){return this.$$.ctx[26]}get removeSuggester(){return this.$$.ctx[27]}get setSuggester(){return this.$$.ctx[28]}get insertFormating(){return this.$$.ctx[29]}get getContent(){return this.$$.ctx[30]}get getContentLive(){return this.$$.ctx[31]}get setFocus(){return this.$$.ctx[32]}get isCursorAtEnd(){return this.$$.ctx[33]}get getCaretPositionAndContent(){return this.$$.ctx[34]}}function as(t){let e,n,i,a,s;function o(t,e){return t[13]>0?cs:t[7]>=ps?os:void 0}let c=o(t),l=c&&c(t);return{c(){e=m("div"),n=m("i"),n.textContent="info",i=_(),a=f(t[6]),s=_(),l&&l.c(),h(n,"class","material-icons"),h(e,"class","text-muted p-2 border rounded")},m(t,o){r(t,e,o),p(e,n),p(e,i),p(e,a),p(e,s),l&&l.m(e,null)},p(t,n){64&n&&g(a,t[6]),c===(c=o(t))&&l?l.p(t,n):(l&&l.d(1),l=c&&c(t),l&&(l.c(),l.m(e,null)))},d(t){t&&d(e),l&&l.d()}}}function ss(t){let e;function n(t,e){return t[9]&&!t[10]?ds:ls}let i=n(t),a=i(t);return{c(){a.c(),e=u()},m(t,n){a.m(t,n),r(t,e,n)},p(t,s){i===(i=n(t))&&a?a.p(t,s):(a.d(1),a=i(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){t&&d(e),a.d(t)}}}function os(t){let e,n,i,a,s=t[14]("file.reverify_image")+"";return{c(){e=m("button"),n=f(s),h(e,"class","btn btn-secondary btn-xs")},m(s,o){r(s,e,o),p(e,n),i||(a=w(e,"click",t[16]),i=!0)},p(t,e){16384&e&&s!==(s=t[14]("file.reverify_image")+"")&&g(n,s)},d(t){t&&d(e),i=!1,a()}}}function cs(t){let e,n,i,a,s,o,c=t[14]("file.next_attempt_in")+"";return{c(){e=m("span"),n=f("("),i=f(c),a=_(),s=f(t[13]),o=f(" s.)"),h(e,"class","text-secondary")},m(t,c){r(t,e,c),p(e,n),p(e,i),p(e,a),p(e,s),p(e,o)},p(t,e){16384&e&&c!==(c=t[14]("file.next_attempt_in")+"")&&g(i,c),8192&e&&g(s,t[13])},d(t){t&&d(e)}}}function ls(t){let e,n,i,a,s,o,c,l,u,g,f,b;return{c(){e=m("div"),n=m("div"),i=m("img"),l=_(),u=m("a"),h(i,"id",a="img-file-"+t[0]),S(i.src,s=t[5])||h(i,"src",s),h(i,"alt",t[11]),h(i,"title",t[11]),h(i,"class","action-image img-fluid"),h(i,"width",o=t[2]||void 0),h(i,"height",c=t[3]||void 0),h(n,"class","action-image"),h(n,"tabindex","0"),h(n,"role","button"),h(u,"class","hidden-download"),h(u,"target","_blank"),h(u,"rel","noreferrer"),h(u,"href",g=window.WWW_DIR_JAVASCRIPT+"file/downloadfile/"+t[0]+"/"+t[1]+"/(inline)/true"),h(e,"class","position-relative")},m(a,s){r(a,e,s),p(e,n),p(n,i),p(e,l),p(e,u),f||(b=w(n,"click",t[15]),f=!0)},p(t,e){1&e&&a!==(a="img-file-"+t[0])&&h(i,"id",a),32&e&&!S(i.src,s=t[5])&&h(i,"src",s),2048&e&&h(i,"alt",t[11]),2048&e&&h(i,"title",t[11]),4&e&&o!==(o=t[2]||void 0)&&h(i,"width",o),8&e&&c!==(c=t[3]||void 0)&&h(i,"height",c),3&e&&g!==(g=window.WWW_DIR_JAVASCRIPT+"file/downloadfile/"+t[0]+"/"+t[1]+"/(inline)/true")&&h(u,"href",g)},d(t){t&&d(e),f=!1,b()}}}function ds(t){let e;function n(t,e){return t[8]?_s:rs}let i=n(t),a=i(t);return{c(){a.c(),e=u()},m(t,n){a.m(t,n),r(t,e,n)},p(t,s){i===(i=n(t))&&a?a.p(t,s):(a.d(1),a=i(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){t&&d(e),a.d(t)}}}function rs(t){let e,n,i,a,s,o,c,l,_;return{c(){e=m("div"),n=m("img"),h(n,"id",i="img-file-"+t[0]),S(n.src,a=t[5])||h(n,"src",a),h(n,"alt",t[11]),h(n,"title",t[11]),h(n,"class","action-image img-fluid"),h(n,"width",s=t[2]||void 0),h(n,"height",o=t[3]||void 0),h(e,"class","action-image protected-image clickable-reveal"),h(e,"tabindex","0"),h(e,"role","button"),h(e,"aria-label-title",t[12]),h(e,"aria-label",c=t[14]("file.click_to_reveal"))},m(i,a){r(i,e,a),p(e,n),l||(_=w(e,"click",t[15]),l=!0)},p(t,l){1&l&&i!==(i="img-file-"+t[0])&&h(n,"id",i),32&l&&!S(n.src,a=t[5])&&h(n,"src",a),2048&l&&h(n,"alt",t[11]),2048&l&&h(n,"title",t[11]),4&l&&s!==(s=t[2]||void 0)&&h(n,"width",s),8&l&&o!==(o=t[3]||void 0)&&h(n,"height",o),4096&l&&h(e,"aria-label-title",t[12]),16384&l&&c!==(c=t[14]("file.click_to_reveal"))&&h(e,"aria-label",c)},d(t){t&&d(e),l=!1,_()}}}function _s(t){let e,n,i,a;return{c(){e=m("div"),h(e,"class","action-image protected-html"),h(e,"tabindex","0"),h(e,"role","button"),h(e,"aria-label",n=t[14]("file.click_to_reveal"))},m(n,s){r(n,e,s),e.innerHTML=t[8],i||(a=w(e,"click",t[15]),i=!0)},p(t,i){256&i&&(e.innerHTML=t[8]),16384&i&&n!==(n=t[14]("file.click_to_reveal"))&&h(e,"aria-label",n)},d(t){t&&d(e),i=!1,a()}}}function us(t){let e;function n(t,e){return t[4]&&(t[5]||t[8])?ss:!t[4]&&t[6]?as:void 0}let i=n(t),a=i&&i(t);return{c(){a&&a.c(),e=u()},m(t,n){a&&a.m(t,n),r(t,e,n)},p(t,[s]){i===(i=n(t))&&a?a.p(t,s):(a&&a.d(1),a=i&&i(t),a&&(a.c(),a.m(e.parentNode,e)))},i:l,o:l,d(t){t&&d(e),a&&a.d(t)}}}customElements.define("lhc-editor",t(is,{host:{},scope:{},record_id:{},debug:{type:"Boolean"},warning_area:{type:"Boolean"},placeholder:{},readonly:{},whisper:{},enable_canned_suggester:{},disable_key_listeners:{},data_rows_default:{},disable_bb_bold:{},disable_bb_underline:{},disable_bb_italic:{}},[],["getEditor","setContent","insertContent","replaceRange","removeSuggester","setSuggester","insertFormating","getContent","getContentLive","setFocus","isCursorAtEnd","getCaretPositionAndContent"],!1,(t=>class extends t{constructor(){super(),this.host=this}})));const ps=4;function ms(t,e,n){let i;a(t,Q,(t=>n(14,i=t)));let s,{host:c}=e,{file_id:l}=e,{hash:d}=e,{title:r=""}=e,{width:_=""}=e,{height:u=""}=e,{download_policy:p=0}=e,{disable_zoom:m="false"}=e,h=!1,g="",f="",w=0,b="",v="",y=!1,x=!1,$="",C="",j=0;function k(){setTimeout((()=>{const t=document.querySelector(`#img-reveal-holder-${l}`);t&&t.scrollIntoView({behavior:"smooth"})}),100)}function W(){w>=ps?n(6,f=i("file.image_verification_failed")):(n(7,w++,w),fetch(window.WWW_DIR_JAVASCRIPT+"file/verifyaccess/"+l+"/"+d,{method:"GET",headers:{"Content-Type":"application/json"}}).then((t=>t.json())).then((t=>{const e=parseInt(p,10);!0===t.verified?t.error_msg?(n(6,f=t.error_msg),L()):2===e&&(t.protection_image||t.protection_html)?(n(6,f=i("file.access_denied_view_image")),L()):(n(4,h=!0),n(6,f=""),L(),t.protection_image?(b=t.protection_image,n(9,y=!0),n(10,x=!1),n(5,g=b),n(12,C=t.btn_title)):t.protection_html?(n(8,v=t.protection_html),n(9,y=!0),n(10,x=!1),n(5,g="")):n(5,g=window.WWW_DIR_JAVASCRIPT+"file/downloadfile/"+l+"/"+d),w>1&&k()):w<ps?D():n(6,f=i("file.image_verification_failed"))})).catch((t=>{console.error("Verification request failed:",t),w<ps?D():n(6,f=i("file.image_verification_failed"))})))}function D(){n(13,j=4),n(6,f=`${i("file.verifying_image_access")} (${w}/${ps})`),s=setInterval((()=>{n(13,j--,j),j<=0&&(clearInterval(s),W())}),1e3)}function L(){s&&(clearInterval(s),s=null),n(13,j=0)}return o((()=>{if(l&&d){n(11,$=r||"");const t=parseInt(p,10);0===t?(n(4,h=!0),n(5,g=window.WWW_DIR_JAVASCRIPT+"file/downloadfile/"+l+"/"+d)):1===t?(n(4,h=!1),n(7,w=0),n(6,f=i("file.verifying_image_access")),W()):2===t&&(n(4,h=!1),n(6,f=i("file.checking_image_access")),W())}return()=>{L()}})),t.$$set=t=>{"host"in t&&n(17,c=t.host),"file_id"in t&&n(0,l=t.file_id),"hash"in t&&n(1,d=t.hash),"title"in t&&n(18,r=t.title),"width"in t&&n(2,_=t.width),"height"in t&&n(3,u=t.height),"download_policy"in t&&n(19,p=t.download_policy),"disable_zoom"in t&&n(20,m=t.disable_zoom)},[l,d,_,u,h,g,f,w,v,y,x,$,C,j,i,function(){if(y&&!x)y&&!x&&(n(10,x=!0),n(5,g=window.WWW_DIR_JAVASCRIPT+"file/downloadfile/"+l+"/"+d),k());else if("true"!==m&&window.lhinst&&window.lhinst.zoomImage){const t=document.querySelector(`#img-file-${l}`);t&&window.lhinst.zoomImage(t)}},function(){n(6,f=i("file.requesting_reverification")),fetch(window.WWW_DIR_JAVASCRIPT+"file/verifyaccess/"+l+"/"+d+"/(reverify)/true",{method:"GET",headers:{"Content-Type":"application/json"}}).then((t=>t.json())).then((t=>{n(7,w=0),n(6,f=i("file.verifying_image_access")),setTimeout((()=>{W()}),1e3)})).catch((t=>{console.error("Reverification request failed:",t),n(6,f=i("file.reverification_failed"))}))},c,r,p,m]}class hs extends e{constructor(t){super(),n(this,t,ms,us,i,{host:17,file_id:0,hash:1,title:18,width:2,height:3,download_policy:19,disable_zoom:20})}get host(){return this.$$.ctx[17]}set host(t){this.$$set({host:t}),c()}get file_id(){return this.$$.ctx[0]}set file_id(t){this.$$set({file_id:t}),c()}get hash(){return this.$$.ctx[1]}set hash(t){this.$$set({hash:t}),c()}get title(){return this.$$.ctx[18]}set title(t){this.$$set({title:t}),c()}get width(){return this.$$.ctx[2]}set width(t){this.$$set({width:t}),c()}get height(){return this.$$.ctx[3]}set height(t){this.$$set({height:t}),c()}get download_policy(){return this.$$.ctx[19]}set download_policy(t){this.$$set({download_policy:t}),c()}get disable_zoom(){return this.$$.ctx[20]}set disable_zoom(t){this.$$set({disable_zoom:t}),c()}}customElements.define("lhc-image",t(hs,{host:{},file_id:{},hash:{},title:{},width:{},height:{},download_policy:{},disable_zoom:{}},[],[],!1,(t=>class extends t{constructor(){super(),this.host=this}})));export{Ct as AudioChecker,St as BrowserNotification,Jt as ChangeAlwaysOnline,Ot as ChangeOnlineStatus,Kt as ChangeVisibilityMode,ne as ChatsCounter,me as ConnectionStatus,it as LHC,is as LHCEditor,hs as LHCImage,vt as LHCStatus,Ga as LHCWidget,Yt as OpenChat};
//# sourceMappingURL=main.js.map
