import{b as e,f as t,g as a,m as o,n as i,k as n,W as l,j as r,q as s,r as u,u as v,K as p,z as _,B as d,A as c,C as m,F as g,G as h,H as f,I as b,J as w,X as y,x as k,L as S,D as C,E as I,O as T,v as A,N as x,P,ap as W,h as E,y as L,V as F,Q as R,o as D,T as j,ai as N}from"./custom-element.D-YWh2og.js";import{s as B,f as M,b as G,t as O,d as V,e as z,a as U}from"./i18n.Dmh4BpzC.js";import{b as J}from"./select.B5Dt1AnC.js";var H={setInactive:async function(e){return(await fetch(WWW_DIR_JAVASCRIPT+"user/setinactive/"+e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()},setLocalSettings:async function(e,t){return(await fetch(WWW_DIR_JAVASCRIPT+"front/settings/",{method:"POST",body:JSON.stringify({attr:e,val:t}),headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()},searchProvider:async function(e,t){return(await fetch(WWW_DIR_JAVASCRIPT+"chat/searchprovider/"+e+"/?exclude_disabled=1&q="+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()},restoreLocalSetting:function(e,t,a){try{if(localStorage){var o=localStorage.getItem(e);if(null!==o){if(1==a){var i=o.split("/"),n=new Array;return i.forEach((function(e){n.push(parseInt(e))})),n}return o}return t}}catch(e){}return t},getChatData:async function(e){return(await fetch(WWW_DIR_JAVASCRIPT+"chat/getchatdata/"+e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()},getToggleWidget:function(e,t,a){e.update((e=>(e.toggleWidgetData[t]="false"!=this.restoreLocalSetting(t,void 0===a?"false":a,!1),e)))},suspendSync:function(e,t){e.update((e=>{const a=e.suspend_widgets.indexOf(t);return-1===a?e.suspend_widgets.push(t):e.suspend_widgets.splice(a,1),e}))},getToggleWidgetSort:function(e,t,a){e.update((e=>(e.toggleWidgetData[t]=this.restoreLocalSetting(t,void 0===a?"":a,!1),e)))},toggleWidget:function(e,t,a){e.update((e=>{if(e.toggleWidgetData[t]=void 0===e.toggleWidgetData[t]||!e.toggleWidgetData[t],localStorage)try{localStorage.setItem(t,e.toggleWidgetData[t])}catch(e){}return e})),void 0!==a&&1==a&&ee.emitEvent("angularLoadChatList")},toggleWidgetSort:function(e,t,a,o,i){e.update((e=>{if(e.toggleWidgetData[t]=void 0===e.toggleWidgetData[t]?a:e.toggleWidgetData[t]==a?o:a,localStorage)try{localStorage.setItem(t,e.toggleWidgetData[t])}catch(e){}return e})),void 0!==i&&1==i&&ee.emitEvent("angularLoadChatList")},previewMail:function(e,t){t&&t.stopPropagation(),lhc.previewMail(e)},startMailChat:function(e,t,a){if(jQuery("#tabs").length>0)return lhinst.startMailChat(e,jQuery("#tabs"),this.truncate(t||"Mail",10),a)},previewChat:function(e,t){t&&t.stopPropagation(),lhc.previewChat(e)},deleteChat:function(e,t,a){return lhinst.deleteChat(e,t,a)},redirectContact:function(e,t,a){return a&&a.stopPropagation(),lhinst.redirectContact(e,t)},openModal:function(e,t){t&&t.stopPropagation(),lhc.revealModal({url:WWW_DIR_JAVASCRIPT+e,hidecallback:function(){ee.emitEvent("angularLoadChatList")}})},changeWidgetHeight:function(e,t,a){let o=document.getElementById(t+"-panel-list");o&&e.update((e=>(e[t+"_m_h"]=!0===a?parseInt(o.offsetHeight+28)+"px":(parseInt(o.offsetHeight-28)>56?parseInt(o.offsetHeight-28):56)+"px",localStorage.setItem(t+"_m_h",e[t+"_m_h"]),e)))},startChatTransfer:function(e,t,a,o){return lhinst.startChatTransfer(e,$("#tabs"),t,a,o)},startChatNewWindowTransfer:function(e,t,a,o){return lhinst.startChatNewWindowTransfer(e,t,a,o)},startChat:function(e,t,a){if($("#tabs").length>0)return lhinst.addOpenTrace("click"),lhinst.startChat(e,$("#tabs"),this.truncate(t||"Visitor",10),a);lhinst.startChatNewWindow(e,t)},truncate:function(e,t,a){return isNaN(t)&&(t=10),void 0===a&&(a="..."),e.length<=t||e.length-a.length<=t?e:String(e).substring(0,t-a.length)+a},storeLocalSetting:function(e,t){if(localStorage)try{t=localStorage.setItem(e,t)}catch(e){}},removeLocalSetting:function(e){if(localStorage)try{localStorage.removeItem(e)}catch(e){}},loadActiveChats:async function(){return(await fetch(WWW_DIR_JAVASCRIPT+"chat/loadactivechats",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()},startGroupChat:function(e,t){if(jQuery("#tabs").length>0)return lhinst.startGroupChat(e,$("#tabs"),this.truncate(t,10))},rejectGroupChat:async function(e,t){t&&t.stopPropagation();const a=await fetch(WWW_DIR_JAVASCRIPT+"groupchat/leave/"+e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}});await a.json(),ee.emitEvent("angularLoadChatList")},startNewGroupChat:async function(e,t,a){const o=await fetch(WWW_DIR_JAVASCRIPT+"groupchat/newgroupajax",{method:"POST",body:JSON.stringify({name:t,public:a}),headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}});let i=await o.json();e.update((e=>(e.new_group_name="",e.new_group_type="",e))),lhinst.startGroupChat(i.id,jQuery("#tabs"),this.truncate(i.name,10)),ee.emitEvent("angularLoadChatList")},startChatOperator:async function(e){const t=await fetch(WWW_DIR_JAVASCRIPT+"groupchat/startchatwithoperator/"+e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}});let a=await t.json();lhinst.startGroupChat(a.id,jQuery("#tabs"),this.truncate(a.name,10))},getNotificationsData:async function(e){return(await fetch(WWW_DIR_JAVASCRIPT+"chat/getnotificationsdata/(id)/"+e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()}},q=v('<li><label><input type="checkbox"/> </label></li> <li><label><input type="checkbox"/> </label></li> <li><label><input type="checkbox"/> </label></li> <li><label><input type="checkbox"/> </label></li>',1),K=v('<li><label><input type="checkbox"/> <i class="material-icons">home</i> </label></li>'),Q=v('<li><label><input type="checkbox"/> <i class="material-icons">&#xE84F;</i> </label></li>'),X=v('<li class="border-bottom"><label><input data-stopPropagation="true" type="checkbox"/> </label></li>'),Z=v('<li data-stopPropagation="true"><label><input type="checkbox"/><i class="material-icons">&#xE8CC;</i> </label></li>'),Y=v('<li class="border-bottom"></li>'),te=v("<!> <!>",1),ae=v('<li data-stopPropagation="true"><label><input type="checkbox"/><i title="Department group" class="material-icons">&#xE84F;</i> </label></li>'),oe=v('<li class="border-bottom"></li>'),ie=v('<li data-stopPropagation="true"><label><input type="checkbox"/><i>home</i> </label></li>'),ne=v('<div><div class="btn-group btn-block btn-block-department"><button type="button" class="btn btn-light btn-block btn-sm dropdown-toggle btn-department-dropdown" data-bs-toggle="dropdown" aria-expanded="false"> </button> <ul class="dropdown-menu" role="menu"><li class="dropdown-result"><ul class="list-unstyled dropdown-lhc"><!> <!> <!> <!> <!> <!> <!> <li class="p-1"><input type="text" data-stopPropagation="true" class="form-control form-control-sm"/></li> <li class="dropdown-result" style="max-height: 218px;min-height: 218px"><ul class="list-unstyled dropdown-lhc"></ul></li></ul></li></ul></div></div>'),le=v('<li data-stopPropagation="true"><label><input type="checkbox"/><i class="material-icons me-0"> </i> </label></li>'),re=v('<!> <li class="border-bottom"></li>',1),se=v('<li data-stopPropagation="true"><label><input type="checkbox"/><i title="User" class="material-icons">account_box</i> </label></li>'),ue=v('<li class="border-top"></li>'),ve=v('<li data-stopPropagation="true"><label><input type="checkbox"/><i title="User group" class="material-icons">people</i> </label></li>'),pe=v('<div class="col-4 pe-0"><div class="btn-group btn-block btn-block-department"><button type="button" class="btn btn-light btn-block btn-sm dropdown-toggle btn-department-dropdown" data-bs-toggle="dropdown" aria-expanded="false"> </button> <ul class="dropdown-menu dropdown-lhc" role="menu"><li class="p-1"><input type="text" data-stopPropagation="true" class="filter-text-input form-control form-control-sm"/></li> <li class="dropdown-result"><ul class="list-unstyled dropdown-lhc"><!> <!> <!> <!></ul></li></ul></div></div>'),_e=v('<div><select class="form-control form-control-sm btn-light"><option>5</option><option>10</option><option>25</option><option>50</option><option>100</option></select></div>'),de=v('<div><div class="row"><!> <!> <!></div></div>');function ce(e,v){t(v,!1);const R=()=>i(me(),"$lhcList",j),D=()=>i(O,"$t",j),[j,N]=f(),z=[],U=[],$=[],H=[],ce=[];let me=a(v,"lhcList",12,null),ge=a(v,"optionsPanel",28,(()=>({panelid:"pendingd",limitid:"limitp",userid:"pendingu"}))),he=o(R()[ge().userid]),fe=o(R()[ge().panelid+"_ugroups"]),be=o(R()[ge().panelid+"_dpgroups"]),we=o(R()[ge().panelid+"_products"]),ye=o(R()[ge().panelid]),ke=o(R()[ge().limitid]);n((()=>(r(fe),l(ge()))),(()=>{r(fe),y(me(),m(R)[ge().panelid+"_ugroups"]=r(fe),m(R))})),n((()=>(r(be),l(ge()))),(()=>{r(be),y(me(),m(R)[ge().panelid+"_dpgroups"]=r(be),m(R))})),n((()=>r(he)),(()=>{r(he),y(me(),m(R)[ge().userid]=r(he),m(R))})),n((()=>(r(we),l(ge()))),(()=>{r(we),y(me(),m(R)[ge().panelid+"_products"]=r(we),m(R))})),n((()=>r(ye)),(()=>{r(ye),y(me(),m(R)[ge().panelid]=r(ye),m(R))})),n((()=>r(ke)),(()=>{r(ke),y(me(),m(R)[ge().limitid]=r(ke),m(R))})),s();var Se={get lhcList(){return me()},set lhcList(e){me(e),b()},get optionsPanel(){return ge()},set optionsPanel(e){ge(e),b()}};u();var Ce=de(),Ie=d(Ce),Te=d(Ie),Ae=e=>{var t=ne(),a=d(t),o=d(a),i=d(o,!0);w(o);var n=_(o,2),s=d(n),u=d(s),v=d(u),h=e=>{var t=q(),a=A(t),o=d(a),i=d(o);S(i);var n=_(i);w(o),w(a);var l=_(a,2),r=d(l),s=d(r);S(s);var u=_(s);w(r),w(l);var v=_(l,2),p=d(v),h=d(p);S(h);var f=_(h);w(p),w(v);var b=_(v,2),k=d(b),T=d(k);S(T);var x=_(T);w(k),w(b),c(((e,t,a,o)=>{C(n,` ${e??""}`),C(u,` ${t??""}`),C(f,` ${a??""}`),C(x,` ${o??""}`)}),[()=>(D(),m((()=>D()("widget_options.check_all")))),()=>(D(),m((()=>D()("widget_options.only_online")))),()=>(D(),m((()=>D()("widget_options.only_explicit_online")))),()=>(D(),m((()=>D()("widget_options.hide_hidden"))))]),V(i,(()=>R()[ge().panelid+"_all_departments"]),(e=>y(me(),m(R)[ge().panelid+"_all_departments"]=e,m(R)))),I("change",i,(e=>{ee.emitEvent("svelteallDepartmentsChanged",[ge().panelid,!0])})),V(s,(()=>R()[ge().panelid+"_only_online"]),(e=>y(me(),m(R)[ge().panelid+"_only_online"]=e,m(R)))),I("change",s,(e=>{ee.emitEvent("svelteallDepartmentsChanged",[ge().panelid,!0])})),V(h,(()=>R()[ge().panelid+"_only_explicit_online"]),(e=>y(me(),m(R)[ge().panelid+"_only_explicit_online"]=e,m(R)))),I("change",h,(e=>{ee.emitEvent("svelteallDepartmentsChanged",[ge().panelid,!0])})),V(T,(()=>R()[ge().panelid+"_hide_hidden"]),(e=>y(me(),m(R)[ge().panelid+"_hide_hidden"]=e,m(R)))),I("change",T,(e=>{ee.emitEvent("svelteallDepartmentsChanged",[ge().panelid,!0])})),g(e,t)};p(v,(e=>{l(ge()),m((()=>!ge().hasOwnProperty("hide_department_variations")))&&e(h)}));var f=_(v,2),b=e=>{var t=K(),a=d(t),o=d(a);S(o);var i=_(o,3,!0);w(a),w(t),c((e=>C(i,e)),[()=>(D(),m((()=>D()("widget_options.hide_dep"))))]),V(o,(()=>R()[ge().panelid+"_hide_dep"]),(e=>y(me(),m(R)[ge().panelid+"_hide_dep"]=e,m(R)))),I("change",o,(e=>{ee.emitEvent("svelteallDepartmentsChanged",[ge().panelid,!0])})),g(e,t)};p(f,(e=>{l(ge()),m((()=>ge().hasOwnProperty("hide_department")&&1==ge().hide_department))&&e(b)}));var P=_(f,2),W=e=>{var t=Q(),a=d(t),o=d(a);S(o);var i=_(o,3,!0);w(a),w(t),c((e=>C(i,e)),[()=>(D(),m((()=>D()("widget_options.hide_dep_groups"))))]),V(o,(()=>R()[ge().panelid+"_hide_dgroup"]),(e=>y(me(),m(R)[ge().panelid+"_hide_dgroup"]=e,m(R)))),I("change",o,(e=>{ee.emitEvent("svelteallDepartmentsChanged",[ge().panelid,!0])})),g(e,t)};p(P,(e=>{l(ge()),m((()=>ge().hasOwnProperty("hide_depgroup")&&1==ge().hide_depgroup))&&e(W)}));var L=_(P,2),F=e=>{var t=X(),a=d(t),o=d(a);S(o);var i=_(o);w(a),w(t),c((e=>C(i,` ${e??""}`)),[()=>(D(),m((()=>D()("widget_options.hide_disabled"))))]),V(o,(()=>R()[ge().panelid+"_hide_disabled"]),(e=>y(me(),m(R)[ge().panelid+"_hide_disabled"]=e,m(R)))),I("change",o,(e=>{ee.emitEvent("svelteallDepartmentsChanged",[ge().panelid,!0])})),g(e,t)};p(L,(e=>{l(ge()),m((()=>!ge().hasOwnProperty("hide_department_variations")))&&e(F)}));var j=_(L,2),N=e=>{var t=te(),a=A(t);k(a,1,(()=>(R(),m((()=>R().userProductNames)))),(e=>e.id),((e,t)=>{var a,o=Z(),i=d(o),n=d(i);S(n);var l=_(n,2,!0);w(i),w(o),c((()=>{a!==(r(t),a=m((()=>r(t).id)))&&(n.value=(n.__value=(r(t),m((()=>r(t).id))))??""),C(l,(r(t),m((()=>r(t).name))))})),M(z,[],n,(()=>(r(t),m((()=>r(t).id)),r(we))),(e=>E(we,e))),I("change",n,(e=>ee.emitEvent("svelteProductChanged",[ge().panelid+"_products"]))),g(e,o)}));var o=_(a,2),i=e=>{var t=Y();g(e,t)};p(o,(e=>{R(),m((()=>R().userProductNames.length>0))&&e(i)})),g(e,t)};p(j,(e=>{l(ge()),m((()=>!ge().hasOwnProperty("disable_product")||0==ge().disable_product))&&e(N)}));var O=_(j,2);k(O,1,(()=>(R(),m((()=>R().userDepartmentsGroups)))),(e=>e.id),((e,t)=>{var a,o=ae(),i=d(o),n=d(i);S(n);var l=_(n,2,!0);w(i),w(o),c((()=>{a!==(r(t),a=m((()=>r(t).id)))&&(n.value=(n.__value=(r(t),m((()=>r(t).id))))??""),C(l,(r(t),m((()=>r(t).name))))})),M(U,[],n,(()=>(r(t),m((()=>r(t).id)),r(be))),(e=>E(be,e))),I("change",n,(e=>{ee.emitEvent("svelteProductChanged",[ge().panelid+"_dpgroups"])})),g(e,o)}));var J=_(O,2),H=e=>{var t=oe();g(e,t)};p(J,(e=>{R(),m((()=>R().userDepartmentsGroups.length>0))&&e(H)}));var le=_(J,2),re=d(le);S(re),w(le);var se=_(le,2),ue=d(se);k(ue,5,(()=>(R(),m((()=>R().userDepartments)))),(e=>e.id),((e,t)=>{var a=T(),o=A(a),i=e=>{var a,o=ie(),i=d(o),n=d(i);S(n);var l=_(n);let s;var u=_(l,1,!0);w(i),w(o),c((e=>{a!==(r(t),a=m((()=>r(t).id)))&&(n.value=(n.__value=(r(t),m((()=>r(t).id))))??""),x(l,"title",e),s=B(l,1,"material-icons",null,s,{"chat-active":r(t).slc}),C(u,(r(t),m((()=>r(t).name))))}),[()=>(D(),m((()=>D()("widget.department"))))]),M($,[],n,(()=>(r(t),m((()=>r(t).id)),r(ye))),(e=>E(ye,e))),I("change",n,(e=>{ee.emitEvent("svelteDepartmentChanged",[ge().panelid])})),g(e,o)};p(o,(e=>{R(),l(ge()),r(t),m((()=>!(1==R()[ge().panelid+"_only_explicit_online"]&&0==r(t).oexp||1==R()[ge().panelid+"_hide_hidden"]&&1==r(t).hidden||1==R()[ge().panelid+"_hide_disabled"]&&1==r(t).disabled||R()[ge().panelid+"_only_online"]&&0==r(t).ogen)))&&e(i)})),g(e,a)})),w(ue),w(se),w(u),w(s),w(n),w(a),w(t),c(((e,a,o)=>{B(t,1,e),C(i,a),x(re,"placeholder",o)}),[()=>(l(ge()),m((()=>"col-"+(ge().hasOwnProperty("userid")?6:ge().hasOwnProperty("hide_limits")?12:10)+" pe-0"))),()=>(R(),l(ge()),D(),m((()=>0==R()[ge().panelid].length?D()("widget_options.all_dep"):1!=R()[ge().panelid].length||ge().hasOwnProperty("no_names_department")&&!0===ge().no_names_department?"["+R()[ge().panelid].length+"] "+D()("widget_options.departments"):R()[ge().panelid+"Names"].join(", ")))),()=>(D(),m((()=>D()("widget_options.search_dep"))))]),G(re,(()=>R().depFilterText),(e=>y(me(),m(R).depFilterText=e,m(R)))),g(e,t)};p(Te,(e=>{l(ge()),m((()=>!ge().hasOwnProperty("hide_department_filter")||!1===ge().hide_department_filter))&&e(Ae)}));var xe=_(Te,2),Pe=e=>{var t=pe(),a=d(t),o=d(a),i=d(o,!0);w(o);var n=_(o,2),s=d(n),u=d(s);S(u),w(s);var v=_(s,2),h=d(v),f=d(h),b=e=>{var t=re(),a=A(t);k(a,1,(()=>(l(ge()),m((()=>ge().custom_filters)))),L,((e,t)=>{var a=le(),o=d(a),i=d(o);S(i);var n=_(i),l=d(n,!0);w(n);var s=_(n,1,!0);w(o),w(a),c((()=>{x(o,"title",(r(t),m((()=>r(t).title)))),C(l,(r(t),m((()=>r(t).icon)))),C(s,(r(t),m((()=>r(t).label))))})),V(i,(()=>R()[ge().panelid+"_"+r(t).field]),(e=>y(me(),m(R)[ge().panelid+"_"+r(t).field]=e,m(R)))),I("change",i,(e=>{ee.emitEvent("svelteallDepartmentsChanged",[ge().panelid,!0])})),g(e,a)})),F(2),g(e,t)};p(f,(e=>{l(ge()),m((()=>ge().hasOwnProperty("custom_filters")))&&e(b)}));var T=_(f,2);k(T,1,(()=>(R(),m((()=>R().userList)))),(e=>e.id),((e,t)=>{var a,o=se(),i=d(o),n=d(i);S(n);var l=_(n,2,!0);w(i),w(o),c((()=>{a!==(r(t),a=m((()=>r(t).id)))&&(n.value=(n.__value=(r(t),m((()=>r(t).id))))??""),C(l,(r(t),m((()=>r(t).name||r(t).name_official))))})),M(H,[],n,(()=>(r(t),m((()=>r(t).id)),r(he))),(e=>E(he,e))),I("change",n,(e=>{ee.emitEvent("svelteProductChanged",[ge().userid])})),g(e,o)}));var P=_(T,2),W=e=>{var t=ue();g(e,t)};p(P,(e=>{R(),m((()=>R().userGroups.length>0))&&e(W)}));var j=_(P,2);k(j,1,(()=>(R(),m((()=>R().userGroups)))),(e=>e.id),((e,t)=>{var a,o=ve(),i=d(o),n=d(i);S(n);var l=_(n,2,!0);w(i),w(o),c((()=>{a!==(r(t),a=m((()=>r(t).id)))&&(n.value=(n.__value=(r(t),m((()=>r(t).id))))??""),C(l,(r(t),m((()=>r(t).name))))})),M(ce,[],n,(()=>(r(t),m((()=>r(t).id)),r(fe))),(e=>E(fe,e))),I("change",n,(e=>{ee.emitEvent("svelteProductChanged",[ge().panelid+"_ugroups"])})),g(e,o)})),w(h),w(v),w(n),w(a),w(t),c(((e,t)=>{C(i,e),x(u,"placeholder",t)}),[()=>(D(),m((()=>D()("widget_options.users")))),()=>(D(),m((()=>D()("widget_options.search_operators"))))]),G(u,(()=>R().userFilterText),(e=>y(me(),m(R).userFilterText=e,m(R)))),g(e,t)};p(xe,(e=>{l(ge()),m((()=>ge().hasOwnProperty("userid")))&&e(Pe)}));var We=_(xe,2),Ee=e=>{var t=_e(),a=d(t);c((()=>{r(ke),P((()=>{ee,ge(),D(),R()}))}));var o=d(a);o.value=o.__value="5";var i=_(o);i.value=i.__value="10";var n=_(i);n.value=n.__value="25";var s=_(n);s.value=s.__value="50";var u=_(s);u.value=u.__value="100",w(a),w(t),c(((e,r)=>{B(t,1,e),x(a,"title",r),W(o,(R(),l(ge()),m((()=>5==R()[ge().limitid])))),W(i,(R(),l(ge()),m((()=>10==R()[ge().limitid])))),W(n,(R(),l(ge()),m((()=>25==R()[ge().limitid])))),W(s,(R(),l(ge()),m((()=>50==R()[ge().limitid])))),W(u,(R(),l(ge()),m((()=>100==R()[ge().limitid]))))}),[()=>(l(ge()),m((()=>"col-"+(ge().hasOwnProperty("limits_width")?ge().limits_width:2)))),()=>(D(),m((()=>D()("widget_options.limit"))))]),J(a,(()=>r(ke)),(e=>E(ke,e))),I("change",a,(e=>{ee.emitEvent("svelteLimitChanged",[ge().limitid])})),g(e,t)};p(We,(e=>{l(ge()),m((()=>!ge().hasOwnProperty("hide_limits")))&&e(Ee)})),w(Ie),w(Ce),c((e=>B(Ce,1,e)),[()=>(l(ge()),m((()=>"p-"+(ge().hasOwnProperty("padding_filters")?ge().padding_filters:2))))]),g(e,Ce);var Le=h(Se);return N(),Le}e(ce,{lhcList:{},optionsPanel:{}},[],[],!0);var me=v('<div class="p-2"><div class="row"><div class="col-3 pe-0"><input class="form-control form-control-sm" type="text" value=""/></div> <div class="col-3 pe-2"><!></div> <div class="col-3 pe-0"><select class="form-control form-control-sm" id="svelte-countryFilter"><option selected="selected"> </option><option>Afghanistan</option><option>Åland Islands</option><option>Albania</option><option>Algeria</option><option>American Samoa</option><option>Andorra</option><option>Angola</option><option>Anguilla</option><option>Antarctica</option><option>Antigua and Barbuda</option><option>Argentina</option><option>Armenia</option><option>Aruba</option><option>Australia</option><option>Austria</option><option>Azerbaijan</option><option>Bahamas</option><option>Bahrain</option><option>Bangladesh</option><option>Barbados</option><option>Belarus</option><option>Belgium</option><option>Belize</option><option>Benin</option><option>Bermuda</option><option>Bhutan</option><option>Bolivia, Plurinational State of</option><option>Bonaire, Sint Eustatius and Saba</option><option>Bosnia and Herzegovina</option><option>Botswana</option><option>Bouvet Island</option><option>Brazil</option><option>British Indian Ocean Territory</option><option>Brunei Darussalam</option><option>Bulgaria</option><option>Burkina Faso</option><option>Burundi</option><option>Cambodia</option><option>Cameroon</option><option>Canada</option><option>Cape Verde</option><option>Cayman Islands</option><option>Central African Republic</option><option>Chad</option><option>Chile</option><option>China</option><option>Christmas Island</option><option>Cocos (Keeling) Islands</option><option>Colombia</option><option>Comoros</option><option>Congo</option><option>Congo, the Democratic Republic of the</option><option>Cook Islands</option><option>Costa Rica</option><option>Côte d\'Ivoire</option><option>Croatia</option><option>Cuba</option><option>Curaçao</option><option>Cyprus</option><option>Czech Republic</option><option>Denmark</option><option>Djibouti</option><option>Dominica</option><option>Dominican Republic</option><option>Ecuador</option><option>Egypt</option><option>El Salvador</option><option>Equatorial Guinea</option><option>Eritrea</option><option>Estonia</option><option>Ethiopia</option><option>Falkland Islands (Malvinas)</option><option>Faroe Islands</option><option>Fiji</option><option>Finland</option><option>France</option><option>French Guiana</option><option>French Polynesia</option><option>French Southern Territories</option><option>Gabon</option><option>Gambia</option><option>Georgia</option><option>Germany</option><option>Ghana</option><option>Gibraltar</option><option>Greece</option><option>Greenland</option><option>Grenada</option><option>Guadeloupe</option><option>Guam</option><option>Guatemala</option><option>Guernsey</option><option>Guinea</option><option>Guinea-Bissau</option><option>Guyana</option><option>Haiti</option><option>Heard Island and McDonald Islands</option><option>Holy See (Vatican City State)</option><option>Honduras</option><option>Hong Kong</option><option>Hungary</option><option>Iceland</option><option>India</option><option>Indonesia</option><option>Iran, Islamic Republic of</option><option>Iraq</option><option>Ireland</option><option>Isle of Man</option><option>Israel</option><option>Italy</option><option>Jamaica</option><option>Japan</option><option>Jersey</option><option>Jordan</option><option>Kazakhstan</option><option>Kenya</option><option>Kiribati</option><option>Korea, Democratic People\'s Republic of</option><option>Korea, Republic of</option><option>Kuwait</option><option>Kyrgyzstan</option><option>Lao People\'s Democratic Republic</option><option>Latvia</option><option>Lebanon</option><option>Lesotho</option><option>Liberia</option><option>Libya</option><option>Liechtenstein</option><option>Lithuania</option><option>Luxembourg</option><option>Macao</option><option>Macedonia, the Former Yugoslav Republic of</option><option>Madagascar</option><option>Malawi</option><option>Malaysia</option><option>Maldives</option><option>Mali</option><option>Malta</option><option>Marshall Islands</option><option>Martinique</option><option>Mauritania</option><option>Mauritius</option><option>Mayotte</option><option>Mexico</option><option>Micronesia, Federated States of</option><option>Moldova, Republic of</option><option>Monaco</option><option>Mongolia</option><option>Montenegro</option><option>Montserrat</option><option>Morocco</option><option>Mozambique</option><option>Myanmar</option><option>Namibia</option><option>Nauru</option><option>Nepal</option><option>Netherlands</option><option>New Caledonia</option><option>New Zealand</option><option>Nicaragua</option><option>Niger</option><option>Nigeria</option><option>Niue</option><option>Norfolk Island</option><option>Northern Mariana Islands</option><option>Norway</option><option>Oman</option><option>Pakistan</option><option>Palau</option><option>Palestine, State of</option><option>Panama</option><option>Papua New Guinea</option><option>Paraguay</option><option>Peru</option><option>Philippines</option><option>Pitcairn</option><option>Poland</option><option>Portugal</option><option>Puerto Rico</option><option>Qatar</option><option>Réunion</option><option>Romania</option><option>Russian Federation</option><option>Rwanda</option><option>Saint Barthélemy</option><option>Saint Helena, Ascension and Tristan da Cunha</option><option>Saint Kitts and Nevis</option><option>Saint Lucia</option><option>Saint Martin (French part)</option><option>Saint Pierre and Miquelon</option><option>Saint Vincent and the Grenadines</option><option>Samoa</option><option>San Marino</option><option>Sao Tome and Principe</option><option>Saudi Arabia</option><option>Senegal</option><option>Serbia</option><option>Seychelles</option><option>Sierra Leone</option><option>Singapore</option><option>Sint Maarten (Dutch part)</option><option>Slovakia</option><option>Slovenia</option><option>Solomon Islands</option><option>Somalia</option><option>South Africa</option><option>South Georgia and the South Sandwich Islands</option><option>South Sudan</option><option>Spain</option><option>Sri Lanka</option><option>Sudan</option><option>Suriname</option><option>Svalbard and Jan Mayen</option><option>Swaziland</option><option>Sweden</option><option>Switzerland</option><option>Syrian Arab Republic</option><option>Taiwan, Province of China</option><option>Tajikistan</option><option>Tanzania, United Republic of</option><option>Thailand</option><option>Timor-Leste</option><option>Togo</option><option>Tokelau</option><option>Tonga</option><option>Trinidad and Tobago</option><option>Tunisia</option><option>Turkey</option><option>Turkmenistan</option><option>Turks and Caicos Islands</option><option>Tuvalu</option><option>Uganda</option><option>Ukraine</option><option>United Arab Emirates</option><option>United Kingdom</option><option>United States</option><option>United States Minor Outlying Islands</option><option>Uruguay</option><option>Uzbekistan</option><option>Vanuatu</option><option>Venezuela, Bolivarian Republic of</option><option>Viet Nam</option><option>Virgin Islands, British</option><option>Virgin Islands, U.S.</option><option>Wallis and Futuna</option><option>Western Sahara</option><option>Yemen</option><option>Zambia</option><option>Zimbabwe</option></select></div> <div class="col-3"><input type="text" class="form-control form-control-sm" id="svelte-time_on_siteFilter" value=""/></div></div></div>'),ge=v('<a class="material-icons">access_time</a>'),he=v('| <span class="material-icons action-image"> </span>',1),fe=v('<a class="ms-0 me-1 text-muted material-icons"> </a>'),be=v('<i class="material-icons text-muted"> </i>'),we=v('<th width="10%"><!> </th>'),ye=v('<th width="1%"> </th>'),ke=v("<tr><td><h5> </h5></td></tr>"),Se=v('<td nowrap="" width="1%"><div> <br/> <span class="fs-11"> </span></div></td>'),Ce=v("<span><img/></span>"),Ie=v('<span><i class="material-icons me-0">chat</i><!></span>'),Te=v('<span><i class="material-icons me-0">face</i>&nbsp;<!> </span>'),Ae=v('<span><i class="material-icons me-0">face</i><!></span>'),xe=v('<span><i class="material-icons me-0">chat_bubble_outline</i><!></span>'),Pe=v('<span class="btn btn-xs btn-outline-primary up-case-first"> </span><span class="btn btn-outline-primary btn-xs"><i class="material-icons">access_time</i> </span>',1),We=v('<div class="btn-group" role="group" aria-label="..."><a href="#"><i class="material-icons me-0">content_copy</i></a> <a href="#"><i class="material-icons">info_outline</i><!> <!></a> <!> <!> <!> <!> <!> <a href="#"><i class="material-icons me-0">send</i><!></a></div>'),Ee=v('<div class="abbr-list"><i class="material-icons">&#xE8A0;</i><a target="_blank"> </a></div>'),Le=v('<div class="abbr-list"><i class="material-icons">&#xE8A0;</i><a target="_blank"> </a></div>'),Fe=v('<div class="abbr-list"> </div>'),Re=v("<td></td>"),De=v('<td><div style="width:90px"><div class="btn-group" role="group" aria-label="..."><button class="btn btn-secondary btn-sm material-icons mat-100 me-0">chat</button> <button class="btn btn-danger btn-sm material-icons mat-100 me-0">delete</button></div></div></td>'),je=v("<tr><!><td><!> <!> <!></td><!><!></tr>"),Ne=v("<tbody><!><!></tbody>"),Be=v('<!> <div class="panel-list"><table cellpadding="0" cellspacing="0"><thead><tr><th width="50%"><a class="material-icons">access_time</a> <a class="material-icons">access_time</a> <a class="material-icons">access_time</a> <!> <a href="#"> </a> | <a href="#"> </a><!> <div class="float-end expand-actions"><!> <a class="text-muted disable-select"><i class="material-icons">expand</i></a> <a class="text-muted disable-select"><i class="material-icons">compress</i></a></div></th><!><!></tr></thead><!></table></div>',1);function Me(e,n){t(n,!1);const s=()=>i(z,"$lhcList",S),v=()=>i(O,"$t",S),[S,P]=f();let W=a(n,"www_dir_flags",12,""),E=a(n,"track_is_online",12,!1),F=a(n,"sound_enabled",12),M=a(n,"notification_enabled",12),G=a(n,"online_connected",12),V=a(n,"max_rows",12),$=a(n,"timeout",12,"3600"),J=a(n,"country",12,"none"),q=a(n,"forbidden_visitors",12,"false"),K=a(n,"update_timeout",12,10),Q=a(n,"time_on_site",12,""),X=a(n,"online_check",12,null),Z=a(n,"group_by_field",12),Y=a(n,"render_ui",12,"true"),te=a(n,"osettings_hide_action_buttons",12,"false"),ae=o({timeoutVisitors:null,time_on_site:Q(),country:J(),max_rows:parseInt(V()),updateTimeout:parseInt(K()),timeout:$(),lhcListRequestInProgress:!1,timeoutControl:null,forbiddenVisitors:"true"===q(),soundEnabled:"true"===F(),notificationEnabled:"true"===M(),lastSyncSkipped:!1,attrf_key_1:"",attrf_val_1:"",attrf_key_2:"",attrf_val_2:"",attrf_key_3:"",attrf_val_3:"",attrf_key_4:"",attrf_val_4:"",attrf_key_5:"",attrf_val_5:"",query:"",wasInitiated:!1,online_connected:"true"===G(),predicate:"last_visit",reverse:!0,groupByField:Z(),hide_action_buttons:"true"===te()}),oe=(r(ae).hide_action_buttons,"btn-outline-secondary"),ie=(r(ae).hide_action_buttons,"btn-outline-success"),ne=(r(ae).hide_action_buttons,"btn-outline-danger"),le=(r(ae).hide_action_buttons,"btn-outline-info");function re(e,t){let a=document.getElementById("svelte-"+e);a&&(a.innerText=t)}function se(e,t){let a=document.getElementById("svelte-"+e);a&&(a.value=t)}function ue(){return"/(method)/ajax/(timeout)/"+r(ae).timeout+(s().department_online_dpgroups.length>0?"/(department_dpgroups)/"+s().department_online_dpgroups.join("/"):"")+(s().department_online.length>0?"/(department)/"+s().department_online.join("/"):"")+(r(ae).max_rows>0?"/(maxrows)/"+r(ae).max_rows:"")+(""!=r(ae).country?"/(country)/"+r(ae).country:"")+(""!=r(ae).time_on_site?"/(timeonsite)/"+encodeURIComponent(r(ae).time_on_site):"")}function ve(e,t,a){e.sort((function(e,o){return e[t]<=o[t]?a&&!1!==a?1:-1:a&&!1!==a?-1:1}))}async function pe(){if(1==lhinst.disableSync||1==r(ae).forbiddenVisitors)return R(ae,r(ae).lastSyncSkipped=!0),clearTimeout(r(ae).timeoutControl),void R(ae,r(ae).timeoutControl=setTimeout((function(){pe()}),1e3*r(ae).updateTimeout));var e=!1,t=document.getElementById("onlineusers");if(null!==t&&(e=t.classList.contains("active")),0==e){var a=document.getElementById("map");null!==a&&(e=a.classList.contains("active"))}if(0==e&&null!==document.getElementById("onlineusers-panel-list")){var o=document.getElementById("dashboard");null!==o&&o.classList.contains("active")&&(e=!0)}if(!0===e&&-1!==s().suspend_widgets.indexOf("onlineusers")&&(e=!1),!1===e)return R(ae,r(ae).lastSyncSkipped=!0),clearTimeout(r(ae).timeoutControl),void R(ae,r(ae).timeoutControl=setTimeout((function(){pe()}),1e3*r(ae).updateTimeout));R(ae,r(ae).lastSyncSkipped=!1),clearTimeout(r(ae).timeoutControl);try{const e=await fetch(WWW_DIR_JAVASCRIPT+"chat/onlineusers"+ue(),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok)throw new Error("Network response was not OK ["+e.status+"] ["+e.statusText+"]");const t=await e.json();z.update((e=>(e.onlineusers=t,"none"!==r(ae).groupByField?e.onlineusersGrouped=function(e){let t=[];ve(e,r(ae).groupByField);for(var a="_INVALID_GROUP_VALUE_",o=0;o<e.length;o++){var i=e[o];if(i[r(ae).groupByField]!==a){var n={label:i[r(ae).groupByField],id:o,ou:[]};a=n.label,t.push(n)}n.ou.push(i)}return t}(e.onlineusers.list):(e.onlineusersGrouped=[],e.onlineusersGrouped.push({label:"",id:0,ou:e.onlineusers.list})),e.onlineusersGrouped.forEach((e=>{ve(e.ou,r(ae).predicate,r(ae).reverse)})),e)));let a=document.getElementById("online-users-count");if(a&&(a.innerText=t.list.length),ee.emitEvent("chatAdminSyncOnlineVisitors",[t.list]),r(ae).notificationEnabled||r(ae).soundEnabled){var i=!1,n=[];if(s().onlineusers.list.forEach((e=>{var t=!0;-1===s().onlineusersPreviousID.indexOf(e.id)&&(t=!1,s().onlineusersPreviousID.push(e.id)),!0===r(ae).wasInitiated&&!1===t&&(i=!0,n.push(e))})),1==i){if(r(ae).soundEnabled&&Modernizr.audio){var l=new Audio;l.src=Modernizr.audio.ogg?WWW_DIR_JAVASCRIPT_FILES+"/new_visitor.ogg":Modernizr.audio.mp3?WWW_DIR_JAVASCRIPT_FILES+"/new_visitor.mp3":WWW_DIR_JAVASCRIPT_FILES+"/new_visitor.wav",l.load(),setTimeout((function(){l.play()}),500)}r(ae).notificationEnabled&&(window.webkitNotifications||window.Notification)&&n.forEach((function(e){if(window.webkitNotifications)0==window.webkitNotifications.checkPermission()&&((t=window.webkitNotifications.createNotification(WWW_DIR_JAVASCRIPT_FILES_NOTIFICATION+"/notification.png",e.ip+(""!=e.user_country_name?", "+e.user_country_name:""),(""!=e.page_title?e.page_title+"\n-----\n":"")+(""!=e.referrer?e.referrer+"\n-----\n":""))).onclick=function(){t.cancel()},t.show(),setTimeout((function(){t.cancel()}),15e3));else if(window.Notification){var t;if("granted"==window.Notification.permission)(t=new Notification(e.ip+(""!=e.user_country_name?", "+e.user_country_name:""),{icon:WWW_DIR_JAVASCRIPT_FILES_NOTIFICATION+"/notification.png",body:(""!=e.page_title?e.page_title+"\n-----\n":"")+(""!=e.referrer?e.referrer+"\n-----\n":"")})).onclick=function(){t.close()},setTimeout((function(){t.close()}),15e3)}}))}R(ae,r(ae).wasInitiated=!0),s().onlineusersPreviousID.length>100&&(R(ae,r(ae).wasInitiated=!1),y(z,m(s).onlineusersPreviousID=[],m(s)))}!0!==r(ae).forbiddenVisitors&&R(ae,r(ae).timeoutControl=setTimeout((function(){pe()}),1e3*r(ae).updateTimeout))}catch(e){R(ae,r(ae).timeoutControl=setTimeout((function(){pe()}),1e3*r(ae).updateTimeout)),console.error("There has been a problem with your fetch operation:",e)}}function _e(e){R(ae,r(ae).predicate=e),R(ae,r(ae).reverse=!r(ae).reverse),pe()}ee.addListener("svelteOnlineUserSetting",(function(e,t){if(R(ae,r(ae).wasInitiated=!1),"disableNewUserBNotif"==e)R(ae,r(ae).notificationEnabled=!r(ae).notificationEnabled),lhinst.changeUserSettings("new_user_bn",1==r(ae).notificationEnabled?1:0),re("disableNewUserBNotif",r(ae).notificationEnabled?"visibility":"visibility_off");else if("disableNewUserSound"==e)R(ae,r(ae).soundEnabled=!r(ae).soundEnabled),lhinst.changeUserSettings("new_user_sound",1==r(ae).soundEnabled?1:0),re("disableNewUserSound",r(ae).soundEnabled?"volume_up":"volume_off");else if("showConnected"==e)R(ae,r(ae).online_connected=!r(ae).online_connected),lhinst.changeUserSettings("online_connected",1==r(ae).online_connected?1:0),re("showConnected",r(ae).online_connected?"flash_on":"flash_off");else if("countryFilter"==e)R(ae,r(ae).country=t),lhinst.changeUserSettingsIndifferent("ocountry",t),setTimeout((()=>pe()),500);else if("maxrowsFilter"==e)lhinst.changeUserSettingsIndifferent("omax_rows",t),R(ae,r(ae).max_rows=parseInt(t)),setTimeout((()=>pe()),500);else if("userTimeoutFilter"==e)lhinst.changeUserSettingsIndifferent("ouser_timeout",t),R(ae,r(ae).timeout=parseInt(t)),setTimeout((()=>pe()),500);else if("updateTimeoutFilter"==e)lhinst.changeUserSettingsIndifferent("oupdate_timeout",t),R(ae,r(ae).updateTimeout=parseInt(t)),setTimeout((()=>pe()),500);else if("timeOnSiteFilter"==e)lhinst.changeUserSettingsIndifferent("otime_on_site",""==t?"none":t),R(ae,r(ae).time_on_site=t),setTimeout((()=>pe()),500);else if("groupBy"==e)R(ae,r(ae).groupByField=t),lhinst.changeUserSettingsIndifferent("ogroup_by",t),setTimeout((()=>pe()),500);else if("setQuery"==e)R(ae,r(ae).query=t);else if("departments"==e){let e=[];jQuery(".online-department-filter input[name^=department_ids]").each((function(t){e.push(parseInt(this.value))})),y(z,m(s).department_online=e,m(s)),setTimeout((()=>pe()),500),H.setLocalSettings("department_online",s().department_online)}})),ee.addListener("svelteOnlineUserSettingKey",(function(e,t){lhinst.changeUserSettingsIndifferent(e,t),setTimeout((()=>pe()),500)})),D((async()=>{if(!0!==r(ae).forbiddenVisitors&&["onlineusers","widget-onvisitors","map","dashboard"].forEach((function(e){var t=document.getElementById(e);null!==t&&new MutationObserver((function(e){t.classList.contains("active")&&!0===r(ae).lastSyncSkipped&&pe()})).observe(t,{attributes:!0,attributeFilter:["class"],childList:!1,characterData:!1})})),window.onlineAttributeFilter){R(ae,r(ae).attrf_key_1=window.onlineAttributeFilter.attrf_key_1),R(ae,r(ae).attrf_val_1=window.onlineAttributeFilter.attrf_val_1),R(ae,r(ae).attrf_key_2=window.onlineAttributeFilter.attrf_key_2),R(ae,r(ae).attrf_val_2=window.onlineAttributeFilter.attrf_val_2),R(ae,r(ae).attrf_key_3=window.onlineAttributeFilter.attrf_key_3),R(ae,r(ae).attrf_val_3=window.onlineAttributeFilter.attrf_val_3),R(ae,r(ae).attrf_key_4=window.onlineAttributeFilter.attrf_key_4),R(ae,r(ae).attrf_val_4=window.onlineAttributeFilter.attrf_val_4),R(ae,r(ae).attrf_key_5=window.onlineAttributeFilter.attrf_key_5),R(ae,r(ae).attrf_val_5=window.onlineAttributeFilter.attrf_val_5);for(let e=1;e<=5;e++)document.getElementById("svelte-attrf_key_"+e).value=r(ae)["attrf_key_"+e],document.getElementById("svelte-attrf_val_"+e).value=r(ae)["attrf_val_"+e]}if(re("disableNewUserBNotif",r(ae).notificationEnabled?"visibility":"visibility_off"),re("disableNewUserSound",r(ae).soundEnabled?"volume_up":"volume_off"),re("showConnected",r(ae).online_connected?"flash_on":"flash_off"),se("countryFilter",r(ae).country),se("maxrowsFilter",r(ae).max_rows),se("userTimeoutFilter",r(ae).timeout),se("updateTimeoutFilter",r(ae).updateTimeout),se("time_on_siteFilter",r(ae).time_on_site),se("groupByField",r(ae).groupByField),!r(ae).hide_action_buttons){let e=[];jQuery(".online-department-filter input[name^=department_ids]").each((function(t){e.push(parseInt(this.value))})),y(z,m(s).department_online=e,m(s))}pe()})),ee.addListener("svelteDepartmentChanged",(function(e,t){"department_online"===e&&(R(ae,r(ae).wasInitiated=!1),pe())})),ee.addListener("svelteOnlineGetFilter",(function(e){e.url=ue()}));var de={get www_dir_flags(){return W()},set www_dir_flags(e){W(e),b()},get track_is_online(){return E()},set track_is_online(e){E(e),b()},get sound_enabled(){return F()},set sound_enabled(e){F(e),b()},get notification_enabled(){return M()},set notification_enabled(e){M(e),b()},get online_connected(){return G()},set online_connected(e){G(e),b()},get max_rows(){return V()},set max_rows(e){V(e),b()},get timeout(){return $()},set timeout(e){$(e),b()},get country(){return J()},set country(e){J(e),b()},get forbidden_visitors(){return q()},set forbidden_visitors(e){q(e),b()},get update_timeout(){return K()},set update_timeout(e){K(e),b()},get time_on_site(){return Q()},set time_on_site(e){Q(e),b()},get online_check(){return X()},set online_check(e){X(e),b()},get group_by_field(){return Z()},set group_by_field(e){Z(e),b()},get render_ui(){return Y()},set render_ui(e){Y(e),b()},get osettings_hide_action_buttons(){return te()},set osettings_hide_action_buttons(e){te(e),b()}};u();var Me=Be(),Ge=A(Me),Oe=e=>{var t=me(),a=d(t),o=d(a),i=d(o);w(o);var n=_(o,2);ce(d(n),{get lhcList(){return z},optionsPanel:{padding_filters:0,disable_product:!0,hide_department_variations:!0,hide_limits:!0,panelid:"department_online"}}),w(n);var l=_(n,2),r=d(l),s=d(r),u=d(s,!0);w(s),s.value=s.__value="none";var p=_(s);p.value=p.__value="af";var h=_(p);h.value=h.__value="ax";var f=_(h);f.value=f.__value="al";var b=_(f);b.value=b.__value="dz";var y=_(b);y.value=y.__value="as";var k=_(y);k.value=k.__value="ad";var S=_(k);S.value=S.__value="ao";var T=_(S);T.value=T.__value="ai";var A=_(T);A.value=A.__value="aq";var P=_(A);P.value=P.__value="ag";var W=_(P);W.value=W.__value="ar";var E=_(W);E.value=E.__value="am";var L=_(E);L.value=L.__value="aw";var F=_(L);F.value=F.__value="au";var R=_(F);R.value=R.__value="at";var D=_(R);D.value=D.__value="az";var j=_(D);j.value=j.__value="bs";var N=_(j);N.value=N.__value="bh";var B=_(N);B.value=B.__value="bd";var M=_(B);M.value=M.__value="bb";var G=_(M);G.value=G.__value="by";var O=_(G);O.value=O.__value="be";var V=_(O);V.value=V.__value="bz";var U=_(V);U.value=U.__value="bj";var $=_(U);$.value=$.__value="bm";var J=_($);J.value=J.__value="bt";var H=_(J);H.value=H.__value="bo";var q=_(H);q.value=q.__value="bq";var K=_(q);K.value=K.__value="ba";var Q=_(K);Q.value=Q.__value="bw";var X=_(Q);X.value=X.__value="bv";var Z=_(X);Z.value=Z.__value="br";var Y=_(Z);Y.value=Y.__value="io";var te=_(Y);te.value=te.__value="bn";var ae=_(te);ae.value=ae.__value="bg";var oe=_(ae);oe.value=oe.__value="bf";var ie=_(oe);ie.value=ie.__value="bi";var ne=_(ie);ne.value=ne.__value="kh";var le=_(ne);le.value=le.__value="cm";var re=_(le);re.value=re.__value="ca";var se=_(re);se.value=se.__value="cv";var ue=_(se);ue.value=ue.__value="ky";var ve=_(ue);ve.value=ve.__value="cf";var pe=_(ve);pe.value=pe.__value="td";var _e=_(pe);_e.value=_e.__value="cl";var de=_(_e);de.value=de.__value="cn";var ge=_(de);ge.value=ge.__value="cx";var he=_(ge);he.value=he.__value="cc";var fe=_(he);fe.value=fe.__value="co";var be=_(fe);be.value=be.__value="km";var we=_(be);we.value=we.__value="cg";var ye=_(we);ye.value=ye.__value="cd";var ke=_(ye);ke.value=ke.__value="ck";var Se=_(ke);Se.value=Se.__value="cr";var Ce=_(Se);Ce.value=Ce.__value="ci";var Ie=_(Ce);Ie.value=Ie.__value="hr";var Te=_(Ie);Te.value=Te.__value="cu";var Ae=_(Te);Ae.value=Ae.__value="cw";var xe=_(Ae);xe.value=xe.__value="cy";var Pe=_(xe);Pe.value=Pe.__value="cz";var We=_(Pe);We.value=We.__value="dk";var Ee=_(We);Ee.value=Ee.__value="dj";var Le=_(Ee);Le.value=Le.__value="dm";var Fe=_(Le);Fe.value=Fe.__value="do";var Re=_(Fe);Re.value=Re.__value="ec";var De=_(Re);De.value=De.__value="eg";var je=_(De);je.value=je.__value="sv";var Ne=_(je);Ne.value=Ne.__value="gq";var Be=_(Ne);Be.value=Be.__value="er";var Me=_(Be);Me.value=Me.__value="ee";var Ge=_(Me);Ge.value=Ge.__value="et";var Oe=_(Ge);Oe.value=Oe.__value="fk";var Ve=_(Oe);Ve.value=Ve.__value="fo";var ze=_(Ve);ze.value=ze.__value="fj";var Ue=_(ze);Ue.value=Ue.__value="fi";var $e=_(Ue);$e.value=$e.__value="fr";var Je=_($e);Je.value=Je.__value="gf";var He=_(Je);He.value=He.__value="pf";var qe=_(He);qe.value=qe.__value="tf";var Ke=_(qe);Ke.value=Ke.__value="ga";var Qe=_(Ke);Qe.value=Qe.__value="gm";var Xe=_(Qe);Xe.value=Xe.__value="ge";var Ze=_(Xe);Ze.value=Ze.__value="de";var Ye=_(Ze);Ye.value=Ye.__value="gh";var et=_(Ye);et.value=et.__value="gi";var tt=_(et);tt.value=tt.__value="gr";var at=_(tt);at.value=at.__value="gl";var ot=_(at);ot.value=ot.__value="gd";var it=_(ot);it.value=it.__value="gp";var nt=_(it);nt.value=nt.__value="gu";var lt=_(nt);lt.value=lt.__value="gt";var rt=_(lt);rt.value=rt.__value="gg";var st=_(rt);st.value=st.__value="gn";var ut=_(st);ut.value=ut.__value="gw";var vt=_(ut);vt.value=vt.__value="gy";var pt=_(vt);pt.value=pt.__value="ht";var _t=_(pt);_t.value=_t.__value="hm";var dt=_(_t);dt.value=dt.__value="va";var ct=_(dt);ct.value=ct.__value="hn";var mt=_(ct);mt.value=mt.__value="hk";var gt=_(mt);gt.value=gt.__value="hu";var ht=_(gt);ht.value=ht.__value="is";var ft=_(ht);ft.value=ft.__value="in";var bt=_(ft);bt.value=bt.__value="id";var wt=_(bt);wt.value=wt.__value="ir";var yt=_(wt);yt.value=yt.__value="iq";var kt=_(yt);kt.value=kt.__value="ie";var St=_(kt);St.value=St.__value="im";var Ct=_(St);Ct.value=Ct.__value="il";var It=_(Ct);It.value=It.__value="it";var Tt=_(It);Tt.value=Tt.__value="jm";var At=_(Tt);At.value=At.__value="jp";var xt=_(At);xt.value=xt.__value="je";var Pt=_(xt);Pt.value=Pt.__value="jo";var Wt=_(Pt);Wt.value=Wt.__value="kz";var Et=_(Wt);Et.value=Et.__value="ke";var Lt=_(Et);Lt.value=Lt.__value="ki";var Ft=_(Lt);Ft.value=Ft.__value="kp";var Rt=_(Ft);Rt.value=Rt.__value="kr";var Dt=_(Rt);Dt.value=Dt.__value="kw";var jt=_(Dt);jt.value=jt.__value="kg";var Nt=_(jt);Nt.value=Nt.__value="la";var Bt=_(Nt);Bt.value=Bt.__value="lv";var Mt=_(Bt);Mt.value=Mt.__value="lb";var Gt=_(Mt);Gt.value=Gt.__value="ls";var Ot=_(Gt);Ot.value=Ot.__value="lr";var Vt=_(Ot);Vt.value=Vt.__value="ly";var zt=_(Vt);zt.value=zt.__value="li";var Ut=_(zt);Ut.value=Ut.__value="lt";var $t=_(Ut);$t.value=$t.__value="lu";var Jt=_($t);Jt.value=Jt.__value="mo";var Ht=_(Jt);Ht.value=Ht.__value="mk";var qt=_(Ht);qt.value=qt.__value="mg";var Kt=_(qt);Kt.value=Kt.__value="mw";var Qt=_(Kt);Qt.value=Qt.__value="my";var Xt=_(Qt);Xt.value=Xt.__value="mv";var Zt=_(Xt);Zt.value=Zt.__value="ml";var Yt=_(Zt);Yt.value=Yt.__value="mt";var ea=_(Yt);ea.value=ea.__value="mh";var ta=_(ea);ta.value=ta.__value="mq";var aa=_(ta);aa.value=aa.__value="mr";var oa=_(aa);oa.value=oa.__value="mu";var ia=_(oa);ia.value=ia.__value="yt";var na=_(ia);na.value=na.__value="mx";var la=_(na);la.value=la.__value="fm";var ra=_(la);ra.value=ra.__value="md";var sa=_(ra);sa.value=sa.__value="mc";var ua=_(sa);ua.value=ua.__value="mn";var va=_(ua);va.value=va.__value="me";var pa=_(va);pa.value=pa.__value="ms";var _a=_(pa);_a.value=_a.__value="ma";var da=_(_a);da.value=da.__value="mz";var ca=_(da);ca.value=ca.__value="mm";var ma=_(ca);ma.value=ma.__value="na";var ga=_(ma);ga.value=ga.__value="nr";var ha=_(ga);ha.value=ha.__value="np";var fa=_(ha);fa.value=fa.__value="nl";var ba=_(fa);ba.value=ba.__value="nc";var wa=_(ba);wa.value=wa.__value="nz";var ya=_(wa);ya.value=ya.__value="ni";var ka=_(ya);ka.value=ka.__value="ne";var Sa=_(ka);Sa.value=Sa.__value="ng";var Ca=_(Sa);Ca.value=Ca.__value="nu";var Ia=_(Ca);Ia.value=Ia.__value="nf";var Ta=_(Ia);Ta.value=Ta.__value="mp";var Aa=_(Ta);Aa.value=Aa.__value="no";var xa=_(Aa);xa.value=xa.__value="om";var Pa=_(xa);Pa.value=Pa.__value="pk";var Wa=_(Pa);Wa.value=Wa.__value="pw";var Ea=_(Wa);Ea.value=Ea.__value="ps";var La=_(Ea);La.value=La.__value="pa";var Fa=_(La);Fa.value=Fa.__value="pg";var Ra=_(Fa);Ra.value=Ra.__value="py";var Da=_(Ra);Da.value=Da.__value="pe";var ja=_(Da);ja.value=ja.__value="ph";var Na=_(ja);Na.value=Na.__value="pn";var Ba=_(Na);Ba.value=Ba.__value="pl";var Ma=_(Ba);Ma.value=Ma.__value="pt";var Ga=_(Ma);Ga.value=Ga.__value="pr";var Oa=_(Ga);Oa.value=Oa.__value="qa";var Va=_(Oa);Va.value=Va.__value="re";var za=_(Va);za.value=za.__value="ro";var Ua=_(za);Ua.value=Ua.__value="ru";var $a=_(Ua);$a.value=$a.__value="rw";var Ja=_($a);Ja.value=Ja.__value="bl";var Ha=_(Ja);Ha.value=Ha.__value="sh";var qa=_(Ha);qa.value=qa.__value="kn";var Ka=_(qa);Ka.value=Ka.__value="lc";var Qa=_(Ka);Qa.value=Qa.__value="mf";var Xa=_(Qa);Xa.value=Xa.__value="pm";var Za=_(Xa);Za.value=Za.__value="vc";var Ya=_(Za);Ya.value=Ya.__value="ws";var eo=_(Ya);eo.value=eo.__value="sm";var to=_(eo);to.value=to.__value="st";var ao=_(to);ao.value=ao.__value="sa";var oo=_(ao);oo.value=oo.__value="sn";var io=_(oo);io.value=io.__value="rs";var no=_(io);no.value=no.__value="sc";var lo=_(no);lo.value=lo.__value="sl";var ro=_(lo);ro.value=ro.__value="sg";var so=_(ro);so.value=so.__value="sx";var uo=_(so);uo.value=uo.__value="sk";var vo=_(uo);vo.value=vo.__value="si";var po=_(vo);po.value=po.__value="sb";var _o=_(po);_o.value=_o.__value="so";var co=_(_o);co.value=co.__value="za";var mo=_(co);mo.value=mo.__value="gs";var go=_(mo);go.value=go.__value="ss";var ho=_(go);ho.value=ho.__value="es";var fo=_(ho);fo.value=fo.__value="lk";var bo=_(fo);bo.value=bo.__value="sd";var wo=_(bo);wo.value=wo.__value="sr";var yo=_(wo);yo.value=yo.__value="sj";var ko=_(yo);ko.value=ko.__value="sz";var So=_(ko);So.value=So.__value="se";var Co=_(So);Co.value=Co.__value="ch";var Io=_(Co);Io.value=Io.__value="sy";var To=_(Io);To.value=To.__value="tw";var Ao=_(To);Ao.value=Ao.__value="tj";var xo=_(Ao);xo.value=xo.__value="tz";var Po=_(xo);Po.value=Po.__value="th";var Wo=_(Po);Wo.value=Wo.__value="tl";var Eo=_(Wo);Eo.value=Eo.__value="tg";var Lo=_(Eo);Lo.value=Lo.__value="tk";var Fo=_(Lo);Fo.value=Fo.__value="to";var Ro=_(Fo);Ro.value=Ro.__value="tt";var Do=_(Ro);Do.value=Do.__value="tn";var jo=_(Do);jo.value=jo.__value="tr";var No=_(jo);No.value=No.__value="tm";var Bo=_(No);Bo.value=Bo.__value="tc";var Mo=_(Bo);Mo.value=Mo.__value="tv";var Go=_(Mo);Go.value=Go.__value="ug";var Oo=_(Go);Oo.value=Oo.__value="ua";var Vo=_(Oo);Vo.value=Vo.__value="ae";var zo=_(Vo);zo.value=zo.__value="gb";var Uo=_(zo);Uo.value=Uo.__value="us";var $o=_(Uo);$o.value=$o.__value="um";var Jo=_($o);Jo.value=Jo.__value="uy";var Ho=_(Jo);Ho.value=Ho.__value="uz";var qo=_(Ho);qo.value=qo.__value="vu";var Ko=_(qo);Ko.value=Ko.__value="ve";var Qo=_(Ko);Qo.value=Qo.__value="vn";var Xo=_(Qo);Xo.value=Xo.__value="vg";var Zo=_(Xo);Zo.value=Zo.__value="vi";var Yo=_(Zo);Yo.value=Yo.__value="wf";var ei=_(Yo);ei.value=ei.__value="eh";var ti=_(ei);ti.value=ti.__value="ye";var ai=_(ti);ai.value=ai.__value="zm";var oi=_(ai);oi.value=oi.__value="zw",w(r),w(l);var ii=_(l,2),ni=d(ii);w(ii),w(a),w(t),c(((e,t,a,o,n)=>{x(i,"placeholder",e),x(r,"title",t),C(u,a),x(ni,"title",o),x(ni,"placeholder",n)}),[()=>(v(),m((()=>v()("widget_options.type_to_search")))),()=>(v(),m((()=>v()("widget_options.select_country")))),()=>(v(),m((()=>v()("widget_options.select_country")))),()=>(v(),m((()=>v()("widget_options.time_on_site")))),()=>(v(),m((()=>v()("widget_options.time_on_site"))))]),I("keyup",i,(e=>ee.emitEvent("svelteOnlineUserSetting",["setQuery",e.currentTarget.value]))),I("change",r,(e=>ee.emitEvent("svelteOnlineUserSetting",["countryFilter",e.currentTarget.value]))),I("keyup",ni,(e=>ee.emitEvent("svelteOnlineUserSetting",["timeOnSiteFilter",e.currentTarget.value]))),g(e,t)};p(Ge,(e=>{r(ae),m((()=>r(ae).hide_action_buttons))&&e(Oe)}));var Ve=_(Ge,2);let ze;var Ue=d(Ve);let $e;var Je=d(Ue),He=d(Je),qe=d(He),Ke=d(qe),Qe=_(Ke,2),Xe=_(Qe,2),Ze=_(Xe,2),Ye=e=>{var t=ge();c((e=>x(t,"title",e)),[()=>(v(),m((()=>v()("widget_options.status_on_site"))))]),I("click",t,(e=>_e("last_check_time"))),g(e,t)};p(Ze,(e=>{E()&&e(Ye)}));var et=_(Ze,2),tt=d(et,!0);w(et);var at=_(et,2),ot=d(at,!0);w(at);var it=_(at),nt=e=>{var t=he(),a=_(A(t)),o=d(a,!0);w(a),c((e=>{x(a,"title",e),C(o,(r(ae),m((()=>r(ae).online_connected?"flash_on":"flash_off"))))}),[()=>(v(),m((()=>v()("widget_options.only_connected"))))]),I("click",a,(e=>ee.emitEvent("svelteOnlineUserSetting",["showConnected"]))),g(e,t)};p(it,(e=>{X()&&e(nt)}));var lt=_(it,2),rt=d(lt),st=e=>{var t=fe(),a=d(t,!0);w(t),c(((e,o)=>{x(t,"title",e),C(a,o)}),[()=>(v(),s(),m((()=>v()(-1===s().suspend_widgets.indexOf("onlineusers")?"widget.pause_widget":"widget.resume_widget")))),()=>(s(),m((()=>-1===s().suspend_widgets.indexOf("onlineusers")?"pause":"play_arrow")))]),I("click",t,(e=>H.suspendSync(z,"onlineusers"))),g(e,t)};p(rt,(e=>{r(ae),m((()=>!r(ae).hide_action_buttons))&&e(st)}));var ut=_(rt,2),vt=d(ut);w(ut);var pt=_(ut,2),_t=d(pt);w(pt),w(lt),w(qe);var dt=_(qe),ct=e=>{var t=T(),a=A(t);k(a,1,(()=>(s(),m((()=>s().additionalColumns)))),L,((e,t)=>{var a=T(),o=A(a),i=e=>{var a=we(),o=d(a),i=e=>{var a=be(),o=d(a,!0);w(a),c((()=>C(o,(r(t),m((()=>r(t).icon)))))),g(e,a)};p(o,(e=>{r(t),m((()=>""!==r(t).icon))&&e(i)}));var n=_(o,1,!0);w(a),c((()=>C(n,(r(t),m((()=>r(t).name)))))),g(e,a)};p(o,(e=>{r(t),m((()=>1==r(t).oenabl&&!r(t).iconm))&&e(i)})),g(e,a)})),g(e,t)};p(dt,(e=>{s(),m((()=>s().additionalColumns))&&e(ct)}));var mt=_(dt),gt=e=>{var t=ye(),a=d(t,!0);w(t),c((e=>C(a,e)),[()=>(v(),m((()=>v()("widget.action"))))]),g(e,t)};p(mt,(e=>{r(ae),m((()=>!r(ae).hide_action_buttons))&&e(gt)})),w(He),w(Je);var ht=_(Je);k(ht,1,(()=>(s(),m((()=>s().onlineusersGrouped)))),L,((e,t)=>{var a=Ne(),o=d(a),i=e=>{var a=ke(),o=d(a),i=d(o),n=d(i);w(i),w(o),w(a),c((()=>{x(o,"colspan",(r(ae),m((()=>r(ae).hide_action_buttons?"1":"6")))),B(i,1,`group-by-${r(ae),m((()=>r(ae).groupByField))??""}`),C(n,`${r(t),m((()=>r(t).label?r(t).label:"-"))??""} (${r(t),m((()=>r(t).ou.length))??""})`)})),g(e,a)};p(o,(e=>{r(ae),m((()=>"none"!=r(ae).groupByField))&&e(i)}));var n=_(o);k(n,1,(()=>(r(t),m((()=>r(t).ou)))),(e=>e.id),((e,t)=>{var a=T(),o=A(a),i=e=>{var a=je();let o;var i=d(a),n=e=>{var a=Se(),o=d(a),i=d(o),n=_(i,3),l=d(n,!0);w(n),w(o),w(a),c((e=>{C(i,`${r(t),m((()=>r(t).lastactivity_ago))??""} ${e??""}`),C(l,(r(t),m((()=>r(t).time_on_site_front))))}),[()=>(v(),m((()=>v()("widget.ago"))))]),g(e,a)};p(i,(e=>{r(ae),m((()=>!r(ae).hide_action_buttons))&&e(n)}));var u=_(i),h=d(u),f=e=>{var a=We(),o=d(a);B(o,1,"btn btn-xs "+oe);var i=_(o,2);let n;var s=_(d(i)),u=e=>{var a=N();c((()=>C(a,`${r(t),m((()=>r(t).lastactivity_ago))??""} |`))),g(e,a)};p(s,(e=>{r(ae),m((()=>r(ae).hide_action_buttons))&&e(u)}));var h=_(s),f=_(h),b=e=>{var a=Ce(),o=d(a);w(a),c((()=>{x(o,"src",(l(W()),r(t),m((()=>W()+"/"+r(t).user_country_code+".png")))),x(o,"alt",(r(t),m((()=>r(t).user_country_name)))),x(o,"title",(r(t),m((()=>r(t).user_country_name+(""!=r(t).city?" | "+r(t).city:"")+" "+r(t).visitor_tz+" - "+r(t).visitor_tz_time))))})),g(e,a)};p(f,(e=>{r(t),m((()=>r(t).user_country_code))&&e(b)})),w(i);var y=_(i,2),k=e=>{var a=Ie();B(a,1,"btn btn-xs action-image "+ie);var o=_(d(a)),i=e=>{var t=N();c((e=>C(t,` ${e??""}`)),[()=>(v(),m((()=>v()("widget.chat"))))]),g(e,t)};p(o,(e=>{r(ae),m((()=>!r(ae).hide_action_buttons))&&e(i)})),w(a),c((e=>x(a,"title",e)),[()=>(v(),m((()=>v()("widget.preview_chat"))))]),I("click",a,(e=>lhc.revealModal({url:WWW_DIR_JAVASCRIPT+"chat/previewchat/"+r(t).chat_id}))),g(e,a)};p(y,(e=>{r(t),m((()=>r(t).chat_id>0&&1==r(t).can_view_chat))&&e(k)}));var S=_(y,2),T=e=>{var a=Te();B(a,1,"btn btn-xs "+le);var o=d(a),i=_(o,2),n=e=>{var t=N();c((e=>C(t,`${e??""} -`)),[()=>(v(),m((()=>v()("widget.returning"))))]),g(e,t)};p(i,(e=>{r(ae),m((()=>!r(ae).hide_action_buttons))&&e(n)}));var l=_(i,1,!0);w(a),c((e=>{x(o,"title",e),C(l,(r(t),m((()=>r(t).total_visits))))}),[()=>(v(),r(t),m((()=>v()("widget.returning_long")+" "+r(t).total_visits)))]),g(e,a)};p(S,(e=>{r(t),m((()=>r(t).total_visits>1))&&e(T)}));var P=_(S,2),E=e=>{var t=Ae();B(t,1,"btn btn-xs "+ie);var a=_(d(t)),o=e=>{var t=N();c((e=>C(t,` ${e??""}`)),[()=>(v(),m((()=>v()("widget.new"))))]),g(e,t)};p(a,(e=>{r(ae),m((()=>!r(ae).hide_action_buttons))&&e(o)})),w(t),c((e=>x(t,"title",e)),[()=>(v(),m((()=>v()("widget.new"))))]),g(e,t)};p(P,(e=>{r(t),m((()=>1==r(t).total_visits))&&e(E)}));var L=_(P,2),F=e=>{var a=xe(),o=_(d(a)),i=e=>{var a=N();c((e=>C(a,` ${e??""}`)),[()=>(r(t),v(),m((()=>1==r(t).message_seen?v()("widget.msg_seen"):v()("widget.msg_not_seen"))))]),g(e,a)};p(o,(e=>{r(ae),m((()=>!r(ae).hide_action_buttons))&&e(i)})),w(a),c((e=>{x(a,"title",e),B(a,1,(r(t),m((()=>"btn btn-xs "+(1==r(t).message_seen?ie:ne)))))}),[()=>(r(t),v(),m((()=>r(t).operator_user_string+" "+v()("widget.msg_sent"))))]),g(e,a)};p(L,(e=>{r(t),m((()=>r(t).operator_message))&&e(F)}));var R=_(L,2),D=e=>{var a=Pe(),o=A(a),i=d(o);w(o);var n=_(o),l=_(d(n));w(n),c((()=>{C(i,`${r(t),m((()=>r(t).user_country_name))??""}${r(t),m((()=>""!=r(t).city?" | "+r(t).city:""))??""}`),C(l,`${r(t),m((()=>r(t).visitor_tz))??""} - ${r(t),m((()=>r(t).visitor_tz_time))??""}`)})),g(e,a)};p(R,(e=>{r(t),r(ae),m((()=>""!=r(t).user_country_code&&!r(ae).hide_action_buttons))&&e(D)}));var j=_(R,2);B(j,1,"btn btn-xs "+oe);var M=_(d(j)),G=e=>{var t=N();c((e=>C(t,` ${e??""}`)),[()=>(v(),m((()=>v()("widget.start_a_chat"))))]),g(e,t)};p(M,(e=>{r(ae),m((()=>!r(ae).hide_action_buttons))&&e(G)})),w(j),w(a),c(((e,a,l)=>{x(o,"title",e),x(o,"data-success",a),x(o,"data-copy",(r(t),m((()=>r(t).nick)))),n=B(i,1,"btn btn-xs "+oe,null,n,{"icon-user-away":1==r(t).online_status,"icon-user-online":!r(t).online_status||0==r(t).online_status}),x(i,"id",`ou-face-${r(t),m((()=>r(t).vid))??""}`),C(h,`${r(t),m((()=>r(t).nick))??""}  `),x(j,"title",l)}),[()=>(v(),m((()=>v()("widget.copy_nick")))),()=>(v(),m((()=>v()("widget.copied_nick")))),()=>(v(),m((()=>v()("widget.start_a_chat"))))]),I("click",o,(e=>lhinst.copyContent(jQuery(e.currentTarget)))),I("click",i,(e=>{lhc.revealModal({url:WWW_DIR_JAVASCRIPT+"chat/getonlineuserinfo/"+r(t).id})})),I("click",j,(e=>lhc.revealModal({url:WWW_DIR_JAVASCRIPT+"chat/sendnotice/"+r(t).id}))),g(e,a)};p(h,(e=>{r(t),m((()=>r(t).vid))&&e(f)}));var b=_(h,2),y=e=>{var a=Ee(),o=d(a),i=_(o),n=d(i,!0);w(i),w(a),c((e=>{x(o,"title",e),x(i,"href",(r(t),m((()=>r(t).current_page)))),x(i,"title",(r(t),m((()=>r(t).current_page)))),C(n,(r(t),m((()=>r(t).page_title||r(t).current_page))))}),[()=>(v(),m((()=>v()("widget_options.page"))))]),g(e,a)};p(b,(e=>{r(t),m((()=>r(t).page_title||r(t).current_page))&&e(y)}));var S=_(b,2),P=e=>{var a=Le(),o=d(a),i=_(o),n=d(i,!0);w(i),w(a),c((e=>{x(o,"title",e),x(i,"href",`http:${r(t),m((()=>r(t).referrer))??""}`),x(i,"title",(r(t),m((()=>r(t).referrer)))),C(n,(r(t),m((()=>r(t).referrer))))}),[()=>(v(),m((()=>v()("widget_options.came_from"))))]),g(e,a)};p(S,(e=>{r(t),m((()=>r(t).referrer))&&e(P)})),w(u);var E=_(u),F=e=>{var a=T(),o=A(a);k(o,1,(()=>(s(),m((()=>s().additionalColumns)))),L,((e,a)=>{var o=T(),i=A(o),n=e=>{var o=Re();k(o,5,(()=>(r(a),m((()=>r(a).items)))),L,((e,a)=>{var o=T(),i=A(o),n=e=>{var o=Fe(),i=d(o,!0);w(o),c((()=>C(i,(r(t),r(a),m((()=>r(t)[r(a)])))))),g(e,o)};p(i,(e=>{r(t),r(a),m((()=>r(t)[r(a)]))&&e(n)})),g(e,o)})),w(o),g(e,o)};p(i,(e=>{r(a),m((()=>1==r(a).oenabl&&!r(a).iconm))&&e(n)})),g(e,o)})),g(e,a)};p(E,(e=>{s(),m((()=>s().additionalColumns))&&e(F)}));var R=_(E),D=e=>{var a=De(),o=d(a),i=d(o),n=d(i),l=_(n,2),s=j((()=>function(e){confirm("Are you sure?")&&(fetch(WWW_DIR_JAVASCRIPT+"chat/onlineusers/(deletevisitor)/"+e.id+"/(csfr)/"+confLH.csrf_token,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}}),setTimeout((()=>pe()),500))}(r(t),v()("widget.are_you_sure"))));w(i),w(o),w(a),c(((e,t)=>{x(n,"title",e),x(l,"title",t)}),[()=>(v(),m((()=>v()("widget.send_message")))),()=>(v(),r(t),m((()=>v()("widget_options.delete")+", ID - "+r(t).id)))]),I("click",n,(e=>lhc.revealModal({url:WWW_DIR_JAVASCRIPT+"chat/sendnotice/"+r(t).id}))),I("click",l,(function(...e){r(s)?.apply(this,e)})),g(e,a)};p(R,(e=>{r(ae),m((()=>!r(ae).hide_action_buttons))&&e(D)})),w(a),c((e=>{x(a,"id",`uo-vid-${r(t),m((()=>r(t).vid))??""}`),o=B(a,1,"online-user-filter-row",null,o,e)}),[()=>({online_user:X()&&r(t).last_check_time_ago<parseInt(X())+3,recent_visit:r(t).last_visit_seconds_ago<15,"bg-red":X()})]),g(e,a)};p(o,(e=>{r(ae),r(t),m((()=>""==r(ae).query||function(e){return!!(e.nick&&e.nick.toLowerCase().includes(r(ae).query)||e.user_country_code&&e.user_country_code.toLowerCase().includes(r(ae).query)||e.user_country_name&&e.user_country_name.toLowerCase().includes(r(ae).query)||e.page_title&&e.page_title.toLowerCase().includes(r(ae).query)||e.current_page&&e.current_page.toLowerCase().includes(r(ae).query)||e.referrer&&e.referrer.toLowerCase().includes(r(ae).query)||e.visitor_tz&&e.visitor_tz.toLowerCase().includes(r(ae).query))}(r(t))))&&e(i)})),g(e,a)})),w(a),g(e,a)})),w(Ue),w(Ve),c(((e,t,a,o,i,n,l)=>{x(Ve,"id",(r(ae),m((()=>r(ae).hide_action_buttons?"onlineusers-panel-list":null)))),ze=U(Ve,"",ze,{"max-height":(r(ae),s(),m((()=>r(ae).hide_action_buttons?s().onlineusers_m_h??"330px":null)))}),$e=B(Ue,1,(r(ae),m((()=>"table table-small table-sm "+(r(ae).hide_action_buttons?"table-fixed":"online-users-table")))),null,$e,{"filter-online-active":r(ae).online_connected}),x(qe,"colspan",(r(ae),m((()=>r(ae).hide_action_buttons?"1":"2")))),x(Ke,"title",e),x(Qe,"title",t),x(Xe,"title",a),C(tt,o),C(ot,i),x(vt,"title",n),x(_t,"title",l)}),[()=>(v(),m((()=>v()("widget.last_activity_ago")))),()=>(v(),m((()=>v()("widget_options.time_on_site_shrt")))),()=>(v(),m((()=>v()("widget_options.vis_local_time")))),()=>(v(),m((()=>v()("widget_options.page")))),()=>(v(),m((()=>v()("widget_options.came_from")))),()=>(v(),m((()=>v()("widget.more_rows")))),()=>(v(),m((()=>v()("widget.less_rows"))))]),I("click",Ke,(e=>_e("last_visit"))),I("click",Qe,(e=>_e("time_on_site"))),I("click",Xe,(e=>_e("visitor_tz_time"))),I("click",et,(e=>_e("current_page"))),I("click",at,(e=>_e("referrer"))),I("click",ut,(e=>H.changeWidgetHeight(z,"onlineusers",!0))),I("click",pt,(e=>H.changeWidgetHeight(z,"onlineusers",!1))),g(e,Me);var ft=h(de);return P(),ft}e(Me,{www_dir_flags:{},track_is_online:{},sound_enabled:{},notification_enabled:{},online_connected:{},max_rows:{},timeout:{},country:{},forbidden_visitors:{},update_timeout:{},time_on_site:{},online_check:{},group_by_field:{},render_ui:{},osettings_hide_action_buttons:{}},[],[],!0);export{Me as L,ce as W,H as l};
//# sourceMappingURL=onlinevisitors.rBRfE3bn.js.map
