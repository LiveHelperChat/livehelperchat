{"version":3,"file":"masking.js","sources":["../../src/i18n/masking-i18n.js","../../src/Widgets/LHCMaskingRules.svelte"],"sourcesContent":["import { createI18n } from \"./createI18n.js\";\r\n\r\nconst { t, translations, initTranslations } = createI18n(\"masking\");\r\n\r\n// Initialize translations immediately for backward compatibility\r\ninitTranslations();\r\n\r\nexport { t, translations, initTranslations };\r\n","<svelte:options customElement={{tag: 'lhc-masking-rules', shadow: 'none'}}/>\r\n\r\n<script>\r\n    import { onMount } from 'svelte';\r\n    import { t } from '../i18n/masking-i18n.js';\r\n\r\n    export let pii_options = '{}';\r\n    export let input_selector = 'textarea[name=\"AbstractInput_pattern\"]';\r\n\r\n    let rules = [];\r\n    let patternInput = null;\r\n    let piiOptions = {};\r\n\r\n    $: typeLabels = {\r\n        'regex': $t('masking.type_regex'),\r\n        'email': $t('masking.type_email'),\r\n        'credit_card': $t('masking.type_credit_card'),\r\n        'pii': $t('masking.type_pii'),\r\n        'secret_keys': $t('masking.type_secret_keys'),\r\n        'urls': $t('masking.type_urls')\r\n    };\r\n\r\n    $: ruleTypes = [\r\n        { value: 'regex', label: $t('masking.type_regex')},\r\n        { value: 'email', label: $t('masking.type_email')},\r\n        { value: 'credit_card', label: $t('masking.type_credit_card')},\r\n        { value: 'pii', label: $t('masking.type_pii')},\r\n        { value: 'secret_keys', label: $t('masking.type_secret_keys')},\r\n        { value: 'urls', label: $t('masking.type_urls')}\r\n    ];\r\n\r\n    let selectedRuleType = 'regex';\r\n\r\n    onMount(async () => {\r\n        \r\n        piiOptions = typeof pii_options === 'string' ? JSON.parse(pii_options) : pii_options;\r\n        patternInput = document.querySelector(input_selector);\r\n        \r\n        if (patternInput) {\r\n            parseRules(patternInput.value);\r\n        }\r\n    });\r\n\r\n    function parseRules(val) {\r\n        try {\r\n            if (val.trim().startsWith('[')) {\r\n                rules = JSON.parse(val);\r\n            } else if (val.trim() !== '') {\r\n                const lines = val.split(\"\\n\");\r\n                rules = [];\r\n                lines.forEach(function(line) {\r\n                    if (line.trim() === '') return;\r\n                    const parts = line.split('|||');\r\n                    const rule = { type: 'regex', pattern: parts[0] };\r\n                    if (parts.length > 1) rule.replacement = parts[1];\r\n                    if (parts.length > 2 && parts[0] === '__email__') rule.replacement_domain = parts[2];\r\n                    rules.push(rule);\r\n                });\r\n            }\r\n        } catch (e) {\r\n            console.error('Error parsing rules', e);\r\n            rules = [];\r\n        }\r\n    }\r\n\r\n    function updateInput() {\r\n        if (patternInput) {\r\n            patternInput.value = JSON.stringify(rules);\r\n        }\r\n    }\r\n\r\n    function addRule() {\r\n        const rule = { type: selectedRuleType };\r\n\r\n        if (selectedRuleType === 'email') {\r\n            rule.replacement = '$';\r\n            rule.replacement_domain = '*';\r\n        } else if (selectedRuleType === 'credit_card') {\r\n            rule.replacement = '*';\r\n        } else if (selectedRuleType === 'regex') {\r\n            rule.pattern = '';\r\n            rule.replacement = '';\r\n            rule.name = '';\r\n        } else if (selectedRuleType === 'pii') {\r\n            rule.entities = [];\r\n            rule.emailDomainAllowList = [];\r\n            rule.replacement = '';\r\n        } else if (selectedRuleType === 'secret_keys') {\r\n            rule.threshold = 'balanced';\r\n        } else if (selectedRuleType === 'urls') {\r\n            rule.allowedSchemes = ['https'];\r\n            rule.blockUserinfo = true;\r\n            rule.allowSubdomains = false;\r\n            rule.allowList = [];\r\n            rule.denyList = [];\r\n            rule.allowHostedHost = false;\r\n        }\r\n\r\n        rules = [...rules, rule];\r\n        updateInput();\r\n    }\r\n\r\n    function deleteRule(index) {\r\n        rules = rules.filter((_, i) => i !== index);\r\n        updateInput();\r\n    }\r\n\r\n    function updateRule(index, key, value) {\r\n        rules[index][key] = value;\r\n        rules = [...rules];\r\n        updateInput();\r\n    }\r\n\r\n    function updatePiiEntity(index, entity, checked) {\r\n        if (!rules[index].entities) rules[index].entities = [];\r\n        \r\n        if (checked) {\r\n            if (rules[index].entities.indexOf(entity) === -1) {\r\n                rules[index].entities = [...rules[index].entities, entity];\r\n            }\r\n        } else {\r\n            rules[index].entities = rules[index].entities.filter(e => e !== entity);\r\n        }\r\n        rules = [...rules];\r\n        updateInput();\r\n    }\r\n\r\n    function updateUrlScheme(index, scheme, checked) {\r\n        if (!rules[index].allowedSchemes) rules[index].allowedSchemes = [];\r\n        \r\n        if (checked) {\r\n            if (rules[index].allowedSchemes.indexOf(scheme) === -1) {\r\n                rules[index].allowedSchemes = [...rules[index].allowedSchemes, scheme];\r\n            }\r\n        } else {\r\n            rules[index].allowedSchemes = rules[index].allowedSchemes.filter(s => s !== scheme);\r\n        }\r\n        rules = [...rules];\r\n        updateInput();\r\n    }\r\n\r\n    function updateUrlAllowList(index, value) {\r\n        rules[index].allowList = value.split(\"\\n\").map(s => s.trim()).filter(s => s !== '');\r\n        // Clear deny list when allow list is updated\r\n        if (rules[index].allowList.length > 0) {\r\n            rules[index].denyList = [];\r\n        }\r\n        rules = [...rules];\r\n        updateInput();\r\n    }\r\n\r\n    function updateUrlDenyList(index, value) {\r\n        rules[index].denyList = value.split(\"\\n\").map(s => s.trim()).filter(s => s !== '');\r\n        // Clear allow list when deny list is updated\r\n        if (rules[index].denyList.length > 0) {\r\n            rules[index].allowList = [];\r\n        }\r\n        rules = [...rules];\r\n        updateInput();\r\n    }\r\n\r\n    function getAllowListText(rule) {\r\n        return (rule.allowList || []).join('\\n');\r\n    }\r\n\r\n    function getDenyListText(rule) {\r\n        return (rule.denyList || []).join('\\n');\r\n    }\r\n\r\n    function updateEmailDomainAllowList(index, value) {\r\n        rules[index].emailDomainAllowList = value.split(\"\\n\").map(s => s.trim()).filter(s => s !== '');\r\n        rules = [...rules];\r\n        updateInput();\r\n    }\r\n\r\n    function getEmailDomainAllowListText(rule) {\r\n        return (rule.emailDomainAllowList || []).join('\\n');\r\n    }\r\n\r\n    function updatePhoneAllowList(index, value) {\r\n        rules[index].phoneAllowList = value.split(\"\\n\").map(s => s.trim()).filter(s => s !== '');\r\n        rules = [...rules];\r\n        updateInput();\r\n    }\r\n\r\n    function getPhoneAllowListText(rule) {\r\n        return (rule.phoneAllowList || []).join('\\n');\r\n    }\r\n</script>\r\n\r\n<div id=\"rules-container\">\r\n    {#each rules as rule, index}\r\n        <div class=\"card mb-2\">\r\n            <div class=\"card-body p-2\">\r\n                <div class=\"d-flex justify-content-between align-items-center mb-2\">\r\n                    <strong>{typeLabels[rule.type] || rule.type.toUpperCase()}</strong>\r\n                    <button type=\"button\" class=\"btn btn-sm btn-danger\" on:click={() => deleteRule(index)}>{$t('masking.delete')}</button>\r\n                </div>\r\n\r\n                <div>\r\n                    {#if rule.type === 'regex'}\r\n                        <div class=\"row\">\r\n                            <div class=\"col-4\">\r\n                                <label>{$t('masking.name') || 'Name'}</label>\r\n                                <input type=\"text\" class=\"form-control form-control-sm\" value={rule.name || ''} on:change={(e) => updateRule(index, 'name', e.target.value)} placeholder={$t('masking.placeholder_name')}>\r\n                            </div>\r\n                            <div class=\"col-4\">\r\n                                <label>{$t('masking.pattern')}</label>\r\n                                <input type=\"text\" class=\"form-control form-control-sm\" value={rule.pattern || ''} on:change={(e) => updateRule(index, 'pattern', e.target.value)}>\r\n                            </div>\r\n                            <div class=\"col-4\">\r\n                                <label>{$t('masking.replacement_optional') || 'Replacement (optional)'}</label>\r\n                                <input type=\"text\" class=\"form-control form-control-sm\" value={rule.replacement || ''} on:change={(e) => updateRule(index, 'replacement', e.target.value)} placeholder={$t('masking.placeholder_replacement')}>\r\n                            </div>\r\n                        </div>\r\n                    {:else if rule.type === 'email'}\r\n                        <div class=\"row\">\r\n                            <div class=\"col-6\">\r\n                                <label>{$t('masking.replacement')}</label>\r\n                                <input type=\"text\" class=\"form-control form-control-sm\" value={rule.replacement || '$'} on:change={(e) => updateRule(index, 'replacement', e.target.value)}>\r\n                            </div>\r\n                            <div class=\"col-6\">\r\n                                <label>{$t('masking.replacement_domain')}</label>\r\n                                <input type=\"text\" class=\"form-control form-control-sm\" value={rule.replacement_domain || '*'} on:change={(e) => updateRule(index, 'replacement_domain', e.target.value)}>\r\n                            </div>\r\n                        </div>\r\n                    {:else if rule.type === 'credit_card'}\r\n                        <div class=\"row\">\r\n                            <div class=\"col-6\">\r\n                                <label>{$t('masking.replacement')}</label>\r\n                                <input type=\"text\" class=\"form-control form-control-sm\" value={rule.replacement || '*'} on:change={(e) => updateRule(index, 'replacement', e.target.value)}>\r\n                            </div>\r\n                        </div>\r\n                    {:else if rule.type === 'pii'}\r\n                        <div class=\"row\">\r\n                            <div class=\"col-12 pb-2\">\r\n                                <label>{$t('masking.entities')}</label>\r\n                                <div class=\"row\">\r\n                                    {#each Object.entries(piiOptions) as [key, label]}\r\n                                        <div class=\"col-4\">\r\n                                            <div class=\"form-check\">\r\n                                                <input class=\"form-check-input\" type=\"checkbox\" id=\"pii-{index}-{key}\" checked={rule.entities && rule.entities.indexOf(key) !== -1} on:change={(e) => updatePiiEntity(index, key, e.target.checked)}>\r\n                                                <label class=\"form-check-label\" for=\"pii-{index}-{key}\">{label}</label>\r\n                                            </div>\r\n                                        </div>\r\n                                    {/each}\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-6 mb-2\">\r\n                                <label>{$t('masking.email_domain_allow_list')}</label>\r\n                                <textarea class=\"form-control form-control-sm\" rows=\"3\" placeholder=\"e.g. example.com or __mailbox__\" value={getEmailDomainAllowListText(rule)} on:change={(e) => updateEmailDomainAllowList(index, e.target.value)} disabled={!rule.entities || rule.entities.indexOf('EMAIL_ADDRESS') === -1}></textarea>\r\n\r\n                                <label>{$t('masking.phone_allow_list')}</label>\r\n                                <textarea class=\"form-control form-control-sm\" rows=\"3\" placeholder=\"e.g. +37011111111\" value={getPhoneAllowListText(rule)} on:change={(e) => updatePhoneAllowList(index, e.target.value)} disabled={!rule.entities || rule.entities.indexOf('PHONE_NUMBER') === -1}></textarea>\r\n\r\n                            </div>\r\n                            <div class=\"col-6 mb-2\">\r\n                                <label>{$t('masking.replacement_mask_hint')}</label>\r\n                                <input type=\"text\" class=\"form-control form-control-sm\" value={rule.replacement || ''} on:change={(e) => updateRule(index, 'replacement', e.target.value)} placeholder={$t('masking.placeholder_replacement')}>\r\n                            </div>                            \r\n                        </div>\r\n                    {:else if rule.type === 'secret_keys'}\r\n                        <div class=\"row\">\r\n                            <div class=\"col-6\">\r\n                                <div class=\"form-group\">\r\n                                    <label>{$t('masking.threshold')}</label>\r\n                                    <select class=\"form-control form-control-sm\" value={rule.threshold || 'balanced'} on:change={(e) => updateRule(index, 'threshold', e.target.value)}>\r\n                                        <option value=\"strict\">{$t('masking.threshold_strict')}</option>\r\n                                        <option value=\"balanced\">{$t('masking.threshold_balanced')}</option>\r\n                                        <option value=\"permissive\">{$t('masking.threshold_permissive')}</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-6\">\r\n                                <div class=\"form-group\">\r\n                                    <label>{$t('masking.replacement_mask_hint')}</label>\r\n                                    <input type=\"text\" class=\"form-control form-control-sm\" value={rule.replacement || ''} on:change={(e) => updateRule(index, 'replacement', e.target.value)} placeholder={$t('masking.placeholder_replacement')}>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    {:else if rule.type === 'urls'}\r\n                        <div class=\"row\">\r\n                            <div class=\"col-12 mb-2\">\r\n                                <label>{$t('masking.replacement_mask_hint')}</label>\r\n                                <input type=\"text\" class=\"form-control form-control-sm\" value={rule.replacement || ''} on:change={(e) => updateRule(index, 'replacement', e.target.value)} placeholder={$t('masking.placeholder_replacement')}>\r\n                            </div>\r\n                            <div class=\"col-6\">\r\n                                <div class=\"form-check\">\r\n                                    <input class=\"form-check-input\" type=\"checkbox\" checked={(rule.allowedSchemes || ['https']).indexOf('https') !== -1} on:change={(e) => updateUrlScheme(index, 'https', e.target.checked)}>\r\n                                    <label class=\"form-check-label\">HTTPS</label>\r\n                                </div>\r\n                                <div class=\"form-check\">\r\n                                    <input class=\"form-check-input\" type=\"checkbox\" checked={(rule.allowedSchemes || []).indexOf('http') !== -1} on:change={(e) => updateUrlScheme(index, 'http', e.target.checked)}>\r\n                                    <label class=\"form-check-label\">HTTP</label>\r\n                                </div>\r\n                                <div class=\"form-check\">\r\n                                    <input class=\"form-check-input\" type=\"checkbox\" checked={(rule.allowedSchemes || []).indexOf('ftp') !== -1} on:change={(e) => updateUrlScheme(index, 'ftp', e.target.checked)}>\r\n                                    <label class=\"form-check-label\">FTP</label>\r\n                                </div>\r\n                                <div class=\"form-check\">\r\n                                    <input class=\"form-check-input\" type=\"checkbox\" checked={(rule.allowedSchemes || []).indexOf('mailto') !== -1} on:change={(e) => updateUrlScheme(index, 'mailto', e.target.checked)}>\r\n                                    <label class=\"form-check-label\">Mailto</label>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-6\">\r\n                                <div class=\"form-check\">\r\n                                    <input class=\"form-check-input\" type=\"checkbox\" checked={rule.blockUserinfo !== undefined ? rule.blockUserinfo : true} on:change={(e) => updateRule(index, 'blockUserinfo', e.target.checked)}>\r\n                                    <label class=\"form-check-label\">{$t('masking.block_user_info')}</label>\r\n                                </div>\r\n                                <div class=\"form-check\">\r\n                                    <input class=\"form-check-input\" type=\"checkbox\" checked={rule.allowSubdomains || false} on:change={(e) => updateRule(index, 'allowSubdomains', e.target.checked)}>\r\n                                    <label class=\"form-check-label\">{$t('masking.allow_subdomains')}</label>\r\n                                </div>\r\n                                <div class=\"form-check\">\r\n                                    <input class=\"form-check-input\" type=\"checkbox\" checked={rule.allowHostedHost || false} on:change={(e) => updateRule(index, 'allowHostedHost', e.target.checked)}>\r\n                                    <label class=\"form-check-label\">{$t('masking.allow_hosted_host')}</label>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-6 mt-2\">\r\n                                <label>{$t('masking.allow_list')}</label>\r\n                                <textarea class=\"form-control form-control-sm\" rows=\"3\" placeholder=\"e.g. example.com\" value={getAllowListText(rule)} on:change={(e) => updateUrlAllowList(index, e.target.value)} disabled={(rule.denyList || []).length > 0}></textarea>\r\n                            </div>\r\n                            <div class=\"col-6 mt-2\">\r\n                                <label>{$t('masking.deny_list')}</label>\r\n                                <textarea class=\"form-control form-control-sm\" rows=\"3\" placeholder=\"e.g. example.com\" value={getDenyListText(rule)} on:change={(e) => updateUrlDenyList(index, e.target.value)} disabled={(rule.allowList || []).length > 0}></textarea>\r\n                            </div>\r\n                             <div class=\"col-12 mt-1\">\r\n                                <small class=\"text-muted\"><em>{$t('masking.list_exclusive_note')}</em></small>\r\n                            </div>\r\n                        </div>\r\n                    {/if}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    {/each}\r\n</div>\r\n\r\n<div class=\"row mt-2\">\r\n    <div class=\"col-auto\">\r\n        <select class=\"form-control form-control-sm\" bind:value={selectedRuleType}>\r\n            {#each ruleTypes as ruleType}\r\n                <option value={ruleType.value}>{ruleType.label}</option>\r\n            {/each}\r\n        </select>\r\n    </div>\r\n    <div class=\"col-auto\">\r\n        <button type=\"button\" class=\"btn btn-sm btn-secondary\" on:click={addRule}>{$t('masking.add_rule')}</button>\r\n    </div>\r\n</div>\r\n"],"names":["t","initTranslations","createI18n","pii_options","input_selector","rules","$.mutable_source","patternInput","piiOptions","selectedRuleType","updateInput","value","JSON","stringify","updateRule","index","key","$.mutate","$.set","updateUrlScheme","scheme","checked","allowedSchemes","$.get","indexOf","filter","s","onMount","parse","document","querySelector","val","trim","startsWith","lines","split","forEach","line","parts","rule","type","pattern","length","replacement","replacement_domain","push","e","console","error","parseRules","typeLabels","regex","$t","email","credit_card","pii","secret_keys","urls","ruleTypes","label","div","$.first_child","fragment","$.index","$$anchor","div_1","root_1","div_2","div_3","strong","button","div_4","div_5","root_2","div_6","label_1","input","div_7","label_2","input_1","div_8","label_3","input_2","$.set_value","$.untrack","name","$1","$4","$.event","target","div_9","root_4","div_10","label_4","input_3","div_11","label_5","input_4","div_12","root_6","div_13","label_6","input_5","div_14","root_8","div_15","label_7","div_16","Object","entries","$$array","div_17","root_9","div_18","input_6","label_8","$0","entities","entity","updatePiiEntity","div_19","label_9","textarea","label_10","textarea_1","div_20","label_11","input_7","$2","disabled","$3","$5","$6","$8","emailDomainAllowList","join","getEmailDomainAllowListText","phoneAllowList","getPhoneAllowListText","map","updateEmailDomainAllowList","updatePhoneAllowList","div_21","root_11","div_22","div_23","label_12","select","option","__value","option_1","option_2","div_24","div_25","label_13","input_8","threshold","div_26","root_13","div_27","label_14","input_9","div_28","div_29","input_10","div_30","input_11","div_31","input_12","div_32","input_13","div_33","div_34","input_14","label_15","div_35","input_15","label_16","div_36","input_16","label_17","div_37","label_18","textarea_2","div_38","label_19","textarea_3","div_39","small","em","undefined","blockUserinfo","allowSubdomains","allowHostedHost","$10","denyList","$12","allowList","getAllowListText","getDenyListText","updateUrlAllowList","updateUrlDenyList","$$render","consequent_5","consequent_3","alternate_1","consequent_1","alternate_3","consequent","alternate_4","toUpperCase","_","i","deleteRule","div_40","div_41","select_1","ruleType","option_3","root_14","div_42","button_1","$.template_effect","$.set_text","text_26","$$value"],"mappings":"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"}