{"version":3,"file":"masking.js","sources":["../../src/i18n/masking-i18n.js","../../src/Widgets/LHCMaskingRules.svelte"],"sourcesContent":["import { createI18n } from \"./createI18n.js\";\r\n\r\nconst { t, translations, initTranslations } = createI18n(\"masking\");\r\n\r\n// Initialize translations immediately for backward compatibility\r\ninitTranslations();\r\n\r\nexport { t, translations, initTranslations };\r\n","<svelte:options customElement={{tag: 'lhc-masking-rules', shadow: 'none'}}/>\r\n\r\n<script>\r\n    import { onMount } from 'svelte';\r\n    import { t } from '../i18n/masking-i18n.js';\r\n\r\n    export let pii_options = '{}';\r\n    export let input_selector = 'textarea[name=\"AbstractInput_pattern\"]';\r\n\r\n    let rules = [];\r\n    let patternInput = null;\r\n    let piiOptions = {};\r\n\r\n    $: typeLabels = {\r\n        'regex': $t('masking.type_regex'),\r\n        'email': $t('masking.type_email'),\r\n        'credit_card': $t('masking.type_credit_card'),\r\n        'pii': $t('masking.type_pii'),\r\n        'secret_keys': $t('masking.type_secret_keys'),\r\n        'urls': $t('masking.type_urls')\r\n    };\r\n\r\n    $: ruleTypes = [\r\n        { value: 'regex', label: $t('masking.type_regex')},\r\n        { value: 'email', label: $t('masking.type_email')},\r\n        { value: 'credit_card', label: $t('masking.type_credit_card')},\r\n        { value: 'pii', label: $t('masking.type_pii')},\r\n        { value: 'secret_keys', label: $t('masking.type_secret_keys')},\r\n        { value: 'urls', label: $t('masking.type_urls')}\r\n    ];\r\n\r\n    let selectedRuleType = 'regex';\r\n\r\n    onMount(async () => {\r\n        \r\n        piiOptions = typeof pii_options === 'string' ? JSON.parse(pii_options) : pii_options;\r\n        patternInput = document.querySelector(input_selector);\r\n        \r\n        if (patternInput) {\r\n            parseRules(patternInput.value);\r\n        }\r\n    });\r\n\r\n    function parseRules(val) {\r\n        try {\r\n            if (val.trim().startsWith('[')) {\r\n                rules = JSON.parse(val);\r\n            } else if (val.trim() !== '') {\r\n                const lines = val.split(\"\\n\");\r\n                rules = [];\r\n                lines.forEach(function(line) {\r\n                    if (line.trim() === '') return;\r\n                    const parts = line.split('|||');\r\n                    const rule = { type: 'regex', pattern: parts[0] };\r\n                    if (parts.length > 1) rule.replacement = parts[1];\r\n                    if (parts.length > 2 && parts[0] === '__email__') rule.replacement_domain = parts[2];\r\n                    rules.push(rule);\r\n                });\r\n            }\r\n        } catch (e) {\r\n            console.error('Error parsing rules', e);\r\n            rules = [];\r\n        }\r\n    }\r\n\r\n    function updateInput() {\r\n        if (patternInput) {\r\n            patternInput.value = JSON.stringify(rules);\r\n        }\r\n    }\r\n\r\n    function addRule() {\r\n        const rule = { type: selectedRuleType };\r\n\r\n        if (selectedRuleType === 'email') {\r\n            rule.replacement = '$';\r\n            rule.replacement_domain = '*';\r\n        } else if (selectedRuleType === 'credit_card') {\r\n            rule.replacement = '*';\r\n        } else if (selectedRuleType === 'regex') {\r\n            rule.pattern = '';\r\n            rule.replacement = '';\r\n            rule.name = '';\r\n        } else if (selectedRuleType === 'pii') {\r\n            rule.entities = [];\r\n            rule.emailDomainAllowList = [];\r\n            rule.replacement = '';\r\n        } else if (selectedRuleType === 'secret_keys') {\r\n            rule.threshold = 'balanced';\r\n        } else if (selectedRuleType === 'urls') {\r\n            rule.allowedSchemes = ['https'];\r\n            rule.blockUserinfo = true;\r\n            rule.allowSubdomains = false;\r\n            rule.allowList = [];\r\n            rule.denyList = [];\r\n            rule.allowHostedHost = false;\r\n        }\r\n\r\n        rules = [...rules, rule];\r\n        updateInput();\r\n    }\r\n\r\n    function deleteRule(index) {\r\n        rules = rules.filter((_, i) => i !== index);\r\n        updateInput();\r\n    }\r\n\r\n    function updateRule(index, key, value) {\r\n        rules[index][key] = value;\r\n        rules = [...rules];\r\n        updateInput();\r\n    }\r\n\r\n    function updatePiiEntity(index, entity, checked) {\r\n        if (!rules[index].entities) rules[index].entities = [];\r\n        \r\n        if (checked) {\r\n            if (rules[index].entities.indexOf(entity) === -1) {\r\n                rules[index].entities = [...rules[index].entities, entity];\r\n            }\r\n        } else {\r\n            rules[index].entities = rules[index].entities.filter(e => e !== entity);\r\n        }\r\n        rules = [...rules];\r\n        updateInput();\r\n    }\r\n\r\n    function updateUrlScheme(index, scheme, checked) {\r\n        if (!rules[index].allowedSchemes) rules[index].allowedSchemes = [];\r\n        \r\n        if (checked) {\r\n            if (rules[index].allowedSchemes.indexOf(scheme) === -1) {\r\n                rules[index].allowedSchemes = [...rules[index].allowedSchemes, scheme];\r\n            }\r\n        } else {\r\n            rules[index].allowedSchemes = rules[index].allowedSchemes.filter(s => s !== scheme);\r\n        }\r\n        rules = [...rules];\r\n        updateInput();\r\n    }\r\n\r\n    function updateUrlAllowList(index, value) {\r\n        rules[index].allowList = value.split(\"\\n\").map(s => s.trim()).filter(s => s !== '');\r\n        // Clear deny list when allow list is updated\r\n        if (rules[index].allowList.length > 0) {\r\n            rules[index].denyList = [];\r\n        }\r\n        rules = [...rules];\r\n        updateInput();\r\n    }\r\n\r\n    function updateUrlDenyList(index, value) {\r\n        rules[index].denyList = value.split(\"\\n\").map(s => s.trim()).filter(s => s !== '');\r\n        // Clear allow list when deny list is updated\r\n        if (rules[index].denyList.length > 0) {\r\n            rules[index].allowList = [];\r\n        }\r\n        rules = [...rules];\r\n        updateInput();\r\n    }\r\n\r\n    function getAllowListText(rule) {\r\n        return (rule.allowList || []).join('\\n');\r\n    }\r\n\r\n    function getDenyListText(rule) {\r\n        return (rule.denyList || []).join('\\n');\r\n    }\r\n\r\n    function updateEmailDomainAllowList(index, value) {\r\n        rules[index].emailDomainAllowList = value.split(\"\\n\").map(s => s.trim()).filter(s => s !== '');\r\n        rules = [...rules];\r\n        updateInput();\r\n    }\r\n\r\n    function getEmailDomainAllowListText(rule) {\r\n        return (rule.emailDomainAllowList || []).join('\\n');\r\n    }\r\n</script>\r\n\r\n<div id=\"rules-container\">\r\n    {#each rules as rule, index}\r\n        <div class=\"card mb-2\">\r\n            <div class=\"card-body p-2\">\r\n                <div class=\"d-flex justify-content-between align-items-center mb-2\">\r\n                    <strong>{typeLabels[rule.type] || rule.type.toUpperCase()}</strong>\r\n                    <button type=\"button\" class=\"btn btn-sm btn-danger\" on:click={() => deleteRule(index)}>{$t('masking.delete')}</button>\r\n                </div>\r\n\r\n                <div>\r\n                    {#if rule.type === 'regex'}\r\n                        <div class=\"row\">\r\n                            <div class=\"col-4\">\r\n                                <label>{$t('masking.name') || 'Name'}</label>\r\n                                <input type=\"text\" class=\"form-control form-control-sm\" value={rule.name || ''} on:change={(e) => updateRule(index, 'name', e.target.value)} placeholder={$t('masking.placeholder_name')}>\r\n                            </div>\r\n                            <div class=\"col-4\">\r\n                                <label>{$t('masking.pattern')}</label>\r\n                                <input type=\"text\" class=\"form-control form-control-sm\" value={rule.pattern || ''} on:change={(e) => updateRule(index, 'pattern', e.target.value)}>\r\n                            </div>\r\n                            <div class=\"col-4\">\r\n                                <label>{$t('masking.replacement_optional') || 'Replacement (optional)'}</label>\r\n                                <input type=\"text\" class=\"form-control form-control-sm\" value={rule.replacement || ''} on:change={(e) => updateRule(index, 'replacement', e.target.value)} placeholder={$t('masking.placeholder_replacement')}>\r\n                            </div>\r\n                        </div>\r\n                    {:else if rule.type === 'email'}\r\n                        <div class=\"row\">\r\n                            <div class=\"col-6\">\r\n                                <label>{$t('masking.replacement')}</label>\r\n                                <input type=\"text\" class=\"form-control form-control-sm\" value={rule.replacement || '$'} on:change={(e) => updateRule(index, 'replacement', e.target.value)}>\r\n                            </div>\r\n                            <div class=\"col-6\">\r\n                                <label>{$t('masking.replacement_domain')}</label>\r\n                                <input type=\"text\" class=\"form-control form-control-sm\" value={rule.replacement_domain || '*'} on:change={(e) => updateRule(index, 'replacement_domain', e.target.value)}>\r\n                            </div>\r\n                        </div>\r\n                    {:else if rule.type === 'credit_card'}\r\n                        <div class=\"row\">\r\n                            <div class=\"col-6\">\r\n                                <label>{$t('masking.replacement')}</label>\r\n                                <input type=\"text\" class=\"form-control form-control-sm\" value={rule.replacement || '*'} on:change={(e) => updateRule(index, 'replacement', e.target.value)}>\r\n                            </div>\r\n                        </div>\r\n                    {:else if rule.type === 'pii'}\r\n                        <div class=\"row\">\r\n                            <div class=\"col-12 pb-2\">\r\n                                <label>{$t('masking.entities')}</label>\r\n                                <div class=\"row\">\r\n                                    {#each Object.entries(piiOptions) as [key, label]}\r\n                                        <div class=\"col-4\">\r\n                                            <div class=\"form-check\">\r\n                                                <input class=\"form-check-input\" type=\"checkbox\" id=\"pii-{index}-{key}\" checked={rule.entities && rule.entities.indexOf(key) !== -1} on:change={(e) => updatePiiEntity(index, key, e.target.checked)}>\r\n                                                <label class=\"form-check-label\" for=\"pii-{index}-{key}\">{label}</label>\r\n                                            </div>\r\n                                        </div>\r\n                                    {/each}\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-6 mb-2\">\r\n                                <label>{$t('masking.email_domain_allow_list') || 'Email Domain Allow List (one per line). Use __mailbox__ to allow all mailbox domains'}</label>\r\n                                <textarea class=\"form-control form-control-sm\" rows=\"3\" placeholder=\"e.g. example.com or __mailbox__\" value={getEmailDomainAllowListText(rule)} on:change={(e) => updateEmailDomainAllowList(index, e.target.value)} disabled={!rule.entities || rule.entities.indexOf('EMAIL_ADDRESS') === -1}></textarea>\r\n                            </div>\r\n                            <div class=\"col-6 mb-2\">\r\n                                <label>{$t('masking.replacement_mask_hint')}</label>\r\n                                <input type=\"text\" class=\"form-control form-control-sm\" value={rule.replacement || ''} on:change={(e) => updateRule(index, 'replacement', e.target.value)} placeholder={$t('masking.placeholder_replacement')}>\r\n                            </div>                            \r\n                        </div>\r\n                    {:else if rule.type === 'secret_keys'}\r\n                        <div class=\"row\">\r\n                            <div class=\"col-6\">\r\n                                <div class=\"form-group\">\r\n                                    <label>{$t('masking.threshold')}</label>\r\n                                    <select class=\"form-control form-control-sm\" value={rule.threshold || 'balanced'} on:change={(e) => updateRule(index, 'threshold', e.target.value)}>\r\n                                        <option value=\"strict\">{$t('masking.threshold_strict')}</option>\r\n                                        <option value=\"balanced\">{$t('masking.threshold_balanced')}</option>\r\n                                        <option value=\"permissive\">{$t('masking.threshold_permissive')}</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-6\">\r\n                                <div class=\"form-group\">\r\n                                    <label>{$t('masking.replacement_mask_hint')}</label>\r\n                                    <input type=\"text\" class=\"form-control form-control-sm\" value={rule.replacement || ''} on:change={(e) => updateRule(index, 'replacement', e.target.value)} placeholder={$t('masking.placeholder_replacement')}>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    {:else if rule.type === 'urls'}\r\n                        <div class=\"row\">\r\n                            <div class=\"col-12 mb-2\">\r\n                                <label>{$t('masking.replacement_mask_hint')}</label>\r\n                                <input type=\"text\" class=\"form-control form-control-sm\" value={rule.replacement || ''} on:change={(e) => updateRule(index, 'replacement', e.target.value)} placeholder={$t('masking.placeholder_replacement')}>\r\n                            </div>\r\n                            <div class=\"col-6\">\r\n                                <div class=\"form-check\">\r\n                                    <input class=\"form-check-input\" type=\"checkbox\" checked={(rule.allowedSchemes || ['https']).indexOf('https') !== -1} on:change={(e) => updateUrlScheme(index, 'https', e.target.checked)}>\r\n                                    <label class=\"form-check-label\">HTTPS</label>\r\n                                </div>\r\n                                <div class=\"form-check\">\r\n                                    <input class=\"form-check-input\" type=\"checkbox\" checked={(rule.allowedSchemes || []).indexOf('http') !== -1} on:change={(e) => updateUrlScheme(index, 'http', e.target.checked)}>\r\n                                    <label class=\"form-check-label\">HTTP</label>\r\n                                </div>\r\n                                <div class=\"form-check\">\r\n                                    <input class=\"form-check-input\" type=\"checkbox\" checked={(rule.allowedSchemes || []).indexOf('ftp') !== -1} on:change={(e) => updateUrlScheme(index, 'ftp', e.target.checked)}>\r\n                                    <label class=\"form-check-label\">FTP</label>\r\n                                </div>\r\n                                <div class=\"form-check\">\r\n                                    <input class=\"form-check-input\" type=\"checkbox\" checked={(rule.allowedSchemes || []).indexOf('mailto') !== -1} on:change={(e) => updateUrlScheme(index, 'mailto', e.target.checked)}>\r\n                                    <label class=\"form-check-label\">Mailto</label>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-6\">\r\n                                <div class=\"form-check\">\r\n                                    <input class=\"form-check-input\" type=\"checkbox\" checked={rule.blockUserinfo !== undefined ? rule.blockUserinfo : true} on:change={(e) => updateRule(index, 'blockUserinfo', e.target.checked)}>\r\n                                    <label class=\"form-check-label\">{$t('masking.block_user_info')}</label>\r\n                                </div>\r\n                                <div class=\"form-check\">\r\n                                    <input class=\"form-check-input\" type=\"checkbox\" checked={rule.allowSubdomains || false} on:change={(e) => updateRule(index, 'allowSubdomains', e.target.checked)}>\r\n                                    <label class=\"form-check-label\">{$t('masking.allow_subdomains')}</label>\r\n                                </div>\r\n                                <div class=\"form-check\">\r\n                                    <input class=\"form-check-input\" type=\"checkbox\" checked={rule.allowHostedHost || false} on:change={(e) => updateRule(index, 'allowHostedHost', e.target.checked)}>\r\n                                    <label class=\"form-check-label\">{$t('masking.allow_hosted_host')}</label>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-6 mt-2\">\r\n                                <label>{$t('masking.allow_list')}</label>\r\n                                <textarea class=\"form-control form-control-sm\" rows=\"3\" placeholder=\"e.g. example.com\" value={getAllowListText(rule)} on:change={(e) => updateUrlAllowList(index, e.target.value)} disabled={(rule.denyList || []).length > 0}></textarea>\r\n                            </div>\r\n                            <div class=\"col-6 mt-2\">\r\n                                <label>{$t('masking.deny_list')}</label>\r\n                                <textarea class=\"form-control form-control-sm\" rows=\"3\" placeholder=\"e.g. example.com\" value={getDenyListText(rule)} on:change={(e) => updateUrlDenyList(index, e.target.value)} disabled={(rule.allowList || []).length > 0}></textarea>\r\n                            </div>\r\n                             <div class=\"col-12 mt-1\">\r\n                                <small class=\"text-muted\"><em>{$t('masking.list_exclusive_note')}</em></small>\r\n                            </div>\r\n                        </div>\r\n                    {/if}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    {/each}\r\n</div>\r\n\r\n<div class=\"row mt-2\">\r\n    <div class=\"col-auto\">\r\n        <select class=\"form-control form-control-sm\" bind:value={selectedRuleType}>\r\n            {#each ruleTypes as ruleType}\r\n                <option value={ruleType.value}>{ruleType.label}</option>\r\n            {/each}\r\n        </select>\r\n    </div>\r\n    <div class=\"col-auto\">\r\n        <button type=\"button\" class=\"btn btn-sm btn-secondary\" on:click={addRule}>{$t('masking.add_rule')}</button>\r\n    </div>\r\n</div>\r\n"],"names":["t","initTranslations","createI18n","t0_value","ctx","t16_value","t19_value","t22_value","t24_value","t27_value","t30_value","replacement","attr","input0","input0_placeholder_value","allowedSchemes","indexOf","input2","checked","input2_checked_value","input3","input3_checked_value","input4","input4_checked_value","undefined","blockUserinfo","allowSubdomains","allowHostedHost","textarea0","value","textarea0_value_value","getAllowListText","disabled","textarea0_disabled_value","denyList","length","textarea1","textarea1_value_value","getDenyListText","textarea1_disabled_value","allowList","insert","target","div13","anchor","append","div0","label0","div5","div1","input1","label1","div2","label2","div3","label3","div4","label4","div9","div6","input5","label5","div7","input6","label6","div8","input7","label7","div10","label8","div11","label9","div12","small","em","dirty","set_data","t0","input0_value_value","t16","t19","t22","t24","t27","t30","t2_value","t3_value","t4_value","t6_value","input","input_placeholder_value","select","option0","option1","option2","threshold","t2","t3","t4","t6","input_value_value","Object","entries","i","textarea","textarea_value_value","getEmailDomainAllowListText","entities","label_1","replacement_domain","input1_value_value","name","pattern","input2_placeholder_value","input2_value_value","input_id_value","label_1_for_value","t1","t1_value","type","toUpperCase","create_if_block","create_if_block_1","create_if_block_2","create_if_block_3","create_if_block_4","create_if_block_5","strong","button","t_1_value","label","option","__value","option_value_value","t_1","add_render_callback","call","rule","join","emailDomainAllowList","pii_options","$$props","input_selector","rules","patternInput","piiOptions","selectedRuleType","updateInput","JSON","stringify","deleteRule","index","filter","_","updateRule","key","$$invalidate","updatePiiEntity","entity","e","updateUrlScheme","scheme","s","updateUrlAllowList","split","map","trim","updateUrlDenyList","updateEmailDomainAllowList","onMount","async","parse","document","querySelector","val","startsWith","lines","forEach","line","parts","push","console","error","parseRules","typeLabels","regex","$t","email","credit_card","pii","secret_keys","urls","ruleTypes","select_value","this"],"mappings":"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"}