{"version":3,"sources":["fb41512325c684771c8fcbdc4a258bb3.js"],"names":["lhcAppControllers","controller","$scope","$http","$location","$rootScope","$log","$window","this","languages","dialects","departments","ignoreLanguages","that","move","element","offset","index","indexOf","newIndex","length","removedElement","splice","setDialects","setIgnoreLanguages","setLanguages","initController","addLanguage","push","message","fallback_message","dep_id","dep_ids","setTimeout","$","tab","makeDropdown","toggleSelection","lang","language","idx","deleteLanguage","field","moveLeftField","moveRightField","getLanguagesChecked","shortCode","forEach","item","_that","join","isSelectedDialect","dialect","allChecked","items","lang_code","short_code","id","changeSelection","addOption","addDepartment","combination","deleteElement","list","confirm"],"mappings":"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","file":"fb41512325c684771c8fcbdc4a258bb3.js","sourcesContent":["lhcAppControllers.controller('AutoResponderCtrl',['$scope','$http','$location','$rootScope', '$log', '$window', function($scope, $http, $location, $rootScope, $log, $window) {\nthis.languages = [];\nthis.dialects = [];\nthis.departments = [];\nthis.ignoreLanguages = {\n'languages' : []\n};\nvar that = this;\nthis.move = function(element, offset) {\nindex = that.languages.indexOf(element);\nnewIndex = index + offset;\nif (newIndex > -1 && newIndex < that.languages.length){\nremovedElement = that.languages.splice(index, 1)[0];\nthat.languages.splice(newIndex, 0, removedElement)\n}\n};\nthis.setDialects = function() {\nthis.dialects = $window['languageDialects'];\nthis.departments = $window['replaceDepartments'];\n}\nthis.setIgnoreLanguages = function() {\nthis.ignoreLanguages.languages = $window['autoResponderLanguagesIgnore'];\n}\nthis.setLanguages = function() {\nthis.languages = $window['autoResponderLanguages'];\n}\nthis.initController = function() {\nthat.dialects = $window['languageDialects'];\n}\nthis.addLanguage = function() {\nthat.languages.push({\n'message' : '',\n'fallback_message' : '',\n'dep_id': \"0\",\n'dep_ids': [],\n'languages' : []});\nsetTimeout(function () {\n$('#autoresponder-tabs li:eq(' + (that.languages.length+3) + ') a').tab('show');\n},250);\nsetTimeout(function(){\n$('.btn-block-department').makeDropdown();\n},1000);\n};\nthis.toggleSelection =  function toggleSelection(lang, language) {\nvar idx = lang.languages.indexOf(language);\nif (idx > -1) {\nlang.languages.splice(idx, 1);\n} else {\nlang.languages.push(language);\n}\n};\nthis.deleteLanguage = function(field) {\nthat.languages.splice(that.languages.indexOf(field),1);\n$('#autoresponder-tabs a:first').tab('show');\n};\nthis.moveLeftField = function(field) {\nthat.move(field,-1);\n}\nthis.moveRightField = function(field) {\nthat.move(field,1);\n}\nthis.getLanguagesChecked = function (lang) {\nvar shortCode = [];\nlang.languages.forEach(function(item) {\nif (item.length == 2) {\nshortCode.push(item);\n}\n});\nvar _that = this;\nlang.dep_ids && lang.dep_ids.forEach(function(item) {\nshortCode.push(_that.departments[item]);\n});\nreturn shortCode.length > 0 ? shortCode.join(', ') : lang.languages.join(', ');\n}\nthis.isSelectedDialect = function(lang, dialect) {\nif (typeof lang.dialect === 'undefined') {\nlang.dialect = [];\n}\nvar allChecked = true;\ndialect.items.forEach(function(item){\nif (lang.languages.indexOf(item.lang_code) === -1 || (item.short_code != '' && lang.languages.indexOf(item.short_code) === -1)){\nallChecked = false;\n}\n});\nlang.dialect[dialect.lang.id] = allChecked;\n}\nthis.changeSelection = function (lang, dialect) {\nif (lang.dialect[dialect.lang.id] === false) {\ndialect.items.forEach(function(item){\nif (item.short_code != '' && lang.languages.indexOf(item.short_code) === -1) {\nlang.languages.push(item.short_code);\n}\nif (lang.languages.indexOf(item.lang_code) === -1){\nlang.languages.push(item.lang_code);\n}\n});\n} else {\ndialect.items.forEach(function(item){\nvar idx = null;\nif (item.short_code != '') {\nidx = lang.languages.indexOf(item.short_code);\nif (idx > -1) {\nlang.languages.splice(idx, 1);\n}\n}\nidx = lang.languages.indexOf(item.lang_code);\nif (idx > -1) {\nlang.languages.splice(idx, 1);\n}\n});\n}\n}\nthis.addOption = function(element) {\nthis.addDepartment(element)\n}\nthis.addDepartment = function(combination){\nif (!combination.dep_ids) {\ncombination.dep_ids = [];\n}\nif (combination.dep_ids.indexOf(combination.dep_id) == -1) {\ncombination.dep_ids.push(combination.dep_id);\n}\n}\nthis.deleteElement = function (element,list) {\nif (confirm('Are you sure?')){\nlist.splice(list.indexOf(element), 1);\n}\n}\n}]);\n"]}