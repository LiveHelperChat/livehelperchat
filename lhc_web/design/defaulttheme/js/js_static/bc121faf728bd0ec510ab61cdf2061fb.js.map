{"version":3,"file":"bc121faf728bd0ec510ab61cdf2061fb.js","names":["lhcAppControllers","controller","$scope","$http","$location","$rootScope","$log","$window","this","combinations","departments","currentTabHash","that","makeid","length","text","possible","i","charAt","Math","floor","random","setConditions","window","location","hash","replace","jQuery","document","on","e","history","replaceState","target","deleteElement","element","list","confirm","splice","indexOf","addOption","addDepartment","move","offset","index","newIndex","removedElement","addCombination","push","conditions","value","cannedRepeatPeriod","dep_id","dep_ids","priority","setTimeout","$","makeDropdown","setDateTime","console","log","combination","addCondition","items","field","logic","moveUp","moveDown"],"sources":["bc121faf728bd0ec510ab61cdf2061fb.js"],"mappings":"AAAAA,kBAAkBC,WAAW,oBAAoB,CAAC,SAAS,QAAQ,YAAY,aAAc,OAAO,UAAW,SAASC,EAAQC,EAAOC,EAAWC,EAAYC,EAAMC,GACpKC,KAAKC,aAAe,GACpBD,KAAKE,YAAc,GACnBF,KAAKG,eAAiB,GACtB,IAAIC,EAAOJ,KACXA,KAAKK,OAAS,SAASC,GAGvB,IAFA,IAAIC,EAAO,GACPC,EAAW,iEACNC,EAAI,EAAGA,EAAIH,EAAQG,IAC5BF,GAAQC,EAASE,OAAOC,KAAKC,MAAsBJ,GAAhBG,KAAKE,WACxC,OAAON,CACP,EACAP,KAAKc,cAAgB,WACrBd,KAAKC,aAAeF,EAA2B,kBAC/CC,KAAKE,YAAcH,EAA4B,mBAC/CC,KAAKG,eAAiBY,OAAOC,SAASC,KACtCjB,KAAKG,eAAiBH,KAAKG,eAAee,QAAQ,MAAM,KAAKA,QAAQ,IAAI,IACzEC,OAAOC,UAAUC,GAAG,eAAgB,yGAAyG,SAAUC,GACvJC,QAAQC,aAAa,KAAM,KAAMF,EAAEG,OAAOR,KAC1C,GACA,EACAjB,KAAK0B,cAAgB,SAAUC,EAAQC,GACnCC,QAAQ,kBACZD,EAAKE,OAAOF,EAAKG,QAAQJ,GAAU,EAEnC,EACA3B,KAAKgC,UAAY,SAASL,GAC1B3B,KAAKiC,cAAcN,EACnB,EACA3B,KAAKkC,KAAO,SAASP,EAASC,EAAMO,GACpCC,MAAQR,EAAKG,QAAQJ,GACrBU,SAAWD,MAAQD,EACfE,UAAY,GAAKA,SAAWT,EAAKtB,SACrCgC,eAAiBV,EAAKE,OAAOM,MAAO,GAAG,GACvCR,EAAKE,OAAOO,SAAU,EAAGC,gBAEzB,EACAtC,KAAKuC,eAAiB,WACtBnC,EAAKH,aAAauC,KAAK,CACvBC,WAAe,GACfC,MAAU,GACVC,mBAAuB,IACvBC,OAAU,IACVC,QAAW,GACXC,SAAa,IAEbC,YAAW,WACXC,EAAE,yBAAyBC,cAC3B,GAAE,IACF,EACAjD,KAAKkD,YAAc,WACnBC,QAAQC,IAAI,OACZ,EACApD,KAAKiC,cAAgB,SAASoB,GACzBA,EAAYR,UACjBQ,EAAYR,QAAU,KAEkC,GAApDQ,EAAYR,QAAQd,QAAQsB,EAAYT,SAC5CS,EAAYR,QAAQL,KAAKa,EAAYT,OAErC,EACA5C,KAAKsD,aAAe,SAASC,GAC7BA,EAAMd,WAAWD,KAAK,CAACgB,MAAM,GAAIC,MAAO,OACxC,EACAzD,KAAK0D,OAAS,SAASF,EAAM5B,GAC7BxB,EAAK8B,KAAKsB,EAAM5B,GAAM,EACtB,EACA5B,KAAK2D,SAAW,SAASH,EAAM5B,GAC/BxB,EAAK8B,KAAKsB,EAAM5B,EAAK,EACrB,EACAmB,YAAW,WACXC,EAAE,yBAAyBC,cAC3B,GAAE,KACF","ignoreList":[],"sourcesContent":["lhcAppControllers.controller('CannedReplaceCtrl',['$scope','$http','$location','$rootScope', '$log','$window', function($scope, $http, $location, $rootScope, $log, $window) {\nthis.combinations = [];\nthis.departments = [];\nthis.currentTabHash = '';\nvar that = this;\nthis.makeid = function(length) {\nvar text = \"\";\nvar possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\nfor (var i = 0; i < length; i++)\ntext += possible.charAt(Math.floor(Math.random() * possible.length));\nreturn text;\n}\nthis.setConditions = function() {\nthis.combinations = $window['replaceConditions'];\nthis.departments = $window['replaceDepartments'];\nthis.currentTabHash = window.location.hash;\nthis.currentTabHash = this.currentTabHash.replace('#!#','#').replace('#','');\njQuery(document).on('shown.bs.tab', '.nav-tabs[angular-tabs-remember=\"true\"] .nav-link, .nav-pills[angular-tabs-remember=\"true\"] .nav-link', function (e) {\nhistory.replaceState(null, null, e.target.hash);\n});\n}\nthis.deleteElement = function (element,list) {\nif (confirm('Are you sure?')){\nlist.splice(list.indexOf(element), 1);\n}\n}\nthis.addOption = function(element) {\nthis.addDepartment(element)\n}\nthis.move = function(element, list, offset) {\nindex = list.indexOf(element);\nnewIndex = index + offset;\nif (newIndex > -1 && newIndex < list.length){\nremovedElement = list.splice(index, 1)[0];\nlist.splice(newIndex, 0, removedElement)\n}\n}\nthis.addCombination = function() {\nthat.combinations.push({\n'conditions' : [],\n'value' : '',\n'cannedRepeatPeriod' : '0',\n'dep_id': \"0\",\n'dep_ids': [],\n'priority' : 0,\n});\nsetTimeout(function(){\n$('.btn-block-department').makeDropdown();\n},1000);\n}\nthis.setDateTime = function() {\nconsole.log('here');\n}\nthis.addDepartment = function(combination){\nif (!combination.dep_ids) {\ncombination.dep_ids = [];\n}\nif (combination.dep_ids.indexOf(combination.dep_id) == -1) {\ncombination.dep_ids.push(combination.dep_id);\n}\n}\nthis.addCondition = function(items) {\nitems.conditions.push({field:\"\", logic: \"and\"});\n}\nthis.moveUp = function(field,list) {\nthat.move(field,list,-1);\n}\nthis.moveDown = function(field,list) {\nthat.move(field,list,1);\n}\nsetTimeout(function(){\n$('.btn-block-department').makeDropdown();\n},1500);\n}]);\n"]}