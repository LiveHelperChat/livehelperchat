!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){"use strict";var n=[],i=Object.getPrototypeOf,s=n.slice,o=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},r=n.push,a=n.indexOf,l={},c=l.toString,d=l.hasOwnProperty,u=d.toString,h=u.call(Object),p={},f=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},g=function(e){return null!=e&&e===e.window},m=e.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function y(e,t,n){var i,s,o=(n=n||m).createElement("script");if(o.text=e,t)for(i in v)(s=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,s);n.head.appendChild(o).parentNode.removeChild(o)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var _="3.6.3",w=function(e,t){return new w.fn.init(e,t)};function C(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!f(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}w.fn=w.prototype={jquery:_,constructor:w,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(w.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:r,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,i,s,o,r=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[a]||{},a++),"object"==typeof r||f(r)||(r={}),a===l&&(r=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)i=e[t],"__proto__"!==t&&r!==i&&(c&&i&&(w.isPlainObject(i)||(s=Array.isArray(i)))?(n=r[t],o=s&&!Array.isArray(n)?[]:s||w.isPlainObject(n)?n:{},s=!1,r[t]=w.extend(c,o,i)):void 0!==i&&(r[t]=i));return r},w.extend({expando:"jQuery"+(_+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e)||(t=i(e))&&("function"!=typeof(n=d.call(t,"constructor")&&t.constructor)||u.call(n)!==h))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){y(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(C(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?w.merge(n,"string"==typeof e?[e]:e):r.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:a.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,s=e.length;i<n;i++)e[s++]=t[i];return e.length=s,e},grep:function(e,t,n){for(var i=[],s=0,o=e.length,r=!n;s<o;s++)!t(e[s],s)!==r&&i.push(e[s]);return i},map:function(e,t,n){var i,s,r=0,a=[];if(C(e))for(i=e.length;r<i;r++)null!=(s=t(e[r],r,n))&&a.push(s);else for(r in e)null!=(s=t(e[r],r,n))&&a.push(s);return o(a)},guid:1,support:p}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){l["[object "+t+"]"]=t.toLowerCase()}));var T=function(e){var t,n,i,s,o,r,a,l,c,d,u,h,p,f,g,m,v,y,b,_="sizzle"+1*new Date,w=e.document,C=0,T=0,x=le(),S=le(),k=le(),E=le(),A=function(e,t){return e===t&&(u=!0),0},$={}.hasOwnProperty,D=[],L=D.pop,M=D.push,O=D.push,I=D.slice,N=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",H="[\\x20\\t\\r\\n\\f]",P="(?:\\\\[\\da-fA-F]{1,6}"+H+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",R="\\["+H+"*("+P+")(?:"+H+"*([*^$|!~]?=)"+H+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+P+"))|)"+H+"*\\]",W=":("+P+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",F=new RegExp(H+"+","g"),q=new RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),B=new RegExp("^"+H+"*,"+H+"*"),U=new RegExp("^"+H+"*([>+~]|"+H+")"+H+"*"),z=new RegExp(H+"|>"),V=new RegExp(W),J=new RegExp("^"+P+"$"),Q={ID:new RegExp("^#("+P+")"),CLASS:new RegExp("^\\.("+P+")"),TAG:new RegExp("^("+P+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,G=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+H+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,se=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){h()},re=_e((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{O.apply(D=I.call(w.childNodes),w.childNodes),D[w.childNodes.length].nodeType}catch(t){O={apply:D.length?function(e,t){M.apply(e,I.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function ae(e,t,i,s){var o,a,c,d,u,f,v,y=t&&t.ownerDocument,w=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==w&&9!==w&&11!==w)return i;if(!s&&(h(t),t=t||p,g)){if(11!==w&&(u=Z.exec(e)))if(o=u[1]){if(9===w){if(!(c=t.getElementById(o)))return i;if(c.id===o)return i.push(c),i}else if(y&&(c=y.getElementById(o))&&b(t,c)&&c.id===o)return i.push(c),i}else{if(u[2])return O.apply(i,t.getElementsByTagName(e)),i;if((o=u[3])&&n.getElementsByClassName&&t.getElementsByClassName)return O.apply(i,t.getElementsByClassName(o)),i}if(n.qsa&&!E[e+" "]&&(!m||!m.test(e))&&(1!==w||"object"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===w&&(z.test(e)||U.test(e))){for((y=ee.test(e)&&ve(t.parentNode)||t)===t&&n.scope||((d=t.getAttribute("id"))?d=d.replace(ie,se):t.setAttribute("id",d=_)),a=(f=r(e)).length;a--;)f[a]=(d?"#"+d:":scope")+" "+be(f[a]);v=f.join(",")}try{if(n.cssSupportsSelector&&!CSS.supports("selector(:is("+v+"))"))throw new Error;return O.apply(i,y.querySelectorAll(v)),i}catch(t){E(e,!0)}finally{d===_&&t.removeAttribute("id")}}}return l(e.replace(q,"$1"),t,i,s)}function le(){var e=[];return function t(n,s){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=s}}function ce(e){return e[_]=!0,e}function de(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),s=n.length;s--;)i.attrHandle[n[s]]=t}function he(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&re(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return ce((function(t){return t=+t,ce((function(n,i){for(var s,o=e([],n.length,t),r=o.length;r--;)n[s=o[r]]&&(n[s]=!(i[s]=n[s]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ae.support={},o=ae.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!X.test(t||n&&n.nodeName||"HTML")},h=ae.setDocument=function(e){var t,s,r=e?e.ownerDocument||e:w;return r!=p&&9===r.nodeType&&r.documentElement&&(f=(p=r).documentElement,g=!o(p),w!=p&&(s=p.defaultView)&&s.top!==s&&(s.addEventListener?s.addEventListener("unload",oe,!1):s.attachEvent&&s.attachEvent("onunload",oe)),n.scope=de((function(e){return f.appendChild(e).appendChild(p.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.cssSupportsSelector=de((function(){return CSS.supports("selector(*)")&&p.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")})),n.attributes=de((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=de((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=G.test(p.getElementsByClassName),n.getById=de((function(e){return f.appendChild(e).id=_,!p.getElementsByName||!p.getElementsByName(_).length})),n.getById?(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,i,s,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(s=t.getElementsByName(e),i=0;o=s[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],s=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[s++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],m=[],(n.qsa=G.test(p.querySelectorAll))&&(de((function(e){var t;f.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+H+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+H+"*(?:value|"+j+")"),e.querySelectorAll("[id~="+_+"-]").length||m.push("~="),(t=p.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\["+H+"*name"+H+"*="+H+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")})),de((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+H+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=G.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&de((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",W)})),n.cssSupportsSelector||m.push(":has"),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=G.test(f.compareDocumentPosition),b=t||G.test(f.contains)?function(e,t){var n=9===e.nodeType&&e.documentElement||e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return u=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e==p||e.ownerDocument==w&&b(w,e)?-1:t==p||t.ownerDocument==w&&b(w,t)?1:d?N(d,e)-N(d,t):0:4&i?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,i=0,s=e.parentNode,o=t.parentNode,r=[e],a=[t];if(!s||!o)return e==p?-1:t==p?1:s?-1:o?1:d?N(d,e)-N(d,t):0;if(s===o)return he(e,t);for(n=e;n=n.parentNode;)r.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;r[i]===a[i];)i++;return i?he(r[i],a[i]):r[i]==w?-1:a[i]==w?1:0}),p},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if(h(e),n.matchesSelector&&g&&!E[t+" "]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var i=y.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){E(t,!0)}return 0<ae(t,p,null,[e]).length},ae.contains=function(e,t){return(e.ownerDocument||e)!=p&&h(e),b(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!=p&&h(e);var s=i.attrHandle[t.toLowerCase()],o=s&&$.call(i.attrHandle,t.toLowerCase())?s(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ae.escape=function(e){return(e+"").replace(ie,se)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,i=[],s=0,o=0;if(u=!n.detectDuplicates,d=!n.sortStable&&e.slice(0),e.sort(A),u){for(;t=e[o++];)t===e[o]&&(s=i.push(o));for(;s--;)e.splice(i[s],1)}return d=null,e},s=ae.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=s(t);return n},(i=ae.selectors={cacheLength:50,createPseudo:ce,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=r(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=x[e+" "];return t||(t=new RegExp("(^|"+H+")"+e+"("+H+"|$)"))&&x(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var s=ae.attr(i,e);return null==s?"!="===t:!t||(s+="","="===t?s===n:"!="===t?s!==n:"^="===t?n&&0===s.indexOf(n):"*="===t?n&&-1<s.indexOf(n):"$="===t?n&&s.slice(-n.length)===n:"~="===t?-1<(" "+s.replace(F," ")+" ").indexOf(n):"|="===t&&(s===n||s.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,s){var o="nth"!==e.slice(0,3),r="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===s?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,h,p,f,g=o!==r?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(o){for(;g;){for(h=t;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[r?m.firstChild:m.lastChild],r&&y){for(b=(p=(c=(d=(u=(h=m)[_]||(h[_]={}))[h.uniqueID]||(u[h.uniqueID]={}))[e]||[])[0]===C&&c[1])&&c[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(b=p=0)||f.pop();)if(1===h.nodeType&&++b&&h===t){d[e]=[C,p,b];break}}else if(y&&(b=p=(c=(d=(u=(h=t)[_]||(h[_]={}))[h.uniqueID]||(u[h.uniqueID]={}))[e]||[])[0]===C&&c[1]),!1===b)for(;(h=++p&&h&&h[g]||(b=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&((d=(u=h[_]||(h[_]={}))[h.uniqueID]||(u[h.uniqueID]={}))[e]=[C,b]),h!==t)););return(b-=s)===i||b%i==0&&0<=b/i}}},PSEUDO:function(e,t){var n,s=i.pseudos[e]||i.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return s[_]?s(t):1<s.length?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var i,o=s(e,t),r=o.length;r--;)e[i=N(e,o[r])]=!(n[i]=o[r])})):function(e){return s(e,0,n)}):s}},pseudos:{not:ce((function(e){var t=[],n=[],i=a(e.replace(q,"$1"));return i[_]?ce((function(e,t,n,s){for(var o,r=i(e,null,s,[]),a=e.length;a--;)(o=r[a])&&(e[a]=!(t[a]=o))})):function(e,s,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return 0<ae(e,t).length}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return-1<(t.textContent||s(t)).indexOf(e)}})),lang:ce((function(e){return J.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me((function(){return[0]})),last:me((function(e,t){return[t-1]})),eq:me((function(e,t,n){return[n<0?n+t:n]})),even:me((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:me((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:me((function(e,t,n){for(var i=n<0?n+t:t<n?t:n;0<=--i;)e.push(i);return e})),gt:me((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=fe(t);function ye(){}function be(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function _e(e,t,n){var i=t.dir,s=t.next,o=s||i,r=n&&"parentNode"===o,a=T++;return t.first?function(t,n,s){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,s);return!1}:function(t,n,l){var c,d,u,h=[C,a];if(l){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(d=(u=t[_]||(t[_]={}))[t.uniqueID]||(u[t.uniqueID]={}),s&&s===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=d[o])&&c[0]===C&&c[1]===a)return h[2]=c[2];if((d[o]=h)[2]=e(t,n,l))return!0}return!1}}function we(e){return 1<e.length?function(t,n,i){for(var s=e.length;s--;)if(!e[s](t,n,i))return!1;return!0}:e[0]}function Ce(e,t,n,i,s){for(var o,r=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,i,s)||(r.push(o),c&&t.push(a)));return r}function Te(e,t,n,i,s,o){return i&&!i[_]&&(i=Te(i)),s&&!s[_]&&(s=Te(s,o)),ce((function(o,r,a,l){var c,d,u,h=[],p=[],f=r.length,g=o||function(e,t,n){for(var i=0,s=t.length;i<s;i++)ae(e,t[i],n);return n}(t||"*",a.nodeType?[a]:a,[]),m=!e||!o&&t?g:Ce(g,h,e,a,l),v=n?s||(o?e:f||i)?[]:r:m;if(n&&n(m,v,a,l),i)for(c=Ce(v,p),i(c,[],a,l),d=c.length;d--;)(u=c[d])&&(v[p[d]]=!(m[p[d]]=u));if(o){if(s||e){if(s){for(c=[],d=v.length;d--;)(u=v[d])&&c.push(m[d]=u);s(null,v=[],c,l)}for(d=v.length;d--;)(u=v[d])&&-1<(c=s?N(o,u):h[d])&&(o[c]=!(r[c]=u))}}else v=Ce(v===r?v.splice(f,v.length):v),s?s(null,r,v,l):O.apply(r,v)}))}function xe(e){for(var t,n,s,o=e.length,r=i.relative[e[0].type],a=r||i.relative[" "],l=r?1:0,d=_e((function(e){return e===t}),a,!0),u=_e((function(e){return-1<N(t,e)}),a,!0),h=[function(e,n,i){var s=!r&&(i||n!==c)||((t=n).nodeType?d(e,n,i):u(e,n,i));return t=null,s}];l<o;l++)if(n=i.relative[e[l].type])h=[_e(we(h),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[_]){for(s=++l;s<o&&!i.relative[e[s].type];s++);return Te(1<l&&we(h),1<l&&be(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(q,"$1"),n,l<s&&xe(e.slice(l,s)),s<o&&xe(e=e.slice(s)),s<o&&be(e))}h.push(n)}return we(h)}return ye.prototype=i.filters=i.pseudos,i.setFilters=new ye,r=ae.tokenize=function(e,t){var n,s,o,r,a,l,c,d=S[e+" "];if(d)return t?0:d.slice(0);for(a=e,l=[],c=i.preFilter;a;){for(r in n&&!(s=B.exec(a))||(s&&(a=a.slice(s[0].length)||a),l.push(o=[])),n=!1,(s=U.exec(a))&&(n=s.shift(),o.push({value:n,type:s[0].replace(q," ")}),a=a.slice(n.length)),i.filter)!(s=Q[r].exec(a))||c[r]&&!(s=c[r](s))||(n=s.shift(),o.push({value:n,type:r,matches:s}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ae.error(e):S(e,l).slice(0)},a=ae.compile=function(e,t){var n,s,o,a,l,d,u=[],f=[],m=k[e+" "];if(!m){for(t||(t=r(e)),n=t.length;n--;)(m=xe(t[n]))[_]?u.push(m):f.push(m);(m=k(e,(s=f,a=0<(o=u).length,l=0<s.length,d=function(e,t,n,r,d){var u,f,m,v=0,y="0",b=e&&[],_=[],w=c,T=e||l&&i.find.TAG("*",d),x=C+=null==w?1:Math.random()||.1,S=T.length;for(d&&(c=t==p||t||d);y!==S&&null!=(u=T[y]);y++){if(l&&u){for(f=0,t||u.ownerDocument==p||(h(u),n=!g);m=s[f++];)if(m(u,t||p,n)){r.push(u);break}d&&(C=x)}a&&((u=!m&&u)&&v--,e&&b.push(u))}if(v+=y,a&&y!==v){for(f=0;m=o[f++];)m(b,_,t,n);if(e){if(0<v)for(;y--;)b[y]||_[y]||(_[y]=L.call(r));_=Ce(_)}O.apply(r,_),d&&!e&&0<_.length&&1<v+o.length&&ae.uniqueSort(r)}return d&&(C=x,c=w),b},a?ce(d):d))).selector=e}return m},l=ae.select=function(e,t,n,s){var o,l,c,d,u,h="function"==typeof e&&e,p=!s&&r(e=h.selector||e);if(n=n||[],1===p.length){if(2<(l=p[0]=p[0].slice(0)).length&&"ID"===(c=l[0]).type&&9===t.nodeType&&g&&i.relative[l[1].type]){if(!(t=(i.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;h&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=Q.needsContext.test(e)?0:l.length;o--&&(c=l[o],!i.relative[d=c.type]);)if((u=i.find[d])&&(s=u(c.matches[0].replace(te,ne),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(o,1),!(e=s.length&&be(l)))return O.apply(n,s),n;break}}return(h||a(e,p))(s,t,!g,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=_.split("").sort(A).join("")===_,n.detectDuplicates=!!u,h(),n.sortDetached=de((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),de((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ue("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&de((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ue("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),de((function(e){return null==e.getAttribute("disabled")}))||ue(j,(function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),ae}(e);w.find=T,w.expr=T.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=T.uniqueSort,w.text=T.getText,w.isXMLDoc=T.isXML,w.contains=T.contains,w.escapeSelector=T.escape;var x=function(e,t,n){for(var i=[],s=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(s&&w(e).is(n))break;i.push(e)}return i},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=w.expr.match.needsContext;function E(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function $(e,t,n){return f(t)?w.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?w.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?w.grep(e,(function(e){return-1<a.call(t,e)!==n})):w.filter(t,e,n)}w.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?w.find.matchesSelector(i,e)?[i]:[]:w.find.matches(e,w.grep(t,(function(e){return 1===e.nodeType})))},w.fn.extend({find:function(e){var t,n,i=this.length,s=this;if("string"!=typeof e)return this.pushStack(w(e).filter((function(){for(t=0;t<i;t++)if(w.contains(s[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)w.find(e,s[t],n);return 1<i?w.uniqueSort(n):n},filter:function(e){return this.pushStack($(this,e||[],!1))},not:function(e){return this.pushStack($(this,e||[],!0))},is:function(e){return!!$(this,"string"==typeof e&&k.test(e)?w(e):e||[],!1).length}});var D,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var i,s;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:L.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:m,!0)),A.test(i[1])&&w.isPlainObject(t))for(i in t)f(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(s=m.getElementById(i[2]))&&(this[0]=s,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):f(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,D=w(m);var M=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function I(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,s=this.length,o=[],r="string"!=typeof e&&w(e);if(!k.test(e))for(;i<s;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(r?-1<r.index(n):1===n.nodeType&&w.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?w.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?a.call(w(e),this[0]):a.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x(e,"parentNode")},parentsUntil:function(e,t,n){return x(e,"parentNode",n)},next:function(e){return I(e,"nextSibling")},prev:function(e){return I(e,"previousSibling")},nextAll:function(e){return x(e,"nextSibling")},prevAll:function(e){return x(e,"previousSibling")},nextUntil:function(e,t,n){return x(e,"nextSibling",n)},prevUntil:function(e,t,n){return x(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return null!=e.contentDocument&&i(e.contentDocument)?e.contentDocument:(E(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},(function(e,t){w.fn[e]=function(n,i){var s=w.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(s=w.filter(i,s)),1<this.length&&(O[e]||w.uniqueSort(s),M.test(e)&&s.reverse()),this.pushStack(s)}}));var N=/[^\x20\t\r\n\f]+/g;function j(e){return e}function H(e){throw e}function P(e,t,n,i){var s;try{e&&f(s=e.promise)?s.call(e).done(t).fail(n):e&&f(s=e.then)?s.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}w.Callbacks=function(e){var t,n;e="string"==typeof e?(t=e,n={},w.each(t.match(N)||[],(function(e,t){n[t]=!0})),n):w.extend({},e);var i,s,o,r,a=[],l=[],c=-1,d=function(){for(r=r||e.once,o=i=!0;l.length;c=-1)for(s=l.shift();++c<a.length;)!1===a[c].apply(s[0],s[1])&&e.stopOnFalse&&(c=a.length,s=!1);e.memory||(s=!1),i=!1,r&&(a=s?[]:"")},u={add:function(){return a&&(s&&!i&&(c=a.length-1,l.push(s)),function t(n){w.each(n,(function(n,i){f(i)?e.unique&&u.has(i)||a.push(i):i&&i.length&&"string"!==b(i)&&t(i)}))}(arguments),s&&!i&&d()),this},remove:function(){return w.each(arguments,(function(e,t){for(var n;-1<(n=w.inArray(t,a,n));)a.splice(n,1),n<=c&&c--})),this},has:function(e){return e?-1<w.inArray(e,a):0<a.length},empty:function(){return a&&(a=[]),this},disable:function(){return r=l=[],a=s="",this},disabled:function(){return!a},lock:function(){return r=l=[],s||i||(a=s=""),this},locked:function(){return!!r},fireWith:function(e,t){return r||(t=[e,(t=t||[]).slice?t.slice():t],l.push(t),i||d()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!o}};return u},w.extend({Deferred:function(t){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],i="pending",s={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return s.then(null,e)},pipe:function(){var e=arguments;return w.Deferred((function(t){w.each(n,(function(n,i){var s=f(e[i[4]])&&e[i[4]];o[i[1]]((function(){var e=s&&s.apply(this,arguments);e&&f(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,s?[e]:arguments)}))})),e=null})).promise()},then:function(t,i,s){var o=0;function r(t,n,i,s){return function(){var a=this,l=arguments,c=function(){var e,c;if(!(t<o)){if((e=i.apply(a,l))===n.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"==typeof e||"function"==typeof e)&&e.then,f(c)?s?c.call(e,r(o,n,j,s),r(o,n,H,s)):(o++,c.call(e,r(o,n,j,s),r(o,n,H,s),r(o,n,j,n.notifyWith))):(i!==j&&(a=void 0,l=[e]),(s||n.resolveWith)(a,l))}},d=s?c:function(){try{c()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,d.stackTrace),o<=t+1&&(i!==H&&(a=void 0,l=[e]),n.rejectWith(a,l))}};t?d():(w.Deferred.getStackHook&&(d.stackTrace=w.Deferred.getStackHook()),e.setTimeout(d))}}return w.Deferred((function(e){n[0][3].add(r(0,e,f(s)?s:j,e.notifyWith)),n[1][3].add(r(0,e,f(t)?t:j)),n[2][3].add(r(0,e,f(i)?i:H))})).promise()},promise:function(e){return null!=e?w.extend(e,s):s}},o={};return w.each(n,(function(e,t){var r=t[2],a=t[5];s[t[1]]=r.add,a&&r.add((function(){i=a}),n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),r.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=r.fireWith})),s.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),o=s.call(arguments),r=w.Deferred(),a=function(e){return function(n){i[e]=this,o[e]=1<arguments.length?s.call(arguments):n,--t||r.resolveWith(i,o)}};if(t<=1&&(P(e,r.done(a(n)).resolve,r.reject,!t),"pending"===r.state()||f(o[n]&&o[n].then)))return r.then();for(;n--;)P(o[n],a(n),r.reject);return r.promise()}});var R=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&R.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout((function(){throw t}))};var W=w.Deferred();function F(){m.removeEventListener("DOMContentLoaded",F),e.removeEventListener("load",F),w.ready()}w.fn.ready=function(e){return W.then(e).catch((function(e){w.readyException(e)})),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0)!==e&&0<--w.readyWait||W.resolveWith(m,[w])}}),w.ready.then=W.then,"complete"===m.readyState||"loading"!==m.readyState&&!m.documentElement.doScroll?e.setTimeout(w.ready):(m.addEventListener("DOMContentLoaded",F),e.addEventListener("load",F));var q=function(e,t,n,i,s,o,r){var a=0,l=e.length,c=null==n;if("object"===b(n))for(a in s=!0,n)q(e,t,a,n[a],!0,o,r);else if(void 0!==i&&(s=!0,f(i)||(r=!0),c&&(r?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(w(e),n)})),t))for(;a<l;a++)t(e[a],n,r?i:i.call(e[a],a,t(e[a],n)));return s?e:c?t.call(e):l?t(e[0],n):o},B=/^-ms-/,U=/-([a-z])/g;function z(e,t){return t.toUpperCase()}function V(e){return e.replace(B,"ms-").replace(U,z)}var J=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=w.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},J(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,s=this.cache(e);if("string"==typeof t)s[V(t)]=n;else for(i in t)s[V(i)]=t[i];return s},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][V(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(V):(t=V(t))in i?[t]:t.match(N)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||w.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var X=new Q,Y=new Q,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,G=/[A-Z]/g;function Z(e,t,n){var i,s;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(G,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===(s=n)||"false"!==s&&("null"===s?null:s===+s+""?+s:K.test(s)?JSON.parse(s):s)}catch(e){}Y.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return Y.hasData(e)||X.hasData(e)},data:function(e,t,n){return Y.access(e,t,n)},removeData:function(e,t){Y.remove(e,t)},_data:function(e,t,n){return X.access(e,t,n)},_removeData:function(e,t){X.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,i,s,o=this[0],r=o&&o.attributes;if(void 0===e){if(this.length&&(s=Y.get(o),1===o.nodeType&&!X.get(o,"hasDataAttrs"))){for(n=r.length;n--;)r[n]&&0===(i=r[n].name).indexOf("data-")&&(i=V(i.slice(5)),Z(o,i,s[i]));X.set(o,"hasDataAttrs",!0)}return s}return"object"==typeof e?this.each((function(){Y.set(this,e)})):q(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=Y.get(o,e))||void 0!==(n=Z(o,e))?n:void 0;this.each((function(){Y.set(this,e,t)}))}),null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each((function(){Y.remove(this,e)}))}}),w.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=X.get(e,t),n&&(!i||Array.isArray(n)?i=X.access(e,t,w.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),i=n.length,s=n.shift(),o=w._queueHooks(e,t);"inprogress"===s&&(s=n.shift(),i--),s&&("fx"===t&&n.unshift("inprogress"),delete o.stop,s.call(e,(function(){w.dequeue(e,t)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return X.get(e,n)||X.access(e,n,{empty:w.Callbacks("once memory").add((function(){X.remove(e,[t+"queue",n])}))})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each((function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){w.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,s=w.Deferred(),o=this,r=this.length,a=function(){--i||s.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)(n=X.get(o[r],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),s.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],ie=m.documentElement,se=function(e){return w.contains(e.ownerDocument,e)},oe={composed:!0};ie.getRootNode&&(se=function(e){return w.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var re=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&se(e)&&"none"===w.css(e,"display")};function ae(e,t,n,i){var s,o,r=20,a=i?function(){return i.cur()}:function(){return w.css(e,t,"")},l=a(),c=n&&n[3]||(w.cssNumber[t]?"":"px"),d=e.nodeType&&(w.cssNumber[t]||"px"!==c&&+l)&&te.exec(w.css(e,t));if(d&&d[3]!==c){for(l/=2,c=c||d[3],d=+l||1;r--;)w.style(e,t,d+c),(1-o)*(1-(o=a()/l||.5))<=0&&(r=0),d/=o;d*=2,w.style(e,t,d+c),n=n||[]}return n&&(d=+d||+l||0,s=n[1]?d+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=d,i.end=s)),s}var le={};function ce(e,t){for(var n,i,s,o,r,a,l,c=[],d=0,u=e.length;d<u;d++)(i=e[d]).style&&(n=i.style.display,t?("none"===n&&(c[d]=X.get(i,"display")||null,c[d]||(i.style.display="")),""===i.style.display&&re(i)&&(c[d]=(l=r=o=void 0,r=(s=i).ownerDocument,a=s.nodeName,(l=le[a])||(o=r.body.appendChild(r.createElement(a)),l=w.css(o,"display"),o.parentNode.removeChild(o),"none"===l&&(l="block"),le[a]=l)))):"none"!==n&&(c[d]="none",X.set(i,"display",n)));for(d=0;d<u;d++)null!=c[d]&&(e[d].style.display=c[d]);return e}w.fn.extend({show:function(){return ce(this,!0)},hide:function(){return ce(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){re(this)?w(this).show():w(this).hide()}))}});var de,ue,he=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,fe=/^$|^module$|\/(?:java|ecma)script/i;de=m.createDocumentFragment().appendChild(m.createElement("div")),(ue=m.createElement("input")).setAttribute("type","radio"),ue.setAttribute("checked","checked"),ue.setAttribute("name","t"),de.appendChild(ue),p.checkClone=de.cloneNode(!0).cloneNode(!0).lastChild.checked,de.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!de.cloneNode(!0).lastChild.defaultValue,de.innerHTML="<option></option>",p.option=!!de.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&E(e,t)?w.merge([e],n):n}function ve(e,t){for(var n=0,i=e.length;n<i;n++)X.set(e[n],"globalEval",!t||X.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,p.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var ye=/<|&#?\w+;/;function be(e,t,n,i,s){for(var o,r,a,l,c,d,u=t.createDocumentFragment(),h=[],p=0,f=e.length;p<f;p++)if((o=e[p])||0===o)if("object"===b(o))w.merge(h,o.nodeType?[o]:o);else if(ye.test(o)){for(r=r||u.appendChild(t.createElement("div")),a=(pe.exec(o)||["",""])[1].toLowerCase(),l=ge[a]||ge._default,r.innerHTML=l[1]+w.htmlPrefilter(o)+l[2],d=l[0];d--;)r=r.lastChild;w.merge(h,r.childNodes),(r=u.firstChild).textContent=""}else h.push(t.createTextNode(o));for(u.textContent="",p=0;o=h[p++];)if(i&&-1<w.inArray(o,i))s&&s.push(o);else if(c=se(o),r=me(u.appendChild(o),"script"),c&&ve(r),n)for(d=0;o=r[d++];)fe.test(o.type||"")&&n.push(o);return u}var _e=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Ce(){return!1}function Te(e,t){return e===function(){try{return m.activeElement}catch(e){}}()==("focus"===t)}function xe(e,t,n,i,s,o){var r,a;if("object"==typeof t){for(a in"string"!=typeof n&&(i=i||n,n=void 0),t)xe(e,a,n,i,t[a],o);return e}if(null==i&&null==s?(s=n,i=n=void 0):null==s&&("string"==typeof n?(s=i,i=void 0):(s=i,i=n,n=void 0)),!1===s)s=Ce;else if(!s)return e;return 1===o&&(r=s,(s=function(e){return w().off(e),r.apply(this,arguments)}).guid=r.guid||(r.guid=w.guid++)),e.each((function(){w.event.add(this,t,s,i,n)}))}function Se(e,t,n){n?(X.set(e,t,!1),w.event.add(e,t,{namespace:!1,handler:function(e){var i,o,r=X.get(this,t);if(1&e.isTrigger&&this[t]){if(r.length)(w.event.special[t]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),X.set(this,t,r),i=n(this,t),this[t](),r!==(o=X.get(this,t))||i?X.set(this,t,!1):o={},r!==o)return e.stopImmediatePropagation(),e.preventDefault(),o&&o.value}else r.length&&(X.set(this,t,{value:w.event.trigger(w.extend(r[0],w.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===X.get(e,t)&&w.event.add(e,t,we)}w.event={global:{},add:function(e,t,n,i,s){var o,r,a,l,c,d,u,h,p,f,g,m=X.get(e);if(J(e))for(n.handler&&(n=(o=n).handler,s=o.selector),s&&w.find.matchesSelector(ie,s),n.guid||(n.guid=w.guid++),(l=m.events)||(l=m.events=Object.create(null)),(r=m.handle)||(r=m.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(N)||[""]).length;c--;)p=g=(a=_e.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(u=w.event.special[p]||{},p=(s?u.delegateType:u.bindType)||p,u=w.event.special[p]||{},d=w.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:s,needsContext:s&&w.expr.match.needsContext.test(s),namespace:f.join(".")},o),(h=l[p])||((h=l[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,i,f,r)||e.addEventListener&&e.addEventListener(p,r)),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),s?h.splice(h.delegateCount++,0,d):h.push(d),w.event.global[p]=!0)},remove:function(e,t,n,i,s){var o,r,a,l,c,d,u,h,p,f,g,m=X.hasData(e)&&X.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(N)||[""]).length;c--;)if(p=g=(a=_e.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(u=w.event.special[p]||{},h=l[p=(i?u.delegateType:u.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=o=h.length;o--;)d=h[o],!s&&g!==d.origType||n&&n.guid!==d.guid||a&&!a.test(d.namespace)||i&&i!==d.selector&&("**"!==i||!d.selector)||(h.splice(o,1),d.selector&&h.delegateCount--,u.remove&&u.remove.call(e,d));r&&!h.length&&(u.teardown&&!1!==u.teardown.call(e,f,m.handle)||w.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)w.event.remove(e,p+t[c],n,i,!0);w.isEmptyObject(l)&&X.remove(e,"handle events")}},dispatch:function(e){var t,n,i,s,o,r,a=new Array(arguments.length),l=w.event.fix(e),c=(X.get(this,"events")||Object.create(null))[l.type]||[],d=w.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,l)){for(r=w.event.handlers.call(this,l,c),t=0;(s=r[t++])&&!l.isPropagationStopped();)for(l.currentTarget=s.elem,n=0;(o=s.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(i=((w.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,a))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,i,s,o,r,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],r={},n=0;n<l;n++)void 0===r[s=(i=t[n]).selector+" "]&&(r[s]=i.needsContext?-1<w(s,this).index(c):w.find(s,this,null,[c]).length),r[s]&&o.push(i);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:f(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return he.test(t.type)&&t.click&&E(t,"input")&&Se(t,"click",we),!1},trigger:function(e){var t=this||e;return he.test(t.type)&&t.click&&E(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return he.test(t.type)&&t.click&&E(t,"input")&&X.get(t,"click")||E(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Ce,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Ce,isPropagationStopped:Ce,isImmediatePropagationStopped:Ce,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},(function(e,t){w.event.special[e]={setup:function(){return Se(this,e,Te),!1},trigger:function(){return Se(this,e),!0},_default:function(t){return X.get(t.target,e)},delegateType:t}})),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,s=e.handleObj;return i&&(i===this||w.contains(this,i))||(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}})),w.fn.extend({on:function(e,t,n,i){return xe(this,e,t,n,i)},one:function(e,t,n,i){return xe(this,e,t,n,i,1)},off:function(e,t,n){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,w(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ce),this.each((function(){w.event.remove(this,e,n,t)}))}});var ke=/<script|<style|<link/i,Ee=/checked\s*(?:[^=]|=\s*.checked.)/i,Ae=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function $e(e,t){return E(e,"table")&&E(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Le(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Me(e,t){var n,i,s,o,r,a;if(1===t.nodeType){if(X.hasData(e)&&(a=X.get(e).events))for(s in X.remove(t,"handle events"),a)for(n=0,i=a[s].length;n<i;n++)w.event.add(t,s,a[s][n]);Y.hasData(e)&&(o=Y.access(e),r=w.extend({},o),Y.set(t,r))}}function Oe(e,t,n,i){t=o(t);var s,r,a,l,c,d,u=0,h=e.length,g=h-1,m=t[0],v=f(m);if(v||1<h&&"string"==typeof m&&!p.checkClone&&Ee.test(m))return e.each((function(s){var o=e.eq(s);v&&(t[0]=m.call(this,s,o.html())),Oe(o,t,n,i)}));if(h&&(r=(s=be(t,e[0].ownerDocument,!1,e,i)).firstChild,1===s.childNodes.length&&(s=r),r||i)){for(l=(a=w.map(me(s,"script"),De)).length;u<h;u++)c=s,u!==g&&(c=w.clone(c,!0,!0),l&&w.merge(a,me(c,"script"))),n.call(e[u],c,u);if(l)for(d=a[a.length-1].ownerDocument,w.map(a,Le),u=0;u<l;u++)c=a[u],fe.test(c.type||"")&&!X.access(c,"globalEval")&&w.contains(d,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?w._evalUrl&&!c.noModule&&w._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},d):y(c.textContent.replace(Ae,""),c,d))}return e}function Ie(e,t,n){for(var i,s=t?w.filter(t,e):e,o=0;null!=(i=s[o]);o++)n||1!==i.nodeType||w.cleanData(me(i)),i.parentNode&&(n&&se(i)&&ve(me(i,"script")),i.parentNode.removeChild(i));return e}w.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,s,o,r,a,l,c,d=e.cloneNode(!0),u=se(e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(r=me(d),i=0,s=(o=me(e)).length;i<s;i++)a=o[i],"input"===(c=(l=r[i]).nodeName.toLowerCase())&&he.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(t)if(n)for(o=o||me(e),r=r||me(d),i=0,s=o.length;i<s;i++)Me(o[i],r[i]);else Me(e,d);return 0<(r=me(d,"script")).length&&ve(r,!u&&me(e,"script")),d},cleanData:function(e){for(var t,n,i,s=w.event.special,o=0;void 0!==(n=e[o]);o++)if(J(n)){if(t=n[X.expando]){if(t.events)for(i in t.events)s[i]?w.event.remove(n,i):w.removeEvent(n,i,t.handle);n[X.expando]=void 0}n[Y.expando]&&(n[Y.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Ie(this,e,!0)},remove:function(e){return Ie(this,e)},text:function(e){return q(this,(function(e){return void 0===e?w.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Oe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||$e(this,e).appendChild(e)}))},prepend:function(){return Oe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=$e(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Oe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Oe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return w.clone(this,e,t)}))},html:function(e){return q(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(pe.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Oe(this,arguments,(function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(me(this)),n&&n.replaceChild(t,this))}),e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){w.fn[e]=function(e){for(var n,i=[],s=w(e),o=s.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),w(s[a])[t](n),r.apply(i,n.get());return this.pushStack(i)}}));var Ne=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),je=/^--/,He=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Pe=function(e,t,n){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];for(s in i=n.call(e),t)e.style[s]=o[s];return i},Re=new RegExp(ne.join("|"),"i"),We="[\\x20\\t\\r\\n\\f]",Fe=new RegExp("^"+We+"+|((?:^|[^\\\\])(?:\\\\.)*)"+We+"+$","g");function qe(e,t,n){var i,s,o,r,a=je.test(t),l=e.style;return(n=n||He(e))&&(r=n.getPropertyValue(t)||n[t],a&&r&&(r=r.replace(Fe,"$1")||void 0),""!==r||se(e)||(r=w.style(e,t)),!p.pixelBoxStyles()&&Ne.test(r)&&Re.test(t)&&(i=l.width,s=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=r,r=n.width,l.width=i,l.minWidth=s,l.maxWidth=o)),void 0!==r?r+"":r}function Be(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(d){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(c).appendChild(d);var t=e.getComputedStyle(d);i="1%"!==t.top,l=12===n(t.marginLeft),d.style.right="60%",r=36===n(t.right),s=36===n(t.width),d.style.position="absolute",o=12===n(d.offsetWidth/3),ie.removeChild(c),d=null}}function n(e){return Math.round(parseFloat(e))}var i,s,o,r,a,l,c=m.createElement("div"),d=m.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===d.style.backgroundClip,w.extend(p,{boxSizingReliable:function(){return t(),s},pixelBoxStyles:function(){return t(),r},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,n,i,s;return null==a&&(t=m.createElement("table"),n=m.createElement("tr"),i=m.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="border:1px solid",n.style.height="1px",i.style.height="9px",i.style.display="block",ie.appendChild(t).appendChild(n).appendChild(i),s=e.getComputedStyle(n),a=parseInt(s.height,10)+parseInt(s.borderTopWidth,10)+parseInt(s.borderBottomWidth,10)===n.offsetHeight,ie.removeChild(t)),a}}))}();var Ue=["Webkit","Moz","ms"],ze=m.createElement("div").style,Ve={};function Je(e){return w.cssProps[e]||Ve[e]||(e in ze?e:Ve[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ue.length;n--;)if((e=Ue[n]+t)in ze)return e}(e)||e)}var Qe=/^(none|table(?!-c[ea]).+)/,Xe={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"};function Ke(e,t,n){var i=te.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function Ge(e,t,n,i,s,o){var r="width"===t?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;r<4;r+=2)"margin"===n&&(l+=w.css(e,n+ne[r],!0,s)),i?("content"===n&&(l-=w.css(e,"padding"+ne[r],!0,s)),"margin"!==n&&(l-=w.css(e,"border"+ne[r]+"Width",!0,s))):(l+=w.css(e,"padding"+ne[r],!0,s),"padding"!==n?l+=w.css(e,"border"+ne[r]+"Width",!0,s):a+=w.css(e,"border"+ne[r]+"Width",!0,s));return!i&&0<=o&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))||0),l}function Ze(e,t,n){var i=He(e),s=(!p.boxSizingReliable()||n)&&"border-box"===w.css(e,"boxSizing",!1,i),o=s,r=qe(e,t,i),a="offset"+t[0].toUpperCase()+t.slice(1);if(Ne.test(r)){if(!n)return r;r="auto"}return(!p.boxSizingReliable()&&s||!p.reliableTrDimensions()&&E(e,"tr")||"auto"===r||!parseFloat(r)&&"inline"===w.css(e,"display",!1,i))&&e.getClientRects().length&&(s="border-box"===w.css(e,"boxSizing",!1,i),(o=a in e)&&(r=e[a])),(r=parseFloat(r)||0)+Ge(e,t,n||(s?"border":"content"),o,i,r)+"px"}function et(e,t,n,i,s){return new et.prototype.init(e,t,n,i,s)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=qe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,o,r,a=V(t),l=je.test(t),c=e.style;if(l||(t=Je(a)),r=w.cssHooks[t]||w.cssHooks[a],void 0===n)return r&&"get"in r&&void 0!==(s=r.get(e,!1,i))?s:c[t];"string"==(o=typeof n)&&(s=te.exec(n))&&s[1]&&(n=ae(e,t,s),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=s&&s[3]||(w.cssNumber[a]?"":"px")),p.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),r&&"set"in r&&void 0===(n=r.set(e,n,i))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var s,o,r,a=V(t);return je.test(t)||(t=Je(a)),(r=w.cssHooks[t]||w.cssHooks[a])&&"get"in r&&(s=r.get(e,!0,n)),void 0===s&&(s=qe(e,t,i)),"normal"===s&&t in Ye&&(s=Ye[t]),""===n||n?(o=parseFloat(s),!0===n||isFinite(o)?o||0:s):s}}),w.each(["height","width"],(function(e,t){w.cssHooks[t]={get:function(e,n,i){if(n)return!Qe.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,t,i):Pe(e,Xe,(function(){return Ze(e,t,i)}))},set:function(e,n,i){var s,o=He(e),r=!p.scrollboxSize()&&"absolute"===o.position,a=(r||i)&&"border-box"===w.css(e,"boxSizing",!1,o),l=i?Ge(e,t,i,a,o):0;return a&&r&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Ge(e,t,"border",!1,o)-.5)),l&&(s=te.exec(n))&&"px"!==(s[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Ke(0,n,l)}}})),w.cssHooks.marginLeft=Be(p.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(qe(e,"marginLeft"))||e.getBoundingClientRect().left-Pe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),w.each({margin:"",padding:"",border:"Width"},(function(e,t){w.cssHooks[e+t]={expand:function(n){for(var i=0,s={},o="string"==typeof n?n.split(" "):[n];i<4;i++)s[e+ne[i]+t]=o[i]||o[i-2]||o[0];return s}},"margin"!==e&&(w.cssHooks[e+t].set=Ke)})),w.fn.extend({css:function(e,t){return q(this,(function(e,t,n){var i,s,o={},r=0;if(Array.isArray(t)){for(i=He(e),s=t.length;r<s;r++)o[t[r]]=w.css(e,t[r],!1,i);return o}return void 0!==n?w.style(e,t,n):w.css(e,t)}),e,t,1<arguments.length)}}),((w.Tween=et).prototype={constructor:et,init:function(e,t,n,i,s,o){this.elem=e,this.prop=n,this.easing=s||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}}).init.prototype=et.prototype,(et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||!w.cssHooks[e.prop]&&null==e.elem.style[Je(e.prop)]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=et.prototype.init,w.fx.step={};var tt,nt,it,st,ot=/^(?:toggle|show|hide)$/,rt=/queueHooks$/;function at(){nt&&(!1===m.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(at):e.setTimeout(at,w.fx.interval),w.fx.tick())}function lt(){return e.setTimeout((function(){tt=void 0})),tt=Date.now()}function ct(e,t){var n,i=0,s={height:e};for(t=t?1:0;i<4;i+=2-t)s["margin"+(n=ne[i])]=s["padding"+n]=e;return t&&(s.opacity=s.width=e),s}function dt(e,t,n){for(var i,s=(ut.tweeners[t]||[]).concat(ut.tweeners["*"]),o=0,r=s.length;o<r;o++)if(i=s[o].call(n,t,e))return i}function ut(e,t,n){var i,s,o=0,r=ut.prefilters.length,a=w.Deferred().always((function(){delete l.elem})),l=function(){if(s)return!1;for(var t=tt||lt(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),o=0,r=c.tweens.length;o<r;o++)c.tweens[o].run(i);return a.notifyWith(e,[c,i,n]),i<1&&r?n:(r||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:tt||lt(),duration:n.duration,tweens:[],createTween:function(t,n){var i=w.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(s)return this;for(s=!0;n<i;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),d=c.props;for(function(e,t){var n,i,s,o,r;for(n in e)if(s=t[i=V(n)],o=e[n],Array.isArray(o)&&(s=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(r=w.cssHooks[i])&&"expand"in r)for(n in o=r.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=s);else t[i]=s}(d,c.opts.specialEasing);o<r;o++)if(i=ut.prefilters[o].call(c,e,d,c.opts))return f(i.stop)&&(w._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return w.map(d,dt,c),f(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),w.fx.timer(w.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}w.Animation=w.extend(ut,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ae(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){f(e)?(t=e,e=["*"]):e=e.match(N);for(var n,i=0,s=e.length;i<s;i++)n=e[i],ut.tweeners[n]=ut.tweeners[n]||[],ut.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,s,o,r,a,l,c,d,u="width"in t||"height"in t,h=this,p={},f=e.style,g=e.nodeType&&re(e),m=X.get(e,"fxshow");for(i in n.queue||(null==(r=w._queueHooks(e,"fx")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,h.always((function(){h.always((function(){r.unqueued--,w.queue(e,"fx").length||r.empty.fire()}))}))),t)if(s=t[i],ot.test(s)){if(delete t[i],o=o||"toggle"===s,s===(g?"hide":"show")){if("show"!==s||!m||void 0===m[i])continue;g=!0}p[i]=m&&m[i]||w.style(e,i)}if((l=!w.isEmptyObject(t))||!w.isEmptyObject(p))for(i in u&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=m&&m.display)&&(c=X.get(e,"display")),"none"===(d=w.css(e,"display"))&&(c?d=c:(ce([e],!0),c=e.style.display||c,d=w.css(e,"display"),ce([e]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===w.css(e,"float")&&(l||(h.done((function(){f.display=c})),null==c&&(d=f.display,c="none"===d?"":d)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),l=!1,p)l||(m?"hidden"in m&&(g=m.hidden):m=X.access(e,"fxshow",{display:c}),o&&(m.hidden=!g),g&&ce([e],!0),h.done((function(){for(i in g||ce([e]),X.remove(e,"fxshow"),p)w.style(e,i,p[i])}))),l=dt(g?m[i]:0,i,h),i in m||(m[i]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ut.prefilters.unshift(e):ut.prefilters.push(e)}}),w.speed=function(e,t,n){var i=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||f(e)&&e,duration:e,easing:n&&t||t&&!f(t)&&t};return w.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in w.fx.speeds?i.duration=w.fx.speeds[i.duration]:i.duration=w.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){f(i.old)&&i.old.call(this),i.queue&&w.dequeue(this,i.queue)},i},w.fn.extend({fadeTo:function(e,t,n,i){return this.filter(re).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var s=w.isEmptyObject(e),o=w.speed(t,n,i),r=function(){var t=ut(this,w.extend({},e),o);(s||X.get(this,"finish"))&&t.stop(!0)};return r.finish=r,s||!1===o.queue?this.each(r):this.queue(o.queue,r)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,s=null!=e&&e+"queueHooks",o=w.timers,r=X.get(this);if(s)r[s]&&r[s].stop&&i(r[s]);else for(s in r)r[s]&&r[s].stop&&rt.test(s)&&i(r[s]);for(s=o.length;s--;)o[s].elem!==this||null!=e&&o[s].queue!==e||(o[s].anim.stop(n),t=!1,o.splice(s,1));!t&&n||w.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=X.get(this),i=n[e+"queue"],s=n[e+"queueHooks"],o=w.timers,r=i?i.length:0;for(n.finish=!0,w.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<r;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),w.each(["toggle","show","hide"],(function(e,t){var n=w.fn[t];w.fn[t]=function(e,i,s){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ct(t,!0),e,i,s)}})),w.each({slideDown:ct("show"),slideUp:ct("hide"),slideToggle:ct("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){w.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(tt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),tt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){nt||(nt=!0,at())},w.fx.stop=function(){nt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,n){return t=w.fx&&w.fx.speeds[t]||t,n=n||"fx",this.queue(n,(function(n,i){var s=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(s)}}))},it=m.createElement("input"),st=m.createElement("select").appendChild(m.createElement("option")),it.type="checkbox",p.checkOn=""!==it.value,p.optSelected=st.selected,(it=m.createElement("input")).value="t",it.type="radio",p.radioValue="t"===it.value;var ht,pt=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return q(this,w.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each((function(){w.removeAttr(this,e)}))}}),w.extend({attr:function(e,t,n){var i,s,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?w.prop(e,t,n):(1===o&&w.isXMLDoc(e)||(s=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):s&&"set"in s&&void 0!==(i=s.set(e,n,t))?i:(e.setAttribute(t,n+""),n):s&&"get"in s&&null!==(i=s.get(e,t))?i:null==(i=w.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&E(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,s=t&&t.match(N);if(s&&1===e.nodeType)for(;n=s[i++];)e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=pt[t]||w.find.attr;pt[t]=function(e,t,i){var s,o,r=t.toLowerCase();return i||(o=pt[r],pt[r]=s,s=null!=n(e,t,i)?r:null,pt[r]=o),s}}));var ft=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function mt(e){return(e.match(N)||[]).join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}function yt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(N)||[]}w.fn.extend({prop:function(e,t){return q(this,w.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each((function(){delete this[w.propFix[e]||e]}))}}),w.extend({prop:function(e,t,n){var i,s,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(e)||(t=w.propFix[t]||t,s=w.propHooks[t]),void 0!==n?s&&"set"in s&&void 0!==(i=s.set(e,n,t))?i:e[t]=n:s&&"get"in s&&null!==(i=s.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):ft.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){w.propFix[this.toLowerCase()]=this})),w.fn.extend({addClass:function(e){var t,n,i,s,o,r;return f(e)?this.each((function(t){w(this).addClass(e.call(this,t,vt(this)))})):(t=yt(e)).length?this.each((function(){if(i=vt(this),n=1===this.nodeType&&" "+mt(i)+" "){for(o=0;o<t.length;o++)s=t[o],n.indexOf(" "+s+" ")<0&&(n+=s+" ");r=mt(n),i!==r&&this.setAttribute("class",r)}})):this},removeClass:function(e){var t,n,i,s,o,r;return f(e)?this.each((function(t){w(this).removeClass(e.call(this,t,vt(this)))})):arguments.length?(t=yt(e)).length?this.each((function(){if(i=vt(this),n=1===this.nodeType&&" "+mt(i)+" "){for(o=0;o<t.length;o++)for(s=t[o];-1<n.indexOf(" "+s+" ");)n=n.replace(" "+s+" "," ");r=mt(n),i!==r&&this.setAttribute("class",r)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,i,s,o,r=typeof e,a="string"===r||Array.isArray(e);return f(e)?this.each((function(n){w(this).toggleClass(e.call(this,n,vt(this),t),t)})):"boolean"==typeof t&&a?t?this.addClass(e):this.removeClass(e):(n=yt(e),this.each((function(){if(a)for(o=w(this),s=0;s<n.length;s++)i=n[s],o.hasClass(i)?o.removeClass(i):o.addClass(i);else void 0!==e&&"boolean"!==r||((i=vt(this))&&X.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===e?"":X.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+mt(vt(n))+" ").indexOf(t))return!0;return!1}});var bt=/\r/g;w.fn.extend({val:function(e){var t,n,i,s=this[0];return arguments.length?(i=f(e),this.each((function(n){var s;1===this.nodeType&&(null==(s=i?e.call(this,n,w(this).val()):e)?s="":"number"==typeof s?s+="":Array.isArray(s)&&(s=w.map(s,(function(e){return null==e?"":e+""}))),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,s,"value")||(this.value=s))}))):s?(t=w.valHooks[s.type]||w.valHooks[s.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(s,"value"))?n:"string"==typeof(n=s.value)?n.replace(bt,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:mt(w.text(e))}},select:{get:function(e){var t,n,i,s=e.options,o=e.selectedIndex,r="select-one"===e.type,a=r?null:[],l=r?o+1:s.length;for(i=o<0?l:r?o:0;i<l;i++)if(((n=s[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!E(n.parentNode,"optgroup"))){if(t=w(n).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var n,i,s=e.options,o=w.makeArray(t),r=s.length;r--;)((i=s[r]).selected=-1<w.inArray(w.valHooks.option.get(i),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],(function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<w.inArray(w(e).val(),t)}},p.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),p.focusin="onfocusin"in e;var _t=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,i,s){var o,r,a,l,c,u,h,p,v=[i||m],y=d.call(t,"type")?t.type:t,b=d.call(t,"namespace")?t.namespace.split("."):[];if(r=p=a=i=i||m,3!==i.nodeType&&8!==i.nodeType&&!_t.test(y+w.event.triggered)&&(-1<y.indexOf(".")&&(y=(b=y.split(".")).shift(),b.sort()),c=y.indexOf(":")<0&&"on"+y,(t=t[w.expando]?t:new w.Event(y,"object"==typeof t&&t)).isTrigger=s?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:w.makeArray(n,[t]),h=w.event.special[y]||{},s||!h.trigger||!1!==h.trigger.apply(i,n))){if(!s&&!h.noBubble&&!g(i)){for(l=h.delegateType||y,_t.test(l+y)||(r=r.parentNode);r;r=r.parentNode)v.push(r),a=r;a===(i.ownerDocument||m)&&v.push(a.defaultView||a.parentWindow||e)}for(o=0;(r=v[o++])&&!t.isPropagationStopped();)p=r,t.type=1<o?l:h.bindType||y,(u=(X.get(r,"events")||Object.create(null))[t.type]&&X.get(r,"handle"))&&u.apply(r,n),(u=c&&r[c])&&u.apply&&J(r)&&(t.result=u.apply(r,n),!1===t.result&&t.preventDefault());return t.type=y,s||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(v.pop(),n)||!J(i)||c&&f(i[y])&&!g(i)&&((a=i[c])&&(i[c]=null),w.event.triggered=y,t.isPropagationStopped()&&p.addEventListener(y,wt),i[y](),t.isPropagationStopped()&&p.removeEventListener(y,wt),w.event.triggered=void 0,a&&(i[c]=a)),t.result}},simulate:function(e,t,n){var i=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(i,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each((function(){w.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),p.focusin||w.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,s=X.access(i,t);s||i.addEventListener(e,n,!0),X.access(i,t,(s||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,s=X.access(i,t)-1;s?X.access(i,t,s):(i.removeEventListener(e,n,!0),X.remove(i,t))}}}));var Ct=e.location,Tt={guid:Date.now()},xt=/\?/;w.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(t){}return i=n&&n.getElementsByTagName("parsererror")[0],n&&!i||w.error("Invalid XML: "+(i?w.map(i.childNodes,(function(e){return e.textContent})).join("\n"):t)),n};var St=/\[\]$/,kt=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;function $t(e,t,n,i){var s;if(Array.isArray(t))w.each(t,(function(t,s){n||St.test(e)?i(e,s):$t(e+"["+("object"==typeof s&&null!=s?t:"")+"]",s,n,i)}));else if(n||"object"!==b(t))i(e,t);else for(s in t)$t(e+"["+s+"]",t[s],n,i)}w.param=function(e,t){var n,i=[],s=function(e,t){var n=f(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,(function(){s(this.name,this.value)}));else for(n in e)$t(n,e[n],t,s);return i.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&At.test(this.nodeName)&&!Et.test(e)&&(this.checked||!he.test(e))})).map((function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,(function(e){return{name:t.name,value:e.replace(kt,"\r\n")}})):{name:t.name,value:n.replace(kt,"\r\n")}})).get()}});var Dt=/%20/g,Lt=/#.*$/,Mt=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,It=/^(?:GET|HEAD)$/,Nt=/^\/\//,jt={},Ht={},Pt="*/".concat("*"),Rt=m.createElement("a");function Wt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,s=0,o=t.toLowerCase().match(N)||[];if(f(n))for(;i=o[s++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Ft(e,t,n,i){var s={},o=e===Ht;function r(a){var l;return s[a]=!0,w.each(e[a]||[],(function(e,a){var c=a(t,n,i);return"string"!=typeof c||o||s[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)})),l}return r(t.dataTypes[0])||!s["*"]&&r("*")}function qt(e,t){var n,i,s=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((s[n]?e:i||(i={}))[n]=t[n]);return i&&w.extend(!0,e,i),e}Rt.href=Ct.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?qt(qt(e,w.ajaxSettings),t):qt(w.ajaxSettings,e)},ajaxPrefilter:Wt(jt),ajaxTransport:Wt(Ht),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,s,o,r,a,l,c,d,u,h,p=w.ajaxSetup({},n),f=p.context||p,g=p.context&&(f.nodeType||f.jquery)?w(f):w.event,v=w.Deferred(),y=w.Callbacks("once memory"),b=p.statusCode||{},_={},C={},T="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(c){if(!r)for(r={};t=Ot.exec(o);)r[t[1].toLowerCase()+" "]=(r[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=r[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=C[e.toLowerCase()]=C[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)x.always(e[x.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||T;return i&&i.abort(t),S(0,t),this}};if(v.promise(x),p.url=((t||p.url||Ct.href)+"").replace(Nt,Ct.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(N)||[""],null==p.crossDomain){l=m.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Rt.protocol+"//"+Rt.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=w.param(p.data,p.traditional)),Ft(jt,p,n,x),c)return x;for(u in(d=w.event&&p.global)&&0==w.active++&&w.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!It.test(p.type),s=p.url.replace(Lt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Dt,"+")):(h=p.url.slice(s.length),p.data&&(p.processData||"string"==typeof p.data)&&(s+=(xt.test(s)?"&":"?")+p.data,delete p.data),!1===p.cache&&(s=s.replace(Mt,"$1"),h=(xt.test(s)?"&":"?")+"_="+Tt.guid+++h),p.url=s+h),p.ifModified&&(w.lastModified[s]&&x.setRequestHeader("If-Modified-Since",w.lastModified[s]),w.etag[s]&&x.setRequestHeader("If-None-Match",w.etag[s])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&x.setRequestHeader("Content-Type",p.contentType),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Pt+"; q=0.01":""):p.accepts["*"]),p.headers)x.setRequestHeader(u,p.headers[u]);if(p.beforeSend&&(!1===p.beforeSend.call(f,x,p)||c))return x.abort();if(T="abort",y.add(p.complete),x.done(p.success),x.fail(p.error),i=Ft(Ht,p,n,x)){if(x.readyState=1,d&&g.trigger("ajaxSend",[x,p]),c)return x;p.async&&0<p.timeout&&(a=e.setTimeout((function(){x.abort("timeout")}),p.timeout));try{c=!1,i.send(_,S)}catch(t){if(c)throw t;S(-1,t)}}else S(-1,"No Transport");function S(t,n,r,l){var u,h,m,_,C,T=n;c||(c=!0,a&&e.clearTimeout(a),i=void 0,o=l||"",x.readyState=0<t?4:0,u=200<=t&&t<300||304===t,r&&(_=function(e,t,n){for(var i,s,o,r,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){l.unshift(s);break}if(l[0]in n)o=l[0];else{for(s in n){if(!l[0]||e.converters[s+" "+l[0]]){o=s;break}r||(r=s)}o=o||r}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,x,r)),!u&&-1<w.inArray("script",p.dataTypes)&&w.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),_=function(e,t,n,i){var s,o,r,a,l,c={},d=e.dataTypes.slice();if(d[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(o=d.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(r=c[l+" "+o]||c["* "+o]))for(s in c)if((a=s.split(" "))[1]===o&&(r=c[l+" "+a[0]]||c["* "+a[0]])){!0===r?r=c[s]:!0!==c[s]&&(o=a[0],d.unshift(a[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(p,_,x,u),u?(p.ifModified&&((C=x.getResponseHeader("Last-Modified"))&&(w.lastModified[s]=C),(C=x.getResponseHeader("etag"))&&(w.etag[s]=C)),204===t||"HEAD"===p.type?T="nocontent":304===t?T="notmodified":(T=_.state,h=_.data,u=!(m=_.error))):(m=T,!t&&T||(T="error",t<0&&(t=0))),x.status=t,x.statusText=(n||T)+"",u?v.resolveWith(f,[h,T,x]):v.rejectWith(f,[x,T,m]),x.statusCode(b),b=void 0,d&&g.trigger(u?"ajaxSuccess":"ajaxError",[x,p,u?h:m]),y.fireWith(f,[x,T]),d&&(g.trigger("ajaxComplete",[x,p]),--w.active||w.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],(function(e,t){w[t]=function(e,n,i,s){return f(n)&&(s=s||i,i=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:s,data:n,success:i},w.isPlainObject(e)&&e))}})),w.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),w._evalUrl=function(e,t,n){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){w.globalEval(e,t,n)}})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(f(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return f(e)?this.each((function(t){w(this).wrapInner(e.call(this,t))})):this.each((function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=f(e);return this.each((function(n){w(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){w(this).replaceWith(this.childNodes)})),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},Ut=w.ajaxSettings.xhr();p.cors=!!Ut&&"withCredentials"in Ut,p.ajax=Ut=!!Ut,w.ajaxTransport((function(t){var n,i;if(p.cors||Ut&&!t.crossDomain)return{send:function(s,o){var r,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)a[r]=t.xhrFields[r];for(r in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest"),s)a.setRequestHeader(r,s[r]);n=function(e){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Bt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout((function(){n&&i()}))},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(s){if(n)throw s}},abort:function(){n&&n()}}})),w.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),w.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,s){t=w("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&s("error"===e.type?404:200,e.type)}),m.head.appendChild(t[0])},abort:function(){n&&n()}}}));var zt,Vt=[],Jt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||w.expando+"_"+Tt.guid++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",(function(t,n,i){var s,o,r,a=!1!==t.jsonp&&(Jt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return s=t.jsonpCallback=f(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Jt,"$1"+s):!1!==t.jsonp&&(t.url+=(xt.test(t.url)?"&":"?")+t.jsonp+"="+s),t.converters["script json"]=function(){return r||w.error(s+" was not called"),r[0]},t.dataTypes[0]="json",o=e[s],e[s]=function(){r=arguments},i.always((function(){void 0===o?w(e).removeProp(s):e[s]=o,t[s]&&(t.jsonpCallback=n.jsonpCallback,Vt.push(s)),r&&f(o)&&o(r[0]),r=o=void 0})),"script"})),p.createHTMLDocument=((zt=m.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===zt.childNodes.length),w.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(p.createHTMLDocument?((i=(t=m.implementation.createHTMLDocument("")).createElement("base")).href=m.location.href,t.head.appendChild(i)):t=m),o=!n&&[],(s=A.exec(e))?[t.createElement(s[1])]:(s=be([e],t,o),o&&o.length&&w(o).remove(),w.merge([],s.childNodes)));var i,s,o},w.fn.load=function(e,t,n){var i,s,o,r=this,a=e.indexOf(" ");return-1<a&&(i=mt(e.slice(a)),e=e.slice(0,a)),f(t)?(n=t,t=void 0):t&&"object"==typeof t&&(s="POST"),0<r.length&&w.ajax({url:e,type:s||"GET",dataType:"html",data:t}).done((function(e){o=arguments,r.html(i?w("<div>").append(w.parseHTML(e)).find(i):e)})).always(n&&function(e,t){r.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},w.expr.pseudos.animated=function(e){return w.grep(w.timers,(function(t){return e===t.elem})).length},w.offset={setOffset:function(e,t,n){var i,s,o,r,a,l,c=w.css(e,"position"),d=w(e),u={};"static"===c&&(e.style.position="relative"),a=d.offset(),o=w.css(e,"top"),l=w.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(o+l).indexOf("auto")?(r=(i=d.position()).top,s=i.left):(r=parseFloat(o)||0,s=parseFloat(l)||0),f(t)&&(t=t.call(e,n,w.extend({},a))),null!=t.top&&(u.top=t.top-a.top+r),null!=t.left&&(u.left=t.left-a.left+s),"using"in t?t.using.call(e,u):d.css(u)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){w.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],s={top:0,left:0};if("fixed"===w.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((s=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),s.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-s.top-w.css(i,"marginTop",!0),left:t.left-s.left-w.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||ie}))}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;w.fn[e]=function(i){return q(this,(function(e,i,s){var o;if(g(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===s)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:s,n?s:o.pageYOffset):e[i]=s}),e,i,arguments.length)}})),w.each(["top","left"],(function(e,t){w.cssHooks[t]=Be(p.pixelPosition,(function(e,n){if(n)return n=qe(e,t),Ne.test(n)?w(e).position()[t]+"px":n}))})),w.each({Height:"height",Width:"width"},(function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){w.fn[i]=function(s,o){var r=arguments.length&&(n||"boolean"!=typeof s),a=n||(!0===s||!0===o?"margin":"border");return q(this,(function(t,n,s){var o;return g(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===s?w.css(t,n,a):w.style(t,n,s,a)}),t,r?s:void 0,r)}}))})),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){w.fn[t]=function(e){return this.on(t,e)}})),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){w.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}}));var Qt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;w.proxy=function(e,t){var n,i,o;if("string"==typeof t&&(n=e[t],t=e,e=n),f(e))return i=s.call(arguments,2),(o=function(){return e.apply(t||this,i.concat(s.call(arguments)))}).guid=e.guid=e.guid||w.guid++,o},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=E,w.isFunction=f,w.isWindow=g,w.camelCase=V,w.type=b,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},w.trim=function(e){return null==e?"":(e+"").replace(Qt,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],(function(){return w}));var Xt=e.jQuery,Yt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=Yt),t&&e.jQuery===w&&(e.jQuery=Xt),w},void 0===t&&(e.jQuery=e.$=w),w})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).bootstrap=t()}(this,(function(){"use strict";const e="transitionend",t=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(e,t)=>"#"+CSS.escape(t))),e),n=t=>{t.dispatchEvent(new Event(e))},i=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),s=e=>i(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(t(e)):null,o=e=>{if(!i(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const t=e.closest("summary");if(t&&t.parentNode!==n)return!1;if(null===t)return!1}return t},r=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),a=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?a(e.parentNode):null},l=()=>{},c=e=>{e.offsetHeight},d=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,u=[],h=()=>"rtl"===document.documentElement.dir,p=e=>{var t;t=()=>{const t=d();if(t){const n=e.NAME,i=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=i,e.jQueryInterface)}},"loading"===document.readyState?(u.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of u)e()}),u.push(t)):t()},f=(e,t=[],n=e)=>"function"==typeof e?e(...t):n,g=(t,i,s=!0)=>{if(!s)return void f(t);const o=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const i=Number.parseFloat(t),s=Number.parseFloat(n);return i||s?(t=t.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(n))):0})(i)+5;let r=!1;const a=({target:n})=>{n===i&&(r=!0,i.removeEventListener(e,a),f(t))};i.addEventListener(e,a),setTimeout(()=>{r||n(i)},o)},m=(e,t,n,i)=>{const s=e.length;let o=e.indexOf(t);return-1===o?!n&&i?e[s-1]:e[0]:(o+=n?1:-1,i&&(o=(o+s)%s),e[Math.max(0,Math.min(o,s-1))])},v=/[^.]*(?=\..*)\.|.*/,y=/\..*/,b=/::\d+$/,_={};let w=1;const C={mouseenter:"mouseover",mouseleave:"mouseout"},T=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function x(e,t){return t&&`${t}::${w++}`||e.uidEvent||w++}function S(e){const t=x(e);return e.uidEvent=t,_[t]=_[t]||{},_[t]}function k(e,t,n=null){return Object.values(e).find(e=>e.callable===t&&e.delegationSelector===n)}function E(e,t,n){const i="string"==typeof t,s=i?n:t||n;let o=L(e);return T.has(o)||(o=e),[i,s,o]}function A(e,t,n,i,s){if("string"!=typeof t||!e)return;let[o,r,a]=E(t,n,i);if(t in C){r=(e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)})(r)}const l=S(e),c=l[a]||(l[a]={}),d=k(c,r,o?n:null);if(d)return void(d.oneOff=d.oneOff&&s);const u=x(r,t.replace(v,"")),h=o?function(e,t,n){return function i(s){const o=e.querySelectorAll(t);for(let{target:r}=s;r&&r!==this;r=r.parentNode)for(const a of o)if(a===r)return O(s,{delegateTarget:r}),i.oneOff&&M.off(e,s.type,t,n),n.apply(r,[s])}}(e,n,r):function(e,t){return function n(i){return O(i,{delegateTarget:e}),n.oneOff&&M.off(e,i.type,t),t.apply(e,[i])}}(e,r);h.delegationSelector=o?n:null,h.callable=r,h.oneOff=s,h.uidEvent=u,c[u]=h,e.addEventListener(a,h,o)}function $(e,t,n,i,s){const o=k(t[n],i,s);o&&(e.removeEventListener(n,o,Boolean(s)),delete t[n][o.uidEvent])}function D(e,t,n,i){const s=t[n]||{};for(const[o,r]of Object.entries(s))o.includes(i)&&$(e,t,n,r.callable,r.delegationSelector)}function L(e){return e=e.replace(y,""),C[e]||e}const M={on(e,t,n,i){A(e,t,n,i,!1)},one(e,t,n,i){A(e,t,n,i,!0)},off(e,t,n,i){if("string"!=typeof t||!e)return;const[s,o,r]=E(t,n,i),a=r!==t,l=S(e),c=l[r]||{},d=t.startsWith(".");if(void 0===o){if(d)for(const n of Object.keys(l))D(e,l,n,t.slice(1));for(const[n,i]of Object.entries(c)){const s=n.replace(b,"");a&&!t.includes(s)||$(e,l,r,i.callable,i.delegationSelector)}}else{if(!Object.keys(c).length)return;$(e,l,r,o,s?n:null)}},trigger(e,t,n){if("string"!=typeof t||!e)return null;const i=d();let s=null,o=!0,r=!0,a=!1;t!==L(t)&&i&&(s=i.Event(t,n),i(e).trigger(s),o=!s.isPropagationStopped(),r=!s.isImmediatePropagationStopped(),a=s.isDefaultPrevented());let l=new Event(t,{bubbles:o,cancelable:!0});return l=O(l,n),a&&l.preventDefault(),r&&e.dispatchEvent(l),l.defaultPrevented&&s&&s.preventDefault(),l}};function O(e,t={}){for(const[n,i]of Object.entries(t))try{e[n]=i}catch(t){Object.defineProperty(e,n,{configurable:!0,get:()=>i})}return e}const I=new Map,N={set(e,t,n){I.has(e)||I.set(e,new Map);const i=I.get(e);i.has(t)||0===i.size?i.set(t,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(e,t)=>I.has(e)&&I.get(e).get(t)||null,remove(e,t){if(!I.has(e))return;const n=I.get(e);n.delete(t),0===n.size&&I.delete(e)}};function j(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function H(e){return e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}const P={setDataAttribute(e,t,n){e.setAttribute("data-bs-"+H(t),n)},removeDataAttribute(e,t){e.removeAttribute("data-bs-"+H(t))},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter(e=>e.startsWith("bs")&&!e.startsWith("bsConfig"));for(const i of n){let n=i.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),t[n]=j(e.dataset[i])}return t},getDataAttribute:(e,t)=>j(e.getAttribute("data-bs-"+H(t)))};class R{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const n=i(t)?P.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof n?n:{},...i(t)?P.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[s,o]of Object.entries(t)){const t=e[s],r=i(t)?"element":null==(n=t)?""+n:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(r))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${r}" but expected type "${o}".`)}var n}}class W extends R{constructor(e,t){super(),(e=s(e))&&(this._element=e,this._config=this._getConfig(t),N.set(this._element,this.constructor.DATA_KEY,this))}dispose(){N.remove(this._element,this.constructor.DATA_KEY),M.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,n=!0){g(e,t,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return N.get(s(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.0-alpha1"}static get DATA_KEY(){return"bs."+this.NAME}static get EVENT_KEY(){return"."+this.DATA_KEY}static eventName(e){return`${e}${this.EVENT_KEY}`}}const F=e=>{let n=e.getAttribute("data-bs-target");if(!n||"#"===n){let t=e.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t="#"+t.split("#")[1]),n=t&&"#"!==t?t.trim():null}return t(n)},q={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter(e=>e.matches(t)),parents(e,t){const n=[];let i=e.parentNode.closest(t);for(;i;)n.push(i),i=i.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>e+':not([tabindex^="-"])').join(",");return this.find(t,e).filter(e=>!r(e)&&o(e))},getSelectorFromElement(e){const t=F(e);return t&&q.findOne(t)?t:null},getElementFromSelector(e){const t=F(e);return t?q.findOne(t):null},getMultipleElementsFromSelector(e){const t=F(e);return t?q.find(t):[]}},B=(e,t="hide")=>{const n="click.dismiss"+e.EVENT_KEY,i=e.NAME;M.on(document,n,`[data-bs-dismiss="${i}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),r(this))return;const s=q.getElementFromSelector(this)||this.closest("."+i);e.getOrCreateInstance(s)[t]()}))};class U extends W{static get NAME(){return"alert"}close(){if(M.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),M.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(e){return this.each((function(){const t=U.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}B(U,"close"),p(U);const z='[data-bs-toggle="button"]';class V extends W{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each((function(){const t=V.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}M.on(document,"click.bs.button.data-api",z,e=>{e.preventDefault();const t=e.target.closest(z);V.getOrCreateInstance(t).toggle()}),p(V);const J={endCallback:null,leftCallback:null,rightCallback:null},Q={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class X extends R{constructor(e,t){super(),this._element=e,e&&X.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return J}static get DefaultType(){return Q}static get NAME(){return"swipe"}dispose(){M.off(this._element,".bs.swipe")}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),f(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&f(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(M.on(this._element,"pointerdown.bs.swipe",e=>this._start(e)),M.on(this._element,"pointerup.bs.swipe",e=>this._end(e)),this._element.classList.add("pointer-event")):(M.on(this._element,"touchstart.bs.swipe",e=>this._start(e)),M.on(this._element,"touchmove.bs.swipe",e=>this._move(e)),M.on(this._element,"touchend.bs.swipe",e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Y="next",K="prev",G="left",Z="right",ee="slid.bs.carousel",te="carousel",ne="active",ie={ArrowLeft:Z,ArrowRight:G},se={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},oe={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class re extends W{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=q.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===te&&this.cycle()}static get Default(){return se}static get DefaultType(){return oe}static get NAME(){return"carousel"}next(){this._slide(Y)}nextWhenVisible(){!document.hidden&&o(this._element)&&this.next()}prev(){this._slide(K)}pause(){this._isSliding&&n(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?M.one(this._element,ee,()=>this.cycle()):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void M.one(this._element,ee,()=>this.to(e));const n=this._getItemIndex(this._getActive());if(n===e)return;const i=e>n?Y:K;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&M.on(this._element,"keydown.bs.carousel",e=>this._keydown(e)),"hover"===this._config.pause&&(M.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),M.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&X.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const e of q.find(".carousel-item img",this._element))M.on(e,"dragstart.bs.carousel",e=>e.preventDefault());const e={leftCallback:()=>this._slide(this._directionToOrder(G)),rightCallback:()=>this._slide(this._directionToOrder(Z)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new X(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=ie[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=q.findOne(".active",this._indicatorsElement);t.classList.remove(ne),t.removeAttribute("aria-current");const n=q.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(ne),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const n=this._getActive(),i=e===Y,s=t||m(this._getItems(),n,i,this._config.wrap);if(s===n)return;const o=this._getItemIndex(s),r=t=>M.trigger(this._element,t,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:o});if(r("slide.bs.carousel").defaultPrevented)return;if(!n||!s)return;const a=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=s;const l=i?"carousel-item-start":"carousel-item-end",d=i?"carousel-item-next":"carousel-item-prev";s.classList.add(d),c(s),n.classList.add(l),s.classList.add(l),this._queueCallback(()=>{s.classList.remove(l,d),s.classList.add(ne),n.classList.remove(ne,d,l),this._isSliding=!1,r(ee)},n,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return q.findOne(".active.carousel-item",this._element)}_getItems(){return q.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return h()?e===G?K:Y:e===G?Y:K}_orderToDirection(e){return h()?e===K?G:Z:e===K?Z:G}static jQueryInterface(e){return this.each((function(){const t=re.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)}))}}M.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",(function(e){const t=q.getElementFromSelector(this);if(!t||!t.classList.contains(te))return;e.preventDefault();const n=re.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");return i?(n.to(i),void n._maybeEnableCycle()):"next"===P.getDataAttribute(this,"slide")?(n.next(),void n._maybeEnableCycle()):(n.prev(),void n._maybeEnableCycle())})),M.on(window,"load.bs.carousel.data-api",()=>{const e=q.find('[data-bs-ride="carousel"]');for(const t of e)re.getOrCreateInstance(t)}),p(re);const ae="show",le="collapse",ce="collapsing",de='[data-bs-toggle="collapse"]',ue={parent:null,toggle:!0},he={parent:"(null|element)",toggle:"boolean"};class pe extends W{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const n=q.find(de);for(const e of n){const t=q.getSelectorFromElement(e),n=q.find(t).filter(e=>e===this._element);null!==t&&n.length&&this._triggerArray.push(e)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ue}static get DefaultType(){return he}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(e=>e!==this._element).map(e=>pe.getOrCreateInstance(e,{toggle:!1}))),e.length&&e[0]._isTransitioning)return;if(M.trigger(this._element,"show.bs.collapse").defaultPrevented)return;for(const t of e)t.hide();const t=this._getDimension();this._element.classList.remove(le),this._element.classList.add(ce),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const n="scroll"+(t[0].toUpperCase()+t.slice(1));this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ce),this._element.classList.add(le,ae),this._element.style[t]="",M.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[t]=this._element[n]+"px"}hide(){if(this._isTransitioning||!this._isShown())return;if(M.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const e=this._getDimension();this._element.style[e]=this._element.getBoundingClientRect()[e]+"px",c(this._element),this._element.classList.add(ce),this._element.classList.remove(le,ae);for(const e of this._triggerArray){const t=q.getElementFromSelector(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ce),this._element.classList.add(le),M.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(e=this._element){return e.classList.contains(ae)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=s(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(de);for(const t of e){const e=q.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=q.find(":scope .collapse .collapse",this._config.parent);return q.find(e,this._config.parent).filter(e=>!t.includes(e))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const n of e)n.classList.toggle("collapsed",!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){const n=pe.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e]()}}))}}M.on(document,"click.bs.collapse.data-api",de,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const e of q.getMultipleElementsFromSelector(this))pe.getOrCreateInstance(e,{toggle:!1}).toggle()})),p(pe);var fe="top",ge="bottom",me="right",ve="left",ye="auto",be=[fe,ge,me,ve],_e="start",we="end",Ce="clippingParents",Te="viewport",xe="popper",Se="reference",ke=be.reduce((function(e,t){return e.concat([t+"-"+_e,t+"-"+we])}),[]),Ee=[].concat(be,[ye]).reduce((function(e,t){return e.concat([t,t+"-"+_e,t+"-"+we])}),[]),Ae="beforeRead",$e="afterRead",De="beforeMain",Le="afterMain",Me="beforeWrite",Oe="afterWrite",Ie=[Ae,"read",$e,De,"main",Le,Me,"write",Oe];function Ne(e){return e?(e.nodeName||"").toLowerCase():null}function je(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function He(e){return e instanceof je(e).Element||e instanceof Element}function Pe(e){return e instanceof je(e).HTMLElement||e instanceof HTMLElement}function Re(e){return"undefined"!=typeof ShadowRoot&&(e instanceof je(e).ShadowRoot||e instanceof ShadowRoot)}const We={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},s=t.elements[e];Pe(s)&&Ne(s)&&(Object.assign(s.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],s=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});Pe(i)&&Ne(i)&&(Object.assign(i.style,o),Object.keys(s).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]};function Fe(e){return e.split("-")[0]}var qe=Math.max,Be=Math.min,Ue=Math.round;function ze(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Ve(){return!/^((?!chrome|android).)*safari/i.test(ze())}function Je(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),s=1,o=1;t&&Pe(e)&&(s=e.offsetWidth>0&&Ue(i.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Ue(i.height)/e.offsetHeight||1);var r=(He(e)?je(e):window).visualViewport,a=!Ve()&&n,l=(i.left+(a&&r?r.offsetLeft:0))/s,c=(i.top+(a&&r?r.offsetTop:0))/o,d=i.width/s,u=i.height/o;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l,x:l,y:c}}function Qe(e){var t=Je(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function Xe(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Re(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Ye(e){return je(e).getComputedStyle(e)}function Ke(e){return["table","td","th"].indexOf(Ne(e))>=0}function Ge(e){return((He(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ze(e){return"html"===Ne(e)?e:e.assignedSlot||e.parentNode||(Re(e)?e.host:null)||Ge(e)}function et(e){return Pe(e)&&"fixed"!==Ye(e).position?e.offsetParent:null}function tt(e){for(var t=je(e),n=et(e);n&&Ke(n)&&"static"===Ye(n).position;)n=et(n);return n&&("html"===Ne(n)||"body"===Ne(n)&&"static"===Ye(n).position)?t:n||function(e){var t=/firefox/i.test(ze());if(/Trident/i.test(ze())&&Pe(e)&&"fixed"===Ye(e).position)return null;var n=Ze(e);for(Re(n)&&(n=n.host);Pe(n)&&["html","body"].indexOf(Ne(n))<0;){var i=Ye(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}function nt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function it(e,t,n){return qe(e,Be(t,n))}function st(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ot(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}const rt={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,s=e.options,o=n.elements.arrow,r=n.modifiersData.popperOffsets,a=Fe(n.placement),l=nt(a),c=[ve,me].indexOf(a)>=0?"height":"width";if(o&&r){var d=function(e,t){return st("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ot(e,be))}(s.padding,n),u=Qe(o),h="y"===l?fe:ve,p="y"===l?ge:me,f=n.rects.reference[c]+n.rects.reference[l]-r[l]-n.rects.popper[c],g=r[l]-n.rects.reference[l],m=tt(o),v=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,y=f/2-g/2,b=d[h],_=v-u[c]-d[p],w=v/2-u[c]/2+y,C=it(b,w,_),T=l;n.modifiersData[i]=((t={})[T]=C,t.centerOffset=C-w,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&Xe(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function at(e){return e.split("-")[1]}var lt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ct(e){var t,n=e.popper,i=e.popperRect,s=e.placement,o=e.variation,r=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=e.isFixed,h=r.x,p=void 0===h?0:h,f=r.y,g=void 0===f?0:f,m="function"==typeof d?d({x:p,y:g}):{x:p,y:g};p=m.x,g=m.y;var v=r.hasOwnProperty("x"),y=r.hasOwnProperty("y"),b=ve,_=fe,w=window;if(c){var C=tt(n),T="clientHeight",x="clientWidth";C===je(n)&&"static"!==Ye(C=Ge(n)).position&&"absolute"===a&&(T="scrollHeight",x="scrollWidth"),(s===fe||(s===ve||s===me)&&o===we)&&(_=ge,g-=(u&&C===w&&w.visualViewport?w.visualViewport.height:C[T])-i.height,g*=l?1:-1),s!==ve&&(s!==fe&&s!==ge||o!==we)||(b=me,p-=(u&&C===w&&w.visualViewport?w.visualViewport.width:C[x])-i.width,p*=l?1:-1)}var S,k=Object.assign({position:a},c&&lt),E=!0===d?function(e){var t=e.x,n=e.y,i=window.devicePixelRatio||1;return{x:Ue(t*i)/i||0,y:Ue(n*i)/i||0}}({x:p,y:g}):{x:p,y:g};return p=E.x,g=E.y,l?Object.assign({},k,((S={})[_]=y?"0":"",S[b]=v?"0":"",S.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",S)):Object.assign({},k,((t={})[_]=y?g+"px":"",t[b]=v?p+"px":"",t.transform="",t))}const dt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,s=void 0===i||i,o=n.adaptive,r=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:Fe(t.placement),variation:at(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ct(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:r,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ct(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var ut={passive:!0};const ht={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,s=i.scroll,o=void 0===s||s,r=i.resize,a=void 0===r||r,l=je(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,ut)})),a&&l.addEventListener("resize",n.update,ut),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,ut)})),a&&l.removeEventListener("resize",n.update,ut)}},data:{}};var pt={left:"right",right:"left",bottom:"top",top:"bottom"};function ft(e){return e.replace(/left|right|bottom|top/g,(function(e){return pt[e]}))}var gt={start:"end",end:"start"};function mt(e){return e.replace(/start|end/g,(function(e){return gt[e]}))}function vt(e){var t=je(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function yt(e){return Je(Ge(e)).left+vt(e).scrollLeft}function bt(e){var t=Ye(e),n=t.overflow,i=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+i)}function _t(e,t){var n;void 0===t&&(t=[]);var i=function e(t){return["html","body","#document"].indexOf(Ne(t))>=0?t.ownerDocument.body:Pe(t)&&bt(t)?t:e(Ze(t))}(e),s=i===(null==(n=e.ownerDocument)?void 0:n.body),o=je(i),r=s?[o].concat(o.visualViewport||[],bt(i)?i:[]):i,a=t.concat(r);return s?a:a.concat(_t(Ze(r)))}function wt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ct(e,t,n){return t===Te?wt(function(e,t){var n=je(e),i=Ge(e),s=n.visualViewport,o=i.clientWidth,r=i.clientHeight,a=0,l=0;if(s){o=s.width,r=s.height;var c=Ve();(c||!c&&"fixed"===t)&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:r,x:a+yt(e),y:l}}(e,n)):He(t)?function(e,t){var n=Je(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):wt(function(e){var t,n=Ge(e),i=vt(e),s=null==(t=e.ownerDocument)?void 0:t.body,o=qe(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),r=qe(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+yt(e),l=-i.scrollTop;return"rtl"===Ye(s||n).direction&&(a+=qe(n.clientWidth,s?s.clientWidth:0)-o),{width:o,height:r,x:a,y:l}}(Ge(e)))}function Tt(e){var t,n=e.reference,i=e.element,s=e.placement,o=s?Fe(s):null,r=s?at(s):null,a=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(o){case fe:t={x:a,y:n.y-i.height};break;case ge:t={x:a,y:n.y+n.height};break;case me:t={x:n.x+n.width,y:l};break;case ve:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?nt(o):null;if(null!=c){var d="y"===c?"height":"width";switch(r){case _e:t[c]=t[c]-(n[d]/2-i[d]/2);break;case we:t[c]=t[c]+(n[d]/2-i[d]/2)}}return t}function xt(e,t){void 0===t&&(t={});var n=t,i=n.placement,s=void 0===i?e.placement:i,o=n.strategy,r=void 0===o?e.strategy:o,a=n.boundary,l=void 0===a?Ce:a,c=n.rootBoundary,d=void 0===c?Te:c,u=n.elementContext,h=void 0===u?xe:u,p=n.altBoundary,f=void 0!==p&&p,g=n.padding,m=void 0===g?0:g,v=st("number"!=typeof m?m:ot(m,be)),y=h===xe?Se:xe,b=e.rects.popper,_=e.elements[f?y:h],w=function(e,t,n,i){var s="clippingParents"===t?function(e){var t=_t(Ze(e)),n=["absolute","fixed"].indexOf(Ye(e).position)>=0&&Pe(e)?tt(e):e;return He(n)?t.filter((function(e){return He(e)&&Xe(e,n)&&"body"!==Ne(e)})):[]}(e):[].concat(t),o=[].concat(s,[n]),r=o[0],a=o.reduce((function(t,n){var s=Ct(e,n,i);return t.top=qe(s.top,t.top),t.right=Be(s.right,t.right),t.bottom=Be(s.bottom,t.bottom),t.left=qe(s.left,t.left),t}),Ct(e,r,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(He(_)?_:_.contextElement||Ge(e.elements.popper),l,d,r),C=Je(e.elements.reference),T=Tt({reference:C,element:b,strategy:"absolute",placement:s}),x=wt(Object.assign({},b,T)),S=h===xe?x:C,k={top:w.top-S.top+v.top,bottom:S.bottom-w.bottom+v.bottom,left:w.left-S.left+v.left,right:S.right-w.right+v.right},E=e.modifiersData.offset;if(h===xe&&E){var A=E[s];Object.keys(k).forEach((function(e){var t=[me,ge].indexOf(e)>=0?1:-1,n=[fe,ge].indexOf(e)>=0?"y":"x";k[e]+=A[n]*t}))}return k}const St={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var s=n.mainAxis,o=void 0===s||s,r=n.altAxis,a=void 0===r||r,l=n.fallbackPlacements,c=n.padding,d=n.boundary,u=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,g=n.allowedAutoPlacements,m=t.options.placement,v=Fe(m),y=l||(v!==m&&f?function(e){if(Fe(e)===ye)return[];var t=ft(e);return[mt(e),t,mt(t)]}(m):[ft(m)]),b=[m].concat(y).reduce((function(e,n){return e.concat(Fe(n)===ye?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,s=n.boundary,o=n.rootBoundary,r=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Ee:l,d=at(i),u=d?a?ke:ke.filter((function(e){return at(e)===d})):be,h=u.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=u);var p=h.reduce((function(t,n){return t[n]=xt(e,{placement:n,boundary:s,rootBoundary:o,padding:r})[Fe(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:d,rootBoundary:u,padding:c,flipVariations:f,allowedAutoPlacements:g}):n)}),[]),_=t.rects.reference,w=t.rects.popper,C=new Map,T=!0,x=b[0],S=0;S<b.length;S++){var k=b[S],E=Fe(k),A=at(k)===_e,$=[fe,ge].indexOf(E)>=0,D=$?"width":"height",L=xt(t,{placement:k,boundary:d,rootBoundary:u,altBoundary:h,padding:c}),M=$?A?me:ve:A?ge:fe;_[D]>w[D]&&(M=ft(M));var O=ft(M),I=[];if(o&&I.push(L[E]<=0),a&&I.push(L[M]<=0,L[O]<=0),I.every((function(e){return e}))){x=k,T=!1;break}C.set(k,I)}if(T)for(var N=function(e){var t=b.find((function(t){var n=C.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return x=t,"break"},j=f?3:1;j>0&&"break"!==N(j);j--);t.placement!==x&&(t.modifiersData[i]._skip=!0,t.placement=x,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function kt(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Et(e){return[fe,me,ge,ve].some((function(t){return e[t]>=0}))}const At={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,s=t.rects.popper,o=t.modifiersData.preventOverflow,r=xt(t,{elementContext:"reference"}),a=xt(t,{altBoundary:!0}),l=kt(r,i),c=kt(a,s,o),d=Et(l),u=Et(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}},$t={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,s=n.offset,o=void 0===s?[0,0]:s,r=Ee.reduce((function(e,n){return e[n]=function(e,t,n){var i=Fe(e),s=[ve,fe].indexOf(i)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,r=o[0],a=o[1];return r=r||0,a=(a||0)*s,[ve,me].indexOf(i)>=0?{x:a,y:r}:{x:r,y:a}}(n,t.rects,o),e}),{}),a=r[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=r}},Dt={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Tt({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Lt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,s=n.mainAxis,o=void 0===s||s,r=n.altAxis,a=void 0!==r&&r,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,u=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,g=void 0===f?0:f,m=xt(t,{boundary:l,rootBoundary:c,padding:u,altBoundary:d}),v=Fe(t.placement),y=at(t.placement),b=!y,_=nt(v),w="x"===_?"y":"x",C=t.modifiersData.popperOffsets,T=t.rects.reference,x=t.rects.popper,S="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,k="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(C){if(o){var $,D="y"===_?fe:ve,L="y"===_?ge:me,M="y"===_?"height":"width",O=C[_],I=O+m[D],N=O-m[L],j=p?-x[M]/2:0,H=y===_e?T[M]:x[M],P=y===_e?-x[M]:-T[M],R=t.elements.arrow,W=p&&R?Qe(R):{width:0,height:0},F=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q=F[D],B=F[L],U=it(0,T[M],W[M]),z=b?T[M]/2-j-U-q-k.mainAxis:H-U-q-k.mainAxis,V=b?-T[M]/2+j+U+B+k.mainAxis:P+U+B+k.mainAxis,J=t.elements.arrow&&tt(t.elements.arrow),Q=J?"y"===_?J.clientTop||0:J.clientLeft||0:0,X=null!=($=null==E?void 0:E[_])?$:0,Y=O+V-X,K=it(p?Be(I,O+z-X-Q):I,O,p?qe(N,Y):N);C[_]=K,A[_]=K-O}if(a){var G,Z="x"===_?fe:ve,ee="x"===_?ge:me,te=C[w],ne="y"===w?"height":"width",ie=te+m[Z],se=te-m[ee],oe=-1!==[fe,ve].indexOf(v),re=null!=(G=null==E?void 0:E[w])?G:0,ae=oe?ie:te-T[ne]-x[ne]-re+k.altAxis,le=oe?te+T[ne]+x[ne]-re-k.altAxis:se,ce=p&&oe?function(e,t,n){var i=it(e,t,n);return i>n?n:i}(ae,te,le):it(p?ae:ie,te,p?le:se);C[w]=ce,A[w]=ce-te}t.modifiersData[i]=A}},requiresIfExists:["offset"]};function Mt(e,t,n){void 0===n&&(n=!1);var i,s,o=Pe(t),r=Pe(t)&&function(e){var t=e.getBoundingClientRect(),n=Ue(t.width)/e.offsetWidth||1,i=Ue(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),a=Ge(t),l=Je(e,r,n),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(o||!o&&!n)&&(("body"!==Ne(t)||bt(a))&&(c=(i=t)!==je(i)&&Pe(i)?{scrollLeft:(s=i).scrollLeft,scrollTop:s.scrollTop}:vt(i)),Pe(t)?((d=Je(t,!0)).x+=t.clientLeft,d.y+=t.clientTop):a&&(d.x=yt(a))),{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function Ot(e){var t=new Map,n=new Set,i=[];return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||function e(s){n.add(s.name),[].concat(s.requires||[],s.requiresIfExists||[]).forEach((function(i){if(!n.has(i)){var s=t.get(i);s&&e(s)}})),i.push(s)}(e)})),i}var It={placement:"bottom",modifiers:[],strategy:"absolute"};function Nt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function jt(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,s=t.defaultOptions,o=void 0===s?It:s;return function(e,t,n){void 0===n&&(n=o);var s,r,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},It,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,d={state:a,setOptions:function(n){var s="function"==typeof n?n(a.options):n;u(),a.options=Object.assign({},o,a.options,s),a.scrollParents={reference:He(e)?_t(e):e.contextElement?_t(e.contextElement):[],popper:_t(t)};var r,c,h=function(e){var t=Ot(e);return Ie.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((r=[].concat(i,a.options.modifiers),c=r.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return a.orderedModifiers=h.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,s=e.effect;if("function"==typeof s){var o=s({state:a,name:t,instance:d,options:i});l.push(o||function(){})}})),d.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference,n=e.popper;if(Nt(t,n)){a.rects={reference:Mt(t,tt(n),"fixed"===a.options.strategy),popper:Qe(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<a.orderedModifiers.length;i++)if(!0!==a.reset){var s=a.orderedModifiers[i],o=s.fn,r=s.options,l=void 0===r?{}:r,u=s.name;"function"==typeof o&&(a=o({state:a,options:l,name:u,instance:d})||a)}else a.reset=!1,i=-1}}},update:(s=function(){return new Promise((function(e){d.forceUpdate(),e(a)}))},function(){return r||(r=new Promise((function(e){Promise.resolve().then((function(){r=void 0,e(s())}))}))),r}),destroy:function(){u(),c=!0}};if(!Nt(e,t))return d;function u(){l.forEach((function(e){return e()})),l=[]}return d.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}var Ht=jt(),Pt=jt({defaultModifiers:[ht,Dt,dt,We]}),Rt=jt({defaultModifiers:[ht,Dt,dt,We,$t,St,Lt,rt,At]});const Wt=Object.freeze(Object.defineProperty({__proto__:null,popperGenerator:jt,detectOverflow:xt,createPopperBase:Ht,createPopper:Rt,createPopperLite:Pt,top:fe,bottom:ge,right:me,left:ve,auto:ye,basePlacements:be,start:_e,end:we,clippingParents:Ce,viewport:Te,popper:xe,reference:Se,variationPlacements:ke,placements:Ee,beforeRead:Ae,read:"read",afterRead:$e,beforeMain:De,main:"main",afterMain:Le,beforeWrite:Me,write:"write",afterWrite:Oe,modifierPhases:Ie,applyStyles:We,arrow:rt,computeStyles:dt,eventListeners:ht,flip:St,hide:At,offset:$t,popperOffsets:Dt,preventOverflow:Lt},Symbol.toStringTag,{value:"Module"})),Ft="dropdown",qt="ArrowUp",Bt="ArrowDown",Ut="click.bs.dropdown.data-api",zt="keydown.bs.dropdown.data-api",Vt="show",Jt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Qt=".dropdown-menu",Xt=h()?"top-end":"top-start",Yt=h()?"top-start":"top-end",Kt=h()?"bottom-end":"bottom-start",Gt=h()?"bottom-start":"bottom-end",Zt=h()?"left-start":"right-start",en=h()?"right-start":"left-start",tn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},nn={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class sn extends W{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=q.next(this._element,Qt)[0]||q.prev(this._element,Qt)[0]||q.findOne(Qt,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return tn}static get DefaultType(){return nn}static get NAME(){return Ft}toggle(){return this._isShown()?this.hide():this.show()}show(){if(r(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!M.trigger(this._element,"show.bs.dropdown",e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))M.on(e,"mouseover",l);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Vt),this._element.classList.add(Vt),M.trigger(this._element,"shown.bs.dropdown",e)}}hide(){if(r(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!M.trigger(this._element,"hide.bs.dropdown",e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))M.off(e,"mouseover",l);this._popper&&this._popper.destroy(),this._menu.classList.remove(Vt),this._element.classList.remove(Vt),this._element.setAttribute("aria-expanded","false"),P.removeDataAttribute(this._menu,"popper"),M.trigger(this._element,"hidden.bs.dropdown",e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!i(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(Ft.toUpperCase()+': Option "reference" provided type "object" without a required "getBoundingClientRect" method.');return e}_createPopper(){if(void 0===Wt)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:i(this._config.reference)?e=s(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Rt(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Vt)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return Zt;if(e.classList.contains("dropstart"))return en;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?Yt:Xt:t?Gt:Kt}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(P.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...f(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const n=q.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(e=>o(e));n.length&&m(n,t,e===Bt,!n.includes(t)).focus()}static jQueryInterface(e){return this.each((function(){const t=sn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=q.find('[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled).show');for(const n of t){const t=sn.getInstance(n);if(!t||!1===t._config.autoClose)continue;const i=e.composedPath(),s=i.includes(t._menu);if(i.includes(t._element)||"inside"===t._config.autoClose&&!s||"outside"===t._config.autoClose&&s)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const o={relatedTarget:t._element};"click"===e.type&&(o.clickEvent=e),t._completeHide(o)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),n="Escape"===e.key,i=[qt,Bt].includes(e.key);if(!i&&!n)return;if(t&&!n)return;e.preventDefault();const s=this.matches(Jt)?this:q.prev(this,Jt)[0]||q.next(this,Jt)[0]||q.findOne(Jt,e.delegateTarget.parentNode),o=sn.getOrCreateInstance(s);if(i)return e.stopPropagation(),o.show(),void o._selectMenuItem(e);o._isShown()&&(e.stopPropagation(),o.hide(),s.focus())}}M.on(document,zt,Jt,sn.dataApiKeydownHandler),M.on(document,zt,Qt,sn.dataApiKeydownHandler),M.on(document,Ut,sn.clearMenus),M.on(document,"keyup.bs.dropdown.data-api",sn.clearMenus),M.on(document,Ut,Jt,(function(e){e.preventDefault(),sn.getOrCreateInstance(this).toggle()})),p(sn);const on=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",rn=".sticky-top",an="padding-right",ln="margin-right";class cn{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,an,t=>t+e),this._setElementAttributes(on,an,t=>t+e),this._setElementAttributes(rn,ln,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,an),this._resetElementAttributes(on,an),this._resetElementAttributes(rn,ln)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const i=this.getWidth();this._applyManipulationCallback(e,e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+i)return;this._saveInitialAttribute(e,t);const s=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,n(Number.parseFloat(s))+"px")})}_saveInitialAttribute(e,t){const n=e.style.getPropertyValue(t);n&&P.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,e=>{const n=P.getDataAttribute(e,t);null!==n?(P.removeDataAttribute(e,t),e.style.setProperty(t,n)):e.style.removeProperty(t)})}_applyManipulationCallback(e,t){if(i(e))t(e);else for(const n of q.find(e,this._element))t(n)}}const dn="mousedown.bs.backdrop",un={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},hn={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class pn extends R{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return un}static get DefaultType(){return hn}static get NAME(){return"backdrop"}show(e){if(!this._config.isVisible)return void f(e);this._append();const t=this._getElement();this._config.isAnimated&&c(t),t.classList.add("show"),this._emulateAnimation(()=>{f(e)})}hide(e){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),f(e)})):f(e)}dispose(){this._isAppended&&(M.off(this._element,dn),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=s(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),M.on(e,dn,()=>{f(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){g(e,this._getElement(),this._config.isAnimated)}}const fn=".bs.focustrap",gn="backward",mn={autofocus:!0,trapElement:null},vn={autofocus:"boolean",trapElement:"element"};class yn extends R{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return mn}static get DefaultType(){return vn}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),M.off(document,fn),M.on(document,"focusin.bs.focustrap",e=>this._handleFocusin(e)),M.on(document,"keydown.tab.bs.focustrap",e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,M.off(document,fn))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const n=q.focusableChildren(t);0===n.length?t.focus():this._lastTabNavDirection===gn?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?gn:"forward")}}const bn="hidden.bs.modal",_n="show.bs.modal",wn="modal-open",Cn="modal-static",Tn={backdrop:!0,focus:!0,keyboard:!0},xn={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Sn extends W{constructor(e,t){super(e,t),this._dialog=q.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new cn,this._addEventListeners()}static get Default(){return Tn}static get DefaultType(){return xn}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||M.trigger(this._element,_n,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(wn),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){this._isShown&&!this._isTransitioning&&(M.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){for(const e of[window,this._dialog])M.off(e,".bs.modal");this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new pn({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new yn({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=q.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),c(this._element),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,M.trigger(this._element,"shown.bs.modal",{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){M.on(this._element,"keydown.dismiss.bs.modal",e=>{if("Escape"===e.key)return this._config.keyboard?(e.preventDefault(),void this.hide()):void this._triggerBackdropTransition()}),M.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),M.on(this._element,"mousedown.dismiss.bs.modal",e=>{M.one(this._element,"click.dismiss.bs.modal",t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(wn),this._resetAdjustments(),this._scrollBar.reset(),M.trigger(this._element,bn)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(M.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(Cn)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(Cn),this._queueCallback(()=>{this._element.classList.remove(Cn),this._queueCallback(()=>{this._element.style.overflowY=t},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){const e=h()?"paddingLeft":"paddingRight";this._element.style[e]=t+"px"}if(!n&&e){const e=h()?"paddingRight":"paddingLeft";this._element.style[e]=t+"px"}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const n=Sn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e](t)}}))}}M.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',(function(e){const t=q.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),M.one(t,_n,e=>{e.defaultPrevented||M.one(t,bn,()=>{o(this)&&this.focus()})});const n=q.findOne(".modal.show");n&&Sn.getInstance(n).hide(),Sn.getOrCreateInstance(t).toggle(this)})),B(Sn),p(Sn);const kn="showing",En=".offcanvas.show",An="hidePrevented.bs.offcanvas",$n="hidden.bs.offcanvas",Dn={backdrop:!0,keyboard:!0,scroll:!1},Ln={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Mn extends W{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Dn}static get DefaultType(){return Ln}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||M.trigger(this._element,"show.bs.offcanvas",{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new cn).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(kn),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(kn),M.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:e})},this._element,!0))}hide(){this._isShown&&(M.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new cn).reset(),M.trigger(this._element,$n)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new pn({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():M.trigger(this._element,An)}:null})}_initializeFocusTrap(){return new yn({trapElement:this._element})}_addEventListeners(){M.on(this._element,"keydown.dismiss.bs.offcanvas",e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():M.trigger(this._element,An))})}static jQueryInterface(e){return this.each((function(){const t=Mn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}M.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',(function(e){const t=q.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),r(this))return;M.one(t,$n,()=>{o(this)&&this.focus()});const n=q.findOne(En);n&&n!==t&&Mn.getInstance(n).hide(),Mn.getOrCreateInstance(t).toggle(this)})),M.on(window,"load.bs.offcanvas.data-api",()=>{for(const e of q.find(En))Mn.getOrCreateInstance(e).show()}),M.on(window,"resize.bs.offcanvas",()=>{for(const e of q.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&Mn.getOrCreateInstance(e).hide()}),B(Mn),p(Mn);const On=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),In=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Nn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,jn=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?!On.has(n)||Boolean(In.test(e.nodeValue)||Nn.test(e.nodeValue)):t.filter(e=>e instanceof RegExp).some(e=>e.test(n))},Hn={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Pn={allowList:Hn,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Rn={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Wn={entry:"(string|element|function|null)",selector:"(string|element)"};class Fn extends R{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Pn}static get DefaultType(){return Rn}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[t,n]of Object.entries(this._config.content))this._setContent(e,n,t);const t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},Wn)}_setContent(e,t,n){const o=q.findOne(n,e);o&&((t=this._resolvePossibleFunction(t))?i(t)?this._putElementInTemplate(s(t),o):this._config.html?o.innerHTML=this._maybeSanitize(t):o.textContent=t:o.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,n){if(!e.length)return e;if(n&&"function"==typeof n)return n(e);const i=(new window.DOMParser).parseFromString(e,"text/html"),s=[].concat(...i.body.querySelectorAll("*"));for(const e of s){const n=e.nodeName.toLowerCase();if(!Object.keys(t).includes(n)){e.remove();continue}const i=[].concat(...e.attributes),s=[].concat(t["*"]||[],t[n]||[]);for(const t of i)jn(t,s)||e.removeAttribute(t.nodeName)}return i.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return f(e,[this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const qn=new Set(["sanitize","allowList","sanitizeFn"]),Bn="fade",Un="show",zn="hide.bs.modal",Vn="hover",Jn={AUTO:"auto",TOP:"top",RIGHT:h()?"left":"right",BOTTOM:"bottom",LEFT:h()?"right":"left"},Qn={allowList:Hn,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Xn={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Yn extends W{constructor(e,t){if(void 0===Wt)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Qn}static get DefaultType(){return Xn}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),M.off(this._element.closest(".modal"),zn,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=M.trigger(this._element,this.constructor.eventName("show")),t=(a(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();const n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));const{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(n),M.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(n),n.classList.add(Un),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))M.on(e,"mouseover",l);this._queueCallback(()=>{M.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!M.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Un),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))M.off(e,"mouseover",l);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),M.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Bn,Un),t.classList.add(`bs-${this.constructor.NAME}-auto`);const n=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(Bn),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Fn({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Bn)}_isShown(){return this.tip&&this.tip.classList.contains(Un)}_createPopper(e){const t=f(this._config.placement,[this,e,this._element]),n=Jn[t.toUpperCase()];return Rt(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return f(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...f(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)M.on(this._element,this.constructor.eventName("click"),this._config.selector,e=>{this._initializeOnDelegatedTarget(e).toggle()});else if("manual"!==t){const e=t===Vn?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),n=t===Vn?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");M.on(this._element,e,this._config.selector,e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?"focus":Vn]=!0,t._enter()}),M.on(this._element,n,this._config.selector,e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?"focus":Vn]=t._element.contains(e.relatedTarget),t._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},M.on(this._element.closest(".modal"),zn,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=P.getDataAttributes(this._element);for(const e of Object.keys(t))qn.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:s(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,n]of Object.entries(this._config))this.constructor.Default[t]!==n&&(e[t]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each((function(){const t=Yn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}p(Yn);const Kn={...Yn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Gn={...Yn.DefaultType,content:"(null|string|element|function)"};class Zn extends Yn{static get Default(){return Kn}static get DefaultType(){return Gn}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each((function(){const t=Zn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}p(Zn);const ei="click.bs.scrollspy",ti="active",ni={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ii={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class si extends W{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ni}static get DefaultType(){return ii}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=s(e.target)||document.body,e.rootMargin=e.offset?e.offset+"px 0px -30%":e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(e=>Number.parseFloat(e))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(M.off(this._config.target,ei),M.on(this._config.target,ei,"[href]",e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const n=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(n.scrollTo)return void n.scrollTo({top:i,behavior:"smooth"});n.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),e)}_observerCallback(e){const t=e=>this._targetLinks.get("#"+e.target.id),n=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},i=(this._rootElement||document.documentElement).scrollTop,s=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(o));continue}const e=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&e){if(n(o),!i)return}else s||e||n(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=q.find("[href]",this._config.target);for(const t of e){if(!t.hash||r(t))continue;const e=q.findOne(t.hash,this._element);o(e)&&(this._targetLinks.set(t.hash,t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(ti),this._activateParents(e),M.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))q.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(ti);else for(const t of q.parents(e,".nav, .list-group"))for(const e of q.prev(t,".nav-link, .nav-item > .nav-link, .list-group-item"))e.classList.add(ti)}_clearActiveClass(e){e.classList.remove(ti);const t=q.find("[href].active",e);for(const e of t)e.classList.remove(ti)}static jQueryInterface(e){return this.each((function(){const t=si.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}M.on(window,"load.bs.scrollspy.data-api",()=>{for(const e of q.find('[data-bs-spy="scroll"]'))si.getOrCreateInstance(e)}),p(si);const oi="ArrowLeft",ri="ArrowRight",ai="ArrowUp",li="ArrowDown",ci="active",di="show",ui='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',hi='.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), '+ui;class pi extends W{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),M.on(this._element,"keydown.bs.tab",e=>this._keydown(e)))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),n=t?M.trigger(t,"hide.bs.tab",{relatedTarget:e}):null;M.trigger(e,"show.bs.tab",{relatedTarget:t}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(ci),this._activate(q.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),M.trigger(e,"shown.bs.tab",{relatedTarget:t})):e.classList.add(di)},e,e.classList.contains("fade")))}_deactivate(e,t){e&&(e.classList.remove(ci),e.blur(),this._deactivate(q.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),M.trigger(e,"hidden.bs.tab",{relatedTarget:t})):e.classList.remove(di)},e,e.classList.contains("fade")))}_keydown(e){if(![oi,ri,ai,li].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=[ri,li].includes(e.key),n=m(this._getChildren().filter(e=>!r(e)),e.target,t,!0);n&&(n.focus({preventScroll:!0}),pi.getOrCreateInstance(n).show())}_getChildren(){return q.find(hi,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const e of t)this._setInitialAttributesOnChild(e)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=q.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby","#"+e.id))}_toggleDropDown(e,t){const n=this._getOuterElement(e);if(!n.classList.contains("dropdown"))return;const i=(e,i)=>{const s=q.findOne(e,n);s&&s.classList.toggle(i,t)};i(".dropdown-toggle",ci),i(".dropdown-menu",di),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(ci)}_getInnerElement(e){return e.matches(hi)?e:q.findOne(hi,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each((function(){const t=pi.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}M.on(document,"click.bs.tab",ui,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),r(this)||pi.getOrCreateInstance(this).show()})),M.on(window,"load.bs.tab",()=>{for(const e of q.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))pi.getOrCreateInstance(e)}),p(pi);const fi="show",gi="showing",mi={animation:"boolean",autohide:"boolean",delay:"number"},vi={animation:!0,autohide:!0,delay:5e3};class yi extends W{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return vi}static get DefaultType(){return mi}static get NAME(){return"toast"}show(){M.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),c(this._element),this._element.classList.add(fi,gi),this._queueCallback(()=>{this._element.classList.remove(gi),M.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(M.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(gi),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(gi,fi),M.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(fi),super.dispose()}isShown(){return this._element.classList.contains(fi)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){M.on(this._element,"mouseover.bs.toast",e=>this._onInteraction(e,!0)),M.on(this._element,"mouseout.bs.toast",e=>this._onInteraction(e,!1)),M.on(this._element,"focusin.bs.toast",e=>this._onInteraction(e,!0)),M.on(this._element,"focusout.bs.toast",e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=yi.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}return B(yi),p(yi),{Alert:U,Button:V,Carousel:re,Collapse:pe,Dropdown:sn,Modal:Sn,Offcanvas:Mn,Popover:Zn,ScrollSpy:si,Tab:pi,Toast:yi,Tooltip:Yn}})),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],(function(n){return t(e,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("jquery")):e.jQueryBridget=t(e,e.jQuery)}(window,(function(e,t){"use strict";var n=Array.prototype.slice,i=e.console,s=void 0===i?function(){}:function(e){i.error(e)};function o(i,o,a){function l(e,t,n){var o,r="$()."+i+'("'+t+'")';return e.each((function(e,l){var c=a.data(l,i);if(c){var d=c[t];if(d&&"_"!=t.charAt(0)){var u=d.apply(c,n);o=void 0===o?u:o}else s(r+" is not a valid method")}else s(i+" not initialized. Cannot call methods, i.e. "+r)})),void 0!==o?o:e}function c(e,t){e.each((function(e,n){var s=a.data(n,i);s?(s.option(t),s._init()):(s=new o(n,t),a.data(n,i,s))}))}(a=a||t||e.jQuery)&&(o.prototype.option||(o.prototype.option=function(e){a.isPlainObject(e)&&(this.options=a.extend(!0,this.options,e))}),a.fn[i]=function(e){if("string"==typeof e){var t=n.call(arguments,1);return l(this,e,t)}return c(this,e),this},r(a))}function r(e){!e||e&&e.bridget||(e.bridget=o)}return r(t||e.jQuery),o})),function(e,t){"object"==typeof module&&module.exports?module.exports=t():e.getSize=t()}(window,(function(){function e(e){let t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}let t=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];return t.length,function(n){if("string"==typeof n&&(n=document.querySelector(n)),!n||"object"!=typeof n||!n.nodeType)return;let i=getComputedStyle(n);if("none"==i.display)return function(){let e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};return t.forEach(t=>{e[t]=0}),e}();let s={};s.width=n.offsetWidth,s.height=n.offsetHeight;let o=s.isBorderBox="border-box"==i.boxSizing;t.forEach(e=>{let t=i[e],n=parseFloat(t);s[e]=isNaN(n)?0:n});let r=s.paddingLeft+s.paddingRight,a=s.paddingTop+s.paddingBottom,l=s.marginLeft+s.marginRight,c=s.marginTop+s.marginBottom,d=s.borderLeftWidth+s.borderRightWidth,u=s.borderTopWidth+s.borderBottomWidth,h=e(i.width);!1!==h&&(s.width=h+(o?0:r+d));let p=e(i.height);return!1!==p&&(s.height=p+(o?0:a+u)),s.innerWidth=s.width-(r+d),s.innerHeight=s.height-(a+u),s.outerWidth=s.width+l,s.outerHeight=s.height+c,s}})),function(e,t){"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,(function(){function e(){}let t=e.prototype;return t.on=function(e,t){if(!e||!t)return this;let n=this._events=this._events||{},i=n[e]=n[e]||[];return i.includes(t)||i.push(t),this},t.once=function(e,t){if(!e||!t)return this;this.on(e,t);let n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this},t.off=function(e,t){let n=this._events&&this._events[e];if(!n||!n.length)return this;let i=n.indexOf(t);return-1!=i&&n.splice(i,1),this},t.emitEvent=function(e,t){let n=this._events&&this._events[e];if(!n||!n.length)return this;n=n.slice(0),t=t||[];let i=this._onceEvents&&this._onceEvents[e];for(let s of n)i&&i[s]&&(this.off(e,s),delete i[s]),s.apply(this,t);return this},t.allOff=function(){return delete this._events,delete this._onceEvents,this},e})),function(e,t){"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.Unidragger=t(e,e.EvEmitter)}("undefined"!=typeof window?window:this,(function(e,t){function n(){}let i,s,o=n.prototype=Object.create(t.prototype);o.handleEvent=function(e){let t="on"+e.type;this[t]&&this[t](e)},"ontouchstart"in e?(i="touchstart",s=["touchmove","touchend","touchcancel"]):e.PointerEvent?(i="pointerdown",s=["pointermove","pointerup","pointercancel"]):(i="mousedown",s=["mousemove","mouseup"]),o.touchActionValue="none",o.bindHandles=function(){this._bindHandles("addEventListener",this.touchActionValue)},o.unbindHandles=function(){this._bindHandles("removeEventListener","")},o._bindHandles=function(t,n){this.handles.forEach(s=>{s[t](i,this),s[t]("click",this),e.PointerEvent&&(s.style.touchAction=n)})},o.bindActivePointerEvents=function(){s.forEach(t=>{e.addEventListener(t,this)})},o.unbindActivePointerEvents=function(){s.forEach(t=>{e.removeEventListener(t,this)})},o.withPointer=function(e,t){t.pointerId==this.pointerIdentifier&&this[e](t,t)},o.withTouch=function(e,t){let n;for(let e of t.changedTouches)e.identifier==this.pointerIdentifier&&(n=e);n&&this[e](t,n)},o.onmousedown=function(e){this.pointerDown(e,e)},o.ontouchstart=function(e){this.pointerDown(e,e.changedTouches[0])},o.onpointerdown=function(e){this.pointerDown(e,e)};const r=["TEXTAREA","INPUT","SELECT","OPTION"],a=["radio","checkbox","button","submit","image","file"];return o.pointerDown=function(e,t){let n=r.includes(e.target.nodeName),i=a.includes(e.target.type),s=!n||i;!this.isPointerDown&&!e.button&&s&&(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDown(e,t),this.bindActivePointerEvents(),this.emitEvent("pointerDown",[e,t]))},o.onmousemove=function(e){this.pointerMove(e,e)},o.onpointermove=function(e){this.withPointer("pointerMove",e)},o.ontouchmove=function(e){this.withTouch("pointerMove",e)},o.pointerMove=function(e,t){let n={x:t.pageX-this.pointerDownPointer.pageX,y:t.pageY-this.pointerDownPointer.pageY};this.emitEvent("pointerMove",[e,t,n]),!this.isDragging&&this.hasDragStarted(n)&&this.dragStart(e,t),this.isDragging&&this.dragMove(e,t,n)},o.hasDragStarted=function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3},o.dragStart=function(e,t){this.isDragging=!0,this.isPreventingClicks=!0,this.emitEvent("dragStart",[e,t])},o.dragMove=function(e,t,n){this.emitEvent("dragMove",[e,t,n])},o.onmouseup=function(e){this.pointerUp(e,e)},o.onpointerup=function(e){this.withPointer("pointerUp",e)},o.ontouchend=function(e){this.withTouch("pointerUp",e)},o.pointerUp=function(e,t){this.pointerDone(),this.emitEvent("pointerUp",[e,t]),this.isDragging?this.dragEnd(e,t):this.staticClick(e,t)},o.dragEnd=function(e,t){this.isDragging=!1,setTimeout(()=>delete this.isPreventingClicks),this.emitEvent("dragEnd",[e,t])},o.pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this.unbindActivePointerEvents(),this.emitEvent("pointerDone")},o.onpointercancel=function(e){this.withPointer("pointerCancel",e)},o.ontouchcancel=function(e){this.withTouch("pointerCancel",e)},o.pointerCancel=function(e,t){this.pointerDone(),this.emitEvent("pointerCancel",[e,t])},o.onclick=function(e){this.isPreventingClicks&&e.preventDefault()},o.staticClick=function(e,t){let n="mouseup"==e.type;n&&this.isIgnoringMouseUp||(this.emitEvent("staticClick",[e,t]),n&&(this.isIgnoringMouseUp=!0,setTimeout(()=>{delete this.isIgnoringMouseUp},400)))},n})),function(e,t){"object"==typeof module&&module.exports?module.exports=t(e,require("get-size"),require("unidragger")):e.Draggabilly=t(e,e.getSize,e.Unidragger)}("undefined"!=typeof window?window:this,(function(e,t,n){let i=e.jQuery;function s(e,t){this.element="string"==typeof e?document.querySelector(e):e,i&&(this.$element=i(this.element)),this.options={},this.option(t),this._create()}let o=s.prototype=Object.create(n.prototype);o.option=function(e){this.options={...this.options,...e}};const r=["relative","absolute","fixed"];o._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition={...this.position};let e=getComputedStyle(this.element);r.includes(e.position)||(this.element.style.position="relative"),this.on("pointerDown",this.handlePointerDown),this.on("pointerUp",this.handlePointerUp),this.on("dragStart",this.handleDragStart),this.on("dragMove",this.handleDragMove),this.on("dragEnd",this.handleDragEnd),this.setHandles(),this.enable()},o.setHandles=function(){let{handle:e}=this.options;"string"==typeof e?this.handles=this.element.querySelectorAll(e):"object"==typeof e&&e.length?this.handles=e:e instanceof HTMLElement?this.handles=[e]:this.handles=[this.element]};const a=["dragStart","dragMove","dragEnd"];let l=o.emitEvent;function c(e,t,n){return t?(n=n||"round",Math[n](e/t)*t):e}o.emitEvent=function(t,n){if(!this.isEnabled&&a.includes(t))return;l.call(this,t,n);let i,s=e.jQuery;if(!s||!this.$element)return;let o=n;n&&n[0]instanceof Event&&([i,...o]=n);let r=s.Event(i);r.type=t,this.$element.trigger(r,o)},o._getPosition=function(){let e=getComputedStyle(this.element),t=this._getPositionCoord(e.left,"width"),n=this._getPositionCoord(e.top,"height");this.position.x=isNaN(t)?0:t,this.position.y=isNaN(n)?0:n,this._addTransformPosition(e)},o._getPositionCoord=function(e,n){if(e.includes("%")){let i=t(this.element.parentNode);return i?parseFloat(e)/100*i[n]:0}return parseInt(e,10)},o._addTransformPosition=function(e){let t=e.transform;if(!t.startsWith("matrix"))return;let n=t.split(","),i=t.startsWith("matrix3d")?12:4,s=parseInt(n[i],10),o=parseInt(n[i+1],10);this.position.x+=s,this.position.y+=o},o.handlePointerDown=function(e,t){this.isEnabled&&(this.pointerDownPointer={pageX:t.pageX,pageY:t.pageY},e.preventDefault(),document.activeElement.blur(),this.bindActivePointerEvents(e),this.element.classList.add("is-pointer-down"))},o.handleDragStart=function(){this.isEnabled&&(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.element.classList.add("is-dragging"),this.animate())},o.measureContainment=function(){let e=this.getContainer();if(!e)return;let n=t(this.element),i=t(e),{borderLeftWidth:s,borderRightWidth:o,borderTopWidth:r,borderBottomWidth:a}=i,l=this.element.getBoundingClientRect(),c=e.getBoundingClientRect(),d=s+o,u=r+a,h=this.relativeStartPosition={x:l.left-(c.left+s),y:l.top-(c.top+r)};this.containSize={width:i.width-d-h.x-n.width,height:i.height-u-h.y-n.height}},o.getContainer=function(){let e=this.options.containment;if(e)return e instanceof HTMLElement?e:"string"==typeof e?document.querySelector(e):this.element.parentNode},o.handleDragMove=function(e,t,n){if(!this.isEnabled)return;let i=n.x,s=n.y,o=this.options.grid,r=o&&o[0],a=o&&o[1];i=c(i,r),s=c(s,a),i=this.containDrag("x",i,r),s=this.containDrag("y",s,a),i="y"==this.options.axis?0:i,s="x"==this.options.axis?0:s,this.position.x=this.startPosition.x+i,this.position.y=this.startPosition.y+s,this.dragPoint.x=i,this.dragPoint.y=s},o.containDrag=function(e,t,n){if(!this.options.containment)return t;let i="x"==e?"width":"height",s=c(-this.relativeStartPosition[e],n,"ceil"),o=this.containSize[i];return o=c(o,n,"floor"),Math.max(s,Math.min(o,t))},o.handlePointerUp=function(){this.element.classList.remove("is-pointer-down")},o.handleDragEnd=function(){this.isEnabled&&(this.element.style.transform="",this.setLeftTop(),this.element.classList.remove("is-dragging"))},o.animate=function(){this.isDragging&&(this.positionDrag(),requestAnimationFrame(()=>this.animate()))},o.setLeftTop=function(){let{x:e,y:t}=this.position;this.element.style.left=e+"px",this.element.style.top=t+"px"},o.positionDrag=function(){let{x:e,y:t}=this.dragPoint;this.element.style.transform=`translate3d(${e}px, ${t}px, 0)`},o.setPosition=function(e,t){this.position.x=e,this.position.y=t,this.setLeftTop()},o.enable=function(){this.isEnabled||(this.isEnabled=!0,this.bindHandles())},o.disable=function(){this.isEnabled&&(this.isEnabled=!1,this.isDragging&&this.dragEnd(),this.unbindHandles())};const d=["transform","left","top","position"];return o.destroy=function(){this.disable(),d.forEach(e=>{this.element.style[e]=""}),this.unbindHandles(),this.$element&&this.$element.removeData("draggabilly")},o._init=function(){},i&&i.bridget&&i.bridget("draggabilly",s),s})),window.Modernizr=function(e,t,n){function i(e){d.cssText=e}function s(e,t){return typeof e===t}var o,r,a={},l=t.documentElement,c=t.createElement("modernizr"),d=c.style,u={},h=[],p=h.slice,f={}.hasOwnProperty;for(var g in r=s(f,"undefined")||s(f.call,"undefined")?function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")}:function(e,t){return f.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=p.call(arguments,1),i=function(){if(this instanceof i){var s=function(){};s.prototype=t.prototype;var o=new s,r=t.apply(o,n.concat(p.call(arguments)));return Object(r)===r?r:o}return t.apply(e,n.concat(p.call(arguments)))};return i}),u.audio=function(){var e=t.createElement("audio"),n=!1;try{(n=!!e.canPlayType)&&((n=new Boolean(n)).ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(e){}return n},u)r(u,g)&&(o=g.toLowerCase(),a[o]=u[g](),h.push((a[o]?"":"no-")+o));return a.addTest=function(e,t){if("object"==typeof e)for(var i in e)r(e,i)&&a.addTest(i,e[i]);else{if(e=e.toLowerCase(),a[e]!==n)return a;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(l.className+=" "+(t?"":"no-")+e),a[e]=t}return a},i(""),c=null,a._version="2.6.2",a}(0,this.document);var lhcError={log:function(e,t,n,i,s){var o;(o={}).message=e||"",o.location=location&&location.href?location.href:"",o.message+="\n"+window.navigator.userAgent,o.file=t||"",o.line=n||"",o.column=s||"",o.stack=i?JSON.stringify(i):"",o.stack=o.stack.replace(/(\r\n|\n|\r)/gm,"");var r=new XMLHttpRequest;r.open("POST",WWW_DIR_JAVASCRIPT+"/audit/logjserror",!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send("data="+encodeURIComponent(JSON.stringify(o)))}};window.addEventListener("error",(function(e){!lhcError||-1===e.filename.indexOf("js_static")&&-1===e.filename.indexOf("compiledtemplates")&&-1===e.filename.indexOf("defaulttheme")||lhcError.log(e.message,e.filename,e.lineNumber||e.lineno,e.error.stack,e.colno)}));try{function csrfSafeMethod(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)}$.ajaxSetup({crossDomain:!1,cache:!1,beforeSend:function(e,t){csrfSafeMethod(t.type)||e.setRequestHeader("X-CSRFToken",confLH.csrf_token)}}),$.postJSON=function(e,t,n){return $.post(e,t,n,"json")};var LHCCallbacks={};function lh(){this.wwwDir=WWW_DIR_JAVASCRIPT,this.addmsgurl="chat/addmsgadmin/",this.syncadmin="chat/syncadmin/",this.closechatadmin="chat/closechatadmin/",this.deletechatadmin="chat/deletechatadmin/",this.syncadmininterfaceurl="chat/syncadmininterface/",this.accepttransfer="chat/accepttransfer/",this.trasnsferuser="chat/transferuser/",this.channel=null,this.disableremember=!1,this.operatorTyping=!1,this.forceBottomScroll=!1,this.appendSyncArgument="",this.nodeJsMode=!1,this.previous_chat_id=0,this.gmaps_loaded=!1,this.disableSync=!1,this.chat_id=null,this.hash=null,this.soundIsPlaying=!1,this.soundPlayedTimes=0,this.last_message_id=0,this.isSinchronizing=!1,this.isWidgetMode=!1,this.isEmbedMode=!1,this.syncroRequestSend=!1,this.currentMessageText="",this.setSynchronizationRequestSend=function(e){this.syncroRequestSend=e},this.chatsSynchronising=[],this.chatsSynchronisingMsg=[],this.notificationsArray=[],this.speechHandler=!1,this.underMessageAdd=!1,this.closeWindowOnChatCloseDelete=!1,this.userTimeout=!1,this.lastOnlineSyncTimeout=!1,this.setwwwDir=function(e){this.wwwDir=e},this.setDisableRemember=function(e){this.disableremember=e},this.setSynchronizationStatus=function(e){this.underMessageAdd=e},this.startCoBrowse=function(e){return popupWindow=window.open(this.wwwDir+"cobrowse/browse/"+e,"chatwindow-cobrowse-chat-id-"+e,"menubar=1,resizable=1,width=800,height=650"),null!==popupWindow&&popupWindow.focus(),!1},this.tabIconContent="face",this.tabIconClass="icon-user-status material-icons icon-user-online",this.audio=void 0!==window.Audio?new Audio:null,null!==this.audio&&(this.audio.autoplay="autoplay"),this.reloadTab=function(e,t,n,i){$("#ntab-chat-"+e).text(n),0!=$("#CSChatMessage-"+e).length&&($("#CSChatMessage-"+e).unbind("keydown",(function(){})),$("#CSChatMessage-"+e).unbind("keyup",(function(){}))),this.removeSynchroChat(e,!0),this.removeBackgroundChat(e),this.hideNotification(e);var s=this;$.get(this.wwwDir+"chat/adminchat/"+e+"/(remember)/true",(function(t){$("#chat-id-"+e).html(t),$("#CSChatMessage-"+e).focus(),s.rememberTab(e),s.addQuateHandler(e),s.loadMainData(e),ee.emitEvent("chatTabLoaded",[e]),ee.emitEvent("chatStartTab",[e,{name:n,focus:!0}]),!i&&s.channel&&s.channel.postMessage({action:"reload_chat",args:{nick:n,chat_id:parseInt(e)}})}))},this.loadMainData=function(e){var t=this;$.getJSON(this.wwwDir+"chat/loadmaindata/"+e,{},(function(n){$.each(n.items,(function(n,i){var s=$(i.selector);void 0!==i.attr&&$.each(i.attr,(function(e,t){"text"==e?s.text(t):s.attr(e,t)})),void 0!==i.action&&("hide"==i.action?s.hide():"keyup"==i.action?s.bind("keyup",i.event_data.a+"+"+i.event_data.b,(function(){var n={msg:"!"+i.event_data.cmd};$.postJSON(t.wwwDir+t.addmsgurl+e,n,(function(n){return LHCCallbacks.addmsgadmin&&LHCCallbacks.addmsgadmin(e),ee.emitEvent("chatAddMsgAdmin",[e]),""!=n.r&&$("#messagesBlock-"+e).append(n.r).scrollTop($("#messagesBlock-"+e).prop("scrollHeight")).find(".pending-storage").remove(),!0===n.hold_removed?$("#hold-action-"+e).removeClass("btn-outline-info"):!0===n.hold_added&&$("#hold-action-"+e).addClass("btn-outline-info"),!0===n.update_status&&t.updateVoteStatus(e),t.syncadmincall(),!0}))})):"show"==i.action?s.show():"remove"==i.action?s.remove():"event"==i.action?ee.emitEvent(i.event_name,i.event_value):"click"==i.action&&(1!==confLH.no_scroll_bottom&&s.attr("auto-scroll",1),s.click()))})),ee.emitEvent("mainChatDataLoaded",[e,n])})).fail((function(){}))},this.getSelectedText=function(){var e,t="";return window.getSelection?t=(e=window.getSelection()).toString():document.selection&&"Control"!==document.selection.type&&(t=(e=document.selection.createRange()).text),{selection:e,text:t}},this.popoverShown=!1,this.popoverShownNow=!1,this.selection=null,this.mouseContextMenu=function(e){if(3==e.which&&void 0!==$(this).attr("id")){$(".popover-copy").popover("dispose");var t=e.data.that.getSelectedText(),n=!1;!t.text.length||null!==e.data.that.selection&&e.data.that.selection.text===t.text||(n=!0,e.data.that.selection=t);var i=$(this).attr("id").replace("msg-",""),s="true"!==$("#CSChatMessage-"+e.data.chat_id).attr("disable-edit")&&($(this).attr("data-op-id")==confLH.user_id||"true"===$("#CSChatMessage-"+e.data.chat_id).attr("edit-op")&&parseInt($(this).attr("data-op-id"))>0||"true"===$("#CSChatMessage-"+e.data.chat_id).attr("edit-vis")&&0===parseInt($(this).attr("data-op-id"))),o={placement:"right",trigger:"manual",animation:!1,html:!0,container:"#chat-id-"+e.data.chat_id,template:'<div class="popover" role="tooltip"><div class="arrow"></div><div class="popover-body"></div></div>',content:function(){return'<a href="#" id="copy-popover-'+e.data.chat_id+'" ><i class="material-icons">&#xE244;</i>'+confLH.transLation.quote+"</a>"+(s?'<br/><a href="#" id="edit-popover-'+e.data.chat_id+'" ><i class="material-icons">edit</i>'+confLH.transLation.edit+"</a>":"")+'<br/><a href="#" id="ask-help-popover-'+e.data.chat_id+'" ><i class="material-icons">supervisor_account</i>'+confLH.transLation.ask_help+"</a>"+(n?'<br/><a href="#" id="copy-text-popover-'+e.data.chat_id+'" ><i class="material-icons">content_copy</i>'+confLH.transLation.copy+" (Ctrl+C)</a>":"")+(n?"":'<br/><a href="#" id="copy-all-text-popover-'+e.data.chat_id+'" ><i class="material-icons">content_copy</i>'+confLH.transLation.copy+' (Ctrl+C)</a><br/><a href="#" id="copy-group-text-popover-'+e.data.chat_id+'" ><i class="material-icons">content_copy</i>'+confLH.transLation.copy_group+"</a>")+(n?"":'<br/><a href="#" id="translate-msg-'+e.data.chat_id+'" ><i class="material-icons">language</i>'+confLH.transLation.translate+"</a>")}},r=$("#messagesBlock-"+e.data.chat_id+" > #msg-"+i+" > .msg-body");if(0==r.length)return;return ee.emitEvent("quoteActionRight",[o,e.data.chat_id,i]),r.popover(o).popover("show").addClass("popover-copy"),$("#copy-popover-"+e.data.chat_id).click((function(t){t.stopPropagation(),t.preventDefault(),$.getJSON(e.data.that.wwwDir+"chat/quotemessage/"+i,(function(t){t.msg&&e.data.that.insertTextToMessageArea(e.data.chat_id,t.msg),e.data.that.hidePopover()}))})),$("#ask-help-popover-"+e.data.chat_id).click((function(t){t.stopPropagation(),t.preventDefault(),$.getJSON(e.data.that.wwwDir+"chat/quotemessage/"+i,(function(t){$("#private-chat-tab-link-"+e.data.chat_id).attr("private-loaded")?($("#private-chat-tab-link-"+e.data.chat_id).attr("private-loaded",!0).click(),new bootstrap.Tab(document.querySelector("#private-chat-tab-link-"+e.data.chat_id)).show(),ee.emitEvent("groupChatPrefillMessage",[e.data.chat_id,t.msg])):($("#private-chat-tab-link-"+e.data.chat_id).attr("private-loaded",!0).click(),new bootstrap.Tab(document.querySelector("#private-chat-tab-link-"+e.data.chat_id)).show(),ee.emitEvent("privateChatStart",[e.data.chat_id,{default_message:t.msg}])),e.data.that.hidePopover()}))})),!n&&$("#translate-msg-"+e.data.chat_id).click((function(t){t.stopPropagation(),t.preventDefault(),lhc.methodCall("lhc.translation","translateMessageVisitor",{msg_id:i,chat_id:e.data.chat_id}),e.data.that.hidePopover()})),!n&&$("#copy-all-text-popover-"+e.data.chat_id).click((function(t){t.stopPropagation(),t.preventDefault(),$.getJSON(e.data.that.wwwDir+"chat/quotemessage/"+i,(function(t){var n=$("#CSChatMessage-"+e.data.chat_id),i=n.val();n.val(t.msg),n.select(),document.execCommand("copy"),n.val(i),e.data.that.hidePopover()}))})),!n&&$("#copy-group-text-popover-"+e.data.chat_id).click((function(t){t.stopPropagation(),t.preventDefault(),$.getJSON(e.data.that.wwwDir+"chat/quotemessage/"+i+"/(type)/group",(function(t){var n=$("#CSChatMessage-"+e.data.chat_id),i=n.val();n.val(t.msg),n.select(),document.execCommand("copy"),n.val(i),e.data.that.hidePopover()}))})),s&&$("#edit-popover-"+e.data.chat_id).click((function(t){t.stopPropagation(),t.preventDefault(),$.getJSON(e.data.that.wwwDir+"chat/editprevious/"+e.data.chat_id+"/"+i,(function(t){if("f"==t.error){var n=$("#CSChatMessage-"+e.data.chat_id);n.val(t.msg).attr("data-msgid",t.id).addClass("edit-mode"),$("#msg-"+t.id).addClass("edit-mode"),n.focus()}else alert(t.error)})),e.data.that.hidePopover()})),n&&$("#copy-text-popover-"+e.data.chat_id).click((function(t){t.stopPropagation(),t.preventDefault();var n=e.data.that.getSelectedTextPlain(),i=$("#CSChatMessage-"+e.data.chat_id),s=i.val();i.val(n),i.select(),document.execCommand("copy"),i.val(s),e.data.that.hidePopover()})),e.data.that.popoverShown=!0,e.data.that.popoverShownNow=!1,!1}},this.insertTextToMessageArea=function(e,t){var n=$("#CSChatMessage-"+e),i=n.val().replace(/^\s*\n/g,"");n.val((""!=i?i+"[quote]"+t+"[/quote]":"[quote]"+t+"[/quote]")+"\n").focus();var s=n[0];for(s.clientHeight,s.rows;s.scrollHeight>s.clientHeight&&!window.opera&&s.rows<30;)s.style.overflow="hidden",s.rows+=1;s.scrollHeight>s.clientHeight&&(s.style.overflow="auto")},this.mouseClicked=function(e){if(selected=e.data.that.getSelectedText(),$(".popover-copy").popover("dispose"),!selected.text.length||null!==e.data.that.selection&&e.data.that.selection.text===selected.text)e.data.that.selection=null;else{e.data.that.selection=selected;var t={placement:"right",trigger:"manual",animation:!1,html:!0,container:"#chat-id-"+e.data.chat_id,template:'<div class="popover" role="tooltip"><div class="arrow"></div><div class="popover-body"></div></div>',content:function(){return'<a href="#" id="copy-popover-'+e.data.chat_id+'" ><i class="material-icons">&#xE244;</i>'+confLH.transLation.quote+"</a>"}},n=void 0!==$(this).attr("id")?"#messagesBlock-"+e.data.chat_id+" > #msg-"+$(this).attr("id").replace("msg-","")+" > .msg-body":this,i=$(n);if(0==i.length)return;ee.emitEvent("quoteAction",[t,e.data.chat_id]),i.popover(t).popover("show").addClass("popover-copy"),$("#copy-popover-"+e.data.chat_id).click((function(){lhinst.quateSelection(e.data.chat_id)})),e.data.that.popoverShown=!0,e.data.that.popoverShownNow=!0}},this.addQuateHandler=function(e){this.popoverShown=!1,$("#messagesBlock-"+e+" > .message-row:not([qt])").on("mouseup",{chat_id:e,that:this},lhinst.mouseClicked).on("contextmenu",{chat_id:e,that:this},lhinst.mouseContextMenu).attr("qt",1)},this.getSelectedTextPlain=function(){var e=this.selection.text.replace(/[\uD7AF\uD7C7-\uD7CA\uD7FC-\uF8FF\uFA6E\uFA6F\uFADA]/g,"");return e=(e=(e=(e=e.replace(/^[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}(.*)/gm,"")).replace(/^[0-9]{2}:[0-9]{2}:[0-9]{2}(.*)/gm,"")).replace(/^\s*\n/gm,"")).replace(/^ /gm,"")},this.quateSelection=function(e){$(".popover-copy").popover("dispose");var t=this.getSelectedTextPlain();window.textreplace=t,this.insertTextToMessageArea(e,t),this.popoverShown=!1},this.hidePopover=function(){!0===this.popoverShownNow?this.popoverShownNow=!1:!0===this.popoverShown&&(this.popoverShown=!1,$(".popover-copy").popover("dispose"))},this.addTab=function(e,t,n,i,s,o){if(!(e.find("#chat-tab-link-"+i).length>0)){var r=confLH.new_dashboard&&confLH.hide_tabs&&null!==document.getElementById("tabs-dashboard")?" d-none":"",a='<li role="presentation" id="chat-tab-li-'+i+'" class="nav-item'+r+'"><a class="nav-link chat-nav-item" href="#chat-id-'+i+'" id="chat-tab-link-'+i+'" aria-controls="chat-id-'+i+'" role="tab" data-bs-toggle="tab"><i id="msg-send-status-'+i+'" class="material-icons send-status-icon icon-user-online">send</i><i id="user-chat-status-'+i+'" class="chat-tab-content '+this.tabIconClass+'">'+this.tabIconContent+'</i><span class="ntab" id="ntab-chat-'+i+'">'+n.replace(/</g,"&lt;").replace(/>/g,"&gt;")+'</span><span onclick="return lhinst.removeDialogTab('+i+',$(\'#tabs\'),true)" class="material-icons icon-close-chat">close</span></a></li>';void 0===o||0==parseInt(o)?e.find("> ul").append(a):e.find("> ul > li:eq("+(o-1)+")").after(a),$("#chat-tab-link-"+i).click((function(){lhinst.previous_chat_id>0&&$("#unread-separator-"+lhinst.previous_chat_id).remove(),lhinst.previous_chat_id=i,setTimeout((function(){$("#CSChatMessage-"+i).focus()}),2);var e=$(this);setTimeout((function(){e.find(".msg-nm").remove();var t=!1;e.hasClass("has-pm")&&(t=!0,e.removeClass("has-pm")),1==t&&$("#messagesBlock-"+i).prop("scrollTop",$("#messagesBlock-"+i).prop("scrollHeight"))}),500),ee.emitEvent("chatTabClicked",[i,e])}));var l=window.location.hash.replace("#/","#"),c=this;$.get(t,(function(t){""!=t?(void 0===s||!0===s||l=="#chat-id-"+i?(e.find("> ul > li > a.active").removeClass("active"),e.find("> ul > #chat-tab-li-"+i+" > a").addClass("active"),e.find("> div.tab-content > div.active").removeClass("active"),e.find("> div.tab-content").append('<div role="tabpanel" class="tab-pane active chat-tab-pane" id="chat-id-'+i+'"></div>'),window.location.hash="#/chat-id-"+i,e.addClass("chat-tab-selected")):e.find("> div.tab-content").append('<div role="tabpanel" class="tab-pane chat-tab-pane" id="chat-id-'+i+'"></div>'),$("#chat-id-"+i).html(t),void 0!==s&&!0!==s&&l!="#chat-id-"+i||$("#CSChatMessage-"+i).focus(),0==c.disableremember&&c.rememberTab(i),c.addQuateHandler(i),c.loadMainData(i),ee.emitEvent("chatTabLoaded",[i])):c.removeDialogTab(i,e,!0)}))}},this.rememberTab=function(e){if(localStorage)try{e=parseInt(e);var t=localStorage.getItem("achat_id"),n=new Array;if(null!==t)n=t.split(",").map(Number);-1===n.indexOf(e)&&n.push(e),localStorage.setItem("achat_id",n.join(","))}catch(e){console.log(e)}},this.forgetChat=function(e,t){if(localStorage)try{e=parseInt(e);var n=localStorage.getItem(t),i=new Array;null!==n&&(i=n.split(",").map(Number)),-1!==i.indexOf(e)&&i.splice(i.indexOf(e),1),localStorage.setItem(t,i.join(","))}catch(e){console.log(e)}},this.attachTabNavigator=function(){$("#tabs > ul.nav > li > a").click((function(){$(this).find(".msg-nm").remove(),$(this).removeClass("has-pm")}))},this.holdAction=function(e,t){if(!$("#CSChatMessage-"+e).is("[readonly]")){var n=this;$.postJSON(this.wwwDir+"chat/holdaction/"+e,{sel:t.hasClass("btn-outline-info"),op:t.attr("data-type")},(function(i){0==i.error?(1==i.hold?(t.addClass("btn-outline-info"),"usr"==t.attr("data-type")?$("#hold-action-"+e).removeClass("btn-outline-info"):$("#hold-action-usr-"+e).removeClass("btn-outline-info")):t.removeClass("btn-outline-info"),""!=i.msg&&$("#messagesBlock-"+e).append(i.msg).scrollTop($("#messagesBlock-"+e).prop("scrollHeight")),n.syncadmincall()):alert(i.msg)}))}},this.copyContent=function(e){var t,n=document.createElement("textarea");n.value=e.attr("data-copy"),n.style.top="0",n.style.left="0",n.style.position="fixed",document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy")}catch(e){alert("Oops, unable to copy")}document.body.removeChild(n),e.tooltip({trigger:"click",placement:"top"}),t=e.attr("data-success"),e.tooltip("hide").attr("data-original-title",t).tooltip("show"),setTimeout((function(){e.tooltip("hide")}),1e3)},this.copyMessages=function(e){var t;return $("#chat-copy-messages").select(),document.execCommand("copy"),e.tooltip({trigger:"click",placement:"top"}),t=e.attr("data-success"),e.tooltip("hide").attr("data-original-title",t).tooltip("show"),setTimeout((function(){e.tooltip("hide")}),3e3),!1},this.removeDialogTabGroup=function(e,t){ee.emitEvent("unloadGroupChat",[e]);this.smartTabFocus(t,e)},this.addGroupTab=function(e,t,n,i){if(e.find("#chat-tab-link-"+n).length>0)return e.find("> ul > li > a.active").removeClass("active"),e.find("> ul > li#chat-tab-li-"+n+" > a").addClass("active"),e.find("> div.tab-content > div.active").removeClass("active"),e.find("> div.tab-content > #chat-id-"+n).addClass("active"),void ee.emitEvent("groupChatTabClicked",[n]);var s='<li role="presentation" id="chat-tab-li-'+n+'" class="nav-item"><a class="nav-link" href="#chat-id-'+n+'" id="chat-tab-link-'+n+'" aria-controls="chat-id-'+n+'" role="tab" data-bs-toggle="tab"><i id="msg-send-status-'+n+'" class="material-icons send-status-icon icon-user-online">send</i><i class="whatshot blink-ani d-none text-warning material-icons">whatshot</i><i id="user-chat-status-'+n+'" class="'+this.tabIconClass+'">group</i><span class="ntab" id="ntab-chat-'+n+'">'+t.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</span><span onclick=\"return lhinst.removeDialogTabGroup('"+n+"',$('#tabs'),true)\" class=\"material-icons icon-close-chat\">close</span></a></li>";e.find("> ul").append(s);window.location.hash.replace("#/","#");!0!==i?(e.find("> ul > li > a.active").removeClass("active"),e.find("> ul > #chat-tab-li-"+n+" > a").addClass("active"),e.find("> div.tab-content > div.active").removeClass("active"),e.find("> div.tab-content").append('<div role="tabpanel" class="tab-pane chat-tab-pane active" id="chat-id-'+n+'"></div>')):e.find("> div.tab-content").append('<div role="tabpanel" class="tab-pane chat-tab-pane" id="chat-id-'+n+'"></div>'),ee.emitEvent("groupChatTabLoaded",[n]),$("#chat-tab-link-"+n).click((function(){ee.emitEvent("groupChatTabClicked",[n.replace("gc","")])}))},this.startGroupChat=function(e,t,n,i){this.addGroupTab(t,n,"gc"+e,i)},this.hideShowAction=function(e){var t=$("#messagesBlock-"+e.chat_id),n=t.prop("scrollTop")+t.height()+30>t.prop("scrollHeight"),i=$("#message-more-"+e.id);i.hasClass("hide")?(i.removeClass("hide"),0==e.hide_show?$("#hide-show-action-"+e.id).remove():$("#hide-show-action-"+e.id).text(e.hide_text)):(i.addClass("hide"),1==e.hide_show&&$("#hide-show-action-"+e.id).text(e.show_text)),n&&t.scrollTop(t.prop("scrollHeight"))},this.buttonAction=function(e,t){var n=e.closest(".message-row");$.getJSON(this.wwwDir+"chat/abstractclick/"+n.attr("id").replace("msg-","")+"/"+t,(function(e){if(e.error)alert(e.error);else if(e.replace_id&&e.html){var t=$("#messagesBlock-"+e.chat_id),n=t.prop("scrollTop")+t.height()+30>t.prop("scrollHeight");$(e.replace_id).replaceWith(e.html),lhinst.addQuateHandler(e.chat_id),n&&t.scrollTop(t.prop("scrollHeight"))}else e.modal&&lhc.revealModal({url:WWW_DIR_JAVASCRIPT+e.modal})}))},this.startChat=function(e,t,n,i,s){if(this.removeBackgroundChat(e),this.hideNotification(e),$("#sub-tabs").length>0&&$("#sub-tabs a[href='#sub-tabs-open']").tab("show"),0==this.chatUnderSynchronization(e)){var o=void 0===i||i,r=0==this.disableremember?"/(remember)/true":"";this.addTab(t,this.wwwDir+"chat/adminchat/"+e+r,n,e,o,s);var a=this;setTimeout((function(){a.syncadmininterfacestatic()}),1e3)}else t.find("> ul > li > a.active").removeClass("active"),t.find("> ul > li#chat-tab-li-"+e+" > a").addClass("active"),t.find("> div.tab-content > div.active").removeClass("active"),t.find("> div.tab-content > #chat-id-"+e).addClass("active"),window.location.hash="#/chat-id-"+e;ee.emitEvent("chatStartTab",[e,{name:n,focus:void 0===i||i,position:s}])},this.backgroundChats=[],this.startChatBackground=function(e,t,n,i){if(0==this.chatUnderSynchronization(e)){this.backgroundChats.push(parseInt(e));var s=0==this.disableremember?"/(remember)/true":"";return i||(i="background"),this.addTab(t,this.wwwDir+"chat/adminchat/"+e+s+"/(arg)/"+i,n,e,!1),ee.emitEvent("chatStartBackground",[e,{name:n}]),!0}return!1},this.protectCSFR=function(){$("a.csfr-required").click((function(e){var t=$(this);t.attr("data-secured")||(t.attr("href",t.attr("href")+"/(csfr)/"+confLH.csrf_token),t.attr("data-secured",1)),t.hasClass("csfr-post")&&!t.hasClass("csfr-post-executed")&&(e.preventDefault(),e.stopPropagation(),t.addClass("csfr-post-executed"),!t.attr("data-trans")||confirm(confLH.transLation[t.attr("data-trans")])?$.post(t.attr("href"),(function(){document.location.reload()})).fail((function(){document.location.reload()})):setTimeout((function(){t.removeClass("csfr-post-executed")}),500))}))},this.addSynchroChat=function(e,t){this.chatsSynchronising.push(e),this.chatsSynchronisingMsg.push(e+","+t),LHCCallbacks.addSynchroChat&&LHCCallbacks.addSynchroChat(e,t)},this.removeSynchroChat=function(e,t){for(var n=0;n<this.chatsSynchronising.length;)this.chatsSynchronising[n]==e?(this.chatsSynchronising.splice(n,1),this.chatsSynchronisingMsg.splice(n,1)):n++;this.forgetChat(e,"achat_id"),!0!==t&&ee.emitEvent("removeSynchroChat",[e]),LHCCallbacks.removeSynchroChat&&LHCCallbacks.removeSynchroChat(e)},this.is_typing=!1,this.typing_timeout=null,this.operatorTypingCallback=function(e){var t=this.wwwDir,n=this;0==n.is_typing?(n.is_typing=!0,clearTimeout(n.typing_timeout),1==n.nodeJsMode?(n.typing_timeout=setTimeout((function(){n.typingStoppedOperator(e)}),3e3),ee.emitEvent("operatorTyping",[{chat_id:e,status:!0}])):$.getJSON(t+"chat/operatortyping/"+e+"/true",{},(function(t){n.typing_timeout=setTimeout((function(){n.typingStoppedOperator(e)}),3e3),LHCCallbacks.initTypingMonitoringAdmin&&LHCCallbacks.initTypingMonitoringAdmin(e,!0)})).fail((function(){n.typing_timeout=setTimeout((function(){n.typingStoppedOperator(e)}),3e3)}))):(clearTimeout(n.typing_timeout),n.typing_timeout=setTimeout((function(){n.typingStoppedOperator(e)}),3e3))},this.initTypingMonitoringAdmin=function(e){var t=this;jQuery("#CSChatMessage-"+e).bind("keyup",(function(n){t.operatorTypingCallback(e)}))},this.remarksTimeout=null,this.saveRemarks=function(e){clearTimeout(this.remarksTimeout),$("#remarks-status-"+e).addClass("text-warning"),$("#main-user-info-remarks-"+e+" .alert").remove();var t=this;this.remarksTimeout=setTimeout((function(){$.postJSON(t.wwwDir+"chat/saveremarks/"+e,{data:$("#ChatRemarks-"+e).val()},(function(t){"false"==t.error?$("#remarks-status-"+e).removeClass("text-warning"):$("#main-user-info-remarks-"+e).prepend(t.result)}))}),500)},this.reaction=function(e){$.postJSON(this.wwwDir+"chat/reaction/"+e.attr("data-msg-id"),{identifier:e.attr("data-identifier"),data:+e.attr("data-value")},(function(t){"false"==t.error?($("#reaction-message-info-"+e.attr("data-msg-id")).remove(),$("#reaction-message-"+e.attr("data-msg-id")).replaceWith(t.result)):alert(t.result)}))},this.saveNotes=function(e){clearTimeout(this.remarksTimeout),$("#remarks-status-online-"+e).addClass("text-warning");var t=this;this.remarksTimeout=setTimeout((function(){$.postJSON(t.wwwDir+"chat/saveonlinenotes/"+e,{data:$("#OnlineRemarks-"+e).val()},(function(t){$("#remarks-status-online-"+e).removeClass("text-warning")}))}),500)},this.surveyShowed=!1,this.typingStoppedOperator=function(e){var t=this;1==t.is_typing&&(1==lhinst.nodeJsMode?(t.is_typing=!1,ee.emitEvent("operatorTyping",[{chat_id:e,status:!1}])):$.getJSON(this.wwwDir+"chat/operatortyping/"+e+"/false",{},(function(n){t.is_typing=!1,LHCCallbacks.initTypingMonitoringAdmin&&LHCCallbacks.initTypingMonitoringAdmin(e,!1)})).fail((function(){t.is_typing=!1})))},this.refreshFootPrint=function(e){e.addClass("disabled"),$.get(this.wwwDir+"chat/chatfootprint/"+e.attr("rel"),{},(function(t){$("#footprint-"+e.attr("rel")).html(t),e.removeClass("disabled")}))},this.makeAbstractRequest=function(e,t){return $.get(t.attr("href"),(function(t){lhinst.syncadmininterfacestatic(),LHCCallbacks.userRedirectedSurvey&&LHCCallbacks.userRedirectedSurvey(e)})),!1},this.refreshOnlineUserInfo=function(e){e.addClass("disabled"),$.get(this.wwwDir+"chat/refreshonlineinfo/"+e.attr("rel"),{},(function(t){$("#online-user-info-"+e.attr("rel")).html(t),e.removeClass("disabled")}))},this.processCollapse=function(e){if("chevron_right"==$("#chat-main-column-"+e+" .collapse-right").text()){$("#chat-right-column-"+e).hide(),$("#chat-main-column-"+e).removeClass("col-xl-8").addClass("col-xl-12"),$("#chat-main-column-"+e+" .collapse-right").text("chevron_left");try{localStorage&&localStorage.setItem("lhc_rch",1)}catch(e){}}else{$("#chat-right-column-"+e).show(),$("#chat-main-column-"+e).removeClass("col-xl-12").addClass("col-xl-8"),$("#chat-main-column-"+e+" .collapse-right").text("chevron_right");try{localStorage&&localStorage.removeItem("lhc_rch")}catch(e){}}},this.chatUnderSynchronization=function(e){for(var t=0;t<this.chatsSynchronising.length;){if(this.chatsSynchronising[t]==e)return!0;t++}return!1},this.getChatIndex=function(e){for(var t=0;t<this.chatsSynchronising.length;){if(this.chatsSynchronising[t]==e)return t;t++}return!1},this.closeActiveChatDialog=function(e,t,n){if(ee.emitEvent("angularSyncDisabled",[!0]),$.postJSON(this.wwwDir+this.closechatadmin+e,(function(e){ee.emitEvent("angularSyncDisabled",[!1]),0==e.error?ee.emitEvent("angularLoadChatList"):alert(e.result)})).fail((function(e,t,n){ee.emitEvent("angularSyncDisabled",[!1]),console.dir(e)})),0!=$("#CSChatMessage-"+e).length&&($("#CSChatMessage-"+e).unbind("keydown",(function(){})),$("#CSChatMessage-"+e).unbind("keyup",(function(){}))),window.postMessage&&window.opener&&window.opener.postMessage("lhc_ch:chatclosed:"+e,"*"),this.channel&&this.channel.postMessage({action:"close_chat",args:{chat_id:e}}),this.removeSynchroChat(e),1==n){var i=this.smartTabFocus(t,e);setTimeout((function(){window.location.hash=i}),500),1==this.closeWindowOnChatCloseDelete&&window.close()}LHCCallbacks.chatClosedCallback&&LHCCallbacks.chatClosedCallback(e)},this.smartTabFocus=function(e,t,n){var i=e.find("> ul > #chat-tab-li-"+t).index();n||(n={});var s=1==n.up||void 0===n.up?1:-1;n.keep?e.find("> ul > li > a.active").removeClass("active"):(e.find("> ul > #chat-tab-li-"+t).remove(),e.find("#chat-id-"+t).remove());var o=e.find("> ul > li:eq("+(i-s)+")");if(void 0!==o.attr("id"))var r=o.find("> a");else if(linkTabRight=e.find("> ul > li:eq("+i+")"),linkTabRight.length>0)r=linkTabRight.find("> a");else r=o.find("> a");if(!e.find("> ul > li > a.active").length){for(var a=!0;a;)if(r.hasClass("non-focus")){a=!0;var l=r.parent().prev();l.find(" > a").length&&(r=l.find(" > a"))}else a=!1;if(r.tab("show"),void 0!==r.attr("id")){var c=r.attr("href").replace("#chat-id-","");this.removeBackgroundChat(c),this.hideNotification(c),n.keep||ee.emitEvent("chatTabFocused",[c])}}return void 0!==r.attr("href")?r.attr("href").replace("#","#/"):"#"},this.startChatCloseTabNewWindow=function(e,t,n){return window.open(this.wwwDir+"chat/single/"+e,"chatwindow-chat-id-"+e,"menubar=1,resizable=1,width=800,height=650"),this.smartTabFocus(t,e),1==this.closeWindowOnChatCloseDelete&&window.close(),this.removeSynchroChat(e),this.syncadmininterfacestatic(),!1},this.removeDialogTab=function(e,t,n){if(this.channel&&!0===this.chatUnderSynchronization(e)&&this.channel.postMessage({action:"close_chat",args:{chat_id:e}}),0!=$("#CSChatMessage-"+e).length&&($("#CSChatMessage-"+e).unbind("keydown",(function(){})),$("#CSChatMessage-"+e).unbind("keyup",(function(){}))),this.removeSynchroChat(e),1==n){var i=this.smartTabFocus(t,e);setTimeout((function(){window.location.hash=i}),500),1==this.closeWindowOnChatCloseDelete&&window.close()}this.syncadmininterfacestatic()},this.removeActiveDialogTag=function(e){1==this.closeWindowOnChatCloseDelete&&window.close()},this.deleteChat=function(e,t,n){if(confirm(confLH.transLation.delete_confirm)){var i=this;$.postJSON(this.wwwDir+this.deletechatadmin+e,(function(s){if(1==s.error)alert(s.result);else{if(0!=$("#CSChatMessage-"+e).length&&($("#CSChatMessage-"+e).unbind("keydown",(function(){})),$("#CSChatMessage-"+e).unbind("keyup",(function(){}))),i.removeSynchroChat(e),1==n){var o=i.smartTabFocus(t,e);setTimeout((function(){window.location.hash=o}),500),1==i.closeWindowOnChatCloseDelete&&window.close()}LHCCallbacks.chatDeletedCallback&&LHCCallbacks.chatDeletedCallback(e),i.syncadmininterfacestatic()}})).fail((function(e,t,n){console.dir(e),alert("getJSON request failed! "+t+":"+n+":"+e.responseText)}))}},this.rejectPendingChat=function(e,t){var n=this;$.postJSON(this.wwwDir+this.deletechatadmin+e,{},(function(e){n.syncadmininterfacestatic()})).fail((function(e,t,n){console.dir(e),alert("getJSON request failed! "+t+":"+n+":"+e.responseText)}))},this.startChatNewWindowArchive=function(e,t,n){var i=window.open(this.wwwDir+"chatarchive/viewarchivedchat/"+e+"/"+t+"/(mode)/popup","chatwindow-chat-id-"+t,"menubar=1,resizable=1,width=800,height=650");null!==i&&(i.focus(),ee.emitEvent("chatStartOpenWindowArchive",[e,t]))},this.speechToText=function(e){0==this.speechHandler&&(this.speechHandler=new LHCSpeechToText),this.speechHandler.listen({chat_id:e})},this.startChatTransfer=function(e,t,n,i,s){var o=this;$.getJSON(this.wwwDir+this.accepttransfer+i,{},(function(i){0==$("#chat-tab-link-"+e).length?s?(o.removeSynchroChat(e),o.startChatBackground(e,t,n)):o.startChat(e,t,n):o.updateVoteStatus(e),LHCCallbacks.operatorAcceptedTransfer&&LHCCallbacks.operatorAcceptedTransfer(e)})).fail((function(){o.startChat(e,t,n)}))},this.startChatNewWindowTransfer=function(e,t,n){return $.getJSON(this.wwwDir+this.accepttransfer+n,{},(function(t){LHCCallbacks.operatorAcceptedTransfer&&LHCCallbacks.operatorAcceptedTransfer(e)})),this.startChatNewWindow(e,t)},this.startChatNewWindowTransferByTransfer=function(e,t,n){var i=this;return $.ajax({type:"GET",url:this.wwwDir+this.accepttransfer+e+"/(mode)/chat",cache:!1,dataType:"json"}).done((function(e){$("#tabs").length>0?void 0!==n&&!0===n?i.startChatBackground(e.chat_id,$("#tabs"),t):(window.focus(),i.startChat(e.chat_id,$("#tabs"),t)):i.startChatNewWindow(e.chat_id,""),LHCCallbacks.operatorAcceptedTransfer&&LHCCallbacks.operatorAcceptedTransfer(e.chat_id)})),this.syncadmininterfacestatic(),!1},this.switchLang=function(e,t){var n='<input type="hidden" value="'+t+'" name="switchLang" />';return e.append(n),e.submit(),!1},this.sendLinkToMail=function(e,t){var n=window.parent.$("#MailMessage").val();window.parent.$("#MailMessage").val((""!=n?n+"\n":n)+e),$("#embed-button-"+t).addClass("btn-success")},this.sendLinkToEditor=function(e,t,n){var i=window.parent.$("#CSChatMessage-"+e).val();window.parent.$("#CSChatMessage-"+e).val((""!=i?i+"\n":i)+t),$("#embed-button-"+n).addClass("btn-success")},this.sendLinkToGeneralEditor=function(e,t,n){var i=window.parent.$(".embed-into");if(0==i.length&&(i=window.opener.$(".embed-into")),void 0!==n&&void 0!==n.replace&&1==n.replace)i.val(e);else{var s=i.val();i.val((""!=s?s+"\n":s)+e)}$("#embed-button-"+t).addClass("btn-success")},this.hideOnTransferHappen=function(e){var t=this,n=setInterval((function(){parseInt(confLH.user_id)!=parseInt($("#chat-owner-"+e).attr("user-id"))&&($("#tabs").length>0&&(t.removeDialogTab(e,$("#tabs"),!0),t.channel&&t.channel.postMessage({action:"close_chat",args:{chat_id:parseInt(e)}})),clearInterval(n))}),1e3)},this.hideTransferModal=function(e){var t=this;setTimeout((function(){$("#myModal").modal("hide"),$("#tabs").length>0&&t.hideOnTransferHappen(e)}),1e3)},this.transferChat=function(e){var t=this,n=$("[name=TransferTo"+e+"]:checked").val();$.postJSON(this.wwwDir+this.trasnsferuser+e+"/"+n,{type:"user"},(function(n){"false"==n.error&&($("#transfer-block-"+n.chat_id).html(n.result),t.hideTransferModal(e))}))},this.changeOwner=function(e){var t=this,n=$("#id_new_user_id").val();$.postJSON(this.wwwDir+this.trasnsferuser+e+"/"+n,{type:"change_owner"},(function(n){"false"==n.error&&($("#transfer-block-"+n.chat_id).html(n.result),t.hideTransferModal(e))}))},this.changeDep=function(e){var t=this,n=$("#id_new_dep_id").val();$.postJSON(this.wwwDir+this.trasnsferuser+e+"/"+n,{type:"change_dep"},(function(n){"false"==n.error&&($("#transfer-block-"+n.chat_id).html(n.result),$("#myModal").modal("hide"),t.updateVoteStatus(e))}))},this.chooseSurvey=function(e){var t=$("[name=SurveyItem"+e+"]:checked").val();$.postJSON(this.wwwDir+"survey/choosesurvey/"+e+"/"+t,(function(e){"false"==e.error&&$("#survey-block-"+e.chat_id).html(e.result)}))},this.redirectContact=function(e,t){(void 0===t||confirm(t))&&$.postJSON(this.wwwDir+"chat/redirectcontact/"+e,(function(t){lhinst.syncadmininterfacestatic(),LHCCallbacks.userRedirectedContact&&LHCCallbacks.userRedirectedContact(e)}))},this.redirectToURL=function(e){lhc.revealModal({url:WWW_DIR_JAVASCRIPT+"chat/singleaction/"+e+"/redirecttourl"})},this.redirectToURLOnline=function(e,t){var n=prompt(t,"");null!=n&&(lhinst.addRemoteOnlineCommand(e,"lhc_chat_redirect:"+n.replace(new RegExp(":","g"),"__SPLIT__")),lhinst.addExecutionCommand(e,"lhc_cobrowse_multi_command__lhc_chat_redirect:"+n.replace(new RegExp(":","g"),"__SPLIT__")))},this.transferChatDep=function(e){var t=this,n=$("[name=DepartamentID"+e+"]:checked").val();$.postJSON(this.wwwDir+this.trasnsferuser+e+"/"+n,{type:"dep"},(function(n){"false"==n.error&&($("#transfer-block-"+n.chat_id).html(n.result),t.hideTransferModal(e))}))},this.chatTabsOpen=function(){return window.open(this.wwwDir+"chat/chattabs/","chatwindows","menubar=1,resizable=1,width=800,height=650"),!1},this.explicitClose=!1,this.sendCannedMessage=function(e,t){if($("#id_CannedMessage-"+e).val()>0){t.addClass("secondary");var n=1e3*parseInt($("#id_CannedMessage-"+e).find(":selected").attr("data-delay")),i=this.wwwDir,s=this;if(0==s.is_typing?(s.is_typing=!0,clearTimeout(s.typing_timeout),LHCCallbacks.initTypingMonitoringAdminInform&&LHCCallbacks.initTypingMonitoringAdminInform({chat_id:e,status:!0}),$.getJSON(i+"chat/operatortyping/"+e+"/true",{},(function(i){LHCCallbacks.initTypingMonitoringAdmin&&LHCCallbacks.initTypingMonitoringAdmin(e,!0),s.typing_timeout=setTimeout((function(){s.typingStoppedOperator(e),t.removeClass("secondary")}),n>3e3?n:3e3)})).fail((function(){s.typing_timeout=setTimeout((function(){s.typingStoppedOperator(e)}),3e3)}))):(clearTimeout(s.typing_timeout),s.typing_timeout=setTimeout((function(){s.typingStoppedOperator(e)}),3e3),t.removeClass("secondary")),n>0)setTimeout((function(){var t={msg:$("#id_CannedMessage-"+e).find(":selected").attr("data-msg")};$("#CSChatMessage-"+e).attr("mode-write")&&(t.mode_write=$("#CSChatMessage-"+e).attr("mode-write")),$("#CSChatMessage-"+e).val(""),$.postJSON(i+s.addmsgurl+e,t,(function(t){return LHCCallbacks.addmsgadmin&&LHCCallbacks.addmsgadmin(e),ee.emitEvent("chatAddMsgAdmin",[e]),lhinst.syncadmincall(),!0}))}),n);else{var o={msg:$("#id_CannedMessage-"+e).find(":selected").attr("data-msg")};$("#CSChatMessage-"+e).attr("mode-write")&&(o.mode_write=$("#CSChatMessage-"+e).attr("mode-write")),$("#CSChatMessage-"+e).val(""),$.postJSON(this.wwwDir+this.addmsgurl+e,o,(function(t){return LHCCallbacks.addmsgadmin&&LHCCallbacks.addmsgadmin(e),ee.emitEvent("chatAddMsgAdmin",[e]),lhinst.syncadmincall(),!0}))}}return!1},this.theme=null,this.chatStatus=null,this.survey=null,this.isBlinking=!1,this.startBlinking=function(){if(0==this.isBlinking){var e=this;(n=document.title,i="!!! "+document.title,s=function(){document.title=document.title==i?" ":i},o=function(){clearInterval(t),document.title=n,window.onmousemove=null,t=null,e.isBlinking=!1},function(){t||(t=setInterval(s,1e3),window.onmousemove=o)})(),this.isBlinking=!0}var t,n,i,s,o},this.playNewMessageSound=function(){Modernizr.audio&&null!==this.audio&&(this.audio.src=Modernizr.audio.ogg?WWW_DIR_JAVASCRIPT_FILES+"/new_message.ogg?v=3":Modernizr.audio.mp3?WWW_DIR_JAVASCRIPT_FILES+"/new_message.mp3?v=3":WWW_DIR_JAVASCRIPT_FILES+"/new_message.wav?v=3",this.audio.load()),$("textarea[name=ChatMessage]").is(":focus")||this.startBlinking()},this.playInvitationSound=function(){Modernizr.audio&&null!==this.audio&&(this.audio.src=Modernizr.audio.ogg?WWW_DIR_JAVASCRIPT_FILES+"/invitation.ogg":Modernizr.audio.mp3?WWW_DIR_JAVASCRIPT_FILES+"/invitation.mp3":WWW_DIR_JAVASCRIPT_FILES+"/invitation.wav",this.audio.load())},this.playPreloadSound=function(){Modernizr.audio&&null!==this.audio&&(this.audio.src=Modernizr.audio.ogg?WWW_DIR_JAVASCRIPT_FILES+"/silence.ogg":Modernizr.audio.mp3?WWW_DIR_JAVASCRIPT_FILES+"/silence.mp3":WWW_DIR_JAVASCRIPT_FILES+"/silence.wav",this.audio.load())},this.scrollLoading=!1,this.scrollPending=!1,this.loadPreviousMessages=function(e,t){if(0==this.scrollLoading){this.scrollLoading=!0;var n=this;$.getJSON(this.wwwDir+"chat/loadpreviousmessages/"+e.attr("chat-id")+"/"+e.attr("message-id")+"/(initial)/"+e.attr("data-initial")+"/(original)/"+e.attr("chat-original-id"),(function(i){if(0==i.error){e.attr("data-initial",0);var s=$("#messagesBlock-"+e.attr("chat-original-id"));if(s.prepend(i.result),1==e.attr("auto-scroll"))e.attr("auto-scroll",0),s.scrollTop(s.prop("scrollHeight"));else if(!t){var o=document.getElementById("scroll-to-chat-"+e.attr("chat-id")+"-"+e.attr("message-id"));o&&(s[0].scrollTop=o.offsetTop)}1==i.has_messages?(e.attr("message-id",i.message_id),e.attr("chat-id",i.chat_id),n.scrollLoading=!1,1==n.scrollPending&&(n.scrollPending=!1,n.loadPreviousMessages(e,t))):(e.remove(),n.scrollLoading=!1,n.scrollPending=!1)}else n.scrollLoading=!1,n.scrollPending=!1}))}else this.scrollPending=!0},this.hidenicknamesstatus=null,this.onScrollAdmin=function(e){var t=$("#messagesBlock-"+e),n=t.prop("scrollHeight");Math.abs(n-t.prop("scrollTop")-t.prop("clientHeight"))>20?$("#scroll-button-admin-"+e).removeClass("d-none"):$("#scroll-button-admin-"+e).addClass("d-none").find("> button").text($("#scroll-button-admin-"+e+" > button").attr("data-default"))},this.scrollToTheBottomMessage=function(e){var t=$("#unread-separator-"+e);if(t.length>0)t[0].scrollIntoView(),setTimeout((function(){t.remove()}),1e3);else{var n=$("#messagesBlock-"+e);n.scrollTop(n.prop("scrollHeight"))}},this.syncadmincall=function(){this.chatsSynchronising.length>0?0==this.underMessageAdd&&0==this.syncroRequestSend?(this.syncroRequestSend=!0,$.postJSON(this.wwwDir+this.syncadmin,{"chats[]":this.chatsSynchronisingMsg},(function(e){void 0!==e.error_url&&document.location.replace(e.error_url);try{if("false"==e.error){if("false"!=e.result){var t=!1;$.each(e.result,(function(n,i){var s=$("#messagesBlock-"+i.chat_id),o=s.prop("scrollHeight"),r=Math.abs(o-s.prop("scrollTop")-s.prop("clientHeight"));s.find(".pending-storage").slice(0,i.mn).remove();var a=$("#chat-tab-link-"+i.chat_id),l=!focused;if(!a.hasClass("active"))if(a.find("span.msg-nm").length>0){var c=parseInt(a.find("span.msg-nm").attr("rel"))+i.mn;a.find("span.msg-nm").html(" ("+c+")").attr("rel",c)}else l=!0,a.append('<span rel="'+i.mn+'" class="msg-nm"> ('+i.mn+")</span>"),a.addClass("has-pm");r>20&&(l=!0,$("#scroll-button-admin-"+i.chat_id+" > button").text($("#scroll-button-admin-"+i.chat_id+" > button").attr("data-new"))),1==l&&null===document.getElementById("unread-separator-"+i.chat_id)&&(i.content=i.content.replace('<span class="usr-tit','<div id="unread-separator-'+i.chat_id+'" class="new-msg-holder border-bottom border-danger text-center"><span class="new-msg bg-danger text-white d-inline-block fs12 rounded-top">'+confLH.transLation.new+'</span></div><span class="usr-tit')),s.append(i.content),s.find(".pending-storage").appendTo(s),lhinst.addQuateHandler(i.chat_id),r<20&&s.scrollTop(o),lhinst.updateChatLastMessageID(i.chat_id,i.message_id),0!=t||"false"!=e.uw||void 0!==i.ignore&&!1!==typeof i.ignore||(t=!0),"false"==e.uw&&ee.emitEvent("angularActionHappened",[{type:"user_wrote",chat_id:i.chat_id,msg:i.msg,nick:i.nck}]),1!=confLH.new_message_browser_notification||"false"!=e.uw||void 0!==i.ignore&&!1!==typeof i.ignore||lhinst.showNewMessageNotification(i.chat_id,i.msg,i.nck),i.msfrom>0&&$("#msg-"+i.msfrom).attr("data-op-id")!=i.msop&&$("#msg-"+i.msfrom).next().addClass("operator-changes"),ee.emitEvent("eventSyncAdmin",[i,n])})),1==confLH.new_message_sound_admin_enabled&&"false"==e.uw&&1==t&&lhinst.playNewMessageSound()}if("false"!=e.result_status){var n=$("#group-chats-status").hasClass("chat-active");$.each(e.result_status,(function(e,t){var i=$("#user-is-typing-"+t.chat_id);"true"==t.tp?(0==lhinst.nodeJsMode&&i.html(t.tx),"hidden"==i.css("visibility")&&i.css("visibility","visible")):0==lhinst.nodeJsMode&&i.css("visibility","hidden"),$("#last-msg-chat-"+t.chat_id).text(t.lmsg);var s=$("#user-chat-status-"+t.chat_id),o=s.hasClass("icon-user-online");$("#chat-duration-"+t.chat_id).text(t.cdur),s.removeClass("icon-user-online icon-user-away icon-user-pageview"),$("#msg-send-status-"+t.chat_id).removeClass("icon-user-online icon-user-offline"),0==t.us?s.addClass("icon-user-online"):2==t.us?s.addClass("icon-user-away"):3==t.us&&s.addClass("icon-user-pageview"),1==n?1==o&&0!=t.us||lhinst.hidenicknamesstatus!=n&&0!=t.us?$("#ntab-chat-"+t.chat_id).hide():(0==o&&0==t.us||lhinst.hidenicknamesstatus!=n&&0==t.us)&&$("#ntab-chat-"+t.chat_id).show():lhinst.hidenicknamesstatus!=n&&$("#ntab-chat-"+t.chat_id).show();var r=$("#chat-id-"+t.chat_id+"-mds");if(r.attr("data-chat-status")==t.cs&&r.attr("data-chat-user")==t.co||lhinst.updateVoteStatus(t.chat_id),1==t.um?(r.addClass("chat-unread"),$("#msg-send-status-"+t.chat_id).addClass("icon-user-offline")):($("#msg-send-status-"+t.chat_id).addClass("icon-user-online"),r.removeClass("chat-unread")),!1!==t.lp?r.attr("title",t.lp+" s."):r.attr("title",""),void 0!==t.oad&&1==t.oad){$("#lhc_sync_operation").remove();var a=document.getElementsByTagName("head")[0],l=document.createElement("script");l.setAttribute("id","lhc_sync_operation"),l.setAttribute("type","text/javascript"),l.setAttribute("src",WWW_DIR_JAVASCRIPT+"chat/loadoperatorjs/(type)/chat/(id)/"+t.chat_id),a.appendChild(l)}}))}e.cg&&$.each(e.cg,(function(e,t){return lhinst.removeDialogTab(t,$("#tabs"),!0)})),lhinst.hidenicknamesstatus=n,clearTimeout(lhinst.userTimeout),lhinst.userTimeout=setTimeout(chatsyncadmin,confLH.chat_message_sinterval),ee.emitEvent("chatAdminSync",[e])}}catch(e){clearTimeout(lhinst.userTimeout),lhinst.userTimeout=setTimeout(chatsyncadmin,confLH.chat_message_sinterval)}lhinst.setSynchronizationRequestSend(!1),LHCCallbacks.syncadmincall&&LHCCallbacks.syncadmincall(lhinst,e)})).fail((function(){clearTimeout(lhinst.userTimeout),lhinst.userTimeout=setTimeout(chatsyncadmin,confLH.chat_message_sinterval),lhinst.setSynchronizationRequestSend(!1)}))):(clearTimeout(lhinst.userTimeout),lhinst.userTimeout=setTimeout(chatsyncadmin,confLH.chat_message_sinterval)):this.isSinchronizing=!1},this.updateVoteStatus=function(e,t){var n=this;$.getJSON(this.wwwDir+"chat/updatechatstatus/"+e,{},(function(i){$("#main-user-info-tab-"+e).html(i.result),$("#messagesBlock-"+e+" span.vis-tit").each((function(e){var t=$(this).children();$(this).text(" "+i.nick).prepend(t)})),$("#ntab-chat-"+e).text(i.nick),ee.emitEvent("chatTabInfoReload",[e]),!t&&n.channel&&n.channel.postMessage({action:"update_chat",args:{chat_id:parseInt(e)}})}))},this.updateChatLastMessageID=function(e,t){this.chatsSynchronisingMsg[this.getChatIndex(e)]=e+","+t},this.requestNotificationPermission=function(){window.webkitNotifications?window.webkitNotifications.requestPermission():window.Notification?Notification.requestPermission((function(e){})):alert("Notification API in your browser is not supported.")},this.playNewChatAudio=function(e){if(clearTimeout(this.soundIsPlaying),this.soundPlayedTimes++,Modernizr.audio&&null!==this.audio&&(this.audio.src=Modernizr.audio.ogg?WWW_DIR_JAVASCRIPT_FILES+"/"+e+".ogg?v=4":Modernizr.audio.mp3?WWW_DIR_JAVASCRIPT_FILES+"/"+e+".mp3?v=4":WWW_DIR_JAVASCRIPT_FILES+"/"+e+".wav?v=4",this.audio.load(),confLH.repeat_sound>this.soundPlayedTimes)){var t=this;this.soundIsPlaying=setTimeout((function(){t.playNewChatAudio(e)}),1e3*confLH.repeat_sound_delay)}},this.focusChanged=function(e){if(1==confLH.new_message_browser_notification&&1==e&&(window.webkitNotifications||window.Notification)){var t=this;$.each(this.chatsSynchronising,(function(e,n){void 0!==t.notificationsArrayMessages[n]&&(window.webkitNotifications?t.notificationsArrayMessages[n].cancel():t.notificationsArrayMessages[n].close(),delete t.notificationsArrayMessages[n])}))}parseInt(this.chat_id)>0&&this.scheduleSync()},this.notificationsArrayMessages=[],this.showNewMessageNotification=function(e,t,n){try{if(window.Notification&&0==focused&&"granted"==window.Notification.permission){void 0!==this.notificationsArrayMessages[e]&&(this.notificationsArrayMessages[e].close(),delete this.notificationsArrayMessages[e]);var i=new Notification(n,{icon:WWW_DIR_JAVASCRIPT_FILES_NOTIFICATION+"/notification.png",body:t}),s=this;i.onclick=function(){window.focus(),i.close(),delete s.notificationsArrayMessages[e]},i.onclose=function(){void 0!==s.notificationsArrayMessages[e]&&delete s.notificationsArrayMessages[e]},this.notificationsArrayMessages[e]=i,this.scheduleNewMessageClose(i,e)}}catch(e){console.log(e)}},this.scheduleNewMessageClose=function(e,t){var n=this;setTimeout((function(){window.webkitNotifications?e.cancel():e.close(),void 0!==n.notificationsArrayMessages[t]&&delete n.notificationsArrayMessages[t]}),1e4)},this.playSoundNewAction=function(e,t,n,i,s){if(-1==this.backgroundChats.indexOf(parseInt(t))){ee.emitEvent("angularActionHappened",[{type:e,chat_id:t,msg:i,nick:n}]),1!=confLH.new_chat_sound_enabled||1!=confLH.sn_off&&"flash_on"!=$("#online-offline-user").text()||"active_chats"!=e&&"bot_chats"!=e&&"pending_chat"!=e&&"transfer_chat"!=e&&"unread_chat"!=e&&"pending_transfered"!=e||(this.soundPlayedTimes=0,this.playNewChatAudio("active_chats"==e?"alert":"new_chat")),$("textarea[name=ChatMessage]").is(":focus")||1!=confLH.sn_off&&"flash_on"!=$("#online-offline-user").text()||"subject_chats"!=e&&"active_chats"!=e&&"bot_chats"!=e&&"pending_chat"!=e&&"transfer_chat"!=e&&"unread_chat"!=e&&"pending_transfered"!=e||this.startBlinking(),"subject_chats"==e&&(this.soundPlayedTimes=0,this.playNewChatAudio("subject_chat"));var o=this;if(("subject_chats"==e||"active_chats"==e||"pending_chat"==e||"transfer_chat"==e||"unread_chat"==e||"bot_chats"==e||"pending_transfered"==e)&&(1==confLH.sn_off||"flash_on"==$("#online-offline-user").text())&&window.Notification&&"granted"==window.Notification.permission){var r=new Notification(n,{icon:WWW_DIR_JAVASCRIPT_FILES_NOTIFICATION+"/notification.png",body:i,requireInteraction:!0});r.onclick=function(){"subject_chats"==e||"active_chats"==e||"pending_chat"==e||"unread_chat"==e||"pending_transfered"==e||"bot_chats"==e?$("#tabs").length>0?(window.focus(),o.startChat(t,$("#tabs"),s)):o.startChatNewWindow(t,"ChatRequest"):o.startChatNewWindowTransferByTransfer(t,s),r.close()},"pending_transfered"!=e&&("undefined"!==this.notificationsArray[t]&&r.close(),this.notificationsArray[t]=r)}"transfer_chat"==e&&confLH.accept_chats?o.startChatNewWindowTransferByTransfer(t,s,!0):"transfer_chat"==e&&1==confLH.show_alert_transfer&&confirm(confLH.transLation.transfered+"\n\n"+i)&&o.startChatNewWindowTransferByTransfer(t,s),1==confLH.show_alert&&confirm(confLH.transLation.new_chat+"\n\n"+i)&&("pending_chat"==e||"unread_chat"==e||"pending_transfered"==e||"bot_chats"==e?$("#tabs").length>0?(window.focus(),o.startChat(t,$("#tabs"),s)):o.startChatNewWindow(t,"ChatRequest"):o.startChatNewWindowTransferByTransfer(t,s))}},this.syncadmininterfacestatic=function(){try{ee.emitEvent("angularLoadChatList")}catch(e){}},this.addingUserMessage=!1,this.addUserMessageQueue=[],this.addDelayedTimeout=null,this.addmsgadmin=function(e,t){$("#unread-separator-"+e).remove();var n=$("#CSChatMessage-"+e);if(!n.is("[readonly]")){var i={msg:t||n.val()};if(n.attr("meta-msg")&&(i.meta_msg=n.attr("meta-msg"),n.removeAttr("meta-msg")),n.attr("mode-write")&&(i.mode_write=n.attr("mode-write")),""!=i.msg){!1!==this.speechHandler&&this.speechHandler.messageSend(),t||n.val("");var s=n.attr("placeholder");if(n.attr("placeholder",confLH.transLation.sending||"Sending..."),n.hasClass("edit-mode"))i.msgid=n.attr("data-msgid"),$.postJSON(this.wwwDir+"chat/updatemsg/"+e,i,(function(t){if(n.attr("placeholder",s),"f"==t.error)return n.removeClass("edit-mode"),n.removeAttr("data-msgid"),$("#msg-"+i.msgid).replaceWith(t.msg),LHCCallbacks.addmsgadmin&&LHCCallbacks.addmsgadmin(e),ee.emitEvent("chatAddMsgAdmin",[e]),lhinst.addQuateHandler(e),!0}));else{var o=this,r=$("#messagesBlock-"+e);if(t||r.append('<div class="message-row message-admin pending-storage"><div class="msg-body"><span class="material-icons lhc-spin">autorenew</span>'+$("<div>").text(i.msg).html()+"</div></div>"),r.scrollTop(r.prop("scrollHeight")),0==this.addingUserMessage){this.addingUserMessage=!0;var a=!1;n.attr("subjects_ids")&&(i.subjects_ids=n.attr("subjects_ids"),n.removeAttr("subjects_ids"),a=!0),n.attr("canned_id")&&(i.canned_id=n.attr("canned_id"),n.removeAttr("canned_id")),n.attr("whisper")&&(i.whisper=1),$.postJSON(this.wwwDir+this.addmsgurl+e,i,(function(t){if(n.removeAttr("readonly").attr("placeholder",s),"false"==t.error)LHCCallbacks.addmsgadmin&&LHCCallbacks.addmsgadmin(e),ee.emitEvent("chatAddMsgAdmin",[e]),""!=t.r&&$("#messagesBlock-"+e).append(t.r).scrollTop($("#messagesBlock-"+e).prop("scrollHeight")).find(".pending-storage").remove(),!0===t.hold_removed?$("#hold-action-"+e).removeClass("btn-outline-info"):!0===t.hold_added&&$("#hold-action-"+e).addClass("btn-outline-info"),1!=a&&!0!==t.update_status||o.updateVoteStatus(e),lhinst.syncadmincall();else{void 0!==t.token&&(confLH.csrf_token=t.token),n.attr("placeholder",s).val((n.val()+" "+i.msg).trim()),$(".pending-storage").first().remove();var r='<div style="margin:10px 10px 30px 10px;" class="alert alert-warning" role="alert">'+$("<div>").text(t.r).html()+"</div>";$("#messagesBlock-"+e).append(r).scrollTop($("#messagesBlock-"+e).prop("scrollHeight"))}if(o.addingUserMessage=!1,o.addUserMessageQueue.length>0){var l=o.addUserMessageQueue.shift();o.addmsgadmin(l.chat_id,l.msg)}return!0})).fail((function(t){n.attr("placeholder",s).val(n.val()+" "+i.msg);var r='<div style="margin:10px 10px 30px 10px;" class="alert alert-warning" role="alert">'+$("<div>").text("You have weak internet connection or the server has problems. Try to refresh the page or send the message again."+(void 0!==t.status?" Error code ["+t.status+"]":"")+(void 0!==t.responseText?t.responseText:"")).html()+"</div>";if($("#messagesBlock-"+e).append(r).scrollTop($("#messagesBlock-"+e).prop("scrollHeight")),$(".pending-storage").first().remove(),o.addingUserMessage=!1,o.addUserMessageQueue.length>0){var a=o.addUserMessageQueue.shift();o.addmsgadmin(a.chat_id,a.msg)}}))}else n.attr("placeholder",s),this.addUserMessageQueue.push({chat_id:e,msg:i.msg})}}}},this.editPrevious=function(e){var t=$("#CSChatMessage-"+e);""==t.val()&&"true"!==t.attr("disable-edit")&&$.getJSON(this.wwwDir+"chat/editprevious/"+e,(function(n){"f"==n.error&&(t.val(n.msg),t.attr("data-msgid",n.id),t.addClass("edit-mode"),$("#msg-"+n.id).addClass("edit-mode"),LHCCallbacks.editPrevious&&LHCCallbacks.editPrevious(e,n))}))},this.afterAdminChatInit=function(e){LHCCallbacks.afterAdminChatInit&&LHCCallbacks.afterAdminChatInit(e)},this.getInputSelection=function(t){return void 0!==t?(s=t[0].selectionStart,e=t[0].selectionEnd,t.val().substring(s,e)):""},this.handleBBCode=function(e){var t=$(e.attr("data-selector")).val(),n=$(e.attr("data-selector"));if(void 0!==n)var i=n[0].selectionStart,s=n[0].selectionEnd,o=t.substring(i,s);else o="";var r=void 0!==e.attr("data-bbcode-end")?e.attr("data-bbcode-end"):e.attr("data-bbcode");return o.length>0?$(e.attr("data-selector")).val(t.substr(0,i)+"["+e.attr("data-bbcode")+"]"+o+"[/"+r+"]"+t.substring(s)):$(e.attr("data-selector")).val(t+"["+e.attr("data-bbcode")+"][/"+r+"]"),!1},this.addAdminChatFinished=function(e,t,n){var i=this,s=jQuery("#CSChatMessage-"+e);new LHCCannedMessageAutoSuggest({chat_id:e,uppercase_enabled:confLH.auto_uppercase});if(null!==document.getElementById("color-picker-chat-"+e)){var o=new ColorPicker({dom:document.getElementById("color-picker-chat-"+e),value:"#0F0"});o.addEventListener("change",(function(t){$("#color-apply-"+e).attr("data-bbcode","color="+o.getValue("hex"))})),$(".downdown-menu-color-"+e).on("click",(function(e){if($(this).parent().is(".show")){var t=$(e.target);return!t.hasClass("keepopen")&&!t.parents(".keepopen").length}})),$(".downdown-menu-color-"+e+" .color-item").on("click",(function(){o.setValue($(this).attr("data-color"))}))}s.bind("click",(function(t){$(".dropdown-menu-main").removeClass("show").find("> .dropdown-menu").removeClass("show"),$("#CSChatMessage-"+e).focus(),$("#chat-tab-link-"+e).hasClass("active")||($("#chat-tab-link-"+e).click(),new bootstrap.Tab(document.querySelector("#chat-tab-link-"+e)).show())})),$("#dropdown-menu-main-action-"+e).click((function(){$(this).parent().toggleClass("show"),$(this).parent().find("> div.dropdown-menu").toggleClass("show")})),s.bind("keydown","return",(function(t){return i.addmsgadmin(e),ee.emitEvent("afterAdminMessageSent",[e]),s[0].rows=s.attr("data-rows-default"),!1})),s.bind("keyup","up",(function(t){i.editPrevious(e)})),s.bind("keyup",(function(t){if(""==s.val()&&(s.removeAttr("subjects_ids"),s.removeAttr("canned_id"),s.removeAttr("content_modified")),""!=s.val()||!t.altKey||38!=t.which&&40!=t.which){var n=s[0];(38==t.which||8==t.which||46==t.which)&&n.value.split(/\r\n|\r|\n/).length<=n.rows&&parseInt(s.attr("data-rows-default"))<=n.value.split(/\r\n|\r|\n/).length&&(n.rows=n.value.split(/\r\n|\r|\n/).length);for(n.clientHeight,n.rows;n.scrollHeight>n.clientHeight&&!window.opera&&n.rows<30;)n.style.overflow="hidden",n.rows+=1;n.scrollHeight>n.clientHeight&&(n.style.overflow="auto"),""!=s.val()&&s.attr("content_modified",!0)}else if(1==confLH.new_dashboard)ee.emitEvent("activateNextTab",[e,38==t.which]);else{if(38==t.which)var i=lhinst.smartTabFocus($("#tabs"),e,{keep:!0,up:!0});else i=lhinst.smartTabFocus($("#tabs"),e,{keep:!0,up:!1});var o=i.split("chat-id-");o[1]&&!isNaN(o[1])&&($("#chat-tab-link-"+o[1]).click(),new bootstrap.Tab(document.querySelector("#chat-tab-link-"+o[1])).show())}})),$messageBlock=$("#messagesBlock-"+e),$messageBlock.css("height",this.getLocalValue("lhc_mheight",confLH.defaultm_hegiht)),$messageBlock.data("resized",!1),$messageBlock.data("y",$messageBlock.outerHeight()),$messageBlock.bind("mouseup mousemove",(function(e){var t=jQuery(this);t.outerHeight()!=t.data("y")&&(0==t.data("resized")&&(t.css("height","1px"),t.data("resized",!0)),this.resize_timeout&&clearTimeout(this.resize_timeout),this.resize_timeout=setTimeout((function(){i.setLocalValue("lhc_mheight",t.outerHeight()),t.data("y",t.outerHeight())}),100))})),1==confLH.scroll_load&&($messageBlock[0].oldScrollTop=$messageBlock[0].scrollTop,$messageBlock.bind("scroll",(function(t){var n=jQuery(this);n[0].oldScrollTop>n[0].scrollTop&&n[0].scrollTop<300&&1==$("#load-prev-btn-"+e).length&&i.loadPreviousMessages($("#load-prev-btn-"+e),!0),n[0].oldScrollTop=n[0].scrollTop}))),this.initTypingMonitoringAdmin(e),this.afterAdminChatInit(e),this.addSynchroChat(e,t),1!==confLH.no_scroll_bottom&&$messageBlock.prop("scrollTop",$messageBlock.prop("scrollHeight")),this.startSyncAdmin(),null===n||"object"!=typeof n||-1===n.indexOf("background")?this.hideNotification(e):$("#chat-tab-link-"+e).click((function(){i.removeBackgroundChat(parseInt(e)),i.hideNotification(parseInt(e))}));try{localStorage&&1==localStorage.getItem("lhc_rch")&&this.processCollapse(e)}catch(e){}$("#chat-tab-items-"+e+" > li > a").click((function(){ee.emitEvent("adminChatTabSubtabClicked",[e,$(this)])})),$("#chat-write-button-"+e).click((function(){$("#CSChatMessage-"+e).show().focus().removeAttr("whisper").removeClass("bg-light").attr("placeholder",$(this).attr("data-plc")),$(this).removeClass("btn-outline-secondary").addClass("btn-outline-primary"),$("#chat-preview-button-"+e+",#chat-whisper-button-"+e).removeClass("btn-outline-primary").addClass("btn-outline-secondary"),$("#chat-preview-container-"+e).hide(),$("#chat-join-as-container-"+e).removeClass("hide")})),$("#chat-preview-button-"+e).click((function(){$("#chat-preview-container-"+e).html("...").show(),$("#CSChatMessage-"+e).hide(),$(this).removeClass("btn-outline-secondary").addClass("btn-outline-primary"),$("#chat-join-as-container-"+e).addClass("hide"),$("#chat-write-button-"+e+",#chat-whisper-button-"+e).removeClass("btn-outline-primary").addClass("btn-outline-secondary"),jQuery.post(WWW_DIR_JAVASCRIPT+"chat/previewmessage",{msg_body:!0,msg:$("#CSChatMessage-"+e).val()},(function(t){$("#chat-preview-container-"+e).html(t)}))})),$("#chat-whisper-button-"+e).click((function(){$("#CSChatMessage-"+e).show().focus().attr("whisper","1").addClass("bg-light").attr("placeholder",$(this).attr("data-plc")),$("#chat-preview-container-"+e).hide(),$(this).removeClass("btn-outline-secondary").addClass("btn-outline-primary"),$("#chat-write-button-"+e+",#chat-preview-button-"+e).removeClass("btn-outline-primary").addClass("btn-outline-secondary"),$("#chat-join-as-container-"+e).addClass("hide")})),$("#chat-join-as-"+e).click((function(){$("#chat-join-as-container-"+e).addClass("hide mode-chosen"),$("chat-write-button-"+e).attr("data-plc",$("#chat-mode-selected-"+e).find(":selected").attr("data-plc")),$("#CSChatMessage-"+e).attr("placeholder",$("#chat-mode-selected-"+e).find(":selected").attr("data-plc")),$("#CSChatMessage-"+e).attr("mode-write",$("#chat-mode-selected-"+e).val()).focus()})),$("#chat-impersonate-option-"+e).click((function(){$("#chat-write-button-"+e).click(),$("#chat-join-as-container-"+e).removeClass("hide mode-chosen")})),ee.emitEvent("adminChatLoaded",[e,t,n])},this.removeBackgroundChat=function(e){var t=this.backgroundChats.indexOf(parseInt(e));-1!==t&&delete this.backgroundChats[t]},this.getLocalValue=function(e,t){try{if(localStorage){var n=localStorage.getItem(e);return null!==n?n:t}}catch(e){}return t},this.setLocalValue=function(e,t){try{localStorage&&localStorage.setItem(e,t)}catch(e){}},this.hideNotification=function(e){e=parseInt(e),void 0!==this.notificationsArray[e]&&-1==this.backgroundChats.indexOf(e)&&(this.notificationsArray[e].close(),delete this.notificationsArray[e]),clearTimeout(this.soundIsPlaying)},this.showMyPermissions=function(e){$.get(this.wwwDir+"permission/getpermissionsummary/"+e,(function(e){$("#permissions-summary").html(e)}))},this.updateMessageRowAdmin=function(e,t){$.getJSON(this.wwwDir+"chat/getmessageadmin/"+e+"/"+t,(function(n){if("f"==n.error){var i=$("#messagesBlock-"+e),s=i.prop("scrollTop")+i.height()+30>i.prop("scrollHeight");$("#msg-"+t).replaceWith(n.msg),lhinst.addQuateHandler(e),$("#msg-"+t).addClass("msg-updated"),setTimeout((function(){$("#msg-"+t).removeClass("msg-updated")}),2e3),s&&i.scrollTop(i.prop("scrollHeight"))}}))},this.startSyncAdmin=function(){0==this.isSinchronizing&&(this.isSinchronizing=!0,this.syncadmincall())},this.disableChatSoundAdmin=function(e){return"I"!=e.prop("tagName")&&(e=e.find("> i.material-icons")),"volume_off"==e.text()?($.post(this.wwwDir+"user/setsettingajax/chat_message/1"),confLH.new_message_sound_admin_enabled=1,e.text("volume_up")):($.post(this.wwwDir+"user/setsettingajax/chat_message/0"),confLH.new_message_sound_admin_enabled=0,e.text("volume_off")),!1},this.disableNewChatSoundAdmin=function(e){return"I"!=e.prop("tagName")&&(e=e.find("> i.material-icons")),"volume_off"==e.text()?($.post(this.wwwDir+"user/setsettingajax/new_chat_sound/1"),confLH.new_chat_sound_enabled=1,e.text("volume_up")):($.post(this.wwwDir+"user/setsettingajax/new_chat_sound/0"),confLH.new_chat_sound_enabled=0,e.text("volume_off")),!1},this.changeUserSettings=function(e,t){$.post(this.wwwDir+"user/setsettingajax/"+e+"/"+t)},this.changeUserSettingsIndifferent=function(e,t){$.post(this.wwwDir+"user/setsettingajax/"+e+"/"+encodeURIComponent(""==t?"__empty__":t)+"/(indifferent)/true")},this.changeStatusAction=function(e,t){var n=this;return $.postJSON(e.attr("action"),e.serialize(),(function(e){"false"==e.error?($("#myModal").modal("hide"),n.updateVoteStatus(t),!0===e.is_owner&&($("#CSChatMessage-"+t).attr("placeholder",""),$("#CSChatMessage-"+t).focus())):alert(e.result)})),!1},this.submitModalForm=function(e,t){return $("#modal-in-progress").removeClass("hide"),$(".modal-submit-disable").addClass("disabled").attr("disabled","disabled"),$.ajax({url:e.attr("action"),type:e.attr("method"),data:new FormData(e[0]),processData:!1,contentType:!1,success:function(e,n){$("#modal-in-progress").addClass("hide"),$(".modal-submit-disable").removeClass("disabled").attr("disabled","disabled");var i=t?"#"+t:"#myModal";if(!t)var s=$("#myModal > .modal-dialog")[0].style.cssText;$(i).html(e),!t&&$("#myModal > .modal-dialog").length>0?$("#myModal > .modal-dialog")[0].style.cssText=s:$(i).html('<div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-body">'+e+"</div></div></div>")},error:function(e,t,n){alert("An error has accoured! "+e.responseText)}}),!1},this.pendingMessagesToStore=[],this.setSubject=function(e,t){$("#subject-message-"+t).text("..."),$.postJSON(this.wwwDir+"chat/subject/"+t+"/(subject)/"+e.val()+"/(status)/"+e.is(":checked"),{update:!0},(function(e){lhinst.updateVoteStatus(t),$("#subject-message-"+t).text(e.message)}))},this.deleteChatfile=function(e){$.postJSON(this.wwwDir+"file/deletechatfile/"+e,(function(t){"false"==t.error?$("#file-id-"+e).remove():alert(t.result)}))},this.updateChatFiles=function(e){$.postJSON(this.wwwDir+"file/chatfileslist/"+e,(function(t){$("#chat-files-list-"+e).html(t.result)}))},this.updateOnlineFiles=function(e){$.postJSON(this.wwwDir+"file/onlinefileslist/"+e,(function(t){$("#online-user-files-list-"+e).html(t.result)}))},this.updateOnlineFilesUser=function(e){$.postJSON(this.wwwDir+"file/useronlinefileslist/"+e,(function(e){$("#user-online-files-list").html(e.result)}))},this.addFileUpload=function(e){$("#fileupload-"+e.chat_id).fileupload({url:this.wwwDir+"file/uploadfileadmin/"+e.chat_id,dataType:"json",add:function(t,n){var i=[],s=e.ft_op;s.test(n.originalFiles[0].type)||s.test(n.originalFiles[0].name)||i.push(e.ft_msg),n.originalFiles[0].size>e.fs&&i.push(e.fs_msg),i.length>0?alert(i.join("\n")):n.submit()},done:function(t,n){var i=n.response();if(null!=i&&null!=i.result&&"true"==i.result.error&&null!=i.result.error_msg)alert(i.result.error_msg);else{lhinst.updateChatFiles(e.chat_id);var s=$("#CSChatMessage-"+e.chat_id),o=jQuery.trim(s.val());s.val(o+(""!=o?"\n":"")+i.result.msg+"\n")}LHCCallbacks.addFileUpload&&LHCCallbacks.addFileUpload(e.chat_id)},dropZone:$("#CSChatMessage-"+e.chat_id),pasteZone:$("#CSChatMessage-"+e.chat_id),progressall:function(t,n){var i=parseInt(n.loaded/n.total*100,10);$("#user-is-typing-"+e.chat_id).css("visibility","visible"),$("#user-is-typing-"+e.chat_id).html(i+"%")}}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?void 0:"disabled")},this.addExecutionCommand=function(e,t){if($.postJSON(this.wwwDir+"chat/addonlineoperation/"+e,{operation:t},(function(t){LHCCallbacks.addExecutionCommand&&LHCCallbacks.addExecutionCommand(e)})),"lhc_screenshot"==t){$("#user-screenshot-container").html("").addClass("screenshot-pending");var n=this;setTimeout((function(){n.updateScreenshotOnline(e)}),15e3)}},this.addRemoteCommand=function(e,t){if($.postJSON(this.wwwDir+"chat/addoperation/"+e,{operation:t},(function(t){LHCCallbacks.addRemoteCommand&&LHCCallbacks.addRemoteCommand(e),"true"==t.error&&null!=t.errors&&alert(t.errors.join("\n"))})),"lhc_screenshot"==t){$("#user-screenshot-container").html("").addClass("screenshot-pending");var n=this;setTimeout((function(){n.updateScreenshot(e)}),5e3)}},this.addRemoteOnlineCommand=function(e,t){$.postJSON(this.wwwDir+"chat/addonlineoperationiframe/"+e,{operation:t},(function(t){LHCCallbacks.addRemoteOnlineCommand&&LHCCallbacks.addRemoteOnlineCommand(e)}))},this.updateScreenshot=function(e){$("#user-screenshot-container").html("").addClass("screenshot-pending"),$.get(this.wwwDir+"chat/checkscreenshot/"+e,(function(t){$("#user-screenshot-container-"+e).html(t),$("#user-screenshot-container-"+e).removeClass("screenshot-pending")}))},this.updateScreenshotOnline=function(e){$("#user-screenshot-container").html("").addClass("screenshot-pending"),$.get(this.wwwDir+"chat/checkscreenshotonline/"+e,(function(t){$("#user-screenshot-container-"+e).html(t),$("#user-screenshot-container-"+e).removeClass("screenshot-pending")}))},this.delayQueue=[],this.delayed=!1,this.intervalPending=null,this.gmaps_loading=!1,this.queue_render=[],this.showMessageLocation=function(e,t,n){var i={lat:t,lng:n};if(1==this.gmaps_loaded){var s=new google.maps.Map(document.getElementById("msg-location-"+e),{zoom:13,center:i});new google.maps.Marker({position:i,map:s,title:t+","+n})}else if(0==this.gmaps_loading){this.gmaps_loading=!0;var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://maps.googleapis.com/maps/api/js?key="+confLH.gmaps_api_key+"&callback=chatMapLoaded";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(o,r),lhinst.queue_render.push({id:e,lat:t,lon:n})}else lhinst.queue_render.push({id:e,lat:t,lon:n})},this.startChatNewWindow=function(e,t){var n=window.open(this.wwwDir+"chat/single/"+e,"chatwindow-chat-id-"+e,"menubar=1,resizable=1,width=800,height=650");if(null!==n){n.focus();var i=this;setTimeout((function(){i.syncadmininterfacestatic(),history.pushState({},"","#chatlist"),document.location.hash="#chatlist"}),1e3),ee.emitEvent("chatStartOpenWindow",[e])}},this.setCloseWindowOnEvent=function(e){this.closeWindowOnChatCloseDelete=e},this.zoomImage=function(e){lhc.revealModal({url:e.src+"?modal=true"})}}function chatMapLoaded(){if(lhinst.queue_render.length>0){lhinst.gmaps_loaded=!0;var e=lhinst.queue_render.pop(),t={lat:e.lat,lng:e.lon},n=new google.maps.Map(document.getElementById("msg-location-"+e.id),{zoom:13,center:t});new google.maps.Marker({position:t,map:n,title:e.lat+","+e.lon});lhinst.queue_render.length>0&&chatMapLoaded()}}var lhinst=new lh;function preloadSound(){lhinst.playPreloadSound(),jQuery(document).off("click",preloadSound),jQuery(document).off("touchstart",preloadSound)}function gMapsCallback(){lhinst.gmaps_loaded=!0;var e=$("#map_canvas"),t=new google.maps.Map(e[0],{zoom:GeoLocationData.zoom,center:new google.maps.LatLng(GeoLocationData.lat,GeoLocationData.lng),mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,options:{zoomControl:!0,scrollwheel:!0,streetViewControl:!0}}),n=!1,i=!1,s=!1,o=!1;google.maps.event.addListener(t,"idle",a);var r=$("#map-activator");function a(){0==i?r.hasClass("active")?(i=!0,$.ajax({url:WWW_DIR_JAVASCRIPT+"chat/jsononlineusers"+(parseInt($("#id_department_map_id").val())>0?"/(department)/"+parseInt($("#id_department_map_id").val()):"")+(parseInt($("#maxRows").val())>0?"/(maxrows)/"+parseInt($("#maxRows").val()):"")+(parseInt($("#userTimeout").val())>0?"/(timeout)/"+parseInt($("#userTimeout").val()):""),dataType:"json",error:function(){clearTimeout(o),o=setTimeout((function(){a()}),1e4)},success:function(e){$(e.result).each((function(e,n){if(-1==$.inArray(n.Id,l)){var i=new google.maps.LatLng(n.Latitude,n.Longitude),s=new google.maps.Marker({position:i,icon:n.icon,map:t});google.maps.event.addListener(s,"click",(function(){lhc.revealModal({url:WWW_DIR_JAVASCRIPT+"chat/getonlineuserinfo/"+n.Id})})),s.setVisible(!0),s.setAnimation(google.maps.Animation.DROP),c[n.Id]=s,l.push(n.Id),clearTimeout(c[n.Id].timeOutMarker),c[n.Id].timeOutMarker=setTimeout((function(){l.splice($.inArray(n.Id,l),1),google.maps.event.clearInstanceListeners(c[n.Id]),c[n.Id].setMap(null),c[n.Id]=null}),1e3*parseInt($("#markerTimeout option:selected").val()))}else c[n.Id].setIcon(n.icon),clearTimeout(c[n.Id].timeOutMarker),c[n.Id].timeOutMarker=setTimeout((function(){l.splice($.inArray(n.Id,l),1),google.maps.event.clearInstanceListeners(c[n.Id]),c[n.Id].setMap(null),c[n.Id]=null}),1e3*parseInt($("#markerTimeout option:selected").val()))})),i=!1,clearTimeout(o),1==s?(s=!1,a()):o=setTimeout((function(){a()}),1e4)}})):o=setTimeout((function(){a()}),1e4):s=!0}var l=[],c=[];new google.maps.InfoWindow({content:"Loading..."});$("#id_department_map_id").change((function(){a(),lhinst.changeUserSettingsIndifferent("omap_depid",$(this).val())})),$("#markerTimeout").change((function(){a(),lhinst.changeUserSettingsIndifferent("omap_mtimeout",$(this).val())})),$("#map-activator").click((function(){setTimeout((function(){google.maps.event.trigger(t,"resize"),0==n&&(n=!0,t.setCenter(new google.maps.LatLng(GeoLocationData.lat,GeoLocationData.lng)))}),500),a()}))}lhinst.playPreloadSound(),jQuery(document).on("click",preloadSound),jQuery(document).on("touchstart",preloadSound),jQuery(document).on("click",(function(){lhinst.hidePopover()}));var focused=!0;function chatsyncadmin(){lhinst.syncadmincall()}window.onfocus=window.onblur=function(e){focused="focus"===(e||event).type,lhinst.focusChanged(focused)},window.lhcSelector=null,$(document).ready((function(){lhinst.protectCSFR()}))}catch(e){if(!lhcError)throw Error("lhc : "+e.message);lhcError.log(e.message,"lh.js",e.lineNumber||e.line,e.stack)}function chatsyncuser(){lhinst.syncusercall()}function chatsyncuserpending(){lhinst.chatsyncuserpending()}lhinst.addmsgurluser="chat/addmsguser/",lhinst.addmsgurluserchatbox="chatbox/addmsguser/",lhinst.syncuser="chat/syncuser/",lhinst.userclosechaturl="chat/userclosechat/",lhinst.checkchatstatus="chat/checkchatstatus/",lhinst.checkChatStatusTimeout=null,lhinst.addmsguserchatbox=function(e){var t=!1,n={msg:$("#CSChatMessage").val(),nick:$("#CSChatNick").val()},i=1==this.isWidgetMode?"/(mode)/widget":"";$("#CSChatMessage").val("");var s=this;$.postJSON(this.wwwDir+this.addmsgurluserchatbox+this.chat_id+"/"+this.hash+i+this.appendSyncArgument,n,(function(e){"f"==e.error?(LHCCallbacks.addmsguserchatbox&&LHCCallbacks.addmsguserchatbox(s,{chat_id:s.chat_id,data:e}),s.syncusercall()):alert(e.or)})),t!=$("#CSChatNick").val()&&window.postMessage&&parent&&(parent.postMessage("lhc_chb:nick:"+$("#CSChatNick").val(),"*"),t=$("#CSChatNick").val())},lhinst.updateMessageRow=function(e){var t=1==this.isWidgetMode?"/(mode)/widget":"";$.getJSON(this.wwwDir+"chat/getmessage/"+this.chat_id+"/"+this.hash+"/"+e+t,(function(t){"f"==t.error&&($("#msg-"+e).replaceWith(t.msg),$("#msg-"+e).addClass("bg-success"),setTimeout((function(){$("#msg-"+e).removeClass("bg-success")}),2e3))}))},lhinst.addmsguser=function(e){LHCCallbacks.addmsguserbefore&&LHCCallbacks.addmsguserbefore(this);var t=$("#CSChatMessage"),n={msg:t.val()},i=1==this.isWidgetMode?"/(mode)/widget":"";t.val("");var s=this;$("#lhc-mic-icon").length>0&&($("#lhc-send-icon").hide(),$("#lhc-mic-icon").show(),$("#voice-control-message").hide());try{ee.emitEvent("messageSend",[{chat_id:this.chat_id,hash:this.hash,msg:n.msg}]),sessionStorage&&sessionStorage.setItem("lhc_ttxt","")}catch(e){}if(t.hasClass("edit-mode"))n.msgid=t.attr("data-msgid"),$.postJSON(this.wwwDir+"chat/updatemsguser/"+this.chat_id+"/"+this.hash+i,n,(function(e){if("f"==e.error)return t.removeClass("edit-mode"),t.removeAttr("data-msgid"),$("#msg-"+n.msgid).replaceWith(e.msg),!0}));else{var o=$("#messagesBlock");o.append('<div class="message-row response pending-storage"><div class="msg-body">'+$("<div>").text(n.msg).html()+"</div></div>"),o.scrollTop(o.prop("scrollHeight")),0==this.addingUserMessage&&0==this.addUserMessageQueue.length?(this.addingUserMessage=!0,$.postJSON(this.wwwDir+this.addmsgurluser+this.chat_id+"/"+this.hash+i,n,(function(e){if("f"==e.error)LHCCallbacks.addmsguser&&LHCCallbacks.addmsguser(s,e),s.syncusercall();else{$(".pending-storage").remove(),$("#CSChatMessage").val(n.msg);var t=$("#id-operator-typing");t.html(e.r),t.css("visibility","visible"),setTimeout((function(){0==s.operatorTyping&&$("#id-operator-typing").css("visibility","hidden")}),3e3)}s.addingUserMessage=!1})).fail((function(e){$("#CSChatMessage").val(t.val()+" "+n.msg);var i=$("#id-operator-typing");i.html("You have weak internet connection or the server has problems. Try to send the message again."),i.css("visibility","visible"),setTimeout((function(){0==s.operatorTyping&&$("#id-operator-typing").html("").css("visibility","hidden")}),5e3),$(".pending-storage").remove(),s.addingUserMessage=!1,s.addUserMessageQueue.length>0&&s.addDelayedMessage()}))):(this.addUserMessageQueue.push({retries:0,pdata:n,url:this.wwwDir+this.addmsgurluser+this.chat_id+"/"+this.hash+i}),clearTimeout(this.addDelayedTimeout),this.addDelayedTimeout=setTimeout((function(){s.addDelayedMessage()}),50))}},lhinst.addMessagesToStore=function(e){for(var t=1==this.isWidgetMode?"/(mode)/widget":"",n=e.length,i=0;i<n;i++)this.addUserMessageQueue.push({retries:0,pdata:{msg:e[i]},url:this.wwwDir+this.addmsgurluser+this.chat_id+"/"+this.hash+t});this.addDelayedMessage()},lhinst.addDelayedMessage=function(){var e=this;if(0==this.addingUserMessage){if(this.addUserMessageQueue.length>0){var t=this.addUserMessageQueue.shift();this.addingUserMessage=!0;var n=[];n.push(t.pdata.msg);for(var i=this.addUserMessageQueue.length,s=0;s<i;s++)n.push(this.addUserMessageQueue[s].pdata.msg);this.addUserMessageQueue=[],$.postJSON(t.url,{msg:n.join("[[msgitm]]")},(function(t){"f"==t.error&&(LHCCallbacks.addmsguser&&LHCCallbacks.addmsguser(e,t),e.syncusercall()),e.addingUserMessage=!1,e.addUserMessageQueue.length>0&&(clearTimeout(e.addDelayedTimeout),e.addDelayedMessage())})).fail((function(){e.addingUserMessage=!1}))}}else clearTimeout(this.addDelayedTimeout),this.addDelayedTimeout=setTimeout((function(){e.addDelayedMessage()}),50)},lhinst.switchToOfflineForm=function(){var e=$("#form-start-chat");return e.attr("action",$("#form-start-chat").attr("action")+"/(switchform)/true/(offline)/true/(leaveamessage)/true/(department)/"+$("#id_DepartamentID").val()),e.submit(),!1},lhinst.disableChatSoundUser=function(e){return"volume_off"==e.find("> i").text()?(confLH.new_message_sound_user_enabled=1,e.find("> i").text("volume_up")):(confLH.new_message_sound_user_enabled=0,e.find("> i").text("volume_off")),window.postMessage&&parent&&("volume_off"==e.find("> i").text()?parent.postMessage("lhc_ch:s:0","*"):parent.postMessage("lhc_ch:s:1","*")),!1},lhinst.prestartChat=function(e,t){if(0==t.find(".form-protected").length)return 1!=t.attr("lhc-captcha-submitted")?(t.attr("lhc-captcha-submitted",1),t.find('input[type="submit"]').attr("disabled","disabled"),$.getJSON(this.wwwDir+"captcha/captchastring/form/"+e,(function(n){t.append('<input type="hidden" value="'+e+'" name="captcha_'+n.result+'" /><input type="hidden" value="'+e+'" name="tscaptcha" /><input type="hidden" class="form-protected" value="1" />'),t.submit()})),1==(n=1==t.attr("key-up-started"))&&(jQuery("<div/>",{class:"message-row response",text:$("#id_Question").val()}).appendTo("#messagesBlock").prepend('<span class="usr-tit vis-tit">'+visitorTitle+"</span>"),$("#messagesBlock").scrollTop($("#messagesBlock").prop("scrollHeight")),this.pendingMessagesToStore.push($("#id_Question").val()),$("#id_Question").val(""))):($("#messagesBlock").length>0&&(jQuery("<div/>",{class:"message-row response",text:$("#id_Question").val()}).appendTo("#messagesBlock").prepend('<span class="usr-tit vis-tit">'+visitorTitle+"</span>"),$("#messagesBlock").scrollTop($("#messagesBlock").prop("scrollHeight"))),this.pendingMessagesToStore.push($("#id_Question").val()),$("#id_Question").val("")),!1;if(1==t.find("#hasFormExtraField").length)return!0;if(1!=t.attr("lhc-form-submitted")){t.attr("lhc-form-submitted",1);var n,i=this;1==(n=1==t.attr("key-up-started"))&&t.append('<input type="hidden" value="1" name="keyUpStarted" />'),$.post(t.attr("action"),t.serialize(),(function(e){var t=$("#id_Question").val();try{sessionStorage&&sessionStorage.setItem("lhc_ttxt",t)}catch(e){}$("head > script");var n=$("head"),s=[];$("head > script").each((function(){var e=$(this);void 0!==e.attr("src")&&s.push(e.attr("src"))})),$("<div>").html(e).find("> script").each((function(){var e=$(this);void 0===e.attr("src")?n.append(e):-1==s.indexOf(e.attr("src"))&&n.append('<script src="'+e.attr("src")+'"><\/script>')})),paramsDocument="<script>lhinst.addMessagesToStore("+JSON.stringify(i.pendingMessagesToStore)+")<\/script>",$("#widget-layout").html($("<div>").html(e).find("#widget-layout").html()),$("#widget-layout-js").html($("<div>").html(e).find("#widget-layout-js").html()+paramsDocument)})),0==n&&$("#id_Question").val("")}else $("#messagesBlock").length>0&&(jQuery("<div/>",{class:"message-row response",text:$("#id_Question").val()}).appendTo("#messagesBlock").prepend('<span class="usr-tit vis-tit">'+visitorTitle+"</span>"),$("#messagesBlock").scrollTop($("#messagesBlock").prop("scrollHeight"))),this.pendingMessagesToStore.push($("#id_Question").val()),$("#id_Question").val("");return!1},lhinst.addCaptcha=function(e,t){return 0!=t.find(".form-protected").length||(t.find('input[type="submit"]').attr("disabled","disabled"),$.getJSON(this.wwwDir+"captcha/captchastring/form/"+e,(function(n){t.append('<input type="hidden" value="'+e+'" name="captcha_'+n.result+'" /><input type="hidden" value="'+e+'" name="tscaptcha" /><input type="hidden" class="form-protected" value="1" />'),t.submit()})),!1)},lhinst.addCaptchaSubmit=function(e,t){return 0==t.find(".form-protected").length&&(t.find('input[type="submit"]').attr("disabled","disabled"),t.find("#ChatSendButtonContainer").remove(),t.find("#id_Question").attr("readonly","readonly"),"undefined"!=typeof formSubmitted&&(formSubmitted=!0),$.getJSON(this.wwwDir+"captcha/captchastring/form/"+e,(function(n){if(t.append('<input type="hidden" value="'+e+'" name="captcha_'+n.result+'" /><input type="hidden" value="'+e+'" name="tscaptcha" /><input type="hidden" class="form-protected" value="1" />'),window.FormData)try{var i=new FormData(t[0]),s=new XMLHttpRequest;s.addEventListener("readystatechange",(function(e){var t,n;try{n=e.target.readyState,e.target.responseText,t=e.target.status}catch(e){return}4==n&&"200"==t&&e.target.responseText&&(-1==s.getResponseHeader("Content-Type").indexOf("application/json")?$("#widget-content-body").html(e.target.responseText):location.replace(jQuery.parseJSON(e.target.responseText).location))}),!1);var o=t.attr("action");""!=o?s.open("POST",o+"/(ajaxmode)/true",!0):s.open("POST",document.location+"&ajaxmode=true",!0),s.send(i)}catch(e){return!1}else t.submit()})),!1)},lhinst.addFileUserUploadOnline=function(e,t){var n=this;$("#fileuploadonline").fileupload({url:this.wwwDir+"file/uploadfileonline/"+e.online_user_vid,dataType:"json",add:function(t,n){var i=[],s=e.ft_us;s.test(n.originalFiles[0].type)||s.test(n.originalFiles[0].name)||i.push(e.ft_msg),n.originalFiles[0].size>e.fs&&i.push(e.fs_msg),i.length>0?alert(i.join("\n")):n.submit()},done:function(i,s){n.updateOnlineFilesUser(e.online_user_vid),t&&t(e.online_user_vid)},progressall:function(e,t){var n=parseInt(t.loaded/t.total*100,10);$("#upload-status-user-online").html(n+"%")}}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?void 0:"disabled")},lhinst.addFileUploadOnlineUser=function(e,t){var n=this;$("#fileupload-online-user-"+e.online_user_id).fileupload({url:this.wwwDir+"file/uploadfileadminonlineuser/"+e.online_user_id,dataType:"json",add:function(t,n){var i=[],s=e.ft_op;s.test(n.originalFiles[0].type)||s.test(n.originalFiles[0].name)||i.push(e.ft_msg),n.originalFiles[0].size>e.fs&&i.push(e.fs_msg),i.length>0?alert(i.join("\n")):n.submit()},done:function(i,s){t&&t(e.online_user_id),n.updateOnlineFiles(e.online_user_id)},dropZone:$("#drop-zone-online-user-"+e.online_user_id),progressall:function(t,n){var i=parseInt(n.loaded/n.total*100,10);$("#upload-status-admin-"+e.online_user_id).html(i+"%")}}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?void 0:"disabled")},lhinst.eNick=function(){lhc.revealModal({url:WWW_DIR_JAVASCRIPT+"chat/editnick/"+this.chat_id+"/"+this.hash})},lhinst.enableVisitorEditor=function(){$("#ChatMessageContainer").removeClass("hide"),$("#CSChatMessage").focus()},lhinst.disableVisitorEditor=function(){$("#ChatMessageContainer").addClass("hide")},lhinst.buttonClicked=function(e,t,n,i){null==n.attr("data-no-change")&&(n.attr("disabled","disabled"),n.prepend('<i class="material-icons lhc-spin">loop</i>'));var s=$("#messagesBlock"),o=s.prop("scrollHeight");s.scrollTop(o),this.syncroRequestSend=!0,clearTimeout(this.userTimeout),$.get(this.wwwDir+"genericbot/buttonclicked/"+this.chat_id+"/"+this.hash,{payload:e,id:t,processed:void 0===i||0==i},(function(e){void 0!==i&&!1!==i||$(".meta-message-"+t).remove();var n=s.prop("scrollHeight");s.scrollTop(n),lhinst.forceBottomScroll=!0,lhinst.syncroRequestSend=!1,lhinst.enableVisitorEditor(),lhinst.syncusercall()})).fail((function(){lhinst.syncroRequestSend=!1,lhinst.enableVisitorEditor(),lhinst.syncusercall()})),lhinst.focusUserText()},lhinst.editGenericStep=function(e,t){var n=$("#messagesBlock"),i=n.prop("scrollHeight");n.scrollTop(i),this.syncroRequestSend=!0,clearTimeout(this.userTimeout),$.get(this.wwwDir+"genericbot/buttonclicked/"+this.chat_id+"/"+this.hash+"/(type)/editgenericstep",{payload:e,id:t},(function(e){var t=n.prop("scrollHeight");n.scrollTop(t),lhinst.forceBottomScroll=!0,lhinst.syncroRequestSend=!1,lhinst.enableVisitorEditor(),lhinst.syncusercall()})).fail((function(){lhinst.syncroRequestSend=!1,lhinst.enableVisitorEditor(),lhinst.syncusercall()})),lhinst.focusUserText()},lhinst.updateTriggerClicked=function(e,t,n,i){null==n.attr("data-no-change")&&(n.attr("disabled","disabled"),n.prepend('<i class="material-icons lhc-spin">loop</i>'));var s=$("#messagesBlock"),o=s.prop("scrollHeight");s.scrollTop(o),this.syncroRequestSend=!0,clearTimeout(this.userTimeout),$.get(this.wwwDir+"genericbot/buttonclicked/"+this.chat_id+"/"+this.hash+"/(type)/triggerclicked",{payload:e,id:t,processed:void 0===i||0==i},(function(e){void 0!==i&&!1!==i||$(".meta-message-"+t).remove();var n=s.prop("scrollHeight");s.scrollTop(n),lhinst.forceBottomScroll=!0,lhinst.syncroRequestSend=!1,lhinst.enableVisitorEditor(),lhinst.syncusercall()})).fail((function(){lhinst.syncroRequestSend=!1,lhinst.enableVisitorEditor(),lhinst.syncusercall()})),lhinst.focusUserText()},lhinst.updateChatClicked=function(e,t,n,i){null==n.attr("data-no-change")&&(n.attr("disabled","disabled"),n.prepend('<i class="material-icons lhc-spin">loop</i>'));var s=$("#messagesBlock"),o=s.prop("scrollHeight");s.scrollTop(o),lhinst.syncroRequestSend=!0,clearTimeout(this.userTimeout),$.get(this.wwwDir+"genericbot/updatebuttonclicked/"+this.chat_id+"/"+this.hash,{payload:e,id:t,processed:void 0===i||0==i},(function(e){void 0!==i&&!1!==i||$(".meta-message-"+t).remove();var n=s.prop("scrollHeight");s.scrollTop(n),lhinst.forceBottomScroll=!0,lhinst.syncroRequestSend=!1,lhinst.enableVisitorEditor(),lhinst.syncusercall()})).fail((function(){lhinst.syncroRequestSend=!1,lhinst.enableVisitorEditor(),lhinst.syncusercall()})),lhinst.focusUserText()},lhinst.dropdownClicked=function(e,t){null==t.attr("data-no-change")&&(t.attr("disabled","disabled"),t.prepend('<i class="material-icons lhc-spin">loop</i>'));var n=$("#messagesBlock"),i=n.prop("scrollHeight");n.scrollTop(i),""!=$("#generic_list-"+e).val()?(this.syncroRequestSend=!0,clearTimeout(this.userTimeout),$.get(this.wwwDir+"genericbot/buttonclicked/"+this.chat_id+"/"+this.hash+"/(type)/valueclicked",{payload:$("#id_generic_list-"+e).val(),id:e},(function(t){$(".meta-message-"+e).remove();var i=n.prop("scrollHeight");n.scrollTop(i),lhinst.forceBottomScroll=!0,lhinst.syncroRequestSend=!1,lhinst.enableVisitorEditor(),lhinst.syncusercall()})).fail((function(){lhinst.syncroRequestSend=!1,lhinst.enableVisitorEditor(),lhinst.syncusercall()})),lhinst.focusUserText()):alert("Please choose!")},lhinst.focusUserText=function(){$("#CSChatMessage").focus()},lhinst.unhideDelayed=function(e){var t=$("#messagesBlock > #msg-"+e);t.nextUntil(".meta-hider").removeClass("hide"),t.remove();var n=$("#messagesBlock"),i=n.prop("scrollHeight");if(n.find(".meta-auto-hide").hide(),n.find(".message-row").last().find(".meta-auto-hide").show(),i=n.prop("scrollHeight"),n.find(".pending-storage").remove(),n.scrollTop(i+2e3),this.delayQueue.length>0){var s=lhinst.delayQueue.pop();setTimeout((function(){lhinst.unhideDelayed(s.id)}),1e3*s.delay),$("#msg-"+s.id).removeClass("hide"),$("#msg-"+s.id+" .msg-body").removeClass("hide")}else lhinst.delayed=!1},lhinst.chatsyncuserpending=function(){var e=1==this.isWidgetMode?"/(mode)/widget":"",t=null!==this.theme?"/(theme)/"+this.theme:"";clearTimeout(this.checkChatStatusTimeout);var n=this;$.getJSON(this.wwwDir+this.checkchatstatus+this.chat_id+"/"+this.hash+e+t,{},(function(e){ee.emitEvent("checkChatStatus",[n.chat_id,e]),n.chatStatus=e.status,"false"==e.error&&("false"==e.activated?("false"!=e.result&&$("#status-chat").html(e.result),""!=e.ru&&document.location.replace(e.ru),n.checkChatStatusTimeout=setTimeout(chatsyncuserpending,confLH.chat_message_sinterval)):($("#status-chat").html(e.result),e.closed&&1==e.closed&&(ee.emitEvent("chatClosedCheckStatus",[n.chat_id]),n.isWidgetMode&&"undefined"!=typeof parent&&window.location!==window.parent.location?parent.postMessage("lhc_chat_closed","*"):n.chatClosed())))})).fail((function(){setTimeout(chatsyncuserpending,confLH.chat_message_sinterval)}))},lhinst.setTheme=function(e){this.theme=e},lhinst.setSurvey=function(e){this.survey=e},lhinst.voteAction=function(e){var t=this.chat_id;$.postJSON(this.wwwDir+"chat/voteaction/"+this.chat_id+"/"+this.hash+"/"+e.attr("data-id"),{},(function(e){"false"==e.error&&(LHCCallbacks.uservoted&&LHCCallbacks.uservoted(t),0==e.status?($(".up-vote-action").removeClass("up-voted"),$(".down-vote-action").removeClass("down-voted")):1==e.status?($(".up-vote-action").addClass("up-voted"),$(".down-vote-action").removeClass("down-voted")):2==e.status&&($(".up-vote-action").removeClass("up-voted"),$(".down-vote-action").addClass("down-voted")))}))},lhinst.sendemail=function(){$.postJSON(this.wwwDir+"chat/sendchat/"+this.chat_id+"/"+this.hash,{csfr_token:confLH.csrf_token,email:$('input[name="UserEmail"]').val()},(function(e){"false"==e.error?$("#myModal").modal("hide"):($("#user-action .alert-box").remove(),$("#user-action").prepend(e.result))}))},lhinst.closeWindow=function(){null!==this.survey&&0==this.surveyShowed?(this.surveyShowed=!0,this.chatClosed()):(window.open("","_self",""),window.close(),parent.postMessage("lhc_chat_closed_explicit","*"))},lhinst.setLastUserMessageID=function(e){this.last_message_id=e},lhinst.setChatID=function(e){this.chat_id=e},lhinst.setCloseWindowOnEvent=function(e){this.closeWindowOnChatCloseDelete=e},lhinst.setWidgetMode=function(e){this.isWidgetMode=e},lhinst.setEmbedMode=function(e){this.isEmbedMode=e},lhinst.setSyncUserURL=function(e){this.syncuser=e},lhinst.editPreviousUser=function(){var e=$("#CSChatMessage");""==e.val()&&$.getJSON(this.wwwDir+"chat/editprevioususer/"+this.chat_id+"/"+this.hash,(function(t){"f"==t.error&&(e.val(t.msg),e.attr("data-msgid",t.id),e.addClass("edit-mode"),$("#msg-"+t.id).addClass("edit-mode"),LHCCallbacks.editPreviousUser&&LHCCallbacks.editPreviousUser(t))}))},lhinst.addFileUserUpload=function(e){$("#fileupload").fileupload({url:this.wwwDir+"file/uploadfile/"+e.chat_id+"/"+e.hash,dataType:"json",add:function(t,n){var i=[],s=e.ft_us;s.test(n.originalFiles[0].type)||s.test(n.originalFiles[0].name)||i.push(e.ft_msg),n.originalFiles[0].size>e.fs&&i.push(e.fs_msg),i.length>0?alert(i.join("\n")):n.submit()},done:function(t,n){var i=n.response();null!=i&&null!=i.result&&"true"==i.result.error&&null!=i.result.error_msg&&alert(i.result.error_msg),LHCCallbacks.addFileUserUpload&&LHCCallbacks.addFileUserUpload(e.chat_id)},progressall:function(e,t){var n=parseInt(t.loaded/t.total*100,10);$("#id-operator-typing").css("visibility","visible"),$("#id-operator-typing").html(n+"%")}}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?void 0:"disabled")},lhinst.setChatHash=function(e){this.hash=e},lhinst.updateUserSyncInterface=function(e,t){try{if("false"==t.error)if("true"!=t.blocked){if("false"!=t.result&&"true"==t.status){var n=$("#messagesBlock"),i=n.prop("scrollHeight"),s=Math.abs(i-n.prop("scrollTop")-n.prop("clientHeight"));i=n.prop("scrollHeight"),n.find(".pending-storage").remove(),n.append(t.result),n.find(".meta-auto-hide").hide(),n.find(".message-row").last().find(".meta-auto-hide").show(),(s<20||1==e.forceBottomScroll)&&(e.forceBottomScroll=!1,n.scrollTop(i+2e3)),1==confLH.new_message_sound_user_enabled&&"false"==t.uw&&e.playNewMessageSound(),e.last_message_id>0&&($("#msg-"+e.last_message_id).attr("data-op-id")==t.msop&&$("#msg-"+e.last_message_id+" > .usr-tit").text()===$("#msg-"+t.message_id+" > .usr-tit").text()||$("#msg-"+e.last_message_id).next().addClass("operator-changes")),e.last_message_id=t.message_id,"false"==t.uw&&e.isWidgetMode&&"undefined"!=typeof parent&&parent.postMessage("lhc_newopmsg","*")}else"true"!=t.status&&$("#status-chat").html(t.status);if(e.userTimeout=setTimeout(chatsyncuser,confLH.chat_message_sinterval),"t"==t.cs&&e.chatsyncuserpending(),""!=t.ott&&"f"!=t.ott){var o=$("#id-operator-typing");o.text(t.ott),o.css("visibility","visible"),e.operatorTyping=!0}else"f"==t.ott&&(e.operatorTyping=!1,$("#id-operator-typing").css("visibility","hidden"));""!=t.op&&e.executeRemoteCommands(t.op)}else $("#status-chat").html(t.status),$("#ChatMessageContainer").remove(),$("#ChatSendButtonContainer").remove(),$("#id-operator-typing").css("visibility","hidden"),e.operatorTyping=!1,void 0!==t.op&&""!=t.op&&e.executeRemoteCommands(t.op),t.closed&&1==t.closed&&(ee.emitEvent("chatClosedSyncUser",[e.chat_id]),e.isWidgetMode&&"undefined"!=typeof parent&&window.location!==window.parent.location?parent.postMessage("lhc_chat_closed"+(void 0!==t.closed_arg?":"+t.closed_arg:""),"*"):(void 0!==t.closed_arg&&e.parseCloseArgs(t.closed_arg.split(":")),e.chatClosed()))}catch(t){e.userTimeout=setTimeout(chatsyncuser,confLH.chat_message_sinterval)}e.syncroRequestSend=!1},lhinst.parseCloseArgs=function(e){var t=e.length/2;for(i=0;i<t;i++){var n=e[2*i],s=e[2*i+1];"survey_id"==n&&(this.survey=s)}},lhinst.chatClosed=function(){if(null!==this.survey){var e=1==this.isWidgetMode?"/(mode)/widget":"",t=1==this.operatorTyping?"/(ot)/t":"",n=null!==this.theme?"/(theme)/"+this.theme:"",i=1==this.isEmbedMode?"/(modeembed)/embed":"",s=1==this.isWidgetMode?"fillwidget":"fill",o=1==this.explicitClose?"/(eclose)/t":"";return document.location.replace(this.wwwDir+"survey/"+s+"/(survey)/"+this.survey+"/(chatid)/"+this.chat_id+"/(hash)/"+this.hash+e+t+n+i+o),!0}return!1},lhinst.syncusercall=function(){var e=this;if(0==this.syncroRequestSend){clearTimeout(this.userTimeout),this.syncroRequestSend=!0;var t=1==this.isWidgetMode?"/(mode)/widget":"",n=1==this.operatorTyping?"/(ot)/t":"",i=null!==this.theme?"/(theme)/"+this.theme:"",s=1==this.isEmbedMode?"/(modeembed)/embed":"";$.getJSON(this.wwwDir+this.syncuser+this.chat_id+"/"+this.last_message_id+"/"+this.hash+t+n+i+s,{},(function(t){e.updateUserSyncInterface(e,t),LHCCallbacks.syncusercall&&LHCCallbacks.syncusercall(e,t),ee.emitEvent("syncUserCall",[e,t])})).fail((function(){e.syncroRequestSend=!1,e.userTimeout=setTimeout(chatsyncuser,confLH.chat_message_sinterval)}))}},lhinst.scheduleSync=function(){this.syncroRequestSend=!1,clearTimeout(this.userTimeout),this.userTimeout=setTimeout(chatsyncuser,confLH.chat_message_sinterval)},lhinst.executeRemoteCommands=function(operations){var inst=this;$.each(operations,(function(i,item){if(-1!=item.indexOf("lhinst."))try{eval(item)}catch(e){console.log(e)}else if(-1!=item.indexOf("lhc_ui_refresh")){var option=item.split(":")[1];1==option?lhinst.enableFileUpload():lhinst.disableFileUpload()}else inst.isWidgetMode?parent.postMessage(item,"*"):window.opener&&window.opener.postMessage(item,"*")}))},lhinst.disableFileUpload=function(){$("#fileupload").fileupload("destroy"),$("#ChatMessageContainer .dropdown-menu .flex-row .file-uploader").remove()},lhinst.startChatNewWindow=function(e,t){var n=window.open(this.wwwDir+"chat/single/"+e,"chatwindow-chat-id-"+e,"menubar=1,resizable=1,width=800,height=650");if(null!==n){n.focus();var i=this;setTimeout((function(){i.syncadmininterfacestatic()}),1e3),ee.emitEvent("chatStartOpenWindow",[e])}},lhinst.userclosedchat=function(){LHCCallbacks.userleftchatNotification&&LHCCallbacks.userleftchatNotification(this.chat_id),$.ajax({type:"GET",url:this.wwwDir+this.userclosechaturl+this.chat_id+"/"+this.hash,cache:!1})},lhinst.userclosedchatembed=function(){window.postMessage&&"undefined"!=typeof parent&&window.location!==window.parent.location?parent.postMessage("lhc_chat_closed_explicit","*"):0==this.chatClosed()&&window.close()},lhinst.continueChatFromSurvey=function(e){return this.isWidgetMode&&"undefined"!=typeof parent&&window.location!==window.parent.location?$.postJSON(this.wwwDir+"survey/backtochat/"+this.chat_id+"/"+this.hash+"/"+e,(function(e){e.closed?lhinst.userclosedchatembed():parent.postMessage("lhc_continue_chat","*")})):this.chatClosed(),!1},lhinst.explicitChatCloseByUser=function(){return this.explicitClose=!0,ee.emitEvent("endedChat",[]),this.isWidgetMode&&"undefined"!=typeof parent&&window.location!==window.parent.location?parent.postMessage("lhc_chat_closed_explicit","*"):0==this.chatClosed()&&window.close(),!1},lhinst.restoreWidget=function(e){window.postMessage&&window.opener&&(window.opener.postMessage("lhc_ch:hash:"+e,"*"),window.opener.postMessage("lhc_ch:hash_resume:"+e,"*"),window.opener.postMessage("lhc_open_restore","*"),window.close())},lhinst.userclosedchatandbrowser=function(){LHCCallbacks.userleftchatNotification&&LHCCallbacks.userleftchatNotification(this.chat_id),$.get(this.wwwDir+this.userclosechaturl+this.chat_id+"/"+this.hash+"/(eclose)/t",(function(e){lhinst.closeWindow()}))},lhinst.afterUserChatInit=function(){LHCCallbacks.afterUserChatInit&&LHCCallbacks.afterUserChatInit()},lhinst.sendHTML=function(e,t){"undefined"!=typeof parent&&window.location!==window.parent.location&&parent.postMessage("lhc_html_snippet:"+e+":"+t.type+"_"+t.id,"*")},lhinst.setDelay=function(e){var t=e.id,n=e.duration,i=e.delay,s=e.untill_message;i>0&&$("#msg-"+t).addClass("hide"),1==s&&$("#msg-"+t).nextUntil("message-admin").length>0||setTimeout((function(){if(0==lhinst.delayed){if(1==s)clearInterval(lhinst.intervalPending),lhinst.intervalPending=setInterval((function(){if($("#msg-"+t).nextUntil("message-admin").length>0)lhinst.unhideDelayed(t),$("#messagesBlock > #msg-"+t).remove(),clearInterval(lhinst.intervalPending);else if(!$("#msg-"+t).hasClass("meta-hider")){$("#msg-"+t).addClass("meta-hider message-row-typing"),$("#msg-"+t).removeClass("hide"),$("#msg-"+t+" .msg-body").removeClass("hide");var e=$("#messagesBlock"),n=e.prop("scrollHeight");e.find(".meta-auto-hide").hide(),e.find(".message-row").last().find(".meta-auto-hide").show(),n=e.prop("scrollHeight"),e.find(".pending-storage").remove(),e.scrollTop(n+2e3)}}),500);else if(lhinst.delayed=!0,$("#msg-"+t).addClass("meta-hider message-row-typing").nextUntil("meta-hider").addClass("hide"),setTimeout((function(){lhinst.unhideDelayed(t)}),1e3*n),$("#msg-"+t).removeClass("hide"),$("#msg-"+t+" .msg-body").removeClass("hide"),i>0){var e=$("#messagesBlock"),o=e.prop("scrollHeight");e.find(".meta-auto-hide").hide(),e.find(".message-row").last().find(".meta-auto-hide").show(),o=e.prop("scrollHeight"),e.find(".pending-storage").remove(),e.scrollTop(o+2e3)}}else lhinst.delayQueue.push({id:t,delay:n})}),1e3*i)},lhinst.enableFileUpload=function(){$.getJSON(this.wwwDir+"file/fileoptions/"+this.chat_id+"/"+this.hash,(function(e){$("#ChatMessageContainer .dropdown-menu .flex-row").prepend(e.html),e.options.ft_us=new RegExp("(.|/)("+e.options.ft_us+")$","i"),lhinst.addFileUserUpload(e.options)}))},lhinst.chooseFile=function(){document.getElementById("fileupload")&&document.getElementById("fileupload").click()},lhinst.executeExtension=function(e,t){if(null===document.getElementById("ext-"+e)){var n=document.getElementsByTagName("head")[0],i=document.createElement("script"),s=new Date;i.setAttribute("type","text/javascript"),i.setAttribute("src",WWW_DIR_LHC_WEBPACK_ADMIN.replace("/design/defaulttheme/js/admin/dist/","")+"/extension/"+e+"/design/"+e+"theme/js/"+e+".legacy.js?v="+s.getFullYear()+s.getMonth()+s.getDate()),i.setAttribute("id","ext-"+e),n.appendChild(i),i.onreadystatechange=i.onload=function(){ee.emitEvent(e+".init",[t])}}else ee.emitEvent(e+".init",[t])},lhinst.initTypingMonitoringUser=function(e){var t=this.wwwDir,n=this;try{sessionStorage&&sessionStorage.getItem("lhc_ttxt")&&""!=sessionStorage.getItem("lhc_ttxt")&&jQuery("#CSChatMessage").val(sessionStorage.getItem("lhc_ttxt"))}catch(e){}var i=!1;""!=jQuery("#CSChatMessage").val()?($("#lhc-send-icon").show(),$("#lhc-mic-icon").hide()):$("#lhc-mic-icon").length>0&&($("#lhc-send-icon").hide(),$("#lhc-mic-icon").show(),i=!0),jQuery("#CSChatMessage").bind("keyup",(function(s){try{sessionStorage&&sessionStorage.setItem("lhc_ttxt",$(this).val())}catch(e){}var o=$(this)[0];o.style.height="5px",1==i&&(""!=$(this).val()?($("#lhc-send-icon").show(),$("#lhc-mic-icon").hide(),$("#voice-control-message").hide()):($("#lhc-send-icon").hide(),$("#lhc-mic-icon").show()));var r=o.scrollHeight+3;if(r>48&&(r+=10,o.style.overflowY=r>90?"auto":"hidden"),o.style.height=r+"px",0==n.is_typing)clearTimeout(n.typing_timeout),LHCCallbacks.initTypingMonitoringUserInform?(n.typing_timeout=setTimeout((function(){ee.emitEvent("visitorTypingStopped",[{chat_id:e,hash:n.hash}])}),3e3),ee.emitEvent("visitorTyping",[{chat_id:e,hash:n.hash,status:!0,msg:$(this).val()}])):(n.is_typing=!0,$.postJSON(t+"chat/usertyping/"+e+"/"+n.hash+"/true",{msg:$(this).val()},(function(t){n.typing_timeout=setTimeout((function(){n.typingStoppedUser(e)}),3e3),LHCCallbacks.initTypingMonitoringUser&&ee.emitEvent("initVisitorTyping",[e,!0])})).fail((function(){n.typing_timeout=setTimeout((function(){n.typingStoppedUser(e)}),3e3)})));else{clearTimeout(n.typing_timeout),n.typing_timeout=setTimeout((function(){n.typingStoppedUser(e)}),3e3);var a=$(this).val();n.currentMessageText!=a&&Math.abs(n.currentMessageText.length-a.length)>6&&(n.currentMessageText=a,LHCCallbacks.initTypingMonitoringUserInform?ee.emitEvent("visitorTyping",[{chat_id:e,hash:n.hash,status:!0,msg:$(this).val()}]):$.postJSON(t+"chat/usertyping/"+e+"/"+n.hash+"/true",{msg:a},(function(t){LHCCallbacks.initTypingMonitoringUser&&ee.emitEvent("initVisitorTyping",[e,!0])})))}}))},lhinst.typingStoppedUser=function(e){var t=this;1==t.is_typing&&(LHCCallbacks.typingStoppedUserInform?(t.is_typing=!1,ee.emitEvent("visitorTypingStopped",[{chat_id:e,hash:this.hash,status:!1}])):$.getJSON(this.wwwDir+"chat/usertyping/"+e+"/"+this.hash+"/false",{},(function(n){t.is_typing=!1,LHCCallbacks.initTypingMonitoringUser&&ee.emitEvent("initVisitorTyping",[e,!1])})).fail((function(){t.is_typing=!1})))},this.afterChatWidgetInit=function(){LHCCallbacks.afterChatWidgetInit&&LHCCallbacks.afterChatWidgetInit()},function(e){function t(t){if("string"==typeof t.data&&(t.data={keys:t.data}),t.data&&t.data.keys&&"string"==typeof t.data.keys){var n=t.handler,i=t.data.keys.toLowerCase().split(" ");t.handler=function(t){if(this===t.target||!(e.hotkeys.options.filterInputAcceptingElements&&e.hotkeys.textInputTypes.test(t.target.nodeName)||e.hotkeys.options.filterContentEditable&&e(t.target).attr("contenteditable")||e.hotkeys.options.filterTextInputs&&e.inArray(t.target.type,e.hotkeys.textAcceptingInputTypes)>-1)){var s="keypress"!==t.type&&e.hotkeys.specialKeys[t.which],o=String.fromCharCode(t.which).toLowerCase(),r="",a={};e.each(["alt","ctrl","shift"],(function(e,n){t[n+"Key"]&&s!==n&&(r+=n+"+")})),t.metaKey&&!t.ctrlKey&&"meta"!==s&&(r+="meta+"),t.metaKey&&"meta"!==s&&r.indexOf("alt+ctrl+shift+")>-1&&(r=r.replace("alt+ctrl+shift+","hyper+")),s?a[r+s]=!0:(a[r+o]=!0,a[r+e.hotkeys.shiftNums[o]]=!0,"shift+"===r&&(a[e.hotkeys.shiftNums[o]]=!0));for(var l=0,c=i.length;c>l;l++)if(a[i[l]])return n.apply(this,arguments)}}}}e.hotkeys={version:"0.2.0",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:!0,filterTextInputs:!0,filterContentEditable:!0}},e.each(["keydown","keyup","keypress"],(function(){e.event.special[this]={add:t}}))}(jQuery||this.jQuery||window.jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}((function(e,t){var n=0,i=Array.prototype.slice,s=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(e){}s(t)},e.widget=function(t,n,i){var s,o,r,a,l={},c=t.split(".")[0];t=t.split(".")[1],s=c+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][s.toLowerCase()]=function(t){return!!e.data(t,s)},e[c]=e[c]||{},o=e[c][t],r=e[c][t]=function(e,t){if(!this._createWidget)return new r(e,t);arguments.length&&this._createWidget(e,t)},e.extend(r,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),(a=new n).options=e.widget.extend({},a.options),e.each(i,(function(t,i){var s,o;e.isFunction(i)?l[t]=(s=function(){return n.prototype[t].apply(this,arguments)},o=function(e){return n.prototype[t].apply(this,e)},function(){var e,t=this._super,n=this._superApply;return this._super=s,this._superApply=o,e=i.apply(this,arguments),this._super=t,this._superApply=n,e}):l[t]=i})),r.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix:t},l,{constructor:r,namespace:c,widgetName:t,widgetFullName:s}),o?(e.each(o._childConstructors,(function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,r,n._proto)})),delete o._childConstructors):n._childConstructors.push(r),e.widget.bridge(t,r)},e.widget.extend=function(n){for(var s,o,r=i.call(arguments,1),a=0,l=r.length;a<l;a++)for(s in r[a])o=r[a][s],r[a].hasOwnProperty(s)&&o!==t&&(e.isPlainObject(o)?n[s]=e.isPlainObject(n[s])?e.widget.extend({},n[s],o):e.widget.extend({},o):n[s]=o);return n},e.widget.bridge=function(n,s){var o=s.prototype.widgetFullName||n;e.fn[n]=function(r){var a="string"==typeof r,l=i.call(arguments,1),c=this;return r=!a&&l.length?e.widget.extend.apply(null,[r].concat(l)):r,a?this.each((function(){var i,s=e.data(this,o);return s?e.isFunction(s[r])&&"_"!==r.charAt(0)?(i=s[r].apply(s,l))!==s&&i!==t?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0:e.error("no such method '"+r+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+r+"'")})):this.each((function(){var t=e.data(this,o);t?t.option(r||{})._init():e.data(this,o,new s(r,this))})),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var s,o,r,a=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(a={},s=n.split("."),n=s.shift(),s.length){for(o=a[n]=e.widget.extend({},this.options[n]),r=0;r<s.length-1;r++)o[s[r]]=o[s[r]]||{},o=o[s[r]];if(n=s.pop(),i===t)return o[n]===t?null:o[n];o[n]=i}else{if(i===t)return this.options[n]===t?null:this.options[n];a[n]=i}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,i){var s,o=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=s=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,s=this.widget()),e.each(i,(function(i,r){function a(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof r?o[r]:r).apply(o,arguments)}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||e.guid++);var l=i.match(/^(\w+)\s*(.*)$/),c=l[1]+o.eventNamespace,d=l[2];d?s.delegate(d,c,a):n.bind(c,a)}))},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){var n=this;return setTimeout((function(){return("string"==typeof e?n[e]:e).apply(n,arguments)}),t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var s,o,r=this.options[t];if(i=i||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(s in o)s in n||(n[s]=o[s]);return this.element.trigger(n,i),!(e.isFunction(r)&&!1===r.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,n){e.Widget.prototype["_"+t]=function(i,s,o){"string"==typeof s&&(s={effect:s});var r,a=s?!0===s||"number"==typeof s?n:s.effect||n:t;"number"==typeof(s=s||{})&&(s={duration:s}),r=!e.isEmptyObject(s),s.complete=o,s.delay&&i.delay(s.delay),r&&e.effects&&e.effects.effect[a]?i[t](s):a!==t&&i[a]?i[a](s.duration,s.easing,o):i.queue((function(n){e(this)[t](),o&&o.call(i[0]),n()}))}}))})),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery)}((function(e){"use strict";var t=0;e.ajaxTransport("iframe",(function(n){if(n.async){var i,s,o,r=n.initialIframeSrc||"javascript:false;";return{send:function(a,l){(i=e('<form style="display:none;"></form>')).attr("accept-charset",n.formAcceptCharset),o=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+o+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+o+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+o+"_method=PATCH",n.type="POST"),s=e('<iframe src="'+r+'" name="iframe-transport-'+(t+=1)+'"></iframe>').bind("load",(function(){var t,o=e.isArray(n.paramName)?n.paramName:[n.paramName];s.unbind("load").bind("load",(function(){var t;try{if(!(t=s.contents()).length||!t[0].firstChild)throw new Error}catch(e){t=void 0}l(200,"success",{iframe:t}),e('<iframe src="'+r+'"></iframe>').appendTo(i),window.setTimeout((function(){i.remove()}),0)})),i.prop("target",s.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,(function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)})),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(t=n.fileInput.clone(),n.fileInput.after((function(e){return t[e]})),n.paramName&&n.fileInput.each((function(t){e(this).prop("name",o[t]||n.paramName)})),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),i.submit(),t&&t.length&&n.fileInput.each((function(n,i){var s=e(t[n]);e(i).prop("name",s.prop("name")),s.replaceWith(i)}))})),i.append(s).appendTo(document.body)},abort:function(){s&&s.unbind("load").prop("src",r),i&&i.remove()}}}})),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var n=t&&t[0];return n&&e.isXMLDoc(n)?n:e.parseXML(n.XMLDocument&&n.XMLDocument.xml||e(n.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})})),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):e(window.jQuery)}((function(e){"use strict";e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:e(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,n){return t=this.messages[t]||t.toString(),n&&e.each(n,(function(e,n){t=t.replace("{"+e+"}",n)})),t},formData:function(e){return e.serializeArray()},add:function(t,n){if(t.isDefaultPrevented())return!1;(n.autoUpload||!1!==n.autoUpload&&e(this).fileupload("option","autoUpload"))&&n.process().done((function(){n.submit()}))},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var i=e-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(t-this.loaded)*(1e3/i)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"==typeof t.formData?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(n=[],e.each(t.formData,(function(e,t){n.push({name:e,value:t})})),n):[]},_getTotal:function(t){var n=0;return e.each(t,(function(e,t){n+=t.size||1})),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,n){if(t.lengthComputable){var i,s=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&s-n._time<n.progressInterval&&t.loaded!==t.total)return;n._time=s,i=Math.floor(t.loaded/t.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(s,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(s,i,n.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),n),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var n=this,i=t.xhr?t.xhr():e.ajaxSettings.xhr();i.upload&&(e(i.upload).bind("progress",(function(e){var i=e.originalEvent;e.lengthComputable=i.lengthComputable,e.loaded=i.loaded,e.total=i.total,n._onProgress(e,t)})),t.xhr=function(){return i})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var n,i=this,s=t.files[0],o=t.multipart||!e.support.xhrFileUpload,r=t.paramName[0];t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),o&&!t.blob&&this._isInstanceOf("File",s)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(s.name)+'"'),o?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:r,value:t.blob}):e.each(t.files,(function(e,i){n.push({name:t.paramName[e]||r,value:i})}))):(i._isInstanceOf("FormData",t.formData)?n=t.formData:(n=new FormData,e.each(this._getFormData(t),(function(e,t){n.append(t.name,t.value)}))),t.blob?n.append(r,t.blob,s.name):e.each(t.files,(function(e,s){(i._isInstanceOf("File",s)||i._isInstanceOf("Blob",s))&&n.append(t.paramName[e]||r,s,s.name)}))),t.data=n):(t.contentType=s.type,t.data=t.blob||s),t.blob=null},_initIframeSettings:function(t){var n=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&n&&n!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),i=t.paramName;return i?e.isArray(i)||(i=[i]):(i=[],n.each((function(){for(var t=e(this),n=t.prop("name")||"files[]",s=(t.prop("files")||[1]).length;s;)i.push(n),s-=1})),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,i){var s=e.Deferred(),o=s.promise();return n=n||this.options.context||o,!0===t?s.resolveWith(n,i):!1===t&&s.rejectWith(n,i),o.abort=s.promise,this._enhancePromise(o)},_addConvenienceMethods:function(t,n){var i=this,s=function(t){return e.Deferred().resolveWith(i,t).promise()};n.process=function(t,o){return(t||o)&&(n._processQueue=this._processQueue=(this._processQueue||s([this])).pipe((function(){return n.errorThrown?e.Deferred().rejectWith(i,[n]).promise():s(arguments)})).pipe(t,o)),this._processQueue||s([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==i._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)&&i._onSend(t,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._getXHRPromise())},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(t,n){t.uploadedBytes=t.uploadedBytes||0;var i,s,o=this,r=t.files[0],a=r.size,l=t.uploadedBytes,c=t.maxChunkSize||a,d=this._blobSlice,u=e.Deferred(),h=u.promise();return!(!(this._isXHRUpload(t)&&d&&(l||c<a))||t.data)&&(!!n||(l>=a?(r.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",r.error])):(s=function(){var n=e.extend({},t),h=n._progress.loaded;n.blob=d.call(r,l,l+c,r.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+a,o._initXHRData(n),o._initProgressListener(n),i=(!1!==o._trigger("chunksend",null,n)&&e.ajax(n)||o._getXHRPromise(!1,n.context)).done((function(i,r,c){l=o._getUploadedBytes(c)||l+n.chunkSize,h+n.chunkSize-n._progress.loaded&&o._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=r,n.jqXHR=c,o._trigger("chunkdone",null,n),o._trigger("chunkalways",null,n),l<a?s():u.resolveWith(n.context,[i,r,c])})).fail((function(e,t,i){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,o._trigger("chunkfail",null,n),o._trigger("chunkalways",null,n),u.rejectWith(n.context,[e,t,i])}))},this._enhancePromise(h),h.abort=function(){return i.abort()},s(),h)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,i,s){var o=s._progress.total,r=s._response;s._progress.loaded<o&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o,total:o}),s),r.result=s.result=t,r.textStatus=s.textStatus=n,r.jqXHR=s.jqXHR=i,this._trigger("done",null,s)},_onFail:function(e,t,n,i){var s=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),s.jqXHR=i.jqXHR=e,s.textStatus=i.textStatus=t,s.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(e,t,n,i){this._trigger("always",null,i)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var i,s,o,r,a=this,l=a._getAJAXSettings(n),c=function(){return a._sending+=1,l._bitrateTimer=new a._BitrateTimer,i=i||((s||!1===a._trigger("send",e.Event("send",{delegatedEvent:t}),l))&&a._getXHRPromise(!1,l.context,s)||a._chunkedUpload(l)||e.ajax(l)).done((function(e,t,n){a._onDone(e,t,n,l)})).fail((function(e,t,n){a._onFail(e,t,n,l)})).always((function(e,t,n){if(a._onAlways(e,t,n,l),a._sending-=1,a._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>a._sending)for(var i=a._slots.shift();i;){if("pending"===a._getDeferredState(i)){i.resolve();break}i=a._slots.shift()}0===a._active&&a._trigger("stop")}))};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),r=o.pipe(c)):(this._sequence=this._sequence.pipe(c,c),r=this._sequence),r.abort=function(){return s=[void 0,"abort","abort"],i?i.abort():(o&&o.rejectWith(l.context,s),c())},this._enhancePromise(r)):c()},_onAdd:function(t,n){var i,s,o,r,a=this,l=!0,c=e.extend({},this.options,n),d=c.limitMultiFileUploads,u=this._getParamName(c);if((c.singleFileUploads||d)&&this._isXHRUpload(c))if(!c.singleFileUploads&&d)for(o=[],i=[],r=0;r<n.files.length;r+=d)o.push(n.files.slice(r,r+d)),(s=u.slice(r,r+d)).length||(s=u),i.push(s);else i=u;else o=[n.files],i=[u];return n.originalFiles=n.files,e.each(o||n.files,(function(s,r){var c=e.extend({},n);return c.files=o?r:[r],c.paramName=i[s],a._initResponseObject(c),a._initProgressObject(c),a._addConvenienceMethods(t,c),l=a._trigger("add",e.Event("add",{delegatedEvent:t}),c)})),l},_replaceFileInput:function(t){var n=t.clone(!0);e("<form></form>").append(n)[0].reset(),t.after(n).detach(),e.cleanData(t.unbind("remove")),this.options.fileInput=this.options.fileInput.map((function(e,i){return i===t[0]?n[0]:i})),t[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(t,n){var i=this,s=e.Deferred(),o=function(e){e&&!e.entry&&(e.entry=t),s.resolve([e])};return n=n||"",t.isFile?t._file?(t._file.relativePath=n,s.resolve(t._file)):t.file((function(e){e.relativePath=n,s.resolve(e)}),o):t.isDirectory?t.createReader().readEntries((function(e){i._handleFileTreeEntries(e,n+t.name+"/").done((function(e){s.resolve(e)})).fail(o)}),o):s.resolve([]),s.promise()},_handleFileTreeEntries:function(t,n){var i=this;return e.when.apply(e,e.map(t,(function(e){return i._handleFileTreeEntry(e,n)}))).pipe((function(){return Array.prototype.concat.apply([],arguments)}))},_getDroppedFiles:function(t){var n=(t=t||{}).items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,(function(e){var t;return e.webkitGetAsEntry?((t=e.webkitGetAsEntry())&&(t._file=e.getAsFile()),t):e.getAsEntry()}))):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){var n,i,s=(t=e(t)).prop("webkitEntries")||t.prop("entries");if(s&&s.length)return this._handleFileTreeEntries(s);if((n=e.makeArray(t.prop("files"))).length)void 0===n[0].name&&n[0].fileName&&e.each(n,(function(e,t){t.name=t.fileName,t.size=t.fileSize}));else{if(!(i=t.prop("value")))return e.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return e.Deferred().resolve(n).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe((function(){return Array.prototype.concat.apply([],arguments)})):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,i={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(i.fileInput).always((function(s){i.files=s,n.options.replaceFileInput&&n._replaceFileInput(i.fileInput),!1!==n._trigger("change",e.Event("change",{delegatedEvent:t}),i)&&n._onAdd(t,i)}))},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,i={files:[]};n&&n.length&&(e.each(n,(function(e,t){var n=t.getAsFile&&t.getAsFile();n&&i.files.push(n)})),!1!==this._trigger("paste",e.Event("paste",{delegatedEvent:t}),i)&&this._onAdd(t,i))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,i=t.dataTransfer,s={};i&&i.files&&i.files.length&&(t.preventDefault(),this._getDroppedFiles(i).always((function(i){s.files=i,!1!==n._trigger("drop",e.Event("drop",{delegatedEvent:t}),s)&&n._onAdd(t,s)})))},_onDragOver:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=t.dataTransfer;n&&-1!==e.inArray("Files",n.types)&&!1!==this._trigger("dragover",e.Event("dragover",{delegatedEvent:t}))&&(t.preventDefault(),n.dropEffect="copy")},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var i=-1!==e.inArray(t,this._specialOptions);i&&this._destroyEventHandlers(),this._super(t,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return"url"!==t&&"string"===e.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options;e.each(e(this.element[0].cloneNode(!1)).data(),(function(e,i){t._isRegExpOption(e,i)&&(i=t._getRegExp(i)),n[e]=i}))},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always((function(e){t.files=e,n._onAdd(null,t)})):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,i,s=this,o=e.Deferred(),r=o.promise();return r.abort=function(){return i=!0,n?n.abort():(o.reject(null,"abort","abort"),r)},this._getFileInputFiles(t.fileInput).always((function(e){i||(e.length?(t.files=e,n=s._onSend(null,t).then((function(e,t,n){o.resolve(e,t,n)}),(function(e,t,n){o.reject(e,t,n)}))):o.reject())})),this._enhancePromise(r)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})})),(()=>{var e,t={},n={};function i(e){var s=n[e];if(void 0!==s)return s.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,i),o.exports}i.m=t,i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce((t,n)=>(i.f[n](e,t),t),[])),i.u=e=>e+"-"+{49:"60c5c3dadb1244414bf7",482:"cb26f50a758da8475ea8",737:"8a022dfba510dce4b4ef"}[e]+".js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},i.l=(t,n,s,o)=>{if(e[t])e[t].push(n);else{var r,a;if(void 0!==s)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==t){r=d;break}}r||(a=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,i.nc&&r.setAttribute("nonce",i.nc),r.src=t),e[t]=[n];var u=(n,i)=>{r.onerror=r.onload=null,clearTimeout(h);var s=e[t];if(delete e[t],r.parentNode&&r.parentNode.removeChild(r),s&&s.forEach(e=>e(i)),n)return n(i)},h=setTimeout(u.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=u.bind(null,r.onerror),r.onload=u.bind(null,r.onload),a&&document.head.appendChild(r)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="/",(()=>{var e={179:0};i.f.j=(t,n)=>{var s=i.o(e,t)?e[t]:void 0;if(0!==s)if(s)n.push(s[2]);else{var o=new Promise((n,i)=>s=e[t]=[n,i]);n.push(s[2]=o);var r=i.p+i.u(t),a=new Error;i.l(r,n=>{if(i.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",a.name="ChunkLoadError",a.type=o,a.request=r,s[1](a)}},"chunk-"+t,t)}};var t=(t,n)=>{var s,o,[r,a,l]=n,c=0;if(r.some(t=>0!==e[t])){for(s in a)i.o(a,s)&&(i.m[s]=a[s]);l&&l(i)}for(t&&t(n);c<r.length;c++)o=r[c],i.o(e,o)&&e[o]&&e[o][0](),e[r[c]]=0},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),i.p=window.WWW_DIR_LHC_WEBPACK,function(){var e=0,t=0;function n(n){!n.altKey||38!=n.which&&40!=n.which||(40==n.which?t>0&&$("#preview-item-"+t).click():e>0&&$("#preview-item-"+e).click())}i.g.lhc={previewChat:function(i,s){var o="",r="";e=0,t=0,s&&(o=void 0!==s.getAttribute("data-keyword")?s.getAttribute("data-keyword"):"",s.classList.contains("preview-list")&&($(".preview-list").removeClass("bg-current"),$(s).addClass("bg-current")),r=this.attachNavigator(i,s)),this.revealModal({url:WWW_DIR_JAVASCRIPT+"chat/previewchat/"+i+"?keyword="+(o||"")+r,showcallback:function(){document.addEventListener("keyup",n)},hidecallback:function(){document.removeEventListener("keyup",n)}})},attachNavigator:function(i,s){var o="";return void 0!==s.getAttribute("data-list-navigate")&&($(".chat-row-tr.bg-light").removeClass("bg-light"),$("#chat-row-tr-"+i).addClass("bg-light"),e=$(s).parent().parent().prevAll("tr:not(.ignore-row)").first().attr("data-chat-id"),t=$(s).parent().parent().nextAll("tr:not(.ignore-row)").first().attr("data-chat-id"),e&&(o="&prevId="+e,document.addEventListener("keyup",n)),t&&(o=o+"&nextId="+t,document.addEventListener("keyup",n))),o},previewChatArchive:function(i,s,o){var r="",a="";e=0,t=0,o&&(r=void 0!==o.getAttribute("data-keyword")?o.getAttribute("data-keyword"):"",o.classList.contains("preview-list")&&($(".preview-list").removeClass("bg-current"),$(o).addClass("bg-current")),a=this.attachNavigator(s,o)),this.revealModal({url:WWW_DIR_JAVASCRIPT+"chatarchive/previewchat/"+i+"/"+s+"?keyword="+(r||"")+a,showcallback:function(){document.addEventListener("keyup",n)},hidecallback:function(){document.removeEventListener("keyup",n)}})},revealModal:function(e){i.e(737).then(function(){var t=i(737);t.initializeModal(),t.revealModal(e)}.bind(null,i)).catch(i.oe)},methodCall:function(e,t,n){Promise.all([i.e(49),i.e(482)]).then((function(){(function(){i(482)("./"+e+".js")[t](n)}).apply(null,[])})).catch(i.oe)}}}()})(),function(e){"use strict";function t(){}function n(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function i(e){return function(){return this[e].apply(this,arguments)}}var s=t.prototype,o=e.EventEmitter;s.getListeners=function(e){var t,n,i=this._getEvents();if(e instanceof RegExp)for(n in t={},i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n]);else t=i[e]||(i[e]=[]);return t},s.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},s.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},s.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var i,s=this.getListenersAsObject(e),o="object"==typeof t;for(i in s)s.hasOwnProperty(i)&&-1===n(s[i],t)&&s[i].push(o?t:{listener:t,once:!1});return this},s.on=i("addListener"),s.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},s.once=i("addOnceListener"),s.defineEvent=function(e){return this.getListeners(e),this},s.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},s.removeListener=function(e,t){var i,s,o=this.getListenersAsObject(e);for(s in o)o.hasOwnProperty(s)&&-1!==(i=n(o[s],t))&&o[s].splice(i,1);return this},s.off=i("removeListener"),s.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},s.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},s.manipulateListeners=function(e,t,n){var i,s,o=e?this.removeListener:this.addListener,r=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(s=t[i])&&("function"==typeof s?o.call(this,i,s):r.call(this,i,s));return this},s.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},s.removeAllListeners=i("removeEvent"),s.emitEvent=function(e,t){var n,i,s,o,r=this.getListenersAsObject(e);for(o in r)if(r.hasOwnProperty(o))for(n=r[o].slice(0),s=0;s<n.length;s++)!0===(i=n[s]).once&&this.removeListener(e,i.listener),i.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},s.trigger=i("emitEvent"),s.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},s.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},s._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},s._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return e.EventEmitter=o,t},"function"==typeof define&&define.amd?define((function(){return t})):"object"==typeof module&&module.exports?module.exports=t:e.EventEmitter=t}("undefined"!=typeof window?window:this||{});var ee=new EventEmitter,notificationsLHC={sendNotification:function(){window.postMessage&&"undefined"!=typeof parent&&parent.postMessage("lhc_notification:just_testing","*")}};
//# sourceMappingURL=92c662aef48d161414ff30d7179a89cc.js.map
