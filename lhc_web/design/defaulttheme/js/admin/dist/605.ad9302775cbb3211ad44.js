"use strict";(self.webpackChunkLHCReactAPPAdmin=self.webpackChunkLHCReactAPPAdmin||[]).push([[605],{202(e,t,a){const n=a(8803),s="data-bs-target",r="data-bs-parent";t.dataBsTarget=s,t.getTargetElement=e=>{const t=[s,r,"data-bs-container","href"],a=n.d(e);return t.map(t=>{const s=n.K(e,t);return s?t===r?n.Ne(e,s):n.Wo(s,a):null}).filter(e=>e)[0]}},1169(e,t,a){const n=a(8803),s=a(4481),r=a(7606),o=a(3176),c=a(6304),l=a(6760),i=a(7305),u=a(202),d="tab",m=`[${i.dataBsToggle}="${d}"]`,h=e=>n.to(e,"Tab"),g=e=>new P(e),p=n.mo(`show.bs.${d}`),f=n.mo(`shown.bs.${d}`),b=n.mo(`hide.bs.${d}`),v=n.mo(`hidden.bs.${d}`),y=new Map,E=e=>{const{tabContent:t,nav:a}=e;t&&n._n(t,s.collapsingClass)&&(t.style.height="",n.Zn(t,s.collapsingClass)),a&&n.ho.clear(a)},_=e=>{const{element:t,tabContent:a,content:s,nav:r}=e,{tab:c}=n.b(r)&&y.get(r)||{tab:null};if(a&&s&&n._n(s,o.fadeClass)){const{currentHeight:s,nextHeight:r}=y.get(t)||{currentHeight:0,nextHeight:0};s!==r?setTimeout(()=>{a.style.height=`${r}px`,n.bo(a),n.so(a,()=>E(e))},50):E(e)}else r&&n.ho.clear(r);f.relatedTarget=c,n.Z(t,f)},w=e=>{const{element:t,content:a,tabContent:l,nav:i}=e,{tab:u,content:d}=i&&y.get(i)||{tab:null,content:null};let m=0;if(l&&a&&n._n(a,o.fadeClass)&&([d,a].forEach(e=>{e&&n.Gn(e,"overflow-hidden")}),m=d?d.scrollHeight:0),p.relatedTarget=u,v.relatedTarget=t,n.Z(t,p),!p.defaultPrevented){if(a&&n.Gn(a,r.activeClass),d&&n.Zn(d,r.activeClass),l&&a&&n._n(a,o.fadeClass)){const e=a.scrollHeight;y.set(t,{currentHeight:m,nextHeight:e,tab:null,content:null}),n.Gn(l,s.collapsingClass),l.style.height=`${m}px`,n.bo(l),[d,a].forEach(e=>{e&&n.Zn(e,"overflow-hidden")})}a&&a&&n._n(a,o.fadeClass)?setTimeout(()=>{n.Gn(a,c.showClass),n.so(a,()=>{_(e)})},1):(a&&n.Gn(a,c.showClass),_(e)),u&&n.Z(u,v)}},I=e=>{const{nav:t}=e;if(!n.b(t))return{tab:null,content:null};const a=n.jo(r.activeClass,t);let s=null;return 1!==a.length||l.dropdownMenuClasses.some(e=>n._n(a[0].parentElement,e))?a.length>1&&(s=a[a.length-1]):[s]=a,{tab:s,content:n.b(s)?u.getTargetElement(s):null}},N=e=>{if(!n.b(e))return null;const t=n.Ne(e,`.${l.dropdownMenuClasses.join(",.")}`);return t?n.Wo(`.${l.dropdownMenuClasses[0]}-toggle`,t):null},C=e=>{const t=n.Ne(e.target,m),a=t&&h(t);a&&(e.preventDefault(),a.show())};class P extends n.BaseComponent{static selector=m;static init=g;static getInstance=h;constructor(e){super(e);const{element:t}=this,a=u.getTargetElement(t);if(!a)return;const s=n.Ne(t,".nav"),o=n.Ne(a,".tab-content");this.nav=s,this.content=a,this.tabContent=o,this.dropdown=N(t);const{tab:l}=I(this);if(s&&!l){const e=n.Wo(m,s),a=e&&u.getTargetElement(e);a&&(n.Gn(e,r.activeClass),n.Gn(a,c.showClass),n.Gn(a,r.activeClass),n.Qn(t,n.Be,"true"))}this._toggleEventListeners(!0)}get name(){return"Tab"}show(){const{element:e,content:t,nav:a,dropdown:s}=this;if(a&&n.ho.get(a)||n._n(e,r.activeClass))return;const{tab:l,content:i}=I(this);if(a&&l&&y.set(a,{tab:l,content:i,currentHeight:0,nextHeight:0}),b.relatedTarget=e,!n.b(l)||(n.Z(l,b),b.defaultPrevented))return;n.Gn(e,r.activeClass),n.Qn(e,n.Be,"true");const u=n.b(l)&&N(l);if(u&&n._n(u,r.activeClass)&&n.Zn(u,r.activeClass),a){const e=()=>{l&&(n.Zn(l,r.activeClass),n.Qn(l,n.Be,"false")),s&&!n._n(s,r.activeClass)&&n.Gn(s,r.activeClass)};i&&(n._n(i,o.fadeClass)||t&&n._n(t,o.fadeClass))?n.ho.set(a,e,1):e()}i&&(n.Zn(i,c.showClass),n._n(i,o.fadeClass)?n.so(i,()=>w(this)):w(this))}_toggleEventListeners=e=>{(e?n.E:n.r)(this.element,n.vt,C)};dispose(){this._toggleEventListeners(),super.dispose()}}e.exports=P},3176(e,t){t.fadeClass="fade"},4481(e,t){t.collapsingClass="collapsing"},5605(e,t,a){a.r(t),a.d(t,{default:()=>b});var n=a(296),s=a(4467),r=a(6540),o=a(1083),c=a(900),l=function(e){var t=e.message,a=e.index,n=!1;return(0,c.Ay)(t.msg,{replace:function(e){if(e.attribs){var s=Object.assign({},e.attribs);if(e.attribs.class&&(e.attribs.className=e.attribs.class,-1!==e.attribs.className.indexOf("message-row")&&a>0&&(e.attribs.className+=" fade-in-fast",t.msop>0&&t.msop!=t.lmsop&&0==n&&(e.attribs.className+=" operator-changes",n=!0)),delete e.attribs.class),e.attribs.onclick&&delete e.attribs.onclick,e.name&&"img"===e.name)return r.createElement("img",e.attribs);if(e.name&&"a"===e.name&&s.onclick)return r.createElement("a",e.attribs,(0,c.zd)(e.children))}}})};const i=r.memo(l);a(9896);var u=a(3029),d=a(2901),m=new(function(){return(0,d.A)(function e(){(0,u.A)(this,e),this.eventEmitter=new EventEmitter,this.chatsSynchro=[],this.chatsSynchroMsg=[],this.timeoutSync=null,this.syncInProgress=!1,this.fetchStatus=!1},[{key:"setFetchStatus",value:function(e){this.fetchStatus=e}},{key:"sync",value:function(){var e=this;1!=this.syncInProgress&&(this.syncInProgress=!0,o.A.post(WWW_DIR_JAVASCRIPT+"groupchat/sync"+(1==this.fetchStatus?"/(opt)/status":""),this.chatsSynchroMsg).then(function(t){e.fetchStatus=!1;var a=[];t.data.result.forEach(function(t){a[t.chat_id]||(a[t.chat_id]={}),a[t.chat_id].msg=t;var n=e.chatsSynchro.indexOf(t.chat_id),s=e.chatsSynchroMsg[n].split(",");s[1]=t.message_id,e.chatsSynchroMsg[n]=s.join(",")}),t.data.result_status.forEach(function(t){a[t.chat_id]||(a[t.chat_id]={}),a[t.chat_id].status=t;var n=e.chatsSynchro.indexOf(t.chat_id),s=e.chatsSynchroMsg[n].split(",");s[2]=t.lgsync,e.chatsSynchroMsg[n]=s.join(",")}),a.forEach(function(t,a){e.eventEmitter.emitEvent("gchat_"+a,[t])}),e.syncInProgress=!1}))}},{key:"startSync",value:function(){var e=this;clearTimeout(this.timeoutSync),this.chatsSynchro.length>0&&(this.timeoutSync=setInterval(function(){e.sync()},2500))}},{key:"addSubscriber",value:function(e,t){this.chatsSynchro.push(parseInt(e)),this.chatsSynchroMsg.push(e+",0,0"),this.eventEmitter.addListener("gchat_"+e,t),this.startSync()}},{key:"removeSubscriber",value:function(e,t){var a=this.chatsSynchro.indexOf(parseInt(e));-1!==a&&(this.chatsSynchro.splice(a,1),this.chatsSynchroMsg.splice(a,1),this.eventEmitter.removeListener("gchat_"+e,t),this.startSync())}}])}()),h=a(2022);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach(function(t){(0,s.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function f(e,t){switch(t.type){case"increment":return{count:e.count+1};case"decrement":case"init":return{count:e.count-1};case"update":return p(p({},e),t.value);case"update_messages":return t.messages.lmsop=e.lmsop||t.value.lmsop,(e=p(p({},e),t.value)).messages.push(t.messages),e;case"update_history":return e=p(p({},e),t.value),""!=t.history.msg&&e.messages.unshift(t.history),e;default:throw new Error("Unknown action!")}}o.A.defaults.headers.common["X-CSRFToken"]=confLH.csrf_token;const b=function(e){var t=(0,r.useRef)(null),s=(0,r.useRef)(null),c=(0,r.useRef)(null),l=(0,r.useRef)(null),u=(0,r.useReducer)(f,{messages:[],operators:[],supervistors:[],operators_invite:[],chat:{},has_more_messages:!1,old_message_id:0,last_message:"",error:"",last_message_id:0,lmsop:0,lgsync:0}),d=(0,n.A)(u,2),g=d[0],p=d[1],b=function(e){ee.emitEvent("angularStartChatOperatorPublic",[e.user_id])},v=function(e,t){var a,n=document.getElementById("chat-tab-link-"+e),s=!1;null!==n&&t>1&&!n.classList.contains("active")&&null!==(a=n.querySelector(".whatshot"))&&(a.classList.remove("d-none"),ee.emitEvent("supportUnreadChat",[{id:e,unread:!0}]),y(),s=!0),0==s&&null!==(n=document.getElementById("private-chat-tab-link-"+e))&&t>1&&!n.classList.contains("active")&&null!==(a=n.querySelector(".whatshot"))&&(a.classList.remove("d-none"),y())},y=function(){lhinst.playNewMessageSound()};(0,r.useEffect)(function(){if(s.current.scrollTop=s.current.scrollHeight,e.chatPublicId)v(e.chatPublicId,g.messages.length);else{var t=document.getElementById("chat-tab-link-gc"+e.chatId);t&&g.messages.length>1&&!t.classList.contains("active")&&(t.querySelector(".whatshot").classList.remove("d-none"),y())}},[g.messages.length]);var E=null,_=function(){clearTimeout(E),E=setTimeout(function(){o.A.get(WWW_DIR_JAVASCRIPT+"groupchat/searchoperator/"+e.chatId+"?"+(e.chatPublicId?"id="+e.chatPublicId+"&":"")+"q="+escape(l.current.value)).then(function(e){p({type:"update",value:{operators_invite:e.data}})})},200)},w=function(){p({type:"update",value:{operators_invite:[]}})};(0,r.useEffect)(function(){var n=function(e){if(e.msg&&p({type:"update_messages",messages:{msg:e.msg.content,msop:e.msg.msop},value:{last_message_id:e.msg.message_id,lmsop:e.msg.lmsop}}),e.status){var t={operators:e.status.operators,lgsync:e.status.lgsync};e.status.old_message_id&&(t.has_more_messages=e.status.has_more_messages,t.old_message_id=e.status.old_message_id),p({type:"update",value:t})}},r=function(t){l(e.chatPublicId,null,!0)};o.A.post(WWW_DIR_JAVASCRIPT+"groupchat/"+(e.chatPublicId?"loadpublichat":"loadgroupchat")+"/"+(e.chatPublicId||e.chatId)).then(function(s){if(e.chatPublicId){var o=document.createElement("div");o.innerHTML='<i class="whatshot blink-ani d-none text-warning material-icons">whatshot</i>',document.getElementById("chat-tab-link-"+e.chatPublicId).prepend(o.firstChild),document.getElementById("private-chat-tab-link-"+e.chatPublicId).addEventListener("click",r)}else!function(e){if(localStorage)try{var t=[],a=localStorage.getItem("gachat_id");null!==a&&""!==a&&(t=a.split(",")),-1===t.indexOf(e)&&(t.push(e),localStorage.setItem("gachat_id",t.join(",")))}catch(e){}}(e.chatId);var l=document.getElementById("private-chat-tab-link-"+e.chatPublicId);if((e.paramsStart&&e.paramsStart.unread||null!==l&&"true"==l.getAttribute("data-unread"))&&v(e.chatPublicId,2),e.paramsStart&&e.paramsStart.default_message&&null!==t.current&&(t.current.focus(),t.current.value="[quote]"+e.paramsStart.default_message+"[/quote]\n"),e.chatId=String(s.data.chat.id),m.addSubscriber(e.chatId,n),m.sync(),!e.chatPublicId){var i=c.current,u=a(1169),d=i.querySelectorAll('[data-bs-toggle="tab"]');d.length>0&&Array.prototype.forEach.call(d,function(e){new u(e)})}p({type:"update",value:{chat:s.data.chat,supervisors:s.data.supervisors||[]}})}).catch(function(t){!e.chatPublicId&&lhinst.removeDialogTabGroup("gc"+e.chatId,$("#tabs"),!0),t.response&&t.response.data&&t.response.data.error&&p({type:"update",value:{error:t.response.data.error}})});var l=function(a,n,r){var o,c;(e.chatPublicId&&a==e.chatPublicId||!e.chatPublicId&&a==e.chatId)&&(null!==s.current&&setTimeout(function(){null!==s.current&&((!e.chatPublicId||r)&&t.current.focus(),s.current.scrollHeight-(s.current.scrollTop+s.current.offsetHeight)<s.current.offsetHeight-50&&(s.current.scrollTop=s.current.scrollHeight))},2),null!==(o=document.getElementById(e.chatPublicId?"chat-tab-link-"+e.chatPublicId:"chat-tab-link-gc"+e.chatId))&&(null===(c=o.querySelector(".whatshot"))||c.classList.contains("d-none")||(c.classList.add("d-none"),e.chatPublicId&&document.getElementById("private-chat-tab-link-"+e.chatPublicId).click())),e.chatPublicId&&null!==(o=document.getElementById("private-chat-tab-link-"+e.chatPublicId))&&(null===(c=o.querySelector(".whatshot"))||c.classList.contains("d-none")||c.classList.add("d-none")))},i=function(a,n){e.chatPublicId&&a==e.chatPublicId&&t&&t.current&&(t.current.value="[quote]"+n+"[/quote]\n",t.current.focus())};return e.chatPublicId&&ee.addListener("groupChatPrefillMessage",i),ee.addListener(e.chatPublicId?"chatTabClicked":"groupChatTabClicked",l),!e.chatPublicId&&t.current.focus(),function(){!function(e){if(localStorage)try{var t=[],a=localStorage.getItem("gachat_id");null!==a&&""!==a&&(t=a.split(",")),-1!==t.indexOf(e)&&t.splice(t.indexOf(e),1),localStorage.setItem("gachat_id",t.join(","))}catch(e){}}(e.chatId),e.chatPublicId?(ee.removeListener("chatTabClicked",l),ee.removeListener("prefillMessage",i)):ee.removeListener("groupChatTabClicked",l),m.removeSubscriber(e.chatId,n)}},[]);var I=function(t){o.A.get(WWW_DIR_JAVASCRIPT+"groupchat/inviteoperator/"+e.chatId+"/"+t.id).then(function(e){m.setFetchStatus(!0),m.sync(),t.invited=!0,p({type:"update",value:{operators_invite:g.operators_invite}})})},N=function(t){o.A.get(WWW_DIR_JAVASCRIPT+"groupchat/cancelinvite/"+e.chatId+"/"+t.id).then(function(e){m.setFetchStatus(!0),m.sync(),t.invited=!1,p({type:"update",value:{operators_invite:g.operators_invite}})})},C=(0,h.Bd)("group_chat"),P=C.t;return C.i18n,""!=g.error?r.createElement(r.Fragment,null,r.createElement("div",{className:"row"},r.createElement("div",{className:"col-12"},r.createElement("div",{className:"alert alert-info",role:"alert"},g.error)))):r.createElement(r.Fragment,null,r.createElement("div",{className:"row group-chat-"+(e.chatPublicId?"public":"private")},e.chatPublicId&&2==g.chat.type&&r.createElement("div",{className:"col-12 pb-1"},g.operators.map(function(t,a){return r.createElement("button",{className:"btn btn-sm fs12 btn-outline-secondary mb-1 me-1"},e.userId!=t.user_id&&r.createElement("i",{title:"Start chat with an operator directly",onClick:function(e){return b(t)},className:"material-icons action-image"},"chat")," ",g.chat.user_id==t.user_id&&r.createElement("i",{title:"Group owner",className:"material-icons"},"account_balance")," ",t.n_off_full,!t.jtime&&r.createElement("span",{className:"ms-1 badge badge-info fs11"},P("operator.pending_join"))," ",r.createElement("i",{className:"material-icons"},t.hide_online?"flash_off":"flash_on"),t.last_activity_ago)})),r.createElement("div",{className:e.chatPublicId?"col-12":"col-7"},r.createElement("div",{className:"message-block"},g.has_more_messages&&r.createElement("a",{className:"load-prev-btn",title:"Load more...",onClick:function(t){o.A.get(WWW_DIR_JAVASCRIPT+"groupchat/loadpreviousmessages/"+e.chatId+"/"+g.old_message_id).then(function(e){p({type:"update_history",value:{has_more_messages:e.data.has_messages,old_message_id:e.data.message_id},history:{msg:e.data.result,msop:e.data.msop,lmsop:e.data.lmsop}})})}},r.createElement("i",{className:"material-icons"},"î¢‰")),r.createElement("div",{className:"msgBlock msgBlock-admin msgBlock-group-admin",ref:s},g.messages.map(function(t,a){return r.createElement(i,{key:"msg_"+e.chatId+"_"+a,index:a,message:t})}))),r.createElement("div",{className:"message-container-admin mt-2"},r.createElement("textarea",{ref:t,placeholder:P("message.enter_message"),onKeyDown:function(a){return function(a){if(13==a.keyCode)return o.A.post(WWW_DIR_JAVASCRIPT+"groupchat/addmessage/"+e.chatId,{msg:t.current.value}).then(function(e){-1!==e.data.result.indexOf("status")&&m.setFetchStatus(!0),m.sync()}),t.current.value="",a.preventDefault(),void a.stopPropagation()}(a)},className:"form-control form-control-sm form-group",rows:"2"}))),!e.chatPublicId&&r.createElement("div",{className:"chat-main-right-column col-5"},r.createElement("div",{role:"tabpanel"},r.createElement("ul",{className:"nav nav-pills",role:"tablist",ref:c},r.createElement("li",{role:"presentation",className:"nav-item"},r.createElement("a",{className:"nav-link active",href:"#group-chat-"+e.chatId,"aria-controls":"#group-chat-"+e.chatId,role:"tab","data-bs-toggle":"tab",title:"Operators"},r.createElement("i",{className:"material-icons me-0"},"face"))),r.createElement("li",{className:"nav-item",role:"presentation"},r.createElement("a",{className:"nav-link ",href:"#group-chat-info-"+e.chatId,"aria-controls":"#group-chat-info-"+e.chatId,title:"Information",role:"tab","data-bs-toggle":"tab"},r.createElement("i",{className:"material-icons me-0"},"info_outline")))),r.createElement("div",{className:"tab-content"},r.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"group-chat-"+e.chatId},r.createElement("ul",{className:"list-group list-group-flush border-0 mw-100 mx275"},g.operators.map(function(t,a){return r.createElement("li",{className:"list-group-item ps-1 py-1"},e.userId!=t.user_id&&r.createElement("i",{title:"Start chat with an operator directly",onClick:function(e){return b(t)},className:"material-icons action-image"},"chat")," ",g.chat.user_id==t.user_id&&r.createElement("i",{title:"Group owner",className:"material-icons"},"account_balance")," ",t.n_off_full,r.createElement("span",{className:"float-end fs11"},!t.jtime&&r.createElement("span",{className:"badge badge-info fs11"},P("operator.pending_join"))," ",t.last_activity_ago," ",r.createElement("i",{className:"material-icons"},t.hide_online?"flash_off":"flash_on")))}))),r.createElement("div",{role:"tabpanel",className:"tab-pane",id:"group-chat-info-"+e.chatId},1==g.chat.type&&r.createElement("div",null,r.createElement("div",{className:"row"},r.createElement("div",{className:"col-9"},r.createElement("input",{ref:l,onKeyUp:_,type:"text",placeholder:P("operator.search_tip"),className:"form-control form-control-sm"})),r.createElement("div",{className:"col-3"},r.createElement("div",{className:"btn-group w-100",role:"group","aria-label":"Basic example"},r.createElement("button",{onClick:_,className:"btn d-block btn-secondary btn-sm"},r.createElement("span",{className:"material-icons"},"search")),r.createElement("button",{disabled:0==g.operators_invite.length,onClick:w,className:"btn d-block btn-secondary btn-sm"},r.createElement("span",{className:"material-icons"},"delete"))))),r.createElement("ul",{className:"m-0 p-0 mt-2 mx275"},g.operators_invite.map(function(e,t){return r.createElement("li",{className:"list-group-item p-2 fs13",title:e.id},e.name_official,!e.member&&!e.invited&&r.createElement("button",{className:"float-end btn btn-xs btn-secondary",onClick:function(t){return I(e)}},P("operator.invite")),!e.member&&e.invited&&r.createElement("button",{className:"float-end btn btn-xs btn-warning",onClick:function(t){return N(e)}},P("operator.cancel_invite")),e.member&&r.createElement("button",{disabled:"disabled",className:"float-end btn btn-xs btn-success"},P("operator.already_member")))})),r.createElement("hr",null)),r.createElement("button",{className:"btn btn-xs btn-danger",title:P("operator.leave_group_tip"),onClick:function(t){o.A.get(WWW_DIR_JAVASCRIPT+"groupchat/leave/"+e.chatId).then(function(t){lhinst.removeDialogTabGroup("gc"+e.chatId,$("#tabs"),!0)})}},P("operator.leave_group")))))),e.chatPublicId&&r.createElement("div",{className:"col-12"},r.createElement("div",{className:"pb-1"},e.chatPublicId&&2==g.chat.type&&g.supervisors.length>0&&g.supervisors.map(function(e,t){return r.createElement(r.Fragment,null,!e.member&&!e.invited&&r.createElement("button",{className:"btn btn-xs btn-secondary",onClick:function(t){return I(e)}},e.nick," | ",P("operator.invite")))})),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-9"},r.createElement("input",{ref:l,onKeyUp:_,type:"text",placeholder:P("operator.search_tip"),className:"form-control form-control-sm"})),r.createElement("div",{className:"col-3"},r.createElement("div",{className:"btn-group w-100",role:"group","aria-label":"Basic example"},r.createElement("button",{onClick:_,className:"btn d-block btn-secondary btn-sm"},r.createElement("span",{className:"material-icons"},"search")),r.createElement("button",{disabled:0==g.operators_invite.length,onClick:w,className:"btn d-block btn-secondary btn-sm"},r.createElement("span",{className:"material-icons"},"delete"))))),r.createElement("ul",{className:"m-0 p-0 mt-2 mx275"},g.operators_invite.map(function(e,t){return r.createElement("li",{className:"list-group-item p-2 fs13",title:e.id},e.name_official,!e.member&&!e.invited&&r.createElement("button",{className:"float-end btn btn-xs btn-secondary",onClick:function(t){return I(e)}},P("operator.invite")),!e.member&&e.invited&&r.createElement("button",{className:"float-end btn btn-xs btn-warning",onClick:function(t){return N(e)}},P("operator.cancel_invite")),e.member&&r.createElement("button",{disabled:"disabled",className:"float-end btn btn-xs btn-success"},P("operator.already_member")))})))))}},6304(e,t){t.showClass="show"},6760(e,t){t.dropdownMenuClasses=["dropdown","dropup","dropstart","dropend"]},7305(e,t){t.dataBsToggle="data-bs-toggle"},7606(e,t){t.activeClass="active"},8803(e,t){const a="aria-hidden",n="transitionend",s="transitionProperty",r=(e,t)=>e.getAttribute(t),o=(e,t)=>e.hasAttribute(t),c=e=>null!=e&&"object"==typeof e||!1,l=e=>c(e)&&"number"==typeof e.nodeType&&[1,2,3,4,5,6,7,8,9,10,11].some(t=>e.nodeType===t)||!1,i=e=>l(e)&&1===e.nodeType||!1,u=new Map,d={data:u,set:(e,t,a)=>{i(e)&&(u.has(t)||u.set(t,new Map),u.get(t).set(e,a))},getAllFor:e=>u.get(e)||null,get:(e,t)=>{if(!i(e)||!t)return null;const a=d.getAllFor(t);return e&&a&&a.get(e)||null},remove:(e,t)=>{const a=d.getAllFor(t);!a||!i(e)||(a.delete(e),0===a.size&&u.delete(t))}},m=e=>e?.trim().replace(/(?:^\w|[A-Z]|\b\w)/g,(e,t)=>0===t?e.toLowerCase():e.toUpperCase()).replace(/\s+/g,""),h=e=>"string"==typeof e||!1,g=e=>c(e)&&"Window"===e.constructor.name||!1,p=e=>l(e)&&9===e.nodeType||!1,f=e=>p(e)?e:l(e)?e.ownerDocument:g(e)?e.document:globalThis.document,b=(e,...t)=>Object.assign(e,...t),v=e=>{if(!e)return;if(h(e))return f().createElement(e);const{tagName:t}=e,a=v(t);if(!a)return;const n={...e};return delete n.tagName,b(a,n)},y=(e,t)=>e.dispatchEvent(t),E=(e,t,a)=>{const n=getComputedStyle(e,a),s=t.replace("webkit","Webkit").replace(/([A-Z])/g,"-$1").toLowerCase();return n.getPropertyValue(s)},_=e=>{const t=E(e,s),a=E(e,"transitionDuration"),n=a.includes("ms")?1:1e3,r=t&&"none"!==t?parseFloat(a)*n:0;return Number.isNaN(r)?0:r},w=e=>!!["true",!0].includes(e)||!["false",!1].includes(e)&&(["null","",null,void 0].includes(e)?null:""===e||Number.isNaN(+e)?e:+e),I=e=>Object.entries(e),N=e=>Object.keys(e),C=e=>c(e)&&"Map"===e.constructor.name||!1,P=new Map,S={set:(e,t,a,n)=>{i(e)&&(n&&n.length?(P.has(e)||P.set(e,new Map),P.get(e).set(n,setTimeout(t,a))):P.set(e,setTimeout(t,a)))},get:(e,t)=>{if(!i(e))return null;const a=P.get(e);return t&&a&&C(a)?a.get(t)||null:(e=>"number"==typeof e||!1)(a)?a:null},clear:(e,t)=>{if(!i(e))return;const a=P.get(e);t&&t.length&&C(a)?(clearTimeout(a.get(t)),a.delete(t),0===a.size&&P.delete(e)):(clearTimeout(a),P.delete(e))}},k=(e,t)=>(l(t)?t:f()).querySelectorAll(e),A=new Map;function T(e){const{shiftKey:t,code:n}=e,s=f(this),c=[...k('a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"]',this)].filter(e=>!o(e,"disabled")&&!r(e,a));if(!c.length)return;const l=c[0],i=c[c.length-1];"Tab"===n&&(t&&s.activeElement===l?(i.focus(),e.preventDefault()):!t&&s.activeElement===i&&(l.focus(),e.preventDefault()))}const x=e=>!0===A.has(e),L=e=>i(e)&&"offsetWidth"in e||!1,M=(e,t)=>{const{width:a,height:n,top:s,right:r,bottom:o,left:c}=e.getBoundingClientRect();let l=1,i=1;if(t&&L(e)){const{offsetWidth:t,offsetHeight:s}=e;l=t>0?Math.round(a)/t:1,i=s>0?Math.round(n)/s:1}return{width:a/l,height:n/i,top:s/i,right:r/l,bottom:o/i,left:c/l,x:c/l,y:s/i}},O=e=>f(e).documentElement,W=e=>l(e)&&"ShadowRoot"===e.constructor.name||!1;let B=0,j=0;const R=new Map,D=(e,t)=>{let a=t?B:j;if(t){const n=D(e),s=R.get(n)||new Map;R.has(n)||R.set(n,s),C(s)&&!s.has(t)?(s.set(t,a),B+=1):a=s.get(t)}else{const t=e.id||e;R.has(t)?a=R.get(t):(R.set(t,a),j+=1)}return a},H=(e,t)=>e&&t&&(e.closest(t)||H(e.getRootNode().host,t))||null,$=(e,t)=>i(e)?e:(i(t)?t:f()).querySelector(e),G={},F=e=>{const{type:t,currentTarget:a}=e;G[t].forEach((n,s)=>{a===s&&n.forEach((a,n)=>{n.apply(s,[e]),"object"==typeof a&&a.once&&Z(s,t,n,a)})})},Z=(e,t,a,n)=>{const s=G[t],r=s&&s.get(e),o=r&&r.get(a),c=void 0!==o?o:n;r&&r.has(a)&&r.delete(a),s&&(!r||!r.size)&&s.delete(e),(!s||!s.size)&&delete G[t],(!r||!r.size)&&e.removeEventListener(t,F,c)};t.Ae=D,t.Ao=e=>{x(e)?(e=>{x(e)&&(((e,t,a)=>{e.removeEventListener("keydown",a,!1)})(e,0,T),A.delete(e))})(e):(e=>{x(e)||(((e,t,a)=>{e.addEventListener("keydown",a,!1)})(e,0,T),A.set(e,!0))})(e)},t.At="mouseleave",t.BaseComponent=class{constructor(e,t){let a;try{if(i(e))a=e;else{if(!h(e))throw Error("your target is not an instance of HTMLElement.");if(a=$(e),!a)throw Error(`"${e}" is not a valid selector.`)}}catch(e){throw Error(`${this.name} Error: ${e.message}`)}const n=d.get(a,this.name);n&&n._toggleEventListeners(),this.element=a,this.options=this.defaults&&N(this.defaults).length?((e,t,a)=>{if(!i(e))return t;const n={...a},s={...e.dataset},o={...t},c={},l="title";return I(s).forEach(([e,t])=>{const a="string"==typeof e&&e.includes("bs")?m(e.replace("bs","")):m(e);c[a]=w(t)}),I(n).forEach(([e,t])=>{n[e]=w(t)}),I(t).forEach(([t,a])=>{o[t]=t in n?n[t]:t in c?c[t]:t===l?r(e,l):a}),o})(a,this.defaults,t||{}):{},d.set(a,this.name,this)}get version(){return"5.1.6"}get name(){return"BaseComponent"}get defaults(){return{}}_toggleEventListeners=()=>{};dispose(){d.remove(this.element,this.name),N(this).forEach(e=>{delete this[e]})}},t.Be="aria-selected",t.Co=(e,t,a)=>{const n=L(t),s=M(e,n&&(e=>{if(!L(e))return!1;const{width:t,height:a}=M(e),{offsetWidth:n,offsetHeight:s}=e;return Math.round(t)!==n||Math.round(a)!==s})(t)),r={x:0,y:0};if(n){const e=M(t,!0);r.x=e.x+t.clientLeft,r.y=e.y+t.clientTop}return{x:s.left+a.x-r.x,y:s.top+a.y-r.y,width:s.width,height:s.height}},t.Do=e=>{if(!l(e))return!1;const{top:t,bottom:a}=M(e),{clientHeight:n}=O(e);return t<=n&&a>=0},t.E=(e,t,a,n)=>{G[t]||(G[t]=new Map);const s=G[t];s.has(e)||s.set(e,new Map);const r=s.get(e),{size:o}=r;r.set(a,n),o||e.addEventListener(t,F,n)},t.Ee=(e,t)=>e.matches(t),t.Eo=(e,t)=>{I(t).forEach(([t,a])=>{if(a&&h(t)&&t.includes("--"))e.style.setProperty(t,a);else{const n={};n[t]=a,b(e.style,n)}})},t.Et="mousedown",t.Fe="aria-pressed",t.Gn=(e,...t)=>{e.classList.add(...t)},t.Ho=e=>"rtl"===O(e).dir,t.It="pointerup",t.K=r,t.Kn=(e,t)=>e.removeAttribute(t),t.Le="aria-describedby",t.N=h,t.Ne=H,t.No=e=>{const t=g(e);return{x:t?e.scrollX:e.scrollLeft,y:t?e.scrollY:e.scrollTop}},t.Oe="aria-expanded",t.Ot="pointerdown",t.Pe="aria-modal",t.Qn=(e,t,a)=>e.setAttribute(t,a),t.Qo=(e,t)=>f(t).getElementById(e),t.Qt="touchstart",t.Se=e=>Array.isArray(e)||!1,t.So=e=>f(e).body,t.T=b,t.Te=(e,t)=>(l(t)?t:f()).getElementsByTagName(e),t.Vo=e=>c(e)&&"NodeList"===e.constructor.name||!1,t.Wo=$,t.X=a,t.Z=y,t.Zn=(e,...t)=>{e.classList.remove(...t)},t._n=(e,t)=>e.classList.contains(t),t.ao=(e,t)=>e.focus(t),t.at="focusin",t.b=L,t.be=e=>l(e)&&["TABLE","TD","TH"].includes(e.nodeName)||!1,t.bo=e=>e.offsetHeight,t.cn="ArrowRight",t.ct="focus",t.d=f,t.de=k,t.ee=()=>{},t.f=E,t.ft="keydown",t.gn="Escape",t.gt="keyup",t.ho=S,t.i=i,t.it="focusout",t.je="dragstart",t.jo=(e,t)=>(t&&l(t)?t:f()).getElementsByClassName(e),t.k=e=>"HTML"===e.nodeName?e:i(e)&&e.assignedSlot||l(e)&&e.parentNode||W(e)&&e.host||O(e),t.me=W,t.mo=(e,t)=>{const a=new CustomEvent(e,{cancelable:!0,bubbles:!0});return c(t)&&b(a,t),a},t.oe=o,t.on="ArrowDown",t.r=Z,t.rn="ArrowLeft",t.se=v,t.sn="ArrowUp",t.so=(e,t)=>{let a=0;const r=new Event(n),o=_(e),c=(e=>{const t=E(e,s),a=E(e,"transitionDelay"),n=a.includes("ms")?1:1e3,r=t&&"none"!==t?parseFloat(a)*n:0;return Number.isNaN(r)?0:r})(e);if(o){const s=r=>{r.target===e&&(t.apply(e,[r]),e.removeEventListener(n,s),a=1)};e.addEventListener(n,s),setTimeout(()=>{a||y(e,r)},o+c+17)}else t.apply(e,[r])},t.to=(e,t)=>d.get(e,t),t.u=l,t.ue=_,t.ve=e=>e?p(e)?e.defaultView:l(e)?e?.ownerDocument?.defaultView:e:window,t.vo={passive:!0},t.vt="click",t.w=O,t.wt="mouseenter",t.xn=()=>{const e=/iPhone|iPad|iPod|Android/i;return navigator?.userAgentData?.brands.some(t=>e.test(t.brand))||e.test(navigator?.userAgent)||!1},t.xo=e=>"function"==typeof e||!1,t.y=M,t.yo=e=>e.toLowerCase(),t.yt="hover",t.zn=()=>{const e=/(iPhone|iPod|iPad)/;return navigator?.userAgentData?.brands.some(t=>e.test(t.brand))||e.test(navigator?.userAgent)||!1},t.zt="pointermove"},9896(e,t,a){a.d(t,{A:()=>s});var n=a(6540);const s=function(e,t){var a=(0,n.useRef)();(0,n.useEffect)(function(){a.current=e},[e]),(0,n.useEffect)(function(){if(null!==t){var e=setInterval(function(){a.current()},t);return function(){return clearInterval(e)}}},[t])}}}]);
//# sourceMappingURL=605.ad9302775cbb3211ad44.js.map