(window.webpackJsonpLHCReactAPPAdmin=window.webpackJsonpLHCReactAPPAdmin||[]).push([[2],{43:function(e,a){e.exports=function(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}},9:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t.n(n),s=t(43),c=t.n(s),o=t(0),l=t.n(o),i=t(12),m=t.n(i);function u(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?u(Object(t),!0).forEach((function(a){c()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function d(e,a){switch(a.type){case"increment":return{count:e.count+1};case"decrement":return{count:e.count-1};case"update":return console.log("update"),f({},e,{},a.value);case"update_messages":var t=f({},e,{},a.value);return t.last_message_id=5,t.messages.push(a.messages),f({},e,{},t);case"init":return{count:e.count-1};default:throw new Error("Unknown action!")}}a.default=function(e){var a=Object(o.useRef)(null),t=Object(o.useReducer)(d,{messages:[],operators:[],last_message:"",last_message_id:0}),n=r()(t,2),s=n[0],c=n[1];Object(o.useEffect)((function(){var a=setInterval((function(){var a;a=s,console.log(a),m.a.post(WWW_DIR_JAVASCRIPT+"groupchat/sync/"+e.chatId,[e.chatId+","+a.last_message_id]).then((function(a){a.data.result.forEach((function(a){a.chat_id==e.chatId&&c({type:"update_messages",messages:a.content,value:{last_message:"Just last message sample from sync"+Date.now(),last_message_id:5}})}))}))}),3e3);return function(){clearInterval(a)}}),[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-7 chat-main-left-column"},s.last_message,"--",s.last_message_id,"--",s.messages,l.a.createElement("div",{className:"message-block"},l.a.createElement("div",{className:"msgBlock msgBlock-admin"})),l.a.createElement("div",{className:"message-container-admin"},l.a.createElement("textarea",{ref:a,placeholder:"",onKeyDown:function(t){return function(t,n){if(13==t.keyCode)return m.a.post(WWW_DIR_JAVASCRIPT+"groupchat/addmessage/"+e.chatId,{msg:a.current.value}).then((function(e){console.log("message added")})),a.current.value="",t.preventDefault(),void t.stopPropagation()}(t)},className:"form-control form-control-sm form-group",rows:"2"}))),l.a.createElement("div",{className:"col-sm-5 chat-main-right-column"},l.a.createElement("div",{role:"tabpanel"},l.a.createElement("ul",{className:"nav nav-pills",role:"tablist"},l.a.createElement("li",{role:"presentation",className:"nav-item"},l.a.createElement("a",{className:"nav-link active",href:"#main-user-info-tab-11194","aria-controls":"main-user-info-tab-11194",role:"tab","data-toggle":"tab",title:"Visitor"},l.a.createElement("i",{className:"material-icons mr-0"},"face"))),l.a.createElement("li",{className:"nav-item",role:"presentation"},l.a.createElement("a",{className:"nav-link ",href:"#main-user-info-translation-11194","aria-controls":"main-user-info-translation-11194",title:"Automatic translation",role:"tab","data-toggle":"tab"},l.a.createElement("i",{className:"material-icons mr-0"},"info_outline")))),l.a.createElement("div",{className:"tab-content"},l.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"main-user-info-tab-11194"}),l.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"main-user-info-remarks-11194"}))))))}}}]);