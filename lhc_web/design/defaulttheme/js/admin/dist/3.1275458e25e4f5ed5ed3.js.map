{"version":3,"sources":["webpack://LHCReactAPPAdmin/./src/components/CannedMessages.js"],"names":["timeoutCannedMessage","CannedMessages","props","useState","data","setData","isLoaded","setLoaded","useReducer","x","forceUpdate","isCollapsed","setCollapsed","getRootCategory","axios","get","WWW_DIR_JAVASCRIPT","chatId","then","result","map","item","index","messages","message","current","renderPreview","fillAndSend","e","stopPropagation","preventDefault","setTimeout","formData","FormData","append","msg","post","headers","confLH","csrf_token","LHCCallbacks","addmsgadmin","ee","emitEvent","lhinst","syncadmincall","delay","clearTimeout","element","document","getElementById","innerHTML","useEffect","messageElement","id","lookInId","elementId","settings","threshold","lookIn","offsetHeight","scrollTop","offsetTop","scrollIntoView","sendManualMessage","messageId","addListener","removeListener","applyFilter","doSearch","keyCode","focus","value","subject_ids","setAttribute","messageSet","length","expanded","val","array","messageValue","indexMessages","arrayMessages","encodeURIComponent","target","useTranslation","t","i18n","Fragment","className","onClick","key","indexUpdate","categoryUpdate","category","title","onMouseLeave","onMouseEnter","mouseOver","fillMessage","message_title","type","onFocus","onKeyUp","onKeyDown","defaultValue","placeholder"],"mappings":"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","file":"3.1275458e25e4f5ed5ed3.js","sourcesContent":["import React, { useEffect, useState, useReducer } from \"react\";\nimport axios from \"axios\";\nimport {useTranslation} from 'react-i18next';\n\nvar timeoutCannedMessage = null;\n\nconst CannedMessages = props => {\n    const [data, setData] = useState([]);\n    const [isLoaded, setLoaded] = useState(false);\n    const [ignored, forceUpdate] = useReducer(x => x + 1, 0);\n    const [isCollapsed, setCollapsed] = useState(true);\n\n    const getRootCategory = () => {\n        if (!isLoaded) {\n            axios.get(WWW_DIR_JAVASCRIPT  + \"cannedmsg/filter/\" + props.chatId).then(result => {\n                setCollapsed(false);\n                setData(result.data);\n                setLoaded(true);\n\n                result.data.map((item, index) => {\n                    item.messages.map(message => {\n                        if (message.current == true) {\n                            renderPreview(message);\n                        }\n                    })\n                });\n\n            });\n        }\n    }\n\n    const expandCategory = (categoryUpdate, indexUpdate) => {\n        categoryUpdate.expanded = !categoryUpdate.expanded;\n        setData(data.map((category, index) => (indexUpdate == index ? categoryUpdate : category)));\n    }\n\n    const fillMessage = (message) => {\n        let element = document.getElementById('CSChatMessage-'+props.chatId);\n        element.value = message.msg;\n        element.focus();\n        renderPreview(message);\n    }\n\n    const fillAndSend = (message,e) => {\n\n        if (typeof e !== 'undefined') {\n            e.stopPropagation();\n            e.preventDefault();\n        }\n\n        setTimeout(() => {\n            const formData = new FormData();\n            formData.append('msg', message.msg);\n            axios.post(WWW_DIR_JAVASCRIPT  + 'chat/addmsgadmin/' + props.chatId, formData,{\n                headers: {'X-CSRFToken': confLH.csrf_token}\n            }).then(result => {\n                if (LHCCallbacks.addmsgadmin) {\n                    LHCCallbacks.addmsgadmin(props.chatId);\n                };\n                ee.emitEvent('chatAddMsgAdmin', [props.chatId]);\n                lhinst.syncadmincall();\n                return true;\n            });\n        }, message.delay);\n    }\n\n    const mouseOver = (message) => {\n        renderPreview(message);\n    }\n\n    const mouseLeave = (message) => {\n        renderPreview(null);\n        data.map((item, index) => {\n            item.messages.map(message => {\n                if (message.current == true) {\n                    renderPreview(message);\n                }\n            })\n        });\n    }\n\n    const renderPreview = (message) => {\n        clearTimeout(timeoutCannedMessage);\n\n        if (message === null) {\n            document.getElementById('chat-render-preview-'+props.chatId).innerHTML = '';\n            return;\n        }\n\n        let element = document.getElementById('chat-render-preview-'+props.chatId);\n        element.innerHTML = message.msg;\n\n        const formData = new FormData();\n        formData.append('msg', message.msg);\n        formData.append('msg_body', true);\n\n        timeoutCannedMessage = setTimeout(() => {\n            axios.post(WWW_DIR_JAVASCRIPT + 'chat/previewmessage/', formData).then((result) => {\n                element.innerHTML = result.data;\n            });\n        }, 100);\n    }\n\n    const isVisible = (lookInId, elementId, settings) => {\n        let lookIn = document.getElementById(lookInId);\n        let element = document.getElementById(elementId);\n        return (lookIn.offsetHeight + lookIn.scrollTop) >= (element.offsetTop + settings.threshold) && (element.offsetTop > lookIn.scrollTop - settings.threshold)\n    };\n\n    useEffect(() => {\n        data.map((item, index) => {\n            item.messages.map(message => {\n                if (message.current) {\n                    let messageElement = document.getElementById('canned-msg-'+props.chatId+'-'+message.id);\n                    if (messageElement != null && !isVisible('canned-list-'+props.chatId,'canned-msg-'+props.chatId+'-'+message.id,{threshold:10})) {\n                        messageElement.scrollIntoView();\n                    }\n                }\n            })\n        });\n    });\n\n    useEffect(() => {\n\n        function sendManualMessage(chatId, messageId) {\n            if (props.chatId == chatId) {\n                axios.get(WWW_DIR_JAVASCRIPT  + \"cannedmsg/filter/\" + props.chatId).then(result => {\n\n                    if (!isLoaded) {\n                        setData(result.data);\n                        renderPreview(null);\n                        setLoaded(true);\n                    }\n\n                    result.data.map((item, index) => {\n                        item.messages.map(message => {\n                            if (message.id == messageId) {\n                                fillAndSend(message);\n                            }\n                        })\n                    });\n                });\n            }\n        }\n\n        ee.addListener('sendCannedByMessageId',sendManualMessage)\n        \n        // Canned component was mounted event\n        ee.emitEvent('chatCannedMounted', [props.chatId]);\n\n        // Cleanup\n        return function cleanup() {\n            ee.removeListener('sendCannedByMessageId', sendManualMessage);\n        };\n\n    },[]);\n\n    const applyFilter = (e, doSearch) => {\n\n        if ((e.keyCode == 13 || e.keyCode == 38 || e.keyCode == 40) && doSearch == true){\n            e.preventDefault();\n            e.stopPropagation();\n            return;\n        }\n\n        if (e.keyCode == 27) {\n            document.getElementById('CSChatMessage-' + props.chatId).focus();\n            setCollapsed(true);\n        }\n\n        if (e.keyCode == 13) {\n            data.map((item, index) => (\n                item.messages.map(message => {\n                    if (message.current) {\n                        let element = document.getElementById('CSChatMessage-' + props.chatId);\n                        element.value = message.msg;\n                        element.focus();\n                        message.subject_ids && element.setAttribute('subjects_ids',message.subject_ids);\n                        setCollapsed(true);\n                    }\n                })\n            ));\n            e.preventDefault();\n            e.stopPropagation();\n        } else if (e.keyCode == 38) { // Up\n\n            var messageSet = false;\n\n            // Very first is current message\n            if (typeof data[0] !== 'undefined' && data[0]['messages'][0].current == true) {\n                data[0]['messages'][0].current = false;\n                let index = data.length - 1;\n                data[index]['messages'][data[index]['messages'].length - 1].current = true;\n                renderPreview(data[index]['messages'][data[index]['messages'].length - 1]);\n\n                if (!data[index].expanded) {\n                    data[index].expanded = true;\n                }\n            } else {\n                data.map((val, index, array) => (\n                    array[array.length - 1 - index].messages.map((messageValue, indexMessages, arrayMessages) => {\n                            let message = arrayMessages[arrayMessages.length - 1 - indexMessages]\n                            if (messageSet == true) {\n\n                                if (!array[array.length - 1 - index].expanded) {\n                                    array[array.length - 1 - index].expanded = true;\n                                }\n\n                                message.current = true;\n                                messageSet = false;\n                                renderPreview(message);\n                            } else if (message.current) {\n                                message.current = false;\n                                messageSet = true;\n                            }\n                        }\n                    )\n                ));\n            }\n\n            setData(data);\n            forceUpdate();\n            e.preventDefault();\n            e.stopPropagation();\n\n        } else if (e.keyCode == 40) { // Down\n            var messageSet = false;\n\n            if (typeof data[data.length -1] !== 'undefined' && data[data.length -1]['messages'][ data[data.length -1]['messages'].length -1 ].current == true) {\n                data[data.length -1]['messages'][ data[data.length -1]['messages'].length -1 ].current = false;\n                data[0]['messages'][0].current = true;\n                renderPreview(data[0]['messages'][0]);\n\n                if (!data[0].expanded) {\n                    data[0].expanded = true;\n                }\n\n            } else {\n                data.map((item, index) => {\n                    item.messages.map(message => {\n                        if (messageSet == true) {\n                            if (!item.expanded) {\n                                item.expanded = true;\n                            }\n                            message.current = true;\n                            renderPreview(message);\n                            messageSet = false;\n                        } else if (message.current) {\n                            message.current = false;\n                            messageSet = true;\n                        }\n                    })\n                });\n            }\n\n            setData(data);\n            forceUpdate();\n            e.preventDefault();\n            e.stopPropagation();\n\n        } else if (doSearch === true) {\n            axios.get(WWW_DIR_JAVASCRIPT  + \"cannedmsg/filter/\"+props.chatId + '?q=' + encodeURIComponent(e.target.value)).then(result => {\n                setData(result.data);\n                setCollapsed(false);\n                renderPreview(null);\n                result.data.map((item, index) => {\n                    item.messages.map(message => {\n                        if (message.current == true) {\n                            renderPreview(message);\n                        }\n                    })\n                });\n            });\n        }\n    }\n\n    const { t, i18n } = useTranslation('chat_canned');\n\n    return (\n        <React.Fragment>\n            <div className=\"col-12 col-xl-6\">\n\n                {!isLoaded &&\n                <p className=\"border mb-0 mt-0 pb-1 pt-1\"><a className=\"fs13 d-block\" onClick={getRootCategory}><span className=\"material-icons\">expand_more</span>{t('chat_canned.canned')}</a></p>\n                }\n\n                {isLoaded && isCollapsed && <ul className=\"list-unstyled fs13 border mt-0 mx300 mb-0\">\n                    <li className=\"pt-1 pb-1\"><a className=\"d-block\" onClick={(e) => setCollapsed(false)}><span className=\"material-icons\">expand_more</span>{t('chat_canned.canned')}</a></li>\n                </ul>}\n\n                {isLoaded && !isCollapsed &&\n                <ul className=\"list-unstyled fs13 border mt-0 mx300\" id={'canned-list-'+props.chatId}>\n                    <li className=\"border-bottom pt-1 pb-1\"><a onClick={(e) => setCollapsed(true)}><span className=\"material-icons\">expand_less</span>{t('chat_canned.canned')}</a></li>\n                    {data.map((item, index) => (\n                        <li><a className=\"font-weight-bold\" key={index} onClick={() => expandCategory(item, index)}><span className=\"material-icons\">{item.expanded ? 'expand_less' : 'expand_more'}</span>{item.title} [{item.messages.length}{item.messages.length >= 50 ? '+' : ''}]</a>\n                            {item.expanded &&\n                            <ul className=\"list-unstyled ml-4\">\n                                {item.messages.map(message => (\n                                    <li key={message.id} className={message.current ? 'font-italic font-weight-bold' : ''} id={'canned-msg-'+props.chatId+'-'+message.id}>\n                                        <a className=\"hover-canned d-block\" onMouseLeave={(e) => mouseLeave(message)} onMouseEnter={(e) => mouseOver(message)} title={message.msg} onClick={(e) => fillMessage(message)}><span title={t('chat_canned.send_instantly')} onClick={(e) => fillAndSend(message,e)} className=\"material-icons fs12\">send</span> {message.message_title}</a>\n                                    </li>\n                                ))}\n                            </ul>}\n                        </li>\n                    ))}\n                </ul>\n                }\n            </div>\n            <div className=\"col-12 col-xl-6\">\n                <input type=\"text\" onFocus={getRootCategory} className=\"form-control form-control-sm\" onKeyUp={(e) => applyFilter(e, true)} onKeyDown={(e) => applyFilter(e, false)} defaultValue=\"\" placeholder={t('chat_canned.navigate')}/>\n                {!isCollapsed && <div className=\"mx275 mh275 mt-1 break-words\" id={'chat-render-preview-'+props.chatId}></div>}\n            </div>\n        </React.Fragment>\n    );\n}\n\nexport default CannedMessages"],"sourceRoot":""}