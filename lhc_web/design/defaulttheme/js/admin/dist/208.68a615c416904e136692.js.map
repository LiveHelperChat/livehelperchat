{"version":3,"file":"208.68a615c416904e136692.js","mappings":"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","sources":["webpack://LHCReactAPPAdmin/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://LHCReactAPPAdmin/./src/components/DashboardChatTabs.js","webpack://LHCReactAPPAdmin/./src/components/lib/useInterval.js"],"sourcesContent":["function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","import React, { useEffect, useState, useReducer, useRef } from \"react\";\nimport axios from \"axios\";\nimport {useTranslation} from 'react-i18next';\nimport useInterval from \"./lib/useInterval\";\n\nfunction reducer(state, action) {\n    switch (action.type) {\n\n        case 'attr':\n            var foundIndex = state.chats.findIndex(x => x.id == action.id);\n            if (foundIndex === -1) return state;\n            state.chats[foundIndex] = { ...state.chats[foundIndex], ...action.value};\n            state = { ... state};\n            return state;\n\n        case 'attr_remove':\n            var foundIndex = state.chats.findIndex(x => x[action.attr] == action.id);\n            if (foundIndex === -1) return state;\n            state.chats[foundIndex] = { ...state.chats[foundIndex], ...action.value};\n            state = { ... state};\n            return state;\n\n        case 'attr_remove_mail':\n            var foundIndex = state.mails.findIndex(x => x[action.attr] == action.id);\n            if (foundIndex === -1) return state;\n            state.mails[foundIndex] = { ...state.mails[foundIndex], ...action.value};\n            state = { ... state};\n            return state;\n\n        case 'update': {\n            return { ...state, ...action.value }\n        }\n\n        case 'add': {\n            var foundIndex = state.chats.findIndex(x => x.id == action.value.id);\n            if (foundIndex === -1) {\n                if (action.static_order === true) {\n\n                    var insertIndex = state.chats.findIndex(x => x.id > action.value.id);\n\n                    if (insertIndex === -1) {\n                        state.chats.push(action.value);\n                    } else {\n                        state.chats.splice(insertIndex, 0, action.value);\n                    }\n\n                } else {\n                    state.chats.unshift(action.value);\n                }\n            } else {\n                state.chats[foundIndex].active = action.value.active;\n                state.chats[foundIndex].mn = 0;\n                state.chats[foundIndex].support_chat = false;\n            }\n\n            return { ...state}\n        }\n\n        case 'add_mail': {\n            var foundIndex = state.mails.findIndex(x => x.id == action.value.id);\n            if (foundIndex === -1) {\n                state.mails.unshift(action.value);\n            } else {\n                state.mails[foundIndex].active = action.value.active;\n            }\n            return { ...state}\n        }\n\n        case 'remove': {\n            var foundIndex = state.chats.findIndex(x => x.id == action.id);\n            if (foundIndex === -1) return state;\n            state.chats.splice(foundIndex,1);\n            return { ...state}\n        }\n\n        case 'remove_mail': {\n            var foundIndex = state.mails.findIndex(x => x.id == action.id);\n            if (foundIndex === -1) return state;\n            state.mails.splice(foundIndex,1);\n            return { ...state}\n        }\n\n        case 'update_chat': {\n            var foundIndex = state.chats.findIndex(x => x.id == action.id);\n            if (foundIndex === -1) return state;\n            state.chats[foundIndex] = {...state.chats[foundIndex], ...action.value}\n            return { ...state}\n        }\n\n        case 'update_mail': {\n            var foundIndex = state.mails.findIndex(x => x.id == action.id);\n            if (foundIndex === -1) return state;\n            state.mails[foundIndex] = {...state.mails[foundIndex], ...action.value}\n            return { ...state}\n        }\n\n        case 'msg_received': {\n            var foundIndex = state.chats.findIndex(x => x.id == action.id);\n            if (foundIndex === -1) return state;\n\n            state.chats[foundIndex].msg = action.value.msg;\n\n            var el = document.getElementById('chat-tab-link-'+action.id);\n\n            if (el === null || !el.classList.contains('active')) {\n                state.chats[foundIndex].active = false;\n            } else {\n                state.chats[foundIndex].active = true;\n            }\n\n            state.chats[foundIndex].mn = state.chats[foundIndex].active == false ? (state.chats[foundIndex].mn ? (state.chats[foundIndex].mn + action.value.mn) : action.value.mn) : 0;\n\n            // Push to very first if it's not static order\n            if (action.static_order === false) {\n                // Set last appended messages as first array element\n                state.chats.splice(0, 0, state.chats.splice(foundIndex, 1)[0]);\n            }\n\n            return { ...state}\n        }\n\n        case 'refocus_mail': {\n            state.chats.forEach((chat, index) => {\n                if (chat.active) {\n                    state.chats[index].active = false;\n                }\n            });\n\n            state.mails.forEach((mail, index) => {\n                if (mail.active && mail.id != action.id) {\n                    state.mails[index].active = false;\n                }\n            });\n\n            var foundIndex = state.mails.findIndex(x => x.id == action.id);\n            if (foundIndex !== -1) {\n                state.mails[foundIndex].active = true;\n            }\n\n            return { ...state}\n        }\n\n        case 'refocus': {\n            // Unselect all active mails\n            state.mails.forEach((mail, index) => {\n                if (mail.active) {\n                    state.mails[index].active = false;\n                }\n            });\n            \n            // Unselect all active chats except the target one\n            state.chats.forEach((chat, index) => {\n                if (chat.active && chat.id != action.id) {\n                    state.chats[index].active = false;\n                }\n            });\n\n            // Activate the target chat\n            var targetChatIndex = state.chats.findIndex(x => x.id == action.id);\n            if (targetChatIndex !== -1) {\n                state.chats[targetChatIndex].active = true;\n                state.chats[targetChatIndex].mn = 0;\n                state.chats[targetChatIndex].support_chat = false;\n            }\n\n            return { ...state}\n        }\n\n        case 'group_offline':\n            state.group_offline = action.value;\n            return {...state};\n\n        default:\n            throw new Error('Unknown action!');\n    }\n}\n\nconst DashboardChatTabs = props => {\n\n    const [state, dispatch] = useReducer(reducer, {\n        chats: [],\n        mails: [],\n        group_offline : false\n    });\n\n    const chatsRef = useRef(state);\n\n    useEffect(\n        () => { chatsRef.current = state },\n        [state]\n    )\n\n    const getChatIds = () => {\n        var chatIds = [];\n        state.chats.map((chat, index) => chatIds.push(chat.id));\n        return chatIds;\n    }\n\n    const loadChatTabIntro = (chatIds) => {\n        axios.get(WWW_DIR_JAVASCRIPT  + \"front/tabs/(id)/\" + (typeof chatIds !== 'undefined' ? chatIds.join('/') : getChatIds().join('/'))).then(result => {\n\n            result.data.map((chat, index) => {\n\n                // If nodeJS extension is enabled check chat live status\n                // As on page reload react app can be yet not started and we might not receive event\n                // at that moment react app starts\n                var nodeJSStatus = document.getElementById('node-js-indicator-'+chat.id);\n                if (nodeJSStatus !== null) {\n                    chat.live_status = nodeJSStatus.textContent == 'wifi';\n                }\n\n                if (!chat.nb) {\n                    chat.nb = false;\n                }\n\n                if (!chat.nc) {\n                    chat.nc = null;\n                }\n\n                if (!chat.aicons) {\n                    chat.aicons = {};\n                }\n\n                dispatch({\n                    type: 'update_chat',\n                    id: chat.id,\n                    value: chat\n                })\n\n            })\n        });\n    }\n\n\n    const loadMailTabIntro = (chatIds) => {\n        axios.get(WWW_DIR_JAVASCRIPT  + \"front/tabs/(idmail)/\" + (typeof chatIds !== 'undefined' ? chatIds.join('/') : getChatIds().join('/'))).then(result => {\n            result.data.map((chat, index) => {\n                dispatch({\n                    type: 'update_mail',\n                    id: chat.id,\n                    value: chat\n                })\n            })\n        });\n    }\n\n    if (!document.getElementById('tabs') && !document.getElementById('views-home')) {\n        useInterval(() => {\n\n            if (!state.chats || state.chats.length == 0) {\n                return;\n            }\n\n            axios.get(WWW_DIR_JAVASCRIPT  + \"front/tabs/(id)/\" + getChatIds().join('/')).then(result => {\n                result.data.map((chat, index) => {\n\n                    // If nodeJS extension is enabled check chat live status\n                    // As on page reload react app can be yet not started and we might not receive event\n                    // at that moment react app starts\n                    var nodeJSStatus = document.getElementById('node-js-indicator-'+chat.id);\n                    if (nodeJSStatus !== null) {\n                        chat.live_status = nodeJSStatus.textContent == 'wifi';\n                    }\n\n                    if (!(!state.chats || state.chats.length == 0)) {\n                        var foundIndex = state.chats.findIndex(x => x.id == chat.id);\n                        if (foundIndex !== -1 ) {\n                            if (state.chats[foundIndex].lmsg_id !== chat.lmsg_id) {\n                                chat.mn = 1;\n                            } else {\n                                chat.mn = state.chats[foundIndex].mn;\n                            }\n                        }\n                    }\n\n                    dispatch({\n                        type: 'update_chat',\n                        id: chat.id,\n                        value: chat\n                    })\n\n                })\n            });\n\n        }, 1000);\n    }\n\n    useEffect(() => {\n\n        function addTabPreload(chatId, params) {\n\n            if (!(!chatsRef.current.chats || chatsRef.current.chats.length == 0) && chatsRef.current.chats.findIndex(x => x.id == chatId) !== -1) {\n                return; // We already have this chat tab\n            }\n\n            addTab(chatId, params);\n        }\n\n        function addTab(chatId, params) {\n            dispatch({\n                type: 'add',\n                static_order: props.static_order,\n                value: {\n                    \"id\" : chatId,\n                    active: params.focus\n                }\n            });\n\n            params.focus === true && dispatch({\n                type: 'refocus',\n                id: chatId\n            });\n\n            loadChatTabIntro([chatId]);\n        }\n\n        function addTabBackground(chatId, params) {\n            dispatch({\n                type: 'add',\n                value: {\n                    \"id\" : chatId,\n                    static_order: props.static_order,\n                    active: false,\n                    mn : 1\n                }\n            });\n            loadChatTabIntro([chatId]);\n        }\n\n        function updateChatTab(params) {\n            if (!(!chatsRef.current.chats || chatsRef.current.chats.length == 0) && chatsRef.current.chats.findIndex(x => x.id == params.id) !== -1) {\n                loadChatTabIntro([params.id]);\n            }\n        }\n\n        function mailContentLoaded(chatId) {\n            addMailTab(chatId);\n        }\n\n        function addMailTab(chatId, params) {\n\n            var chatIdMail = chatId.replace('mc','');\n            var el = document.getElementById('chat-tab-link-mc'+chatIdMail);\n            var activeMail = ((typeof params === 'object' && params.background !== true) || (el !== null && el.classList.contains('active')));\n\n            dispatch({\n                type: 'add_mail',\n                value: {\n                    \"id\" : chatIdMail,\n                    active: activeMail\n                }\n            });\n\n            activeMail === true && dispatch({\n                type: 'refocus_mail',\n                id: chatIdMail\n            });\n\n            loadMailTabIntro([chatIdMail]);\n        }\n\n        function removeTab(chatId) {\n            dispatch({\n                type: 'remove',\n                id: chatId\n            });\n        }\n\n        function removeMailTab(chatId) {\n            dispatch({\n                type: 'remove_mail',\n                id: chatId.replace('mc','')\n            });\n        }\n\n        function tabClicked(chatId) {\n            if (typeof chatId == 'string' && chatId.indexOf('mc') !== -1) {\n                mailTabClicked(chatId.replace('mc',''));\n                return;\n            }\n\n            dispatch({\n                type: 'refocus',\n                id: chatId\n            });\n        }\n\n        function mailTabClicked(chatId) {\n            dispatch({\n                type: 'refocus_mail',\n                id: chatId\n            });\n        }\n\n        function chatAdminSync(data) {\n\n            dispatch({\n                type: 'group_offline',\n                value: lhinst.hidenicknamesstatus\n            })\n\n            Object.keys(data.result_status).map((key) => {\n                dispatch({\n                    type: 'update_chat',\n                    id: data.result_status[key].chat_id,\n                    value: data.result_status[key]\n                })\n            });\n\n            if (data.result !== 'false') {\n                Object.keys(data.result).map((key) => {\n                    dispatch({\n                        type: 'msg_received',\n                        id: data.result[key].chat_id,\n                        value: {msg: data.result[key].msg, mn: data.result[key].mn},\n                        order_chats: props.static_order\n                    })\n                });\n            }\n        }\n\n        function supportUnreadChat(params) {\n            if (params.id && params.unread == true) {\n                dispatch({\n                    type: 'update_chat',\n                    id: params.id,\n                    value: {support_chat: true}\n                })\n            }\n        }\n\n        function typingVisitor(params) {\n            dispatch({\n                type: 'update_chat',\n                id: params.id,\n                value: {tp: 'true','tx' : params.txt}\n            })\n        }\n\n        function typingVisitorStopped(params) {\n            dispatch({\n                type: 'update_chat',\n                id: params.id,\n                value: {tp: 'false'}\n            })\n        }\n\n        function nodeJsVisitorStatus(params) {\n            dispatch({\n                type: 'update_chat',\n                id: params.id,\n                value: {live_status: params.status}\n            })\n        }\n\n        function activateNextTab(chatid,up) {\n            var index = chatsRef.current.chats.findIndex(x => x.active == true);\n            if (index === -1) { return; }\n            if ((chatsRef.current.chats.length - 1) > index && up == false) {\n                chatTabClick(chatsRef.current.chats[index + 1]);\n            } else if (index > 0 && up == true) {\n                chatTabClick(chatsRef.current.chats[index - 1]);\n            }\n        }\n\n        ee.addListener('chatStartTab',addTab)\n        ee.addListener('chatTabPreload',addTabPreload)\n        ee.addListener('chatStartBackground',addTabBackground)\n        ee.addListener('removeSynchroChat',removeTab)\n        ee.addListener('chatTabClicked',tabClicked)\n        ee.addListener('chatTabFocused',tabClicked)\n        ee.addListener('chatAdminSync',chatAdminSync)\n        ee.addListener('supportUnreadChat',supportUnreadChat)\n        ee.addListener('nodeJsTypingVisitor',typingVisitor)\n        ee.addListener('nodeJsTypingVisitorStopped',typingVisitorStopped)\n        ee.addListener('nodeJsVisitorStatus',nodeJsVisitorStatus)\n        ee.addListener('activateNextTab',activateNextTab)\n        ee.addListener('updateChatTab',updateChatTab)\n\n        // Mail module\n        ee.addListener('unloadMailChat',removeMailTab)\n        ee.addListener('mailChatTabLoaded',addMailTab)\n        ee.addListener('mailChatTabClicked',mailTabClicked)\n        //ee.addListener('mailChatContentLoaded',mailContentLoaded)\n\n        if (localStorage) {\n            var achat_id = localStorage.getItem('achat_id');\n            if (achat_id !== null && achat_id !== '') {\n                let ids = achat_id.split(',').map(Number);\n\n                if (props.static_order == true) {\n                    ids.sort(function(a, b){return a - b});\n                }\n\n                var entries = [];\n                ids.forEach((id) => {\n                   var el = document.getElementById('chat-tab-link-'+id);\n                   if (parseInt(id) > 0) {\n                       entries.push({id: parseInt(id), active: el !== null && el.classList.contains('active')})\n                   }\n               });\n               dispatch({\n                    type: 'update',\n                    value: {\n                        \"chats\" : entries\n                    }\n                });\n               ids.length > 0 && loadChatTabIntro(ids);\n\n               // Find active chat\n               setTimeout(() => {\n                   ids.forEach((id) => {\n                       var el = document.getElementById('chat-tab-link-'+id);\n                       if (el !== null) {\n                           el.classList.contains('active') && tabClicked(parseInt(id));\n                       }\n                   });\n               },1000);\n            }\n\n            var achat_id = localStorage.getItem('machat_id');\n\n            if (achat_id !== null && achat_id !== '') {\n                let ids = achat_id.split(',');\n                var entries = [];\n                ids.forEach((id) => {\n                   var el = document.getElementById('chat-tab-link-mc'+id);\n                   if (el !== null) {\n                       var active = el.classList.contains('active');\n                       entries.push({id: parseInt(id), active: active})\n                   }\n               });\n               dispatch({\n                    type: 'update',\n                    value: {\n                        \"mails\" : entries\n                    }\n                });\n               ids.length > 0 && loadMailTabIntro(ids);\n\n               // Find active chat\n               setTimeout(() => {\n                   ids.forEach((id) => {\n                       var el = document.getElementById('chat-tab-link-mc'+id);\n                       if (el !== null) {\n                           el.classList.contains('active') && mailTabClicked(parseInt(id));\n                       }\n                   });\n               },1000);\n            }\n         }\n\n        // Cleanup\n        return function cleanup() {\n            ee.removeListener('chatStartTab', addTab);\n            ee.removeListener('chatStartBackground', addTabBackground);\n            ee.removeListener('removeSynchroChat', removeTab);\n            ee.removeListener('chatTabClicked', tabClicked);\n            ee.removeListener('chatTabFocused', tabClicked);\n            ee.removeListener('chatAdminSync', chatAdminSync);\n            ee.removeListener('supportUnreadChat', chatAdminSync);\n            ee.removeListener('nodeJsTypingVisitor', typingVisitor);\n            ee.removeListener('nodeJsTypingVisitorStopped', typingVisitorStopped);\n            ee.removeListener('nodeJsVisitorStatus', nodeJsVisitorStatus);\n            ee.removeListener('activateNextTab', activateNextTab);\n            ee.removeListener('updateChatTab',updateChatTab);\n            ee.removeListener('unloadMailChat', removeMailTab);\n            ee.removeListener('mailChatTabLoaded', addMailTab);\n            ee.removeListener('mailChatTabClicked', mailTabClicked);\n            ee.removeListener('mailChatContentLoaded', mailContentLoaded);\n        };\n\n    },[]);\n\n    const chatTabClick = (chat) => {\n        if (document.getElementById('chat-tab-link-'+chat.id) !== null) {\n            $('#chat-tab-link-'+chat.id).click();\n            (new bootstrap.Tab(document.querySelector('#chat-tab-link-'+chat.id))).show();\n            } else {\n            document.location = WWW_DIR_JAVASCRIPT + 'front/default/(cid)/' + chat.id + '/#!#chat-id-' + chat.id;\n        }\n    }\n\n    const mailTabClick = (chat) => {\n        $('#chat-tab-link-mc'+chat.id).click();\n        (new bootstrap.Tab(document.querySelector('#chat-tab-link-mc'+chat.id))).show();\n    }\n\n    const closeDialog = (e,chat) => {\n        e.preventDefault();\n        e.stopPropagation();\n        lhinst.removeDialogTab(chat.id,$('#tabs'),true);\n        lhinst.channel && lhinst.channel.postMessage({'action':'close_chat','args':{'chat_id' : chat.id}});\n    }\n\n    const closeMailDialog = (e,chat) => {\n        e.preventDefault();\n        e.stopPropagation();\n        lhinst.removeDialogTabMail('mc'+chat.id,$('#tabs'),true)\n    }\n\n    const iconClick = (e,icon,chat) => {\n        e.preventDefault();\n        e.stopPropagation();\n        if (icon.has_popup) {\n            lhc.revealModal({'url':WWW_DIR_JAVASCRIPT + 'chat/icondetailed/' + chat.id + '/' + icon.icon_id});\n        }\n    }\n\n    const { t, i18n } = useTranslation('chat_tabs');\n\n    return (\n        <React.Fragment>\n            {(!state.chats || state.chats.length == 0) && <div className=\"text-center text-muted p-2\"><span className=\"material-icons\">chat</span>{t('chat_tabs.open_chats')}</div>}\n            {state.chats.map((chat, index) => (\n\n                <div key={\"chat-\"+chat.id}  title={chat.id} onClick={() => chatTabClick(chat)} className={\"p-1 action-image chat-tabs-row\"+(chat.active ? ' chat-tab-active' : '')+(chat.vwa ? ' long-response-chat' : '')} {...(chat.add_attr ? Object.entries(chat.add_attr).reduce((acc, [key, value]) => ({...acc, [`data-${key}`]: value}), {}) : {})}>\n                        <div className=\"fs12\">\n\n                            <button type=\"button\" onClick={(e) => closeDialog(e,chat)} className=\"float-end btn-link m-0 ms-1 p-0 btn btn-xs\"><i className=\"material-icons me-0\">close</i></button>\n                            {chat.dep && <span className=\"float-end text-muted text-truncate mw-80px\">\n                                {chat.cs == 0 && <span title={t('chat_tabs.pending_status')} className=\"material-icons chat-pending me-0\">chat</span>}\n                                {chat.cs == 1 && <span title={t('chat_tabs.active_status')} className=\"material-icons chat-active me-0\">chat</span>}\n                                {chat.cs == 5 && <span title={t('chat_tabs.bot_status')} className=\"material-icons chat-active me-0\">android</span>}\n                                {chat.cs == 2 && <span title={t('chat_tabs.closed_status')} className=\"material-icons chat-closed me-0\">chat</span>}\n\n                                <span className=\"d-none d-lg-inline\"><span className=\"material-icons\" title={chat.dep}>home</span>{chat.dep}</span>\n\n                            </span>}\n\n                            <span className={\"material-icons\"+(chat.pnd_rsp == true ? ' text-danger' : ' text-success')}>{chat.pnd_rsp == true ? 'call_received' : 'call_made'}</span>\n                            {chat.adicons && chat.adicons.map((icon, index) => <span onClick={(event) => iconClick(event,icon,chat)} style={{'color': icon.color}} className=\"material-icons\" title={icon.title}>{icon.icon}</span>)}\n                            {chat.aicons && Object.keys(chat.aicons).map((key, index) => <React.Fragment>\n                                    {chat.aicons[key].i.includes('/') && <img className=\"me-1\" title={chat.aicons[key].t || chat.aicons[key].i} src={chat.aicons[key].i}/>}\n                                    {!chat.aicons[key].i.includes('/') && <span style={{'color': chat.aicons[key].c ? chat.aicons[key].c : \"#1d548e;\"}} className=\"material-icons\" title={chat.aicons[key].t || chat.aicons[key].i}>{chat.aicons[key].i}</span>}\n                                </React.Fragment>)}\n                            {chat.vwa && <span title={chat.vwa} className=\"d-none d-lg-inline material-icons text-danger\">timer</span>}\n                            {chat.support_chat && <span className=\"whatshot blink-ani text-warning material-icons\">whatshot</span>}<i className={\"material-icons \"+(typeof chat.live_status === \"boolean\" ? (chat.live_status === true ? 'icon-user-online' : 'icon-user-offline') : (chat.us == 2 ? \"icon-user-away\" : (chat.us == 0 ? \"icon-user-online\" : \"icon-user-offline\")))}  >{typeof chat.live_status === \"boolean\" ? (chat.live_status === true ? 'wifi' : 'wifi_off') : (chat.us == 2 ? \"wifi_1_bar\" : (chat.us == 0 ? \"wifi\" : \"wifi_off\"))}</i><i className={\"material-icons icon-user-online \" + (chat.um == 1 ? \"icon-user-offline\" : \"icon-user-online\")}>send</i>{chat.cc && <img className=\"d-none d-lg-inline\" title={chat.cn} src={chat.cc} alt=\"\" />} {(state.group_offline == false || !(chat.us != 0)) && <span  style={{color: chat.nc ? chat.nc : null}}  className={\"small-truncate-nick \"+(chat.nb || chat.mn > 0 || chat.cs == 0 ? \"fw-bold \" : '') + (chat.cs == 0 ? 'text-danger' : '')}>{chat.nick || chat.id}</span>}{chat.mn > 0 && <span className=\"msg-nm ps-1\">({chat.mn})</span>}{chat.lmsg && <span className=\"d-none d-xl-inline text-muted\"> {chat.lmsg}</span>}\n\n\n                            {chat.co == confLH.user_id && <span className=\"d-none d-lg-inline float-end text-muted\"><span title={t('chat_tabs.chat_owner')} className=\"material-icons\">account_box</span></span>}\n                        </div>\n\n                        {(chat.msg || (chat.tp == 'true' && chat.tx)) && <div className=\"fs13 text-muted pt-1\">\n                            <span title={chat.tp == 'true' && chat.tx ? chat.tx : chat.msg} className={\"d-none d-lg-inline-block text-truncate mw-100 \"+(chat.mn > 0 ? 'fw-bold' : '')+(chat.tp == 'true' && chat.tx ? ' fst-italic': '')}>\n                                {chat.tp == 'true' && chat.tx ? chat.tx : chat.msg}\n                            </span>\n                        </div>}\n                </div>\n            ))}\n\n            {state.mails.map((chat, index) => (\n                <div key={\"mail-\"+chat.id} title={chat.id} onClick={() => mailTabClick(chat)} className={\"p-1 action-image chat-tabs-row\"+(chat.active ? ' chat-tab-active' : '')}>\n                    <div className=\"fs12\">\n                        <span title={chat.from_name} ><i className=\"material-icons\">mail_outline</i>{chat.from_address}</span>\n\n                        <button type=\"button\" onClick={(e) => closeMailDialog(e,chat)} className=\"float-end btn-link m-0 ms-1 p-0 btn btn-xs\"><i className=\"material-icons me-0\">close</i></button>\n                        {chat.dep && <span className=\"float-end text-muted text-truncate mw-80px\"><span className=\"material-icons\">home</span>{chat.dep}</span>}\n                        {chat.co == confLH.user_id && <span className=\"float-end text-muted\"><span title={t('chat_tabs.chat_owner')} className=\"material-icons\">account_box</span></span>}\n                    </div>\n                    <span title={chat.nick} className=\"fs13 text-muted pt-1 d-inline-block text-truncate mw-100\">\n                        {chat.nick}\n                    </span>\n                </div>\n            ))}\n\n        </React.Fragment>\n    );\n}\n\nexport default DashboardChatTabs","import { useEffect, useRef } from \"react\";\n\nfunction useInterval(callback, delay) {\n    const savedCallback = useRef();\n\n    // Remember the latest callback.\n    useEffect(() => {\n        savedCallback.current = callback;\n    }, [callback]);\n\n    // Set up the interval.\n    useEffect(() => {\n        function tick() {\n            savedCallback.current();\n        }\n        if (delay !== null) {\n            let id = setInterval(tick, delay);\n            return () => clearInterval(id);\n        }\n    }, [delay]);\n}\n\nexport default useInterval;"],"names":["_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","reducer","state","action","type","foundIndex","chats","findIndex","x","id","_objectSpread","value","attr","mails","static_order","insertIndex","push","splice","unshift","active","mn","support_chat","msg","el","document","getElementById","classList","contains","forEach","chat","index","mail","targetChatIndex","group_offline","Error","props","_useReducer","useReducer","_useReducer2","_slicedToArray","dispatch","chatsRef","useRef","useEffect","current","getChatIds","chatIds","map","loadChatTabIntro","axios","get","WWW_DIR_JAVASCRIPT","join","then","result","data","nodeJSStatus","live_status","textContent","nb","nc","aicons","loadMailTabIntro","useInterval","lmsg_id","addTab","chatId","params","focus","addTabBackground","updateChatTab","mailContentLoaded","addMailTab","chatIdMail","replace","activeMail","_typeof","background","removeTab","removeMailTab","tabClicked","indexOf","mailTabClicked","chatAdminSync","lhinst","hidenicknamesstatus","keys","result_status","key","chat_id","order_chats","typingVisitor","tp","txt","typingVisitorStopped","nodeJsVisitorStatus","status","activateNextTab","chatid","up","chatTabClick","ee","addListener","unread","localStorage","achat_id","getItem","ids","split","Number","sort","a","b","entries","parseInt","setTimeout","removeListener","$","click","bootstrap","Tab","querySelector","show","location","_useTranslation","useTranslation","i18n","React","className","title","onClick","vwa","add_attr","reduce","acc","_ref","_ref2","_defineProperty","concat","preventDefault","stopPropagation","removeDialogTab","channel","postMessage","closeDialog","dep","cs","pnd_rsp","adicons","icon","event","has_popup","lhc","revealModal","icon_id","iconClick","style","color","i","includes","src","c","us","um","cc","cn","alt","nick","lmsg","co","confLH","user_id","tx","mailTabClick","from_name","from_address","removeDialogTabMail","closeMailDialog","callback","delay","savedCallback","setInterval","clearInterval"],"sourceRoot":""}